"use strict";JQX("jqx-switch-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div  id='container' class='jqx-container'>\n                    <div  id='innerContainer' class ='jqx-inner-container'>\n                           <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class ='jqx-false-content-container'></span>\n                           <span id='switchThumb' class ='jqx-thumb'></span>\n                           <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class ='jqx-true-content-container'></span>\n                    </div>\n                    <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}},{key:"ready",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var n=e.animation;e.hasAnimation&&(e.animation="none"),e._supportCSSVariables=JQX.Utilities.Core.CSSVariablesSupport()&&Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-switch-button-default-width")),e._htmlBindOnInitialization(),e._resizeHandler(),e._initializePrivateVariables(),e._getContainersSizeAndBreakPoint(),e.indeterminate&&(e._valueCache=e.checked,e.checked=null),e._handleTemplate(!0),e._handleTemplate(!1),e._handleTemplate(),e._updateHidenInputNameAndValue(),e._updateThumbPosition(),e.animation=n}},{key:"_mouseDownHandler",value:function(e){var t=this;t.disabled||t.readonly||"none"===t.switchMode||(e.originalEvent.target.closest(".jqx-thumb")!==t.$.switchThumb||"default"!==t.switchMode&&"drag"!==t.switchMode||t._switchThumbDragStartHandler(e),t._isSwitchClicked=t,t._updateContentProperties(),"release"!==t.clickMode&&"click"===t.switchMode&&(t._updateStateOnClick(),t.$.fireEvent("click"),t.indeterminate=!1,t._updateHidenInputNameAndValue()))}},{key:"_updateStateOnClick",value:function(){var e=this;e._changeCheckState(),e.focus()}},{key:"_drag",value:function(e){var t=this;t._mouseDown&&(JQX.Utilities.Core.isMobile&&e.originalEvent.preventDefault(),t._switchThumbDragHandler(e))}},{key:"_switchThumbDragStartHandler",value:function(e){var t=this;t.disabled||("click"===t.switchMode&&"release"!==t.clickMode&&(e.preventDefault(),e.stopPropagation()),t._isInactiveOn("drag")||(t._mouseDown=!0,t._getContainersSizeAndBreakPoint(),t._pointerPosition="vertical"===t.orientation?e.pageY:e.pageX,e.preventDefault()))}},{key:"_selectStartHandler",value:function(e){this._mouseDown&&e.preventDefault()}},{key:"_switchThumbDragHandler",value:function(e){var t=this;if(!t._isInactiveOn("drag")){if(!1===t._mouseDown)return void t._removeDragStyles();t.hasAttribute("dragged")||t.setAttribute("dragged","");var n=t.$.innerContainer,i=t.$.container.getBoundingClientRect(),a="vertical"===t.orientation?document.body.scrollTop||document.documentElement.scrollTop:document.body.scrollLeft||document.documentElement.scrollLeft,r="vertical"===t.orientation?i.top+a:i.left+a,o="vertical"===t.orientation?t._pointerPosition-n.offsetTop:t._pointerPosition-n.offsetLeft,s=t._pointerPosition>=r&&t._pointerPosition<=r+t._switchContainerSize,l=-1*(t.offsetWidth-t.$.switchThumb.offsetWidth),c=-1*(t.offsetHeight-t.$.switchThumb.offsetHeight);if(t._pointerPosition="vertical"===t.orientation?e.pageY:e.pageX,s){var d=t._pointerPosition-o;d<-t._switchTrackLength&&(d=-t._switchTrackLength),d>0&&(d=0),"vertical"===t.orientation?t.$.innerContainer.style.top=Math.max(c,d)+"px":t.$.innerContainer.style.left=Math.max(l,d)+"px"}}}},{key:"_switchThumbDropHandler",value:function(){var e=this;e.hasAttribute("dragged")?e._endDrag():e._isSwitchClicked&&e._endClick(),e._mouseDown=!1,delete e._isSwitchClicked}},{key:"_endDrag",value:function(){var e=this;if(e.indeterminate=!1,e._updateHidenInputNameAndValue(),!e._isInactiveOn("drag")&&e._mouseDown){e.removeAttribute("dragged");var t="vertical"===e.orientation?e.$.innerContainer.offsetTop+e.$.switchThumb.offsetTop+e.$.switchThumb.clientHeight/2:e.$.innerContainer.offsetLeft+e.$.switchThumb.offsetLeft+e.$.switchThumb.clientWidth/2,n=t>e._switchBreakPoint;null!==e.checked?!e.inverted==(n===e.checked)&&e._changeCheckState(!e.checked):n?e._changeCheckState(e.inverted):e._changeCheckState(!e.inverted),e._removeDragStyles(),e._updateThumbPosition()}}},{key:"_endClick",value:function(){var e=this;e._resizeHandler(),e.disabled||e.readonly||e._isInactiveOn("click")||("release"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e._updateStateOnClick(),e.indeterminate=!1,e._updateHidenInputNameAndValue())}},{key:"_switchButtonOnMouseEnter",value:function(){var e=this;e.disabled||e.readonly||e.$.addClass("hovered")}},{key:"_switchButtonOnMouseLeave",value:function(){var e=this;e.disabled||e.readonly||e.$.removeClass("hovered")}},{key:"_isInactiveOn",value:function(e){var t=this,n=t.disabled||t.readonly||t.switchMode!==e;return"default"!==t.switchMode&&n}},{key:"_keyUpHandler",value:function(e){var t=this;t.disabled||t.readonly||32!==e.keyCode||"none"===t.switchMode||(t._getContainersSizeAndBreakPoint(),t._changeCheckState())}},{key:"_initializePrivateVariables",value:function(){var e=this;e._switchContainerSize=e._switchTrackLength=e._switchBreakPoint=e._pointerPosition=0,e._mouseDown=!1}},{key:"_changeCheckState",value:function(e){var t=this,n=t.checked;if(null===n&&void 0!==e)return t.$.fireEvent("change",{value:e,oldValue:null}),t.checked=e,void t._updateThumbPosition();null===t.checked?t.checked=!0:t.checked=!t.checked,t._updateThumbPosition(),t.$.fireEvent("change",{value:t.checked,oldValue:n}),t._updateHidenInputNameAndValue()}},{key:"_getContainersSizeAndBreakPoint",value:function(){var e=this;e._switchContainerSize="vertical"===e.orientation?e.$.container.clientHeight:e.$.container.clientWidth,e._switchTrackLength="vertical"===e.orientation?e._switchContainerSize-e.$.switchThumb.clientHeight:e._switchContainerSize-e.$.switchThumb.clientWidth,e._switchBreakPoint=e._switchContainerSize/2}},{key:"_removeDragStyles",value:function(){var e=this;e._supportCSSVariables?e.$.innerContainer.removeAttribute("style"):e.$.innerContainer.style.left="",e._supportCSSVariables?e.$.innerContainer.removeAttribute("style"):e.$.innerContainer.style.top="",e._mouseDown=!1}},{key:"propertyChangedHandler",value:function(e,n,i){var a=this;switch(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,n,i),a._updateContentProperties(),e){case"indeterminate":i?(a._valueCache=a.checked,a.checked=null):a.checked=a._valueCache;break;case"trueContent":a.trueContent=i;break;case"falseContent":a.falseContent=i;break;case"orientation":a._resizeHandler()}a._getContainersSizeAndBreakPoint(),a._removeDragStyles(),a._resizeHandler()}},{key:"_resizeHandler",value:function(){var e=this;if(document.body.contains(e)){var t=window.getComputedStyle(e,null),n=parseInt(t.getPropertyValue("border-top-width")),i=parseInt(t.getPropertyValue("border-right-width")),a=parseInt(t.getPropertyValue("border-bottom-width")),r=parseInt(t.getPropertyValue("border-left-width")),o="vertical"===e.orientation?e.offsetHeight-(n+a):e.offsetWidth-(r+i);e._getContainersSizeAndBreakPoint(),e._supportCSSVariables?e.$.container.style.setProperty("--jqx-switch-button-default-width",o+"px"):(e._innerContainerSize=o,e.$.innerContainer.style.height=e.$.innerContainer.style.width="",e.$.trueContentContainer.style.height=e.$.trueContentContainer.style.width="",e.$.falseContentContainer.style.height=e.$.falseContentContainer.style.width="","horizontal"===e.orientation?(e.$.innerContainer.style.setProperty("width",2*o-e.$.switchThumb.clientWidth+"px"),e.$.trueContentContainer.style.setProperty("width",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("width",e._switchTrackLength+"px")):(e.$.innerContainer.style.setProperty("height",2*o-e.$.switchThumb.clientHeight+"px"),e.$.trueContentContainer.style.setProperty("height",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("height",e._switchTrackLength+"px")),e._updateThumbPosition())}}},{key:"_updateThumbPosition",value:function(){var e=this;if(e._supportCSSVariables||(e.inverted?!0===e.checked:!1===e.checked)||!e._innerContainerSize)return void(e.$.innerContainer.style.left=e.$.innerContainer.style.top="");(e.inverted?!1===e.checked:e.checked)&&("horizontal"===e.orientation?(e.$.innerContainer.style.left=-1*(e._innerContainerSize-e.$.switchThumb.offsetWidth)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize-e.$.switchThumb.offsetHeight)+"px",e.$.innerContainer.style.left="")),null===e.checked&&("horizontal"===e.orientation?(e.$.innerContainer.style.left=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetWidth/2)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetHeight/2)+"px",e.$.innerContainer.style.left=""))}}],[{key:"properties",get:function(){return{inverted:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},switchMode:{value:"default",allowedValues:["default","click","drag","none"],type:"string"},clickMode:{value:"release",allowedValues:["press","release","pressAndRelease"],type:"string"}}}},{key:"listeners",get:function(){return{"container.down":"_mouseDownHandler","document.move":"_drag","document.up":"_switchThumbDropHandler",mouseenter:"_switchButtonOnMouseEnter",mouseleave:"_switchButtonOnMouseLeave",resize:"_resizeHandler","container.resize":"_resizeHandler","document.selectstart":"_selectStartHandler"}}}]),t}(JQX.ToggleButton));
//# sourceMappingURL=jqxswitchbutton.js.map
