"use strict";JQX.Utilities.Assign("Complex",function(){function e(t,i){if(babelHelpers.classCallCheck(this,e),"string"==typeof t)this.complexNumber=this.parseComplexNumber(t),this.realPart=this.complexNumber.realPart,this.imaginaryPart=this.complexNumber.imaginaryPart;else{if("number"!=typeof t)throw new Error("Can't create complex number");if(this.realPart=t,"number"==typeof i)this.imaginaryPart=i;else{if(void 0!==i)throw new Error("Can't create complex number: invalid imaginary part");this.imaginaryPart=0}this.complexNumber=this.parseComplexNumber(this.realPart,this.imaginaryPart)}}return babelHelpers.createClass(e,[{key:"valueOf",value:function(){return 0===this.imaginaryPart?this.realPart:null}},{key:"isNaN",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return isNaN(this.realPart)||isNaN(this.imaginaryPart)})},{key:"isZero",value:function(){return!(0!==this.realPart&&-0!==this.realPart||0!==this.imaginaryPart&&-0!==this.imaginaryPart)}},{key:"isFinite",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return isFinite(this.realPart)&&isFinite(this.imaginaryPart)})},{key:"isInfinite",value:function(){return!(this.isNaN()||this.isFinite())}},{key:"parseComplexNumber",value:function(e,t){var i={realPart:0,imaginaryPart:0};if(void 0===e||null===e)i.realPart=i.imaginaryPart=0;else if(void 0!==t)i.realPart=e,i.imaginaryPart=t;else switch(void 0===e?"undefined":babelHelpers.typeof(e)){case"object":if("imaginaryPart"in e&&"realPart"in e)i.realPart=e.realPart,i.imaginaryPart=e.imaginaryPart;else{if(2!==e.length)throw SyntaxError("Invalid Complex Number Parameter");i.realPart=e[0],i.imaginaryPart=e[1]}break;case"string":i.imaginaryPart=i.realPart=0;var a=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),n=1,o=0;if(null===a)throw SyntaxError("Invalid Complex Number Parameter");for(var r=0;r<a.length;r++){var l=a[r];if(" "===l||"\t"===l||"\n"===l);else if("+"===l)n++;else if("-"===l)o++;else if("i"===l||"I"===l){if(n+o===0)throw SyntaxError("Invalid Complex Number Parameter");" "===a[r+1]||isNaN(a[r+1])?i.imaginaryPart+=parseFloat((o%2?"-":"")+"1"):(i.imaginaryPart+=parseFloat((o%2?"-":"")+a[r+1]),r++),n=o=0}else{if(n+o===0||isNaN(l))throw SyntaxError("Invalid Complex Number Parameter");"i"===a[r+1]||"I"===a[r+1]?(i.imaginaryPart+=parseFloat((o%2?"-":"")+l),r++):i.realPart+=parseFloat((o%2?"-":"")+l),n=o=0}}if(n+o>0)throw SyntaxError("Invalid Complex Number Parameter");break;case"number":i.imaginaryPart=0,i.realPart=e;break;default:throw SyntaxError("Invalid Complex Number Parameter")}return i}},{key:"compare",value:function(e,t){var i=this.parseComplexNumber(e,t),a=this.parseComplexNumber("1e-16");return Math.abs(i.realPart-this.realPart)<=a&&Math.abs(i.imaginaryPart-this.imaginaryPart)<=a}},{key:"toString",value:function(){var e=this.realPart,t=this.imaginaryPart,i="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(i+=e),0!==t&&(0!==e?i+=t<0?" - ":" + ":t<0&&(i+="-"),t=Math.abs(t),1!==t&&(i+=t),i+="i"),i||"0")}}]),e}());var DataAdapter=function(){function e(t){babelHelpers.classCallCheck(this,e),t||(t={});var i=Object.assign(this,t);i.key=function(){return function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}()}(),i.$document=JQX.Utilities.Extend(document),i.boundSource=!1===i.observable?[]:new JQX.ObservableArray,i.dataItemById=[],void 0===i.allowAdd&&(i.allowAdd=!0),void 0===i.allowRemove&&(i.allowRemove=!0),void 0===i.allowUpdate&&(i.allowUpdate=!0),void 0===t.observable&&(i.observable=!0),t.dataSource||(i.dataSource=[]),t.dataFields||(i.dataFields=[]),t.dataSourceType||(i.dataSourceType="array"),t.id||(i.id=null),t.autoFetch||(i.autoFetch=!0),t.dataFields&&(i.dataFields=t.dataFields),t&&!1!==t.autoBind&&i.dataBind(),i.isInitialized=!0}return babelHelpers.createClass(e,[{key:"_getDataFieldObjects",value:function(e){var t=[];if("number"==typeof e)for(var i="A".charCodeAt(0),a="",n=0,o=0;o<e;o++){var r=String.fromCharCode(i+n);n++;var l=a+r;t.push({name:l,dataType:"string"}),n>=26&&(n=0,a+="A")}else if(e.length>0)for(var s=0;s<e.length;s++){var d=e[s];if("string"==typeof d){var u=d.split(":"),c=u[0].trim(),p=u.length>1?u[1].trim():"string";t.push({name:c,dataType:p})}else t.push(d)}return t}},{key:"_notify",value:function(e){var t=this;t.canNotify&&t.notifyFn&&t.notifyFn(e)}},{key:"notify",value:function(e){var t=this;e&&(t.notifyFn=e)}},{key:"toArray",value:function(){return this.boundSource.toArray()}},{key:"dataBind",value:function(){var e=this;e.clear();var t=function(){e.observable&&e.boundSource.notify(function(t){if("update"===t.action&&t.path&&t.path.indexOf(".")>=0&&-1===t.path.indexOf("children")&&-1===t.path.indexOf("loaded")&&-1===t.path.indexOf("level")&&-1===t.path.indexOf("leaf")&&-1===t.path.indexOf("expanded")){for(var i=!1,a=0;a<e.dataFields.length;a++){var n=e.dataFields[a].name;t.path.indexOf(n)>=0&&(i=!0)}e._notify&&i&&e._notify({action:"update",data:t.target,index:t.index})}}),e.groupBy||(e.groupBy=[]),e.groupBy=new JQX.ObservableArray(e.groupBy),e.groupBy.notify(function(){e.boundHierarchy=null,e.refreshHierarchy(),e.onGroup&&e.onGroup()}),e._onBindingComplete()};"string"==typeof e.dataSource&&e.dataSource.indexOf(".json")>=0?(e.url=e.dataSource,e.dataSourceType="json"):"string"==typeof e.dataSource&&e.dataSource.indexOf(".xlsx")>=0?(e.url=e.dataSource,e.dataSourceType="xlsx"):"string"==typeof e.dataSource&&e.dataSource.indexOf(".csv")>=0?e.dataSourceType="csv":"string"==typeof e.dataSource&&e.dataSource.indexOf(".tsv")>=0?e.dataSourceType="tsv":"array"===e.dataSourceType?(e._bindToArray(),t()):"json"===e.dataSourceType&&(e._bindToJSON(),t())}},{key:"_onBindingComplete",value:function(){var e=this;e._buildHierarchy(),e.onBindingComplete&&e.onBindingComplete({data:e.boundSource}),e._notify&&e._notify({action:"bindingComplete",data:e.boundSource}),e.bindingCompleted=!0}},{key:"refreshHierarchy",value:function(){this._buildHierarchy()}},{key:"find",value:function(){var e=this;return e.boundSource.find.apply(e.boundSource,arguments)}},{key:"onVirtualDataSourceRequested",value:function(e,t){var i=this,a=t?t.first:1/0,n=t?t.last:1/0,o=t?t.row:null;if(void 0===a&&(a=1/0),void 0===n&&(n=1/0),i.virtualFirstIndex=a,i.virtualLastIndex=n,i.virtualDataSource){var r=function(r){r.virtualDataSourceLength&&(i.virtualDataSourceLength=r.virtualDataSourceLength),new JQX.DataAdapter({dataSource:r.dataSource,dataFields:r.dataFields||i.dataFields,data:t,onBindingComplete:function(t){if(i.virtualDataSourceOnExpand&&o)return t.data&&t.data.length>0?i.add(t.data,o.$.id):o.leaf=!0,i.onFilter&&i.onFilter(),void e();if(a===1/0)i.add(t.data);else{for(var r=[],l=[],s=0;s<t.data.length;s++){var d=t.data[s];a+s<=n&&(r.push(d),l.push(a+s))}i.update(l,r)}i.onFilter&&i.onFilter(),e()}})},l=!1,s=function(e){return 0===Object.entries(e).length&&(e.constructor===Object||e.constructor===Array)},d=s(t.sorting)&&s(t.filtering)&&s(t.grouping)&&!t.row&&"filter"!==t.action&&"sort"!==t.action&&"group"!==t.action;if(i.virtualDataSourceCache&&a!==1/0&&d){for(var u=0,c=a;c<n;c++)i[c].isEmpty||u++;u===n-a&&(l=!0)}l?e():"expand"===t.action?i.virtualDataSourceOnExpand(r,{first:a,last:n,row:t.row,sorting:t.sorting,filtering:t.filtering,grouping:t.grouping,action:t.action}):i.virtualDataSource(r,{first:a,last:n,sorting:t.sorting,filtering:t.filtering,grouping:t.grouping,action:t.action})}else e()}},{key:"add",value:function(e,t){var i=this;if(e){var a=!0,n=function(e){var n=i._getDataItem(e,i.boundSource.length);i[i.boundSource.length]=n,i.dataItemById[n.$.id]=n;var o=i.boundSource.push(n);return void 0!==t&&(n.$.parentId=t),o||(a=!1),n};if(e.length){for(var o=[],r=0;r<e.length;r++){var l=n(e[r]);o.push(l)}i._notify({action:"add",data:o})}else{var s=n(e);i._notify({action:"add",data:s})}return i.refreshHierarchy(),a}}},{key:"refreshIndexes",value:function(){for(var e=this,t=0;t<e.boundSource.length;t++)e[t]=e.boundSource[t]}},{key:"removeLast",value:function(){var e=this;delete e[e.boundSource.length-1];var t=e.boundSource.pop();return e._notify({action:"removeLast",data:t}),e.refreshHierarchy(),t}},{key:"remove",value:function(e){var t=this,i=t.boundSource[e];if(!i)throw new Error("Invalid Item Index");t.boundSource.splice(e,1),t.refreshIndexes(),t._notify({action:"remove",index:e,data:i}),t.refreshHierarchy()}},{key:"update",value:function(e,t){var i=this;if(!JQX.Utilities.Types.isArray(e)||!JQX.Utilities.Types.isArray(t)||0!==e.length||0!==t.length){if(t.length&&e.length){for(var a=[],n=0;n<e.length;n++){var o=i._getDataItem(t[n],e[n]),r=e[n];a.push(o),i.boundSource[r]=o,i[r]=i.boundSource[r],i.dataItemById[o.$.id]=i[r]}return i._notify({action:"update",index:e,data:a}),void i.refreshHierarchy()}var l=i._getDataItem(t,e);return i.boundSource[e]=l,i[e]=i.boundSource[e],i.dataItemById[l.$.id]=i[e],i._notify({action:"update",index:e,data:l}),i.refreshHierarchy(),l}}},{key:"insert",value:function(e,t){var i=this;t=i._getDataItem(t,e);var a=i.boundSource.splice(e,0,t);return i.refreshIndexes(),i._notify({action:"insert",index:e,data:t}),i.refreshHierarchy(),a}},{key:"move",value:function(e,t){if(!(t>e&&t-e==1||e===t)){var i=this,a=i.boundSource.splice(e,1)[0];t>e?(t--,i.boundSource.splice(t,0,a)):i.boundSource.splice(t,0,a),i.refreshIndexes(),i._notify({action:"move",index:t,data:i.boundSource[t]}),i.refreshHierarchy()}}},{key:"indexOf",value:function(e){return this.boundSource.indexOf(e)}},{key:"clear",value:function(){var e=this;if(!e.isInitialized)return e._cachedValues=[],void(e.dataItemById=[]);for(var t=0;t<e.boundSource.length;t++)delete e[t];e._cachedValues=[],e.boundSource=e.observable?new JQX.ObservableArray:[],e.dataItemById=[],e.refreshHierarchy()}},{key:"_getId",value:function(e,t,i){if(null===e||void 0===e.name||!e.name||!t.getAttribute){if(e&&e.toString().length>0&&t.getAttribute){var a=t.getAttribute(e);if(null!==a&&a.toString().length>0)return a.trim().split(" ").join("").replace(/([ #;?%&,.+*~\':'!^$[\]()=>|\/@])/g,"");var n=e.split(this.mapChar);if(n.length>1){for(var o=t,r=0;r<n.length;r++)void 0!==o&&(o=o[n[r]]);if(void 0!==o)return o}else if(void 0!==t[e])return t[e]}return i}var l=t.getAttribute(e.name);if(null!==l&&l.toString().length>0)return l;if(e.map)try{var s=t.getAttribute(e.map);if(null!==s&&s.toString().length>0)return s}catch(e){return i}}},{key:"_buildHierarchy",value:function(){var e=this;if(e.reservedNames){var t=e.reservedNames;t.leaf||(t.leaf="leaf"),t.parent||(t.parent="parent"),t.expanded||(t.expanded="expanded"),t.checked||(t.checked="checked"),t.selected||(t.selected="selected"),t.level||(t.level="level"),t.data||(t.data="data")}else e.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};var i=e.reservedNames;if(e.childrenDataField){for(var a=[],n=0;n<e.boundSource.length;n++){(function(t){var n=Object.assign({},e.boundSource[t]);if(!n)return"continue";a.push(n);var o=function(t){var a=e.childrenDataField.split(e.mapChar),n=null;if(a.length>1){for(var o=t,r=0;r<a.length;r++)void 0!==o&&(o=o[a[r]]);n=o}else n=t.children;t.children=n,(null===t.children||void 0===t.children||t.children&&0===t.children.length)&&(t[i.leaf]=!0)};o(n),n[i.level]=0,n.$||(n.$={}),n[i.parent]=null,n[i.data]=n,void 0===n[i.expanded]&&(n[i.expanded]=!1);!function t(a,n){if(!n)return void(a.children=new Array);for(var r=0;r<n.length;r++){var l=e._getDataItem(n[r],r);l&&(o(l),l[i.level]=a[i.level]+1,l[i.parent]=a,l[i.data]=l,a&&(a.children[r]=l),void 0===l[i.expanded]&&(l[i.expanded]=!1),t(l,l.children))}}(n,n.children)})(n)}if(e.boundHierarchy=a,!e._boundSourceUpdate){for(var n=0;n<e.boundHierarchy.length;n++){var o=e.boundHierarchy[n];o.children&&function(){!function t(i){if(e.dataItemById[i.$.id]||(e.boundSource.canNotify=!1,e.dataItemById[i.$.id]=i,e[e.boundSource.length]=i,e.boundSource.push(i),e.boundSource.canNotify=!0),i.children)for(var a=0;a<i.children.length;a++){var n=i.children[a];n.children&&t(n)}}(o)}()}e._boundSourceUpdate=!0}}e.xmlRoot&&"xml"===e.dataSourceType&&(e.boundHierarchy=this._getHierarchy("uid","_parentuid","children",null,e.boundSource)),e.keyDataField&&e.parentDataField&&(e.boundHierarchy=this._getHierarchy(e.keyDataField,e.parentDataField,"children",null,e.boundSource)),e.groupBy&&e.groupBy.length>0&&(e.boundHierarchy=this._getGroupHierarchy(e.groupBy,"children","label",null,"data",null,"parent",e.boundSource)),e.virtualDataSourceOnExpand&&(e.boundHierarchy=this._getHierarchy("id","parentId","children",null,e.boundSource))}},{key:"_getGroupHierarchy",value:function(e,t,i,a,n,o,r,l,s){var d=this;s||(s=0);for(var u=d.reservedNames,c=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},p=new Array,m=0;m<e.length;m++)p[m]=c();t||(t="children"),i||(i="group"),n||(n="item"),r||(r="parent"),void 0===o&&(o="value");for(var v=new Array,h=new Array,f=0,g=0;g<l.length;g++){var _=Object.assign({},function(e){var t=e;if(a)for(var i in a){var n=a[i];n.name&&n.map&&(t[n.map]=t[n.name])}return t}(l[g]));_[u.leaf]=!1;for(var b=new Array,y=0,w=0;w<e.length;w++){var x=e[w],C=_[x];null!==C&&(b[y++]={value:C,group:x,hash:p[w]})}if(b.length!==e.length)break;for(var k=null,D="",S=0;S<b.length;S++){var T=b[S].value,I=b[S].group;if(D=D+"_"+b[S].hash+"_"+T,void 0===h[D]||null===h[D]){if(null===k){k={$:{}},k[u.level]=0,k[u.leaf]=!1,k[r]=null,k[i]=T,k[n]=_,k.groupDataField=I,void 0!==_[u.expanded]?k[u.expanded]=_[u.expanded]:k[u.expanded]=!1,o&&(k[o]=_[o]),k[t]=new Array;var H=v.length+s;this.id&&"number"!=typeof _.$.id&&!isFinite(_.$.id)||(H="Item"+H),void 0===k.$.id&&(k.$.id=H),v[f++]=k}else{var $={$:{}};$[u.level]=k[u.level]+1,$[r]=k,$[i]=T,$[t]=new Array,$[n]=_,$.groupDataField=I,$[u.leaf]=!1,void 0!==_[u.expanded]?$[u.expanded]=_[u.expanded]:$[u.expanded]=!1,o&&($[o]=_[o]),void 0===$.$.id&&($.$.id=k.$.id+"_"+k[t].length),k[t][k[t].length]=$,k=$}h[D]=k}else k=h[D]}_&&(_[u.leaf]=!0),null!==k?(null===this.id?void 0===_.$.id&&(_.$.id=k.$.id+"_"+k[t].length):void 0===_.$.id&&-1===_.$.id.toString().indexOf(k.$.id)&&(_.$.id=k.$.id+"_"+_.$.id),_[r]=k,_[u.level]=k[u.level]+1,k[t][k[t].length]=_):void 0===_.$.id&&(_.$.id=c())}return v}},{key:"_getHierarchy",value:function(e,t,i,a,n){var o=this,r=new Array,l=this.boundSource;if(n&&(l=n),0===this.boundSource.length)return null;for(var s=null!==i?i:"children",d=new Array,u=l,c=u.length,p=o.reservedNames,m=function(e){var t=e;if(a)for(var i in a){var n=a[i];n.name&&n.map&&(t[n.map]=t[n.name])}return t},v=0;v<c;v++){var h=u[v],f=h[t],g=h[e];"parentId"===t&&(f=h.$.parentId),"id"===e&&(g=h.$.id),h[s]=new Array,d[g]={parentId:f,item:h}}for(var _=0;_<c;_++){var b=u[_],y=b[t],w=b[e];if("parentId"===t&&(y=b.$.parentId),"id"===e&&(w=b.$.id),void 0!==d[y]){var x={parentId:y,item:d[w].item},C=d[y].item;C[s]||(C[s]=new Array);var k=C[s].length;x=x.item,p?void 0===x[p.parent]&&(x[p.parent]=C):void 0===x.parent&&(x.parent=C);var D=m(x);C[s][k]=D,d[y].item=C,d[w].item=x}else{var S=d[w].item;p?void 0===S[p.parent]&&(S[p.parent]=null):void 0===S.parent&&(S.parent=null);var T=m(S);p?T[p.level]=0:T.level=0,r[r.length]=T}}if(0!==r.length){!function e(t,i){for(var a=0;a<i.length;a++){var n=i[a];p?n[p.level]=t:n.level=t;var r=n[s];r&&r.length>0?e(t+1,r):o.virtualDataSourceOnExpand?void 0===n.leaf&&(n.leaf=!1):p?n[p.leaf]=!0:n.leaf=!0}}(0,r)}return r}},{key:"summarize",value:function(e,t){var i=this;Array.isArray(e)||(e=[e]);for(var a=[],n=0;n<e.length;n++){var o=e[n];for(var r in o){var l=o[r];a.push({dataField:r,functions:l})}}e=a;var s={},d=new Array;t||(t=i.boundSource);var u=t.length;if(0!==u&&void 0!==u){for(var c=0;c<u;c++)!function(i){for(var a=t[i],n=0;n<e.length;n++)!function(t){var n=e[t],o=a[n.dataField];if(n.functions){s[n.dataField]=s[n.dataField]||{},d[n.dataField]=d[n.dataField]||0,d[n.dataField]++;var r=function(e){for(var t in e){var i=s[n.dataField][t];null!==i&&void 0!==i||(s[n.dataField][t]=0,i=0),"function"==typeof e[t]&&(i=e[t](i,o,n.dataField,a)),s[n.dataField][t]=i}},l=parseFloat(o);l=!isNaN(l),l&&(o=parseFloat(o)),"number"==typeof o&&isFinite(o)?n.functions.forEach(function(e){var t=s[n.dataField][e];if(null!==t&&void 0!==t||(t=0,"min"===this&&(t=9999999999999),"max"===this&&(t=-9999999999999)),"sum"===e||"avg"===e||"stdev"===e||"stdevp"===e||"var"===e||"varp"===e)t+=parseFloat(o);else if("product"===e)0===i?t=parseFloat(o):t*=parseFloat(o);else if("min"===e)t=Math.min(t,parseFloat(o));else if("max"===e)t=Math.max(t,parseFloat(o));else if("count"===e)t++;else if("object"===(void 0===e?"undefined":babelHelpers.typeof(e)))return void r(e);s[n.dataField][e]=t}):n.functions.forEach(function(e){if("min"===e||"max"===e||"count"===e||"product"===e||"sum"===e||"avg"===e||"stdev"===e||"stdevp"===e||"var"===e||"varp"===e){if(null===o)return!0;var t=s[n.dataField][e];return null!==t&&void 0!==t||(t=0),s[n.dataField][e]=t,!0}"object"===(void 0===e?"undefined":babelHelpers.typeof(e))&&r(e)})}}(n)}(c);for(var p=0;p<e.length;p++){(function(i){var a=e[i];if(!a.functions)return"continue";if(s[a.dataField]||(s[a.dataField]={},a.functions.forEach(function(e){s[a.dataField][e]=0})),void 0!==s[a.dataField].avg){var n=s[a.dataField].avg,o=d[a.dataField];s[a.dataField].avg=0===o||void 0===o?0:n/o}else void 0!==s[a.dataField].count&&(s[a.dataField].count=u);(s[a.dataField].stdev||s[a.dataField].stdevp||s[a.dataField].var||s[a.dataField].varp)&&a.functions.forEach(function(e){if("stdev"===e||"var"===e||"varp"===e||"stdevp"===e){for(var i=s[a.dataField][e],n=u,o=i/u,r=0,l=0;l<u;l++){var d=t[l],c=d[a.dataField];r+=(c-o)*(c-o)}var p="stdevp"===e||"varp"===e?n:n-1;0===p&&(p=1),"var"===e||"varp"===e?s[a.dataField][e]=r/p:"stdevp"!==e&&"stdev"!==e||(s[a.dataField][e]=Math.sqrt(r/p))}})})(p)}return s}}},{key:"_getDataItem",value:function(e,t){var i=this,a={},n="number"==typeof i.dataSource||i.dataSourceLength;if(!e)return{$:{id:t},isEmpty:!0,index:t};if(n){for(var o=0;o<i.dataFields.length;o++){a[(i.dataFields?i.dataFields[o]:{}).name]=""}return a.$={},a.$.id=t,a.$.index=t,a}var r=e;if(void 0!==r.expanded&&(a.expanded=r.expanded,"true"===r.expanded||!0===r.expanded||1===r.expanded?a.expanded=!0:a.expanded=!1),i.childrenDataField?void 0!==r[i.childrenDataField]&&(a.children=r[i.childrenDataField]):void 0!==r.children?a.children=r.children:void 0!==r.items&&(a.children=r.items),void 0!==r.leaf&&(a.leaf=r.leaf),void 0!==r.level&&(a.level=r.level),i.keyDataField&&void 0!==r[i.keyDataField]&&(a[i.keyDataField]=r[i.keyDataField]),i.parentDataField&&void 0!==r[i.parentDataField]&&(a[i.parentDataField]=r[i.parentDataField]),0===i.dataFields.length)for(var l=Object.getOwnPropertyNames(e),s=0;s<l.length;s++)i.dataFields.push({name:l[s],dataType:"string"});for(var d=0;d<i.dataFields.length;d++){var u=i.dataFields?i.dataFields[d]:{},c="";if(void 0!==u&&null!==u){if(e.length&&(c=e[d]),u.map){var p=u.map.split(i.mapChar);if(p.length>0){for(var m=r,v=0;v<p.length;v++)r&&(m=m[p[v]]);c=m}else c=r[u.map]}void 0!==c&&null!==c?c=c.toString():void 0===c&&null!==c&&(c="");var h=!1;""===c&&(h=!0,c=e[u.name],void 0!==c&&null!==c?"array"!==u.dataType&&"date"!==u.dataType&&(c=c.toString()):c=""),"[object Object]"===c&&u.map&&h&&(c=""),i._cachedValues[c+"_"+u.dataType]?c=i._cachedValues[c+"_"+u.dataType]:("bool"===u.dataType||"boolean"===u.dataType?"true"===c||"1"===c?c=!0:"false"!==c&&"0"!==c||(c=!1):c=i.$document.deserialize(""+c,u.dataType,!0),i._cachedValues[c+"_"+u.dataType]=c),"string"!==u.dataType&&"boolean"!==u.dataType&&"bool"!==u.dataType&&(isNaN(c)||c===-1/0||c===1/0)&&(c=0),a[u.name]=c}}var f=t;return i.id?(f=r[i.id],"object"===(void 0===f?"undefined":babelHelpers.typeof(f))&&(f=t)):i.dataItemById&&i.dataItemById[f]&&(f=i.length),a.$||(a.$={}),a.$.id=f,a.$.index=t,new Object(a)}},{key:"_bindToArray",value:function(){var e=this,t="number"==typeof e.dataSource||e.dataSourceLength,i=[];e.boundSource.canNotify=!1;for(var a=0;a<e.length;a++){var n=t?{}:e.dataSource[a],o=e._getDataItem(n,a);i.push(o)}if(t&&e.dataSourceLength&&e.dataSource.length>0)for(var r=0;r<e.dataSource.length;r++){var l=e.dataSource[r].cell,s=e.dataSource[r].value,d=l.replace(/[^0-9]/g,""),u=l.replace(/[0-9]/g,"");i[d-1][u]=s}e.boundSource=!1===e.observable?i:new JQX.ObservableArray(i);for(var c=0;c<e.length;c++)e[c]=e.boundSource[c],e.dataItemById[e[c].$.id]=e[c];e.boundSource.canNotify=!0}},{key:"_bindToJSON",value:function(){var e=this,t=[],i=Object.entries(e.dataSource);e.boundSource.canNotify=!1;for(var a=0;a<i.length;a++){var n=i[a],o=e._getDataItem(n,a);t.push(o)}e.boundSource=!1===e.observable?t:new JQX.ObservableArray(t);for(var r=0;r<e.length;r++)e[r]=e.boundSource[r],e.dataItemById[e[r].$.id]=e[r];e.boundSource.canNotify=!0}},{key:"sortBy",value:function(e,t,i){var a=this;if(!t)for(var n=0;n<a.dataFields.length;n++){var o=a.dataFields[n];if(o.name===e){t=o.dataType;break}}if(a.boundHierarchy){!function n(o){a._sort(o,e,i,t);for(var r=0;r<o.length;r++){var l=o[r];l.children&&n(l.children,e,i,t)}}(a.boundHierarchy)}else a._sort(a.boundSource,e,i,t)}},{key:"_createFilter",value:function(e,t){for(var i={"=":"EQUAL","<>":"NOT_EQUAL","<":"LESS_THAN",">":"GREATER_THAN","<=":"LESS_THAN_OR_EQUAL",">=":"GREATER_THAN_OR_EQUAL",equal:"EQUAL","not equal":"NOT_EQUAL","less than":"LESS_THAN","greater than":"GREATER_THAN","greater than or equal":"GREATER_THAN_OR_EQUAL","less than or equal":"LESS_THAN_OR_EQUAL","starts with":"STARTS_WITH","ends with":"ENDS_WITH",null:"null","":"EMPTY",isblank:"EMPTY",isnotblank:"NOT_EMPTY",contains:"CONTAINS",notcontains:"DOES_NOT_CONTAIN",startswith:"STARTS_WITH",endswith:"ENDS_WITH",NULL:"NULL",NOT_NULL:"NOT_NULL"},a=[],n=0;n<t.length;n++){for(var o=t[n],r=-1===o.indexOf('"')?o.split(" "):o.split('"'),l=[],s=0;s<r.length;s++){var d=r[s];""!==d&&l.push(d.trim())}a.push(l)}for(var u=new JQX.FilterGroup,c=[],p=[],m=0;m<a.length;m++){var v=a[m];if(v.length>1){for(var h=new JQX.FilterGroup,f="and",g=0,_=0;_<v.length;_++){var b=v[_];if("and"!==b&&"or"!==b){if(2===++g){var y=h.createFilter(e,b,i[v[_-1]]);g=0,f&&h.addFilter(f,y)}}else f=b}p.push(h)}else{var w=v[0];if("and"!==w&&"or"!==w)throw new Error('Filter Exprresion expects "AND" or "OR", but the token is: '+w);c.push(w)}}var x=0;if(1===p.length)return p[0];for(var C=0;C<p.length;C++){var k=c[x];(C+1)%2==0&&x++,k||(k="and"),u.addFilter(k,p[C])}return u}},{key:"filterBy",value:function(e){for(var t=this,i=function(){for(var i=0;i<t.dataFields.length;i++){var a=t.dataFields[i];if(a.name===e)return a.dataType}}(),a=arguments.length,n=Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];var r=t._createFilter(i,n);return t.boundSource.filter(function(t){return r.evaluate(t[e])})}},{key:"_filter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",i=this,a=[],n=[];if(0===e.length)return void i.clearFilter();var o=void 0,r=void 0;"and"===t?(o=!0,r=function(e,t,i){return e&&t.evaluate(i[t.dataField])}):(o=!1,r=function(e,t,i){return e||t.evaluate(i[t.dataField])});for(var l=0;l<e.length;l++){var s=e[l],d=s[0],u=null;u=s[1]instanceof JQX.FilterGroup?s[1]:i._createFilter(function(e){for(var t=0;t<i.dataFields.length;t++){var a=i.dataFields[t];if(a.name===e)return a.dataType}}(d),s.splice(1)),u&&(n.push(d),u.dataField=d,a.push(u))}if(i.boundHierarchy){var c=function(e){for(var t=o,i=0;i<a.length;i++){var n=a[i];t=r(t,n,e)}return e.$.filtered=t,t};!function e(t,a,n){for(var o=0,r=0;r<t.length;r++){var l=t[r];c(l),l.$.filtered&&o++,l.children&&e(l.children,l,a)}o>0&&i.groupBy.length>0&&a?(a.$.filtered=!0,n&&!n.$.filtered&&(n.$.filtered=!0)):o>0&&o!==t.length&&a&&(a.$.filtered=null,n&&!n.$.filtered&&(n.$.filtered=null))}(i.boundHierarchy,null,null)}else for(var p=0;p<i.boundSource.length;p++){for(var m=i.boundSource[p],v=o,h=0;h<a.length;h++){var f=a[h];v=r(v,f,m)}m.$.filtered=v}i.onFilter&&i.onFilter()}},{key:"clearGroup",value:function(){var e=this;e.groupBy=[],e.boundHierarchy=null,e.refreshHierarchy(),e.onGroup&&e.onGroup()}},{key:"clearFilter",value:function(){for(var e=this,t=0;t<e.boundSource.length;t++){e.boundSource[t].$.filtered=!0}if(e.boundHierarchy){!function e(t,i,a){for(var n=0;n<t.length;n++){var o=t[n];o.$.filtered=!0,o.children&&e(o.children,o,i)}i&&(i.$.filtered=!0,a&&!a.$.filtered&&(a.$.filtered=!0))}(e.boundHierarchy,null,null)}e.onFilter&&e.onFilter()}},{key:"clearSort",value:function(){var e=this;e._sort(e.boundSource,[],[],[])}},{key:"_sort",value:function(e,t,i,a,n){var o=this,r=!1;if(0!==e.length){if(e&&e.constructor&&e instanceof JQX.ObservableArray&&(r=!0),(!e||!Array.isArray(e)||0===e.length||!t||Array.isArray(t)&&0===t.length)&&!r&&!o.boundHierarchy)throw new Error("sort: Missing or Invalid arguments!");"string"==typeof t&&(t=[t]);var l=[],s=[];void 0===i&&(i=[]);for(var d=0;d<t.length;d++){void 0===i[d]||"asc"===i[d]||"ascending"===i[d]?l[d]=1:l[d]=-1;var u=e[0][t[d]];s[d]=function(e,t){var i=t||(void 0===e?"undefined":babelHelpers.typeof(e)),a=void 0;switch(i){case"string":a=(new Intl.Collator).compare;break;case"number":a=function(e,t){return e-t};break;case"boolean":case"bool":a=function(e,t){return e===t?0:!1===e?-1:1};break;case"date":case"time":case"dateTime":e instanceof Date?a=function(e,t){return e.getTime()-t.getTime()}:(e instanceof JQX.Utilities.DateTime||e instanceof JQX.Utilities.BigNumber)&&(a=function(e,t){return e.compare(t)});break;case"object":if(e instanceof Date)a=function(e,t){return e.getTime()-t.getTime()};else if(e instanceof JQX.Utilities.DateTime||e instanceof JQX.Utilities.BigNumber)a=function(e,t){return e.compare(t)};else if(e instanceof JQX.Utilities.Complex||window.NIComplex&&e instanceof window.NIComplex){var n=new JQX.Utilities.ComplexNumericProcessor;a=function(e,t){return n.compareComplexNumbers(e,t)}}}return a}(u,a[d])}if(n)return void n(e,t,i,s);e.sort(function(e,i){for(var a=0;a<t.length;a++){var n=s[a](e[t[a]],i[t[a]]);if(0===n){if(t[a+1])continue;return void 0!==e._index?(e._index-i._index)*l[a]:0}return n*l[a]}if(0===t.length)return e.$.index<i.$.index?-1:e.$.index>i.$.index?1:0});for(var c=0;c<e.length;c++)o[c]=e[c]}}},{key:"filter",value:function(e,t,i){JQX.DataAdapter.Filter(this.boundSource,e,t,i)}},{key:"sort",value:function(e,t,i){JQX.DataAdapter.Sort(this.boundSource,e,t,i)}},{key:"dataFields",get:function(){return this._dataFields},set:function(e){var t=this;return t._dataFields=t._getDataFieldObjects(e),t._dataFields}},{key:"dataSource",get:function(){var e=this;return e._dataSource||(e._dataSource=[]),e._dataSource},set:function(e){var t=this;t._dataSource=e,t.isInitialized&&(t.boundSource=!1===t.observable?[]:new JQX.ObservableArray,t.dataItemById=[],t.bindingCompleted=!1,t.dataBind())}},{key:"canNotify",get:function(){var e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify},set:function(e){this._canNotify=e}},{key:"length",get:function(){var e=this;return e.virtualDataSourceLength?e.virtualDataSourceLength:e.dataSourceLength?e.dataSourceLength:"number"==typeof e.dataSource?e.dataSource:e.bindingCompleted?e.boundSource.length:e.dataSource&&"string"!=typeof e.dataSource&&e.dataSource.length?e.dataSource.length:e.boundSource.length}}],[{key:"Filter",value:function(e,t,i,a){return e.filter(function(e){for(var n=!0,o=0;o<i.length;o++){var r=i[o],l=t[o];n=a?n&&a(e,l,r):n&&r.evaluate(e[l])}return n})}},{key:"Sort",value:function(e,t,i,a){if(e&&Array.isArray(e)&&0!==e.length&&t&&(!Array.isArray(t)||0!==t.length)){"string"==typeof t&&(t=[t]);var n=[],o=[];void 0===i&&(i=[]);for(var r=0;r<t.length;r++)void 0===i[r]||"asc"===i[r]||"ascending"===i[r]?n[r]=1:n[r]=-1,o[r]=function(e){var t=void 0===e?"undefined":babelHelpers.typeof(e),i=void 0;switch(t){case"string":i=(new Intl.Collator).compare;break;case"number":i=function(e,t){return e-t};break;case"boolean":i=function(e,t){return e===t?0:!1===e?-1:1};break;case"object":if(e instanceof Date)i=function(e,t){return e.getTime()-t.getTime()};else if(e instanceof JQX.Utilities.DateTime||e instanceof BigNumberNG)i=function(e,t){return e.compare(t)};else if(e instanceof JQX.Utilities.Complex||window.NIComplex&&e instanceof window.NIComplex){var a=new JQX.Utilities.ComplexNumericProcessor;i=function(e,t){return a.compareComplexNumbers(e,t)}}}return i}(e[0][t[r]]);if(a)return void a(e,t,i,o);var l=e.slice(0);return l.sort(function(e,i){for(var a=0;a<t.length;a++){var r=o[a](e[t[a]],i[t[a]]);if(0===r){if(t[a+1])continue;return void 0!==e._index?(e._index-i._index)*n[a]:0}return r*n[a]}}),l}}}]),e}();JQX.DataAdapter=DataAdapter;var Ajax=function(){function e(t,i){babelHelpers.classCallCheck(this,e);var a=this;a.config=t,a.callback=i,!1!==t.autoFetch&&a.call(t)}return babelHelpers.createClass(e,[{key:"call",value:function(e){var t=this;e||(e=t.config);var i="GET",a=e.url,n=null,o=!0;if(e.type&&(i=e.type),e.data)if("GET"===i){a+="?";for(var r in e.data)e.data.hasOwnProperty(r)&&(a+=encodeURI(r+"="+e.data[r]+"&"));"&"===a.charAt(a.length-1)&&(a=a.slice(0,a.length-1))}else"POST"===i&&(n=JSON.stringify(e.data));e&&!1===e.async&&"xlsx"!==e.dataSourceType&&(o=!1),void 0!==window.fetch&&o?t.ajaxFetch(e,i,a,n):t.ajaxXMLHttpRequest(e,i,a,n,o)}},{key:"ajaxFetch",value:function(e,t,i,a){var n=this,o={method:t},r=void 0;switch(e.dataSourceType){case"json":r="json";break;case"xlsx":r="arrayBuffer";break;default:r="text"}e&&e.contentType&&(o.headers=new Headers({"Content-Type":e.contentType})),null!==a&&(o.body=a);var l=void 0,s=void 0,d=void 0;if(e.timeout&&(s=setTimeout(function(){d=!0},e.timeout)),e.beforeSend){if(!1===e.beforeSend(o,e))return}fetch(i,o).then(function(e){if(d)throw l=408,new Error("timeout");if(s&&clearTimeout(s),l=e.status,!e.ok)throw new Error(e.statusText);return e[r]()}).then(function(t){if("arrayBuffer"===r)return JSZip.loadAsync(t).then(function(t){return t.files["xl/worksheets/sheet1.xml"].async("text").then(function(i){return t.files["xl/sharedStrings.xml"].async("text").then(function(t){var a=n.parseXLSXData(i,t);n.ajaxComplete(e,a,l)})})});n.ajaxComplete(e,t,l)}).catch(function(t){"JSZip is not defined"===t.message&&(t.message="JSZip is not defined. Please include a reference to JSZip to be able to load data from XLSX files."),e&&e.loadError&&e.loadError(l,t),n.callback&&n.callback(t,l)})}},{key:"ajaxXMLHttpRequest",value:function(e,t,i,a,n){var o=new XMLHttpRequest,r=this;if(o.open(t,i,n),o.ontimeout=function(){e&&e.loadError&&e.loadError(408,"timeout")},o.onload=function(){if(4===o.readyState){var t=o.status,i=o.response;t>=200&&t<=299?("json"===e.dataSourceType&&(i=JSON.parse(i)),r.ajaxComplete(e,i,t)):e&&e.loadError&&e.loadError(t,i)}},o.onerror=function(){e&&e.loadError&&e.loadError(o.status,o.response)},e&&e.contentType&&o.setRequestHeader("Content-Type",e.contentType),n&&e.timeout&&(o.timeout=e.timeout),e.beforeSend){if(!1===e.beforeSend(o,e))return}o.send(a)}},{key:"ajaxComplete",value:function(e,t,i){if(e){if(e.beforeLoadComplete){var a=e.beforeLoadComplete(t);a&&(t=a)}e.loadComplete&&e.loadComplete(t,i),this.callback&&this.callback(t,i)}}},{key:"parseXLSXData",value:function(e,t){var i=new DOMParser,a=i.parseFromString(t,"text/xml"),n=Array.from(a.getElementsByTagName("si")),o=[],r=i.parseFromString(e,"text/xml"),l=Array.from(r.getElementsByTagName("row")),s=[];return n.forEach(function(e){var t=e.getElementsByTagName("t");if(1===t.length)o.push(t[0].innerHTML);else{var i="";t=Array.from(t),t.forEach(function(e){i+=e.innerHTML}),o.push(i)}}),l.forEach(function(e){var t={};Array.from(e.getElementsByTagName("c")).forEach(function(e){var i=e.getAttribute("r").match(/\D+/)[0],a=e.getAttribute("t"),n=e.getElementsByTagName("v")[0].innerHTML,r=void 0;switch(a){case"s":r=o[parseFloat(n)];break;case"b":r=1===parseFloat(n);break;default:r=parseFloat(n)}t[i]=r}),s.push(t)}),s}}]),e}(),localTimezoneOffset=-1*(new Date).getTimezoneOffset(),__timeZones=[{id:"Local",offset:localTimezoneOffset,
offsetHours:localTimezoneOffset/60,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],__daysToMonth365=[0,31,59,90,120,151,181,212,243,273,304,334,365],__daysToMonth366=[0,31,60,91,121,152,182,213,244,274,305,335,366],__daysPer4Years=1461,__daysPer100Years=36524,__daysPer400Years=146097,__daysTo1601=584388,__daysTo1899=693593,__daysTo10000=3652059,__minTicks=0,__maxTicks=3155378976e9,__maxMillis=3155378976e5;JQX.Utilities.Assign("TimeSpan",function(){function e(){babelHelpers.classCallCheck(this,e);var t=this;if(t.ticksPerMillisecond=1e4,t.millisecondsPerTick=1e-4,t.ticksPerSecond=1e7,t.secondsPerTick=1e-7,t.ticksPerMinute=6e8,t.minutesPerTick=1/6e8,t.ticksPerHour=36e9,t.hoursPerTick=1/36e9,t.ticksPerDay=864e9,t.daysPerTick=1/864e9,t.millisPerSecond=1e3,t.millisPerMinute=6e4,t.millisPerHour=36e5,t.millisPerDay=864e5,t._ticks=0,1===arguments.length){if(isNaN(arguments[0]))throw new Error("Argument must be a number.");t._ticks=arguments[0]}else if(3===arguments.length)t._ticks=t.timeToMS(arguments[0],arguments[1],arguments[2],0);else if(4===arguments.length){var i=arguments[0],a=arguments[1],n=arguments[2],o=arguments[3],r=1e3*(3600*i*24+3600*a+60*n+o)+0;t._ticks=r*t.ticksPerMillisecond}else if(5===arguments.length){var l=arguments[0],s=arguments[1],d=arguments[2],u=arguments[3],c=arguments[4],p=1e3*(3600*l*24+3600*s+60*d+u)+c;t._ticks=p*t.ticksPerMillisecond}}return babelHelpers.createClass(e,[{key:"ticks",value:function(){return this._ticks}},{key:"days",value:function(){var e=this;return parseInt(e._ticks/e.ticksPerDay)}},{key:"timeToMS",value:function(e,t,i,a){var n=3600*e+60*t+i+a/1e3;return parseInt(n*this.ticksPerSecond)}},{key:"hours",value:function(){var e=this;return parseInt(e._ticks/e.ticksPerHour)%24}},{key:"milliseconds",value:function(){var e=this;return parseInt(e._ticks/e.ticksPerMillisecond)%1e3}},{key:"minutes",value:function(){var e=this;return parseInt(e._ticks/e.ticksPerMinute)%60}},{key:"seconds",value:function(){var e=this;return parseInt(e._ticks/e.ticksPerSecond)%60}},{key:"totalDays",value:function(){var e=this;return parseInt(e._ticks*e.daysPerTick)}},{key:"totalHours",value:function(){var e=this;return parseInt(e._ticks*e.hoursPerTick)}},{key:"totalMilliseconds",value:function(){var e=this,t=e._ticks*e.millisecondsPerTick;return parseInt(t)}},{key:"totalMinutes",value:function(){var e=this;return parseInt(e._ticks*e.minutesPerTick)}},{key:"totalSeconds",value:function(){var e=this;return parseInt(e._ticks*e.secondsPerTick)}},{key:"add",value:function(e){var t=this._ticks+e._ticks;return new JQX.Utilities.TimeSpan(t)}},{key:"subtract",value:function(e){var t=this._ticks-e._ticks;return new JQX.Utilities.TimeSpan(t)}},{key:"duration",value:function(){var e=this;return e._ticks>=0?new JQX.Utilities.TimeSpan(e._ticks):new JQX.Utilities.TimeSpan(-e._ticks)}},{key:"equals",value:function(e){return this._ticks===e._ticks}},{key:"valueOf",value:function(){return this._ticks}},{key:"compare",value:function(e,t){return e._ticks>t._ticks?1:e._ticks<t._ticks?-1:0}},{key:"interval",value:function(e,t){var i=e*t,a=i+(e>=0?.5:-.5);return new JQX.Utilities.TimeSpan(a*this.ticksPerMillisecond)}},{key:"fromDays",value:function(e){var t=this;return t.interval(e,t.millisPerDay)}},{key:"fromHours",value:function(e){var t=this;return t.interval(e,t.millisPerHour)}},{key:"fromMilliseconds",value:function(e){return this.interval(e,1)}},{key:"fromMinutes",value:function(e){var t=this;return t.interval(e,t.millisPerMinute)}},{key:"fromSeconds",value:function(e){var t=this;return t.interval(e,t.millisPerSecond)}},{key:"fromTicks",value:function(e){return new JQX.Utilities.TimeSpan(e)}},{key:"toString",value:function(){return this.totalMilliseconds().toString()}},{key:"negate",value:function(){return new JQX.Utilities.TimeSpan(-this._ticks)}}]),e}()),JQX.Utilities.Assign("DateTime",function(){function e(){function t(e){var t=i.regexISOString.exec(e);a=new JQX.Utilities.DateTime(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4]),parseFloat(t[5]),parseFloat(t[6]),parseFloat(t[7]),0,0,0,0,0,0,0,"UTC")}babelHelpers.classCallCheck(this,e);var i=this,a=void 0;if(i.ticksPerMillisecond=1e4,i.millisecondsPerTick=1e-4,i.ticksPerSecond=1e7,i.secondsPerTick=1e-7,i.ticksPerMinute=6e8,i.minutesPerTick=1/6e8,i.ticksPerHour=36e9,i.hoursPerTick=1/36e9,i.ticksPerDay=864e9,i.daysPerTick=1/864e9,i.millisPerSecond=1e3,i.millisPerMinute=6e4,i.millisPerHour=36e5,i.millisPerDay=864e5,i.daysPerYear=365,i.daysPer4Years=__daysPer4Years,i.daysPer100Years=__daysPer100Years,i.daysPer400Years=__daysPer400Years,i.daysTo1601=__daysTo1601,i.daysTo1899=__daysTo1899,i.daysTo10000=__daysTo10000,i.minTicks=0,i.maxTicks=__maxTicks,i.maxMillis=__maxMillis,i.datePartYear=0,i.datePartDayOfYear=1,i.datePartMonth=2,i.datePartDay=3,i.daysToMonth365=__daysToMonth365,i.daysToMonth366=__daysToMonth366,i.minValue=new Date(0),i.maxValue=new Date(3155378976e9),i.ticksMask=0x4000000000000000,i.flagsMask=0xc000000000000000,i.localMask=0x8000000000000000,i.ticksCeiling=0x4000000000000000,i.kindUnspecified=0,i.kindUtc=0x4000000000000000,i.kindLocal=0x8000000000000000,i.kindLocalAmbiguousDst=0xc000000000000000,i.kindShift=62,i.regexTrim=/^\s+|\s+$/g,i.regexInfinity=/^[+-]?infinity$/i,i.regexHex=/^0x[a-f0-9]+$/i,i.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,i.regexISOString=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/,i.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",FP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",FPA:"yyyy/MM/dd HH:mm:ss:fffuunnppeeaaxxoo",FPA2:"yyyy-MM-dd HH:mm:ss:fffuunnppeeaaxxoo",FT:"HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",PP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp",PT:"HH:mm:ss:fff:uu:nn:pp"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},i.dateData=0,i.timeZone=null,i.timeZones=__timeZones,i._codeToUnit={u:"_microsecond",uu:"_microsecond",n:"_nanosecond",nn:"_nanosecond",p:"_picosecond",pp:"_picosecond",e:"_femtosecond",ee:"_femtosecond",a:"_attosecond",aa:"_attosecond",x:"_zeptosecond",xx:"_zeptosecond",o:"_yoctosecond",oo:"_yoctosecond"},i._smallUnits=["_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"],i._microsecond=0,i._nanosecond=0,i._picosecond=0,i._femtosecond=0,i._attosecond=0,i._zeptosecond=0,i._yoctosecond=0,0===arguments.length){var n=new Date;i.dateData=i.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+i.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else if(1===arguments.length){void 0===arguments[0]&&(arguments[0]="todayDate");var o="number"==typeof arguments[0]&&isFinite(arguments[0]);if(o||"string"!=typeof arguments[0])if("number"==typeof arguments[0])i.dateData=arguments[0];else if(arguments[0]instanceof Date){var r=arguments[0];i.dateData=i.dateToMS(r.getFullYear(),r.getMonth()+1,r.getDate())+i.timeToMS(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}else i.dateData=arguments[0];else{var l=void 0;"today"===arguments[0]?l=new Date:"todayDate"===arguments[0]?(l=new Date,l.setHours(0,0,0,0)):i.regexISOString.test(arguments[0])?t(arguments[0]):l=i.tryparseDate(arguments[0]),l&&(i.dateData=i.dateToMS(l.getFullYear(),l.getMonth()+1,l.getDate())+i.timeToMS(l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()))}}else if(2===arguments.length){void 0===arguments[0]&&(arguments[0]="todayDate");var s="number"==typeof arguments[0]&&isFinite(arguments[0]);if(s||"string"!=typeof arguments[0])if("number"==typeof arguments[0])i.dateData=arguments[0];else if(arguments[0]instanceof Date){var d=arguments[0];i.dateData=i.dateToMS(d.getFullYear(),d.getMonth()+1,d.getDate())+i.timeToMS(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())}else i.dateData=arguments[0];else{var u=void 0;"today"===arguments[0]?u=new Date:"todayDate"===arguments[0]?(u=new Date,u.setHours(0,0,0,0)):i.regexISOString.test(arguments[0])?t(arguments[0]):u=i.tryparseDate(arguments[0]),u&&(i.dateData=i.dateToMS(u.getFullYear(),u.getMonth()+1,u.getDate())+i.timeToMS(u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()))}i.validateTimeZone(arguments[1])}else if(arguments.length>2)if("string"==typeof arguments[0]){var c=i.tryparseDate(arguments[0],arguments[2],arguments[1]);i.dateData=i.dateToMS(c.getFullYear(),c.getMonth()+1,c.getDate())+i.timeToMS(c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())}else{var p=arguments[0],m=arguments[1]-1,v=arguments[2],h=arguments[3]||0,f=arguments[4]||0,g=arguments[5]||0,_=arguments[6]||0,b=arguments[7]||0,y=arguments[8]||0,w=arguments[9]||0,x=arguments[10]||0,C=arguments[11]||0,k=arguments[12]||0,D=arguments[13]||0,S=new Date(p,m,v,h,f,g,_);p<1970&&S.setFullYear(p),i.dateData=i.dateToMS(S.getFullYear(),S.getMonth()+1,S.getDate())+i.timeToMS(S.getHours(),S.getMinutes(),S.getSeconds(),S.getMilliseconds()),i._microsecond=b,i._nanosecond=y,i._picosecond=w,i._femtosecond=x,i._attosecond=C,i._zeptosecond=k,i._yoctosecond=D,arguments[14]&&i.validateTimeZone(arguments[14])}if(i.timeZone||i.validateTimeZone("Local"),a){var T=a.toTimeZone(i.timeZone);i.dateData=T.dateData}}return babelHelpers.createClass(e,[{key:"internalMS",value:function(){return this.dateData}},{key:"getDatePart",value:function(e){var t=this,i=t.internalMS(),a=parseInt(i/t.millisPerDay),n=parseInt(a/t.daysPer400Years);a-=n*t.daysPer400Years;var o=parseInt(a/t.daysPer100Years);4===o&&(o=3),a-=o*t.daysPer100Years;var r=parseInt(a/t.daysPer4Years);a-=r*t.daysPer4Years;var l=parseInt(a/t.daysPerYear);if(4===l&&(l=3),e===t.datePartYear)return parseInt(400*n+100*o+4*r+l+1);if(a-=l*t.daysPerYear,e===t.datePartDayOfYear)return parseInt(a+1);for(var s=3===l&&(24!==r||3===o),d=s?t.daysToMonth366:t.daysToMonth365,u=a>>6;a>=d[u];)u++;return e===t.datePartMonth?parseInt(u):parseInt(a-d[u-1]+1)}},{key:"dayOfWeek",value:function(){var e=this,t=e.dateData;return parseInt(t/e.millisPerDay+1)%7}},{key:"dayOfYear",value:function(){var e=this;return e.getDatePart(e.datePartDayOfYear)}},{key:"weekOfYear",value:function(e){var t=this,i=t.toDate(),a=e||t.calendar.firstDay,n=new Date(i.getFullYear(),0,1),o=Math.floor((i.getTime()-n.getTime()-6e4*(i.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1,r=n.getDay()-a;r=r>=0?r:r+7;var l=void 0;if(r<4){if((l=Math.floor((o+r-1)/7)+1)>52){var s=new Date(i.getFullYear()+1,0,1),d=s.getDay()-a;d=d>=0?d:d+7,l=d<4?1:53}}else l=Math.floor((o+r-1)/7);return l}},{key:"subtract",value:function(e){var t=this;return new JQX.Utilities.TimeSpan(t.dateData*t.ticksPerMillisecond-e.dateData*t.ticksPerMillisecond)}},{key:"dateToMS",value:function(e,t,i){var a=this;if(e>=1&&e<=9999&&t>=1&&t<=12){e=parseInt(e);var n=a.isLeapYear(e)?a.daysToMonth366:a.daysToMonth365;if(i>=1&&i<=n[t]-n[t-1]){var o=e-1;return(365*o+parseInt(o/4)-parseInt(o/100)+parseInt(o/400)+n[t-1]+i-1)*a.millisPerDay}}}},{key:"isLeapYear",value:function(e){if(e<1||e>9999)throw new Error("Year out of Range");return e%4==0&&(e%100!=0||e%400==0)}},{key:"timeToMS",value:function(e,t,i,a){var n=this;if(e>=0&&e<24&&t>=0&&t<60&&i>=0&&i<60){var o=parseInt(3600*e+60*t+i);return a>0&&a<1e3?o*n.millisPerSecond+a:o*n.millisPerSecond}}},{key:"daysInMonth",value:function(e,t){if(t<1||t>12)throw new Error("Month out of Range");var i=this,a=i.isLeapYear(e)?i.daysToMonth366:i.daysToMonth365;return a[t]-a[t-1]}},{key:"arrayIndexOf",value:function(e,t){return e.indexOf(t)}},{key:"startsWith",value:function(e,t){return 0===e.indexOf(t)}},{key:"endsWith",value:function(e,t){return e.substr(e.length-t.length)===t}},{key:"trim",value:function(e){return(e+"").replace(this.regexTrim,"")}},{key:"expandFormat",value:function(e,t){t=t||"F";var i=void 0,a=e.patterns,n=t.length;if(a[t])return a[t];if(1===n){if(!(i=a[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}},{key:"getEra",value:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i=void 0,a=e.getTime(),n=0,o=t.length;n<o;n++)if(null===(i=t[n].start)||a>=i)return n;return 0}},{key:"toUpper",value:function(e){return e.split(" ").join(" ").toUpperCase()}},{key:"toUpperArray",value:function(e){for(var t=[],i=0,a=e.length;i<a;i++)t[i]=this.toUpper(e[i]);return t}},{key:"getEraYear",value:function(e,t,i,a){var n=e.getFullYear();return!a&&t.eras&&(n-=t.eras[i].offset),n}},{key:"getDayIndex",value:function(e,t,i){var a=this,n=e.days,o=void 0,r=e._upperDays;return r||(e._upperDays=r=[a.toUpperArray(n.names),a.toUpperArray(n.namesAbbr),a.toUpperArray(n.namesShort)]),t=t.toUpperCase(),i?-1===(o=a.arrayIndexOf(r[1],t))&&(o=a.arrayIndexOf(r[2],t)):o=a.arrayIndexOf(r[0],t),o}},{key:"getMonthIndex",value:function(e,t,i){var a=this,n=e.months,o=e.monthsGenitive||e.months,r=e._upperMonths,l=e._upperMonthsGen;r||(e._upperMonths=r=[a.toUpperArray(n.names),a.toUpperArray(n.namesAbbr)],e._upperMonthsGen=l=[a.toUpperArray(o.names),a.toUpperArray(o.namesAbbr)]),t=a.toUpper(t);var s=a.arrayIndexOf(i?r[1]:r[0],t);return s<0&&(s=a.arrayIndexOf(i?l[1]:l[0],t)),s}},{key:"appendPreOrPostMatch",value:function(e,t){for(var i=0,a=!1,n=0,o=e.length;n<o;n++){var r=e.charAt(n);switch(r){case"'":a?t.push("'"):i++,a=!1;break;case"\\":a&&t.push("\\"),a=!a;break;default:t.push(r),a=!1}}return i}},{key:"getTokenRegExp",value:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyyy|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|uu|u|nn|n|pp|p|ee|e|aa|a|xx|x|oo|o|i{1,24}|zzz|zz|z|gg|g/g}},{key:"tryparseDate",value:function(e,t,i){var a=this;if(void 0!==t&&null!==t||(t=a.calendar),void 0!==i){if(Array.isArray(i))for(var n=0;n<i.length;n++){var o=a.parseDate(e,i[n],t);if(o)return o}var r=a.parseDate(e,i,t);if(r)return r}if(""===e)return null;if(null===e||void 0===e||e.substring||(e=e.toString()),null!==e&&void 0!==e&&"/Date("===e.substring(0,6)){var l=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,s=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"===s){var d=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);s=null,d&&(s=new Date(1*d[1]+36e5*d[2]+6e4*d[3]))}if(null===s||void 0===s||"Invalid Date"===s||isNaN(s)){var u=l.exec(e);if(u){var c=new Date(parseInt(u[1]));if(u[2]){var p=parseInt(u[3]);"-"===u[2]&&(p=-p);var m=c.getUTCMinutes();c.setUTCMinutes(m-p)}if(!isNaN(c.valueOf()))return c}}return s}var v={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var h in v){var f=a.parseDate(e,v[h],t);if(f)return f}var g=t.patterns;for(var _ in g){var b=a.parseDate(e,g[_],t);if(b){if("ISO"===_){var y=a.parseDate(e,g.ISO2,t);if(y)return y}return b}}var w=void 0;if("string"==typeof e){e=a.trim(e);var x=[":","/","-"," ",","];e=function(e,t,i){return i.replace(new RegExp(e,"g"),t)}(", ",",",e);var C="",k=e;e.indexOf(":")>=0?(C=e.substring(e.indexOf(":")-2),C=a.trim(C),k=e.substring(0,e.indexOf(":")-2)):e.toUpperCase().indexOf("AM")>=0?(C=e.substring(e.toUpperCase().indexOf("AM")-2),C=a.trim(C),k=e.substring(0,e.toUpperCase().indexOf("AM")-2)):e.toUpperCase().indexOf("PM")>=0&&(C=e.substring(e.toUpperCase().indexOf("PM")-2),C=a.trim(C),k=e.substring(0,e.toUpperCase().indexOf("PM")-2));var D=new Date,S=!1;if(k){for(var T=0;T<x.length;T++)if(k.indexOf(x[T])>=0){w=k.split(x[T]);break}for(var I=new Array,H=new Array,$=new Array,M=null,B=null,j=0;j<w.length;j++){var E=w[j],L=a.parseDate(E,"d",t)||a.parseDate(E,"dd",t)||a.parseDate(E,"ddd",t)||a.parseDate(E,"dddd",t);if(L&&(I.push(L.getDate()),E.length>2)){M=j;break}}for(var q=0;q<w.length;q++){var z=w[q],A=a.parseDate(z,"M",t)||a.parseDate(z,"MM",t)||a.parseDate(z,"MMM",t)||a.parseDate(z,"MMMM",t);if(A){if(null!==M&&void 0!==M&&M===q)continue;if(H.push(A.getMonth()),z.length>2){B=q;break}}}for(var F=0;F<w.length;F++){var O=w[F],P=a.parseDate(O,"yyyy",t);if(P){if(null!==M&&void 0!==M&&M===F)continue;if(null!==B&&void 0!==B&&B===F)continue;$.push(P.getFullYear())}}for(var N=new Array,V=I.length-1;V>=0;V--)for(var R=0;R<H.length;R++)for(var X=0;X<$.length;X++){var W=new Date($[X],H[R],I[V]);$[X]<1970&&W.setFullYear($[X]),isNaN(W.getTime())||N.push(W)}N.length>0&&(D=N[0],S=!0)}if(C){var J=C.indexOf(":")>=0?C.split(":"):C,Q=a.parseDate(C,"h:mm tt",t)||a.parseDate(C,"HH:mm:ss.fff",t)||a.parseDate(C,"HH:mm:ss.ff",t)||a.parseDate(C,"h:mm:ss tt",t)||a.parseDate(C,"HH:mm:ss.tttt",t)||a.parseDate(C,"HH:mm:ss",t)||a.parseDate(C,"HH:mm",t)||a.parseDate(C,"HH",t),U=0,G=0,Y=0,K=0;Q&&!isNaN(Q.getTime())?(U=Q.getHours(),G=Q.getMinutes(),Y=Q.getSeconds(),K=Q.getMilliseconds()):(1===J.length&&(U=parseInt(J[0])),2===J.length&&(U=parseInt(J[0]),G=parseInt(J[1])),3===J.length&&(U=parseInt(J[0]),G=parseInt(J[1]),J[2].indexOf(".")>=0?(Y=parseInt(J[2].toString().split(".")[0]),K=parseInt(J[2].toString().split(".")[1])):Y=parseInt(J[2])),4===J.length&&(U=parseInt(J[0]),G=parseInt(J[1]),Y=parseInt(J[2]),K=parseInt(J[3]))),!D||isNaN(U)||isNaN(G)||isNaN(Y)||isNaN(K)||(D.setHours(U,G,Y,K),S=!0)}if(S)return D}if(null!==e&&void 0!==e){w=[":","/","-"];for(var Z=!0,ee=0;ee<w.length;ee++)-1!==e.indexOf(w[ee])&&(Z=!1);if(Z){var te=new Number(e);if(!isNaN(te))return new Date(te)}}return null}},{key:"getParseRegExp",value:function(e,t){
var i=this,a=e._parseRegExp;if(a){var n=a[t];if(n)return n}else e._parseRegExp=a={};for(var o=i.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],l=[],s=0,d=0,u=i.getTokenRegExp(),c=void 0;null!==(c=u.exec(o));){var p=o.slice(s,c.index);if(s=u.lastIndex,(d+=i.appendPreOrPostMatch(p,r))%2)r.push(c[0]);else{var m=c[0],v=m.length,h=void 0;switch(m){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyyy":h="(\\d{1,4})";break;case"yyyy":h="(\\d{"+v+"})";break;case"fff":case"ff":case"f":h="(\\d{1,"+v+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":h="(\\d{1,3})";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="/";break;default:if(!/i{1,24}/.test(m))throw"Invalid date format pattern '"+m+"'.";h="(\\d{"+m.length+"})"}h&&r.push(h),"/"!==m&&l.push(c[0])}}i.appendPreOrPostMatch(o.slice(s),r),r.push("$");var f=r.join("").replace(/\s+/g,"\\s+"),g={regExp:f,groups:l};return a[t]=g}},{key:"outOfRange",value:function(e,t,i){return e<t||e>i}},{key:"expandYear",value:function(e,t){var i=this,a=new Date,n=i.getEra(a);if(t<100){var o=e.twoDigitYearMax;o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o;var r=i.getEraYear(a,e,n);t+=r-r%100,t>o&&(t-=100)}return t}},{key:"padZeros",value:function(e,t){var i=void 0,a=e+"",n=["0","00","000"];return t>1&&a.length<t?(i=n[t-2]+a,i.substr(i.length-t,t)):i=a}},{key:"parseDate",value:function(e,t,i){var a=this;void 0!==i&&null!==i||(i=a.calendar),e=a.trim(e);var n=i,o=a.getParseRegExp(n,t),r=new RegExp(o.regExp).exec(e);if(null===r)return null;for(var l=o.groups,s=null,d=null,u=null,c=null,p=null,m=0,v=void 0,h=0,f=0,g=0,_=null,b=!1,y=0,w=l.length;y<w;y++){var x=r[y+1];if(x){var C=l[y],k=C.length,D=parseInt(x,10);switch(C){case"dd":case"d":if(c=D,a.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(u=a.getMonthIndex(n,x,3===k),a.outOfRange(u,0,11))return null;break;case"M":case"MM":if(u=D-1,a.outOfRange(u,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=k<4?a.expandYear(n,D):D,a.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(m=D,12===m&&(m=0),a.outOfRange(m,0,11))return null;break;case"H":case"HH":if(m=D,a.outOfRange(m,0,23))return null;break;case"m":case"mm":if(h=D,a.outOfRange(h,0,59))return null;break;case"s":case"ss":if(f=D,a.outOfRange(f,0,59))return null;break;case"tt":case"t":if(!(b=n.PM&&(x===n.PM[0]||x===n.PM[1]||x===n.PM[2]))&&(!n.AM||x!==n.AM[0]&&x!==n.AM[1]&&x!==n.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=D*Math.pow(10,3-k),a.outOfRange(g,0,999))return null;break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":if(a.outOfRange(D,0,1e3))return null;a[a._codeToUnit[C]]=D;break;case"ddd":case"dddd":if(p=a.getDayIndex(n,x,3===k),a.outOfRange(p,0,6))return null;break;case"zzz":var S=x.split(/:/);if(2!==S.length)return null;if(v=parseInt(S[0],10),a.outOfRange(v,-12,13))return null;var T=parseInt(S[1],10);if(a.outOfRange(T,0,59))return null;_=60*v+(a.startsWith(x,"-")?-T:T);break;case"z":case"zz":if(v=D,a.outOfRange(v,-12,13))return null;_=60*v;break;case"g":case"gg":var I=x;if(!I||!n.eras)return null;I=this.trim(I.toLowerCase());for(var H=0,$=n.eras.length;H<$;H++)if(I===n.eras[H].nathat.toLowerCase()){s=H;break}if(null===s)return null;break;default:var M=x;M.length%3==1?M+="00":M.length%3==2&&(M+="0"),g=parseInt(M.slice(0,3),10),M=M.slice(3);for(var B=0;M.length>0;)a[a._smallUnits[B]]=parseInt(M.slice(0,3),10),M=M.slice(3),B++}}}var j=new Date,E=void 0,L=n.convert;if(E=j.getFullYear(),null===d?d=E:n.eras&&(d+=n.eras[s||0].offset),null===u&&(u=0),null===c&&(c=1),L){if(null===(j=L.toGregorian(d,u,c)))return null}else{if(j.setFullYear(d,u,c),j.getDate()!==c)return null;if(null!==p&&j.getDay()!==p)return null}if(b&&m<12&&(m+=12),j.setHours(m,h,f,g),null!==_){var q=j.getMinutes()-(_+j.getTimezoneOffset());j.setHours(j.getHours()+parseInt(q/60,10),q%60)}return j}},{key:"toString",value:function(e,t){function i(e,t){if(p)return p[t];if(void 0!==e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}var a=this;void 0===e&&(e="yyyy-MM-dd HH:mm:ss");var n=a.dateData.toString()+a.getFractionsOfSecondStamp()+e+(a.timeZone||"");if(JQX.Utilities.DateTime.cache&&JQX.Utilities.DateTime.cache[n])return JQX.Utilities.DateTime.cache[n];var o=a.toDate();if(void 0!==t&&null!==t||(t=a.calendar),"string"==typeof o)return o;if(!e||!e.length||"i"===e){return a.formatDate(o,t.patterns.F,t)}var r=t.eras,l="s"===e;e=a.expandFormat(t,e);for(var s=[],d=void 0,u=0,c=a.getTokenRegExp(),p=void 0;;){var m=c.lastIndex,v=c.exec(e),h=e.slice(m,v?v.index:e.length);if(u+=a.appendPreOrPostMatch(h,s),!v)break;if(u%2)s.push(v[0]);else{var f=v[0],g=f.length,_=void 0;if(/i{1,24}/.test(f))s.push(a.getFirstNDigitsOfPrecision(f.length));else switch(f){case"ddd":case"dddd":var b=3===g?t.days.namesAbbr:t.days.names;s.push(b[o.getDay()]);break;case"d":case"dd":s.push(a.padZeros(i(o,2),g));break;case"MMM":case"MMMM":_=i(o,1),s.push(t.months[3===g?"namesAbbr":"names"][_]);break;case"M":case"MM":s.push(a.padZeros(i(o,1)+1,g));break;case"y":case"yy":case"yyyy":_=a.getEraYear(o,t,a.getEra(o,r),l),g<4&&(_%=100),s.push(a.padZeros(_,g));break;case"h":case"hh":d=o.getHours()%12,0===d&&(d=12),s.push(a.padZeros(d,g));break;case"H":case"HH":s.push(a.padZeros(o.getHours(),g));break;case"m":case"mm":s.push(a.padZeros(o.getMinutes(),g));break;case"s":case"ss":s.push(a.padZeros(o.getSeconds(),g));break;case"t":case"tt":_=o.getHours()<12?t.AM?t.AM[0]:" ":t.PM?t.PM[0]:" ",s.push(1===g?_.charAt(0):_);break;case"f":case"ff":case"fff":s.push(a.padZeros(o.getMilliseconds(),3).substr(0,g));break;case"u":case"n":case"p":case"e":case"a":case"x":case"o":s.push(a[a._codeToUnit[f]]);break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":s.push(a.padZeros(a[a._codeToUnit[f]],3));break;case"z":case"zz":s.push((a.timeZoneOffsetHours>=0?"+":"-")+a.padZeros(Math.floor(Math.abs(a.timeZoneOffsetHours)),g));break;case"zzz":s.push((a.timeZoneOffsetHours>=0?"+":"-")+a.padZeros(Math.floor(Math.abs(a.timeZoneOffsetHours)),2)+":"+a.padZeros(60*Math.abs(a.timeZoneOffsetHours%1),2));break;case"g":case"gg":t.eras&&s.push(t.eras[a.getEra(o,r)].name);break;case"/":s.push(t["/"]);break;default:throw"Invalid date format pattern '"+f+"'."}}}var y=s.join("");return JQX.Utilities.DateTime.cache||(JQX.Utilities.DateTime.cache=new Array),JQX.Utilities.DateTime.cache[n]=y,y}},{key:"getFractionsOfSecondStamp",value:function(){var e=this;return e._microsecond.toString()+e._nanosecond+e._picosecond+e._femtosecond+e._attosecond+e._zeptosecond+e._yoctosecond}},{key:"getFirstNDigitsOfPrecision",value:function(e,t){var i=this;return(""+(!0!==t?i.padZeros(i.millisecond(),3):"")+i.padZeros(i._microsecond,3)+i.padZeros(i._nanosecond,3)+i.padZeros(i._picosecond,3)+i.padZeros(i._femtosecond,3)+i.padZeros(i._attosecond,3)+i.padZeros(i._zeptosecond,3)+i.padZeros(i._yoctosecond,3)).slice(0,e)}},{key:"copySmallTimePartValues",value:function(e){var t=this;e._microsecond=t._microsecond,e._nanosecond=t._nanosecond,e._picosecond=t._picosecond,e._femtosecond=t._femtosecond,e._attosecond=t._attosecond,e._zeptosecond=t._zeptosecond,e._yoctosecond=t._yoctosecond}},{key:"add",value:function(e,t,i){var a=this,n=a.internalMS();if(void 0===t){if(!1===i)return a.dateData=n+parseInt(e._ticks/a.ticksPerMillisecond),a;var o=new JQX.Utilities.DateTime(n+parseInt(e._ticks/a.ticksPerMillisecond));return a.copyTimeZone(o),a.copySmallTimePartValues(o),o}var r=e*t;if(r<=-a.maxMillis||r>=a.maxMillis)throw new Error("Out of Range");if(!1===i)return a.dateData=n+r,a;var l=new JQX.Utilities.DateTime(n+r);return a.copyTimeZone(l),a.copySmallTimePartValues(l),l}},{key:"addDays",value:function(e,t){var i=this;return i.add(e,i.millisPerDay,t)}},{key:"clone",value:function(){var e=this,t=new JQX.Utilities.DateTime(e.dateData);return e.copyTimeZone(t),e.copySmallTimePartValues(t),t}},{key:"clearTime",value:function(){var e=this,t=e.month(),i=e.year(),a=e.day(),n=new JQX.Utilities.DateTime(i,t,a,0,0,0,0);return e.copyTimeZone(n),n}},{key:"addHours",value:function(e,t){var i=this;return i.add(e,i.millisPerHour,t)}},{key:"addDeciseconds",value:function(e,t){return this.add(100*e,1,t)}},{key:"addCentiseconds",value:function(e,t){return this.add(10*e,1,t)}},{key:"addMilliseconds",value:function(e,t){return this.add(e,1,t)}},{key:"addMinutes",value:function(e,t){var i=this;return i.add(e,i.millisPerMinute,t)}},{key:"addMonths",value:function(e,t){var i=this;if(e<-12e4||e>12e4)throw new Error("Invalid Months Value");var a=parseInt(i.getDatePart(i.datePartYear)),n=parseInt(i.getDatePart(i.datePartMonth)),o=parseInt(i.getDatePart(i.datePartDay));if(e%12==0)a+=e/12;else{var r=n-1+e;r>=0?(n=r%12+1,a+=r/12):(n=12+(r+1)%12,a+=(r-11)/12),a=parseInt(a)}if(a<1||a>9999)throw new Error("Year out of range");var l=i.daysInMonth(a,n);if(o>l&&(o=l),!1===t)return i.dateData=i.dateToMS(a,n,o)+i.internalMS()%i.millisPerDay,i;var s=new JQX.Utilities.DateTime(i.dateToMS(a,n,o)+i.internalMS()%i.millisPerDay);return i.copyTimeZone(s),i.copySmallTimePartValues(s),s}},{key:"addSeconds",value:function(e,t){var i=this;return i.add(e,i.millisPerSecond,t)}},{key:"addYears",value:function(e,t){return this.addMonths(12*e,t)}},{key:"addMicroseconds",value:function(e,t){if(0!==e){var i=this,a=void 0,n=void 0;e<0&&0===i.hour()&&0===i.minute()&&0===i.second()&&0===i.millisecond()&&0===i._microsecond&&(a=parseInt(e/1e3,10)-1,n=1e3+e%1e3);var o=1e3*i.timeToMS(i.hour(),i.minute(),i.second(),i.millisecond())+i._microsecond,r=o+e;void 0===a&&(a=parseInt(r/1e3,10)-parseInt(o/1e3,10)),void 0===n&&(n=parseInt(r%1e3,10));var l=void 0;if(0!==a&&(l=i.addMilliseconds(a,t)),!1!==t)return l||(l=i.clone()),l._microsecond=n,l;i._microsecond=n}}},{key:"addFractionsOfSecond",value:function(e,t,i,a,n){if(0!==e){var o=this,r=1e3*o[a]+o[i],l=e+r,s=parseInt(l/1e3,10)-parseInt(r/1e3,10),d=parseInt(l%1e3,10),u=void 0;if(e<0&&l<0&&d<0&&(s--,d=1e3+d),0!==s&&(u=o[n](s,t)),!1!==t)return u||(u=o.clone()),u[i]=d,u;o[i]=d}}},{key:"addNanoseconds",value:function(e,t){return this.addFractionsOfSecond(e,t,"_nanosecond","_microsecond","addMicroseconds")}},{key:"addPicoseconds",value:function(e,t){return this.addFractionsOfSecond(e,t,"_picosecond","_nanosecond","addNanoseconds")}},{key:"addFemtoseconds",value:function(e,t){return this.addFractionsOfSecond(e,t,"_femtosecond","_picosecond","addPicoseconds")}},{key:"addAttoseconds",value:function(e,t){return this.addFractionsOfSecond(e,t,"_attosecond","_femtosecond","addFemtoseconds")}},{key:"addZeptoseconds",value:function(e,t){return this.addFractionsOfSecond(e,t,"_zeptosecond","_attosecond","addAttoseconds")}},{key:"addYoctoseconds",value:function(e,t){return this.addFractionsOfSecond(e,t,"_yoctosecond","_zeptosecond","addZeptoseconds")}},{key:"getTimeZoneOffset",value:function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),a=e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return{offset:-e.getTimezoneOffset()/60,dst:+a}}},{key:"isInDaylightSavingTime",value:function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return this.date().getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())}},{key:"supportsDaylightSavingTime",value:function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!==i.getTimezoneOffset()}},{key:"date",value:function(){var e=this,t=e.month(),i=e.year(),a=e.day(),n=new JQX.Utilities.DateTime(i,t,a);return e.copyTimeZone(n),n}},{key:"isWeekend",value:function(){var e=this;return 0===e.dayOfWeek()||6===e.dayOfWeek()}},{key:"toDate",value:function(e){var t=this,i=t.month(),a=t.year(),n=t.day(),o=t.hour(),r=t.minute(),l=t.second(),s=t.millisecond(),d=new Date(a,i-1,n);if(a<1970&&d.setFullYear(a),d.setHours(o,r,l,s),e){var u=t.timeZones.filter(function(t){return t.id===e});if(u.length){var c=u[0].offset,p=d.getTime(),m=60*d.getTimezoneOffset()*1e3;if(t.timeZone){var v=t.timeZones.filter(function(e){return e.id===t.timeZone});v.length&&(m=60*-v[0].offset*1e3)}var h=p+m;d=new Date(h+6e4*c)}}return d}},{key:"toTimeZone",value:function(e){var t=this,i=e;if(null!==i&&void 0!==i||(i="Local"),t.timeZone===i)return t.clone();var a=t.timeZones.filter(function(e){return e.id===i});if(0===a.length)return t.clone();var n=this.toDate(i),o=new JQX.Utilities.DateTime(n);return o.timeZone=i,o.timeZoneOffset=a[0].offset,o.timeZoneOffsetHours=a[0].offsetHours,t.copySmallTimePartValues(o),o}},{key:"day",value:function(){var e=this;return e.getDatePart(e.datePartDay)}},{key:"month",value:function(){var e=this;return e.getDatePart(e.datePartMonth)}},{key:"year",value:function(){var e=this;return e.getDatePart(e.datePartYear)}},{key:"millisecond",value:function(){return parseInt(this.internalMS()%1e3)}},{key:"hour",value:function(){var e=this;return parseInt(Math.floor(e.internalMS()/e.millisPerHour)%24)}},{key:"minute",value:function(){var e=this;return parseInt(e.internalMS()/e.millisPerMinute%60)}},{key:"second",value:function(){var e=this;return parseInt(e.internalMS()/e.millisPerSecond%60)}},{key:"microsecond",value:function(){return this._microsecond}},{key:"nanosecond",value:function(){return this._nanosecond}},{key:"picosecond",value:function(){return this._picosecond}},{key:"femtosecond",value:function(){return this._femtosecond}},{key:"attosecond",value:function(){return this._attosecond}},{key:"zeptosecond",value:function(){return this._zeptosecond}},{key:"yoctosecond",value:function(){return this._yoctosecond}},{key:"valueOf",value:function(){return this.dateData}},{key:"equals",value:function(e){var t=this;return t.dateData===e.dateData&&t._microsecond===e._microsecond&&t._nanosecond===e._nanosecond&&t._picosecond===e._picosecond&&t._femtosecond===e._femtosecond&&t._attosecond===e._attosecond&&t._zeptosecond===e._zeptosecond&&t._yoctosecond===e._yoctosecond}},{key:"equalDateParts",value:function(e){var t=this;return t.year()===e.year()&&t.month()===e.month()&&t.day()===e.day()}},{key:"compare",value:function(e){var t=this;if(t.equals(e))return 0;for(var i=["dateData","_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"],a=0;a<i.length;a++){var n=i[a];if(t[n]>e[n])return 1;if(t[n]<e[n])return-1}return 0}},{key:"toDateString",value:function(){return this.toDate().toDateString()}},{key:"toLocaleDateString",value:function(){var e=this;return e.toDate().toLocaleDateString(e.calendar.locale)}},{key:"toLocaleString",value:function(){var e=this;return e.toDate().toLocaleString(e.calendar.locale)}},{key:"toLocaleTimeString",value:function(){var e=this;return e.toDate().toLocaleTimeString(e.calendar.locale)}},{key:"validateTimeZone",value:function(e){var t=this;if("string"==typeof e){var i=t.timeZones.filter(function(t){return t.id===e});0!==i.length&&(t.timeZone=e,t.timeZoneOffset=i[0].offset,t.timeZoneOffsetHours=i[0].offsetHours)}}},{key:"copyTimeZone",value:function(e){var t=this;e.timeZone=t.timeZone,e.timeZoneOffset=t.timeZoneOffset,e.timeZoneOffsetHours=t.timeZoneOffsetHours}},{key:"getTimeStamp",value:function(){var e=this;return new JQX.Utilities.BigNumber(e.dateData.toString()+e.getFirstNDigitsOfPrecision(void 0,!0))}}],[{key:"validateDate",value:function(e,t,i){if(e instanceof JQX.Utilities.DateTime)return e;if(e instanceof Date)return new JQX.Utilities.DateTime(e);try{if(new RegExp(/^\d{1,2}\/\d{1,2}\/\d{4}(, \d{1,2}:\d{2}:\d{1,2} [A|P]M)?$/).test(e)){var a=new Date(e);if(!isNaN(a.getTime()))return new JQX.Utilities.DateTime(a)}if("string"==typeof e)return this.parseDateString(e,t,i);if("number"==typeof e)return new JQX.Utilities.DateTime(new Date(e))}catch(e){}return t}},{key:"parseDateString",value:function(e,t,i){var a=new Date(e);if(!isNaN(a.getTime()))return new JQX.Utilities.DateTime(a);var n=e.indexOf("Date("),o=e.indexOf("DateTime("),r=e.lastIndexOf(")"),l=e;if(-1===n&&-1===o||-1===r){var s=new JQX.Utilities.DateTime,d=s.parseDate(e,i);if(d)return l=new JQX.Utilities.DateTime(d),s.copySmallTimePartValues(l),l}else{if(l=-1!==n?e.slice(n+5,r):e.slice(o+9,r),l=l.replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),""===l.trim())return new JQX.Utilities.DateTime;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+(\s*,\s*[a-zA-Z ]+)?$)/g).test(l))return l=l.split(","),l.map(function(e,t){isNaN(l[t])?l[t]=e.trim():l[t]=parseInt(e)}),-1!==n&&l[1]++,l.unshift(null),l=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,l))}if(""===l.trim())return t;if(!isNaN(l))return l=new Date(parseInt(l,10)),new JQX.Utilities.DateTime(l);try{var u=l.split(",");2===u.length?(u[1]=u[1].trim(),u.unshift(null),l=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,u))):l=new JQX.Utilities.DateTime(l)}catch(e){l=t}return l}},{key:"fromFullTimeStamp",value:function(e){e=e.toString();for(var t=new JQX.Utilities.DateTime(parseFloat(e.slice(0,e.length-21))),i=e.slice(e.length-21),a=0;i.length>0;)t[t._smallUnits[a]]=parseInt(i.slice(0,3),10),i=i.slice(3),a++;return t}},{key:"getConstructorParameters",value:function(e){return[e.year(),e.month(),e.day(),e.hour(),e.minute(),e.second(),e.millisecond(),e._microsecond,e._nanosecond,e._picosecond,e._femtosecond,e._attosecond,e._zeptosecond,e._yoctosecond,e.timeZone]}},{key:"detectDisplayMode",value:function(e,t,i){if(e.calendar.patterns[t])return-1!==["d","D","M","Y","d1","d2"].indexOf(t)?"calendar":-1!==["t","T","FT","PT"].indexOf(t)?"timePicker":"default";for(var a=["d","M","y"],n=["h","H","m","s","t","f","u","n","p","e","a","x","o"],o=i.groups,r=!1,l=!1,s=0;s<o.length;s++){var d=o[s].charAt(0);if(-1!==a.indexOf(d)?r=!0:-1!==n.indexOf(d)&&(l=!0),r&&l)break}return r===l?"default":r?"calendar":"timePicker"}},{key:"getLocalizedNames",value:function(e){var t={names:[],namesAbbr:[],namesShort:[]},i={names:[],namesAbbr:[]};if(this[e])return this[e];for(var a=23;a<30;a++){var n=new Date(2017,6,a),o=n.toLocaleString(e,{weekday:"long"});t.names.push(o),t.namesAbbr.push(n.toLocaleString(e,{weekday:"short"})),t.namesShort.push(o.substring(0,2))}for(var r=0;r<12;r++){var l=new Date(2017,r,1),s=l.toLocaleString(e,{month:"long"});i.names.push(s),i.namesAbbr.push(s.substring(0,3))}return i.names.push(""),i.namesAbbr.push(""),this[e]={days:t,months:i},this[e]}}]),e}()),JQX.Utilities.Assign("Draw",function(){function e(t,i){babelHelpers.classCallCheck(this,e);var a=this;a.host=t,a.renderEngine=i||"",a.refresh();var n=["clear","removeElement","attr","getAttr","line","circle","rect","path","pieslice","pieSlicePath","text","measureText"];for(var o in n)a._addFn(JQX.Utilities.Draw.prototype,n[o])}return babelHelpers.createClass(e,[{key:"_addFn",value:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})}},{key:"_initRenderer",value:function(e){return this.createRenderer(this,e)}},{key:"_internalRefresh",value:function(){var e=this;if(e.renderer||(e.host.innerHTML="",e._initRenderer(e.host)),"none"!==window.getComputedStyle(e.host).display){var t=e.renderer;if(t){var i=t.getRect();e._render({x:1,y:1,width:i.width,height:i.height})}}}},{key:"_render",value:function(e){this._plotRect=e}},{key:"refresh",value:function(){this._internalRefresh()}},{key:"getSize",value:function(){var e=this._plotRect;return{width:e.width,height:e.height}}},{key:"toGreyScale",value:function(e){if(-1===e.indexOf("#"))return e;var t=this.cssToRgb(e);t[0]=t[1]=t[2]=Math.round(.3*t[0]+.59*t[1]+.11*t[2]);var i=this.rgbToHex(t[0],t[1],t[2]);return"#"+i[0]+i[1]+i[2]}},{key:"decToHex",value:function(e){return e.toString(16)}},{key:"hexToDec",value:function(e){return parseInt(e,16)}},{key:"rgbToHex",value:function(e,t,i){return[this.decToHex(e),this.decToHex(t),this.decToHex(i)]}},{key:"hexToRgb",value:function(e,t,i){return[this.hexToDec(e),this.hexToDec(t),this.hexToDec(i)]}},{key:"cssToRgb",value:function(e){return e.indexOf("rgb")<=-1?this.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")}},{key:"hslToRgb",value:function(e){var t=void 0,i=void 0,a=void 0,n=parseFloat(e[0]),o=parseFloat(e[1]),r=parseFloat(e[2]);if(0===o)t=i=a=r;else{var l=r<.5?r*(1+o):r+o-r*o,s=2*r-l;t=this.hueToRgb(s,l,n+1/3),i=this.hueToRgb(s,l,n),a=this.hueToRgb(s,l,n-1/3)}return[255*t,255*i,255*a]}},{key:"hueToRgb",value:function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}},{key:"rgbToHsl",value:function(e){var t=parseFloat(e[0])/255,i=parseFloat(e[1])/255,a=parseFloat(e[2])/255,n=Math.max(t,i,a),o=Math.min(t,i,a),r=void 0,l=void 0,s=(n+o)/2;if(n===o)r=l=0;else{var d=n-o;switch(l=s>.5?d/(2-n-o):d/(n+o),n){case t:r=(i-a)/d+(i<a?6:0);break;case i:r=(a-t)/d+2;break;case a:r=(t-i)/d+4}r/=6}return[r,l,s]}},{key:"swap",value:function(e,t){var i=e;e=t,t=i}},{key:"getNum",value:function(e){if(e.constructor!==Array){if(isNaN(e))return 0}else for(var t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t];return 0}},{key:"_ptRotate",value:function(e,t,i,a,n){var o=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-a),2)),r=Math.asin((e-i)/o),l=r+n;return e=i+Math.cos(l)*o,t=a+Math.sin(l)*o,{x:e,y:t}}},{key:"log",value:function(e,t){return Math.log(e)/(t?Math.log(t):1)}},{key:"_mod",value:function(e,t){var i=Math.abs(e>t?t:e),a=1;if(0!==i)for(;i*a<100;)a*=10;return e*=a,t*=a,e%t/a}},{key:"createRenderer",value:function(e,t){var i=e,a=i.renderer=null;return document.createElementNS&&"HTML5"!==i.renderEngine&&(a=new JQX.Utilities.SvgRenderer(this)),null!==a||"HTML5"!==i.renderEngine&&void 0!==i.renderEngine||(a=new JQX.Utilities.HTML5Renderer(this)),a.init(t),i.renderer=a,a}},{key:"getByPriority",value:function(e){for(var t=void 0,i=0;i<e.length;i++){var a=e[i];if(void 0!==a&&null!==a&&""!==a){t=a;break}}return t}},{key:"get",value:function(e,t,i){return void 0!==i?e[t][i]:e[t]}},{key:"min",value:function(e,t){for(var i=NaN,a=0;a<e.length;a++){var n=this.get(e,a,t);(isNaN(i)||n<i)&&(i=n)}return i}},{key:"max",value:function(e,t){for(var i=NaN,a=0;a<e.length;a++){var n=this.get(e,a,t);(isNaN(i)||n>i)&&(i=n)}return i}},{key:"sum",value:function(e,t){for(var i=0,a=0;a<e.length;a++){var n=this.get(e,a,t);isNaN(n)||(i+=n)}return i}},{key:"count",value:function(e,t){for(var i=0,a=0;a<e.length;a++){var n=this.get(e,a,t);isNaN(n)||i++}return i}},{key:"avg",value:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}},{key:"filter",value:function(e,t){if(!t)return e;for(var i=[],a=0;a<e.length;a++)t(e[a])&&i.push(e[a]);return i}},{key:"scale",value:function(e,t,i,a){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!a||!0!==a.ignore_range))return NaN;var n=NaN,o=1;if(void 0===t.type||"logarithmic"!==t.type){var r=Math.abs(t.max-t.min);r||(r=1),o=Math.abs(e-Math.min(t.min,t.max))/r}else if("logarithmic"===t.type){var l=t.base;isNaN(l)&&(l=10);var s=Math.min(t.min,t.max);s<=0&&(s=1);var d=Math.max(t.min,t.max);d<=0&&(d=1);var u=this.log(d,l);d=Math.pow(l,u);var c=this.log(s,l);s=Math.pow(l,c);var p=this.log(e,l);o=Math.abs(p-c)/(u-c)}if("logarithmic"===i.type){var m=i.base;isNaN(m)&&(m=10);var v=this.log(i.max,m),h=this.log(i.min,m);i.flip&&(o=1-o);var f=Math.min(h,v)+o*Math.abs(v-h);n=Math.pow(m,f)}else n=Math.min(i.min,i.max)+o*Math.abs(i.max-i.min),i.flip&&(n=Math.max(i.min,i.max)-n+i.min);return n}},{key:"axis",value:function(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);for(var a=0;Math.round(e)!==e&&Math.round(t)!==t&&a<10;)e*=10,t*=10,a++;for(var n=(t-e)/i;a<10&&Math.round(n)!==n;)e*=10,t*=10,n*=10,a++;for(var o=[1,2,5],r=0,l=void 0;;){var s=r%o.length,d=Math.floor(r/o.length),u=Math.pow(10,d)*o[s];if(s=(r+1)%o.length,d=Math.floor((r+1)/o.length),l=Math.pow(10,d)*o[s],n>=u&&n<l)break;r++}for(var c=l,p=[],m=this.renderer._rnd(e,c,!1),v=a<=0?1:Math.pow(10,a);m<t+c;)p.push(m/v),m+=c;return p}},{key:"_widgetToImage",value:function(e,t,i,a,n){var o=e;if(!o)return!1;void 0!==i&&""!==i||(i="image."+t);var r=o.renderEngine,l=o.animation;if(o.animation="none",o.renderEngine="HTML5",o.renderEngine!==r)try{o.refresh()}catch(e){return o.renderEngine=r,o.refresh(),o.animation=l,!1}var s=o.renderer.getContainer().firstElementChild,d=!0;"function"==typeof a&&(d=a(e,s));var u=!0;return d&&(u=this.exportImage(e,s,t,i,n)),o.renderEngine!==r&&(o.renderEngine=r,o.refresh(),o.animation=l),u}},{key:"_saveAsImage",value:function(e,t){return this._widgetToImage(this,e,t)}},{key:"saveAsPNG",value:function(e){return this._saveAsImage("png",e)}},{key:"saveAsJPEG",value:function(e){return this._saveAsImage("jpeg",e)}},{key:"exportImage",value:function(e,t,i,a,n){if(!t)return!1;var o="pdf"===i.toLowerCase();o&&(i="jpeg"),void 0!==a&&""!==a||(a="image."+i);var r=!0;if("print"!==i){try{if(t)if(o){n=n||"portrait";var l=t.toDataURL("image/"+i),s={content:{image:l,width:Math.min(t.width/1.35,"portrait"===n?515:762)},pageOrientation:n};try{pdfMake.createPdf(s).download(a)}catch(t){e.error(e.localize("missingReference",{files:"pdfmake.min.js"}))}}else{JQX.Utilities.DataExporter||e.error(e.localize("missingReference",{files:"jqxexport.js"}));var d=new JQX.Utilities.DataExporter;t.toBlob(function(e){d.downloadFile(e,i,a)})}}catch(e){r=!1}return r}var u=window.open("","","width=800,height=500"),c=u.document.open(),p='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>jQWidgets Chart</title></head><body><img src="'+t.toDataURL()+'" /></html>';try{c.write(p),c.close(),setTimeout(function(){u.print(),u.close()},100)}catch(e){}}}]),e}()),JQX.Utilities.Assign("Renderer",function(){function e(t){babelHelpers.classCallCheck(this,e);var i=this;i.draw=t,i._gradients={},i._toRadiansCoefficient=2*Math.PI/360}return babelHelpers.createClass(e,[{key:"pieSlicePath",value:function(e,t,i,a,n,o,r){a||(a=1);var l=Math.abs(n-o),s=l>180?1:0;l>=360&&(o=n+359.99);var d=n*this._toRadiansCoefficient,u=o*this._toRadiansCoefficient,c=e,p=e,m=t,v=t,h=!isNaN(i)&&i>0;h&&(r=0);var f=Math.cos(d),g=Math.sin(d),_=Math.cos(u),b=Math.sin(u);if(r+i>0){if(r>0){var y=l/2+n,w=y*this._toRadiansCoefficient;e+=r*Math.cos(w),t-=r*Math.sin(w)}h&&(c=e+i*f,m=t-i*g,p=e+i*_,v=t-i*b)}var x=e+a*f,C=e+a*_,k=t-a*g,D=t-a*b,S="",T=Math.abs(Math.abs(o-n)-360)>.02;return h?(S="M "+p+","+v,S+=" a"+i+","+i,S+=" 0 "+s+",1 "+(c-p)+","+(m-v),S+=T?" L"+x+","+k:" M"+x+","+k,S+=" a"+a+","+a,S+=" 0 "+s+",0 "+(C-x)+","+(D-k),T&&(S+=" Z")):(S="M "+C+","+D,S+=" a"+a+","+a,S+=" 0 "+s+",1 "+(x-C)+","+(k-D),T&&(S+=" L"+e+","+t,S+=" Z")),S}},{key:"measureText",value:function(e,t,i,a){var n=this._getTextParts(e,t,i),o=n.width,r=n.height;!1===a&&(r/=.6);var l={};if(isNaN(t)&&(t=0),0===t)l={width:this._rup(o),height:this._rup(r)};else{var s=t*Math.PI*2/360,d=Math.abs(Math.sin(s)),u=Math.abs(Math.cos(s)),c=Math.abs(o*d+r*u),p=Math.abs(o*u+r*d);l={width:this._rup(p),height:this._rup(c)}}return a&&(l.textPartsInfo=n),l}},{key:"alignTextInRect",value:function(e,t,i,a,n,o,r,l,s,d){var u=s*Math.PI*2/360,c=Math.sin(u),p=Math.cos(u),m=n*c,v=n*p;"center"===r||""===r||"undefined"===r?e+=i/2:"right"===r&&(e+=i),"center"===l||"middle"===l||""===l||"undefined"===l?t+=a/2:"bottom"===l?t+=a-o/2:"top"===l&&(t+=o/2),d=d||"";var h="middle";-1!==d.indexOf("top")?h="top":-1!==d.indexOf("bottom")&&(h="bottom");var f="center";return-1!==d.indexOf("left")?f="left":-1!==d.indexOf("right")&&(f="right"),"center"===f?(e-=v/2,t-=m/2):"right"===f&&(e-=v,t-=m),"top"===h?(e-=o*c,t+=o*p):"middle"===h&&(e-=o*c/2,t+=o*p/2),e=this._rup(e),t=this._rup(t),{x:e,y:t}}},{key:"adjustColor",value:function(e,t){if("string"!=typeof e)return"#000000";if(-1===e.indexOf("#"))return e;var i=this.draw,a=i.cssToRgb(e),n=i.rgbToHsl(a);n[2]=Math.min(1,n[2]*t),n[1]=Math.min(1,n[1]*t*1.1),a=i.hslToRgb(n),e="#";for(var o=0;o<3;o++){var r=Math.round(a[o]);r=i.decToHex(r),1===r.toString().length&&(e+="0"),e+=r}return e.toUpperCase()}},{key:"_rup",value:function(e){var t=Math.round(e);return e>t&&t++,t}},{key:"_ptdist",value:function(e,t,i,a){return Math.sqrt((i-e)*(i-e)+(a-t)*(a-t))}},{key:"_rnd",value:function(e,t,i,a){if(isNaN(e))return e;void 0===a&&(a=!0);var n=e-(!0===a?e%t:this._mod(e,t));return e===n?n:(i?e>n&&(n+=t):n>e&&(n-=t),1===t?Math.round(n):n)}},{key:"_ptrnd",value:function(e){if(!document.createElementNS)return Math.round(e)===e?e:this._rnd(e,1,!1,!0);var t=this._rnd(e,.5,!1,!0);return.5!==Math.abs(t-Math.round(t))?t>e?t-.5:t+.5:t}},{key:"_getContrastColor",value:function(e){if(void 0!==e){var t=this.draw.hexToRgb(e.slice(1,3),e.slice(3,5),e.slice(5,7));return(.299*t[0]+.587*t[1]+.114*t[2])/255>.6?"#000000":"#FFFFFF"}}}]),e}()),JQX.Utilities.Assign("SvgRenderer",function(e){function t(e){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=i;return a._svgns="http://www.w3.org/2000/svg",a._openGroups=[],a._clipId=0,i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"init",value:function(e){var t=document.createElement("div");t.className="drawContainer",t.onselectstart=function(){return!1},e.appendChild(t),this.host=e,this.container=t;try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t.appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),!0}},{key:"getType",value:function(){return"SVG"}},{key:"refresh",value:function(){}},{key:"getRect",value:function(){return{x:0,y:0,width:Math.max(this._rup(this.host.offsetWidth)-1,0),height:Math.max(this._rup(this.host.offsetHeight)-1,0)}}},{key:"getContainer",value:function(){return this.container}},{key:"clear",value:function(){for(;this.canvas.childNodes.length>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)}},{key:"removeElement",value:function(e){if(void 0!==e)try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},{key:"beginGroup",value:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t}},{key:"endGroup",value:function(){0!==this._openGroups.length&&this._openGroups.pop()}},{key:"_activeParent",value:function(){return 0===this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]}},{key:"createClipRect",value:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t}},{key:"getWindowHref",value:function(){var e=window.location.href;return e?(e=e.replace(/([\('\)])/g,"\\$1"),e=e.replace(/#.*$/,"")):e}},{key:"setClip",value:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})}},{key:"addHandler",value:function(e,t,i){e.addEventListener(t,i)}},{key:"removeHandler",value:function(){}},{key:"on",value:function(e,t,i){this.addHandler(e,t,i)}},{key:"off",value:function(e,t,i){this.removeHandler(e,t,i)}},{key:"shape",value:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var a in t)i.setAttribute(a,t[a]);return this._activeParent().appendChild(i),i}}},{key:"_getTextParts",value:function(e,t,i){var a={width:0,height:0,parts:[]};if(void 0===e)return a;var n=e.toString().split("<br>"),o=this._activeParent(),r=document.createElementNS(this._svgns,"text");this.attr(r,i);for(var l=0;l<n.length;l++){
var s=n[l],d=r.ownerDocument.createTextNode(s);r.appendChild(d),o.appendChild(r);var u=void 0;try{u=r.getBBox()}catch(e){}var c=this._rup(u.width),p=this._rup(.6*u.height);r.removeChild(d),a.width=Math.max(a.width,c),a.height+=p+(l>0?4:0),a.parts.push({width:c,height:p,text:s})}return o.removeChild(r),a}},{key:"_measureText",value:function(e,i,a,n){return babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"measureText",this).call(this,e,i,a,n)}},{key:"measureText",value:function(e,t,i){return this._measureText(e,t,i,!1)}},{key:"text",value:function(e,t,i,a,n,o,r,l,s,d,u){var c=this._measureText(e,o,r,!0,this),p=c.textPartsInfo,m=p.parts,v=this._getContrastColor(arguments[11]),h=void 0;if(s||(s="center"),d||(d="center"),(m.length>1||l)&&(h=this.beginGroup()),l){var f=this.createClipRect({x:this._rup(t)-1,y:this._rup(i)-1,width:this._rup(a)+2,height:this._rup(n)+2});this.setClip(h,f)}var g=this._activeParent(),_=0,b=0;_=p.width,b=p.height,(isNaN(a)||a<=0)&&(a=_),(isNaN(n)||n<=0)&&(n=b);var y=a||0,w=n||0,x=0;if(!o||0===o){i+=b,"center"===d||"middle"===d?i+=(w-b)/2:"bottom"===d&&(i+=w-b),a||(a=_),n||(n=b),g=this._activeParent();for(var C=void 0,k=m.length-1;k>=0;k--){C=document.createElementNS(this._svgns,"text"),this.attr(C,r),this.attr(C,{cursor:"default"});var D=C.ownerDocument.createTextNode(m[k].text);C.appendChild(D);var S=t,T=m[k].width,I=m[k].height;"center"===s?S+=(y-T)/2:"right"===s&&(S+=y-T),this.attr(C,{x:this._rup(S),y:this._rup(i+x),width:this._rup(T),height:this._rup(I)}),void 0!==v&&(C.style.fill=v),g.appendChild(C),x-=m[k].height+4}return h?(this.endGroup(),h):C}var H=this.alignTextInRect(t,i,a,n,_,b,s,d,o,u);t=H.x,i=H.y;var $=this.shape("g",{transform:"translate("+t+","+i+")"}),M=this.shape("g",{transform:"rotate("+o+")"});$.appendChild(M),x=0;for(var B=m.length-1;B>=0;B--){var j=document.createElementNS(this._svgns,"text");this.attr(j,r),this.attr(j,{cursor:"default"});var E=j.ownerDocument.createTextNode(m[B].text);j.appendChild(E);var L=0,q=m[B].width,z=m[B].height;"center"===s?L+=(p.width-q)/2:"right"===s&&(L+=p.width-q),this.attr(j,{x:this._rup(L),y:this._rup(x),width:this._rup(q),height:this._rup(z)}),M.appendChild(j),x-=z+4}return g.appendChild($),h&&this.endGroup(),$}},{key:"line",value:function(e,t,i,a,n){var o=this.shape("line",{x1:e,y1:t,x2:i,y2:a});return this.attr(o,n),o}},{key:"path",value:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i}},{key:"rect",value:function(e,t,i,a,n){e=this._ptrnd(e),t=this._ptrnd(t),i=Math.max(1,this._rnd(i,1,!1)),a=Math.max(1,this._rnd(a,1,!1));var o=this.shape("rect",{x:e,y:t,width:i,height:a});return n&&this.attr(o,n),o}},{key:"circle",value:function(e,t,i,a){var n=this.shape("circle",{cx:e,cy:t,r:i});return a&&this.attr(n,a),n}},{key:"pieslice",value:function(e,t,i,a,n,o,r,l){var s=this.pieSlicePath(e,t,i,a,n,o,r),d=this.shape("path");return d.setAttribute("d",s),l&&this.attr(d,l),d}},{key:"attr",value:function(e,t){if(e&&t)for(var i in t)"textContent"===i?e.textContent=t[i]:e.setAttribute(i,t[i])}},{key:"removeAttr",value:function(e,t){if(e&&t)for(var i in t)"textContent"===i?e.textContent="":e.removeAttribute(t[i])}},{key:"getAttr",value:function(e,t){return e.getAttribute(t)}},{key:"_toLinearGradient",value:function(e,t,i){var a="grd"+this._id+e.replace("#","")+(t?"v":"h"),n="url("+this.getWindowHref()+"#"+a+")";if(this._gradients[n])return n;var o=document.createElementNS(this._svgns,"linearGradient");this.attr(o,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:a});for(var r=0;r<i.length;r++){var l=i[r],s=document.createElementNS(this._svgns,"stop"),d="stop-color:"+this.adjustColor(e,l[1]);this.attr(s,{offset:l[0]+"%",style:d}),o.appendChild(s)}return this._defs.appendChild(o),this._gradients[n]=!0,n}},{key:"_toRadialGradient",value:function(e,t,i){var a="grd"+this._id+e.replace("#","")+"r"+(void 0!==i?i.key:""),n="url("+this.getWindowHref()+"#"+a+")";if(this._gradients[n])return n;var o=document.createElementNS(this._svgns,"radialGradient");void 0===i?this.attr(o,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:a}):this.attr(o,{cx:i.x,cy:i.y,r:i.outerRadius,id:a,gradientUnits:"userSpaceOnUse"});for(var r=0;r<t.length;r++){var l=t[r],s=document.createElementNS(this._svgns,"stop"),d="stop-color:"+this.adjustColor(e,l[1]);this.attr(s,{offset:l[0]+"%",style:d}),o.appendChild(s)}return this._defs.appendChild(o),this._gradients[n]=!0,n}}]),t}(JQX.Utilities.Renderer)),JQX.Utilities.Assign("HTML5Renderer",function(e){function t(e){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=i;return a._renderers=new JQX.Utilities.HTML5RenderHelpers(a),i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"init",value:function(e){try{this.host=e;var t=document.createElement("div"),i=document.createElement("canvas");t.className="chartContainer",t.style.position="relative",t.onselectstart=function(){return!1},i.id="__jqxCanvasWrap",i.style.width="100%",i.style.height="100%",t.appendChild(i),e.appendChild(t),this.canvas=i,i.width=e.offsetWidth,i.height=e.offsetHeight,this.ctx=i.getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0}},{key:"getType",value:function(){return"HTML5"}},{key:"getContainer",value:function(){return this.host.getElementsByClassName("chartContainer")[0]}},{key:"getRect",value:function(){return{x:0,y:0,width:this.canvas.width-1,height:this.canvas.height-1}}},{key:"beginGroup",value:function(){}},{key:"endGroup",value:function(){}},{key:"setClip",value:function(){}},{key:"createClipRect",value:function(){}},{key:"addHandler",value:function(){}},{key:"removeHandler",value:function(){}},{key:"on",value:function(e,t,i){this.addHandler(e,t,i)}},{key:"off",value:function(e,t,i){this.removeHandler(e,t,i)}},{key:"clear",value:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0}},{key:"removeElement",value:function(e){void 0!==e&&this._elements[e.id]&&delete this._elements[e.id]}},{key:"shape",value:function(e,t){var i={type:e,id:this._maxId++};for(var a in t)i[a]=t[a];return this._elements[i.id]=i,i}},{key:"attr",value:function(e,t){for(var i in t)e[i]=t[i]}},{key:"removeAttr",value:function(e,t){for(var i in t)delete e[t[i]]}},{key:"rect",value:function(e,t,i,a,n){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(a))throw'Invalid value for "height"';var o=this.shape("rect",{x:e,y:t,width:i,height:a});return n&&this.attr(o,n),o}},{key:"path",value:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i}},{key:"line",value:function(e,t,i,a,n){return this.path("M "+e+","+t+" L "+i+","+a,n)}},{key:"circle",value:function(e,t,i,a){var n=this.shape("circle",{x:e,y:t,r:i});return a&&this.attr(n,a),n}},{key:"pieslice",value:function(e,t,i,a,n,o,r,l){var s=this.path(this.pieSlicePath(e,t,i,a,n,o,r),l);return this.attr(s,{x:e,y:t,innerRadius:i,outerRadius:a,angleFrom:n,angleTo:o}),s}},{key:"_getCSSStyle",value:function(e){var t=document.createElement("div");t.className=e,t.style.position="absolute",t.style.visibility="hidden",this.host.appendChild(t);var i=window.getComputedStyle(t);return i={color:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight},this.host.removeChild(t),i}},{key:"_getTextParts",value:function(e,t,i){var a="Arial",n="10pt",o="";if(i&&i.class){var r=this._getCSSStyle(i.class);r.fontSize&&(n=r.fontSize),r.fontFamily&&(a=r.fontFamily),r.fontWeight&&(o=r.fontWeight)}this.ctx.font=o+" "+n+" "+a;for(var l={width:0,height:0,parts:[]},s=e.toString().split("<br>"),d=0;d<s.length;d++){var u=s[d],c=this.ctx.measureText(u).width,p=document.createElement("span");p.className="jqxchart",p.font=this.ctx.font,p.textContent=u,this.host.appendChild(p);var m=.6*p.offsetHeight;this.host.removeChild(p),l.width=Math.max(l.width,this._rup(c)),l.height+=m+(d>0?4:0),l.parts.push({width:c,height:m,text:u})}return l}},{key:"_measureText",value:function(e,i,a,n){return babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"measureText",this).call(this,e,i,a,n)}},{key:"measureText",value:function(e,t,i){return this._measureText(e,t,i,!1)}},{key:"text",value:function(e,t,i,a,n,o,r,l,s,d,u){var c=this.shape("text",{text:e,x:t,y:i,width:a,height:n,angle:o,clip:l,halign:s,valign:d,rotateAround:u});if(r&&this.attr(c,r),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color=this._getContrastColor(arguments[11]),r&&r.class){var p=this._getCSSStyle(r.class);c.fontFamily=p.fontFamily||c.fontFamily,c.fontSize=p.fontSize||c.fontSize,c.fontWeight=p.fontWeight||c.fontWeight,c.color=c.color||p.color}c.color=c.color||"#000000";var m=this._measureText(e,0,r,!0);return this.attr(c,{textPartsInfo:m.textPartsInfo,textWidth:m.width,textHeight:m.height}),(a<=0||isNaN(a))&&this.attr(c,{width:m.width}),(n<=0||isNaN(n))&&this.attr(c,{height:m.height}),c}},{key:"_toLinearGradient",value:function(e,t,i){if(this._renderers._gradients[e])return e;for(var a=[],n=0;n<i.length;n++)a.push({percent:i[n][0]/100,color:this.adjustColor(e,i[n][1])});var o="gr"+this._gradientId++;return this.createGradient(o,t?"vertical":"horizontal",a),o}},{key:"_toRadialGradient",value:function(e,t){if(this._renderers._gradients[e])return e;for(var i=[],a=0;a<t.length;a++)i.push({percent:t[a][0]/100,color:this.adjustColor(e,t[a][1])});var n="gr"+this._gradientId++;return this.createGradient(n,"radial",i),n}},{key:"createGradient",value:function(e,t,i){this._renderers.createGradient(this,e,t,i)}},{key:"refresh",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e in this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}}]),t}(JQX.Utilities.Renderer)),JQX.Utilities.Assign("HTML5RenderHelpers",function(){function e(t){babelHelpers.classCallCheck(this,e),this.HTML5Renderer=t,this._cmds="mlcazq"}return babelHelpers.createClass(e,[{key:"ptrnd",value:function(e){if(.5===Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5}},{key:"createGradient",value:function(e,t,i,a){e._gradients[t]={orientation:i,colorStops:a}}},{key:"setStroke",value:function(e,t){var i=e.ctx,a=t["stroke-width"];i.strokeStyle=t.stroke||"transparent",i.lineWidth=0===a?.01:void 0!==a?a:1,void 0!==t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!==t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))}},{key:"setFillStyle",value:function(e,t){var i=e.ctx;if(i.fillStyle="transparent",void 0!==t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!==t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,t.fill&&-1===t.fill.indexOf("#")&&e._gradients[t.fill]){var a="horizontal"!==e._gradients[t.fill].orientation,n="radial"===e._gradients[t.fill].orientation,o=this.ptrnd(t.x),r=this.ptrnd(t.y),l=this.ptrnd(t.x+(a?0:t.width)),s=this.ptrnd(t.y+(a?t.height:0)),d=void 0;if(("circle"===t.type||"path"===t.type||"rect"===t.type)&&n){var u=this.ptrnd(t.x),c=this.ptrnd(t.y),p=t.innerRadius||0,m=t.outerRadius||t.r||0;"rect"===t.type&&(u+=t.width/2,c+=t.height/2),d=i.createRadialGradient(u,c,p,u,c,m)}n||((isNaN(o)||isNaN(l)||isNaN(r)||isNaN(s))&&(o=0,r=0,l=a?0:i.canvas.width,s=a?i.canvas.height:0),d=i.createLinearGradient(o,r,l,s));for(var v=e._gradients[t.fill].colorStops,h=0;h<v.length;h++)d.addColorStop(v[h].percent,v[h].color);i.fillStyle=d}else t.fill&&(i.fillStyle=t.fill)}},{key:"rect",value:function(e,t){0!==t.width&&0!==t.height&&(e.fillRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height),e.strokeRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height))}},{key:"circle",value:function(e,t){0!==t.r&&(e.beginPath(),e.arc(this.ptrnd(t.x),this.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())}},{key:"_parsePoint",value:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}}},{key:"_parseNumber",value:function(e){var t=!1,i=void 0;for(i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."===e[i]||"e"===e[i]||"-"===e[i]&&!t||"-"===e[i]&&i>=1&&"e"===e[i-1])t=!0;else{if(t||" "!==e[i]&&","!==e[i])break;this._pos++}var a=parseFloat(e.substring(this._pos,i));if(!isNaN(a))return this._pos=i,a}},{key:"_isRelativeCmd",value:function(e){return-1!==this._cmds.indexOf(e)}},{key:"_parseCmd",value:function(e){for(var t=this._pos;t<e.length;t++){if(-1!==this._cmds.toLowerCase().indexOf(e[t].toLowerCase()))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(" "!==e[t]){if(e[t]>="0"&&e[t]<="9"){if(this._pos=t,""===this._lastCmd)break;return this._lastCmd}}else this._pos++}}},{key:"_toAbsolutePoint",value:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}}},{key:"path",value:function(e,t){var i=this,a=t.d;this._pos=0,this._lastCmd="";var n=void 0;for(this._currentPoint={x:0,y:0},e.beginPath();this._pos<a.length;){var o=this._parseCmd(a);if(void 0===o)break;if("M"!==o&&"m"!==o)if("L"!==o&&"l"!==o){if("A"===o||"a"===o){var r=function(){var t=i._parseNumber(a),n=i._parseNumber(a),r=i._parseNumber(a)*(Math.PI/180),l=i._parseNumber(a),s=i._parseNumber(a),d=i._parsePoint(a);if(i._isRelativeCmd(o)&&(d=i._toAbsolutePoint(d)),0===t||0===n)return"continue";var u=i._currentPoint,c={x:Math.cos(r)*(u.x-d.x)/2+Math.sin(r)*(u.y-d.y)/2,y:-Math.sin(r)*(u.x-d.x)/2+Math.cos(r)*(u.y-d.y)/2},p=Math.pow(c.x,2)/Math.pow(t,2)+Math.pow(c.y,2)/Math.pow(n,2);p>1&&(t*=Math.sqrt(p),n*=Math.sqrt(p));var m=(l===s?-1:1)*Math.sqrt((Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(c.y,2)-Math.pow(n,2)*Math.pow(c.x,2))/(Math.pow(t,2)*Math.pow(c.y,2)+Math.pow(n,2)*Math.pow(c.x,2)));isNaN(m)&&(m=0);var v={x:m*t*c.y/n,y:m*-n*c.x/t},h={x:(u.x+d.x)/2+Math.cos(r)*v.x-Math.sin(r)*v.y,y:(u.y+d.y)/2+Math.sin(r)*v.x+Math.cos(r)*v.y},f=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},g=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(f(e)*f(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(g(e,t))},b=_([1,0],[(c.x-v.x)/t,(c.y-v.y)/n]),y=[(c.x-v.x)/t,(c.y-v.y)/n],w=[(-c.x-v.x)/t,(-c.y-v.y)/n],x=_(y,w);g(y,w)<=-1&&(x=Math.PI),g(y,w)>=1&&(x=0),0===s&&x>0&&(x-=2*Math.PI),1===s&&x<0&&(x+=2*Math.PI);var C=t>n?t:n,k=t>n?1:t/n,D=t>n?n/t:1;return e.translate(h.x,h.y),e.rotate(r),e.scale(k,D),e.arc(0,0,C,b,b+x,1-s),e.scale(1/k,1/D),e.rotate(-r),e.translate(-h.x,-h.y),"continue"}();if("continue"===r)continue}if("Z"!==o&&"z"!==o||void 0===n)if("C"!==o&&"c"!==o)if("Q"!==o&&"q"!==o);else{var l=this._parsePoint(a),s=this._parsePoint(a);e.quadraticCurveTo(l.x,l.y,s.x,s.y),this._currentPoint=s}else{var d=this._parsePoint(a),u=this._parsePoint(a),c=this._parsePoint(a);e.bezierCurveTo(d.x,d.y,u.x,u.y,c.x,c.y),this._currentPoint=c}else e.lineTo(n.x,n.y),this._currentPoint=n}else{var p=this._parsePoint(a);if(void 0===p)break;e.lineTo(p.x,p.y),this._currentPoint=p}else{var m=this._parsePoint(a);if(void 0===m)break;e.moveTo(m.x,m.y),this._currentPoint=m,void 0===n&&(n=m)}}e.fill(),e.stroke(),e.closePath()}},{key:"text",value:function(e,t){var i=this.ptrnd(t.x),a=this.ptrnd(t.y),n=this.ptrnd(t.width),o=this.ptrnd(t.height),r=t.halign,l=t.valign,s=t.angle,d=t.rotateAround,u=t.textPartsInfo,c=u.parts,p=t.clip;void 0===p&&(p=!0),e.save(),r||(r="center"),l||(l="center"),p&&(e.rect(i,a,n,o),e.clip());var m=t.textWidth,v=t.textHeight,h=n||0,f=o||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,!s||0===s){a+=v,"center"===l||"middle"===l?a+=(f-v)/2:"bottom"===l&&(a+=f-v),n||(n=m),o||(o=v);for(var g=0,_=c.length-1;_>=0;_--){var b=c[_],y=i,w=c[_].width;"center"===r?y+=(h-w)/2:"right"===r&&(y+=h-w),e.fillText(b.text,y,a+g),g-=b.height+(_>0?4:0)}return void e.restore()}var x=this.HTML5Renderer.alignTextInRect(i,a,n,o,m,v,r,l,s,d);i=x.x,a=x.y;var C=s*Math.PI*2/360;e.translate(i,a),e.rotate(C);for(var k=0,D=u.width,S=c.length-1;S>=0;S--){var T=0;"center"===r?T+=(D-c[S].width)/2:"right"===r&&(T+=D-c[S].width),e.fillText(c[S].text,T,k),k-=c[S].height+4}e.restore()}}]),e}()),JQX.Utilities.Assign("Plot",function(){function e(t){babelHelpers.classCallCheck(this,e),this.renderer=t}return babelHelpers.createClass(e,[{key:"get",value:function(e,t,i){return void 0!==i?e[t][i]:e[t]}},{key:"min",value:function(e,t){for(var i=NaN,a=0;a<e.length;a++){var n=this.get(e,a,t);(isNaN(i)||n<i)&&(i=n)}return i}},{key:"max",value:function(e,t){for(var i=NaN,a=0;a<e.length;a++){var n=this.get(e,a,t);(isNaN(i)||n>i)&&(i=n)}return i}},{key:"sum",value:function(e,t){for(var i=0,a=0;a<e.length;a++){var n=this.get(e,a,t);isNaN(n)||(i+=n)}return i}},{key:"count",value:function(e,t){for(var i=0,a=0;a<e.length;a++){var n=this.get(e,a,t);isNaN(n)||i++}return i}},{key:"avg",value:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}},{key:"filter",value:function(e,t){if(!t)return e;for(var i=[],a=0;a<e.length;a++)t(e[a])&&i.push(e[a]);return i}},{key:"scale",value:function(e,t,i,a){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!a||!0!==a.ignore_range))return NaN;var n=NaN,o=1;if(void 0===t.type||"logarithmic"!==t.type){var r=Math.abs(t.max-t.min);r||(r=1),o=Math.abs(e-Math.min(t.min,t.max))/r}else if("logarithmic"===t.type){var l=t.base;isNaN(l)&&(l=10);var s=Math.min(t.min,t.max);s<=0&&(s=1);var d=Math.max(t.min,t.max);d<=0&&(d=1);var u=Math.log(d)/Math.log(l);d=Math.pow(l,u);var c=Math.log(s)/Math.log(l);s=Math.pow(l,c);var p=Math.log(e)/Math.log(l);o=Math.abs(p-c)/(u-c)}if("logarithmic"===i.type){var m=i.base;isNaN(m)&&(m=10);var v=Math.log(i.max)/Math.log(m),h=Math.log(i.min)/Math.log(m);i.flip&&(o=1-o);var f=Math.min(h,v)+o*Math.abs(v-h);n=Math.pow(m,f)}else n=Math.min(i.min,i.max)+o*Math.abs(i.max-i.min),i.flip&&(n=Math.max(i.min,i.max)-n+i.min);return n}},{key:"axis",value:function(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);for(var a=0;Math.round(e)!==e&&Math.round(t)!==t&&a<10;)e*=10,t*=10,a++;for(var n=(t-e)/i;a<10&&Math.round(n)!==n;)e*=10,t*=10,n*=10,a++;for(var o=[1,2,5],r=0,l=void 0;;){var s=r%o.length,d=Math.floor(r/o.length),u=Math.pow(10,d)*o[s];if(s=(r+1)%o.length,d=Math.floor((r+1)/o.length),l=Math.pow(10,d)*o[s],n>=u&&n<l)break;r++}for(var c=l,p=[],m=this.renderer._rnd(e,c,!1),v=a<=0?1:Math.pow(10,a);m<t+c;)p.push(m/v),m+=c;return p}}]),e}()),JQX.Utilities.Assign("FilterGroup",function(){function e(){babelHelpers.classCallCheck(this,e);var t=this;t.stringConditions=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],t.numericConditions=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],t.dateConditions=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],t.booleanConditions=["EQUAL","NOT_EQUAL","NULL","NOT_NULL"],t.filters=new Array,t.logicalOperators=new Array}return babelHelpers.createClass(e,[{key:"evaluate",value:function(e){for(var t=this,i=!0,a=0;a<t.filters.length;a++){var n=t.filters[a].evaluate(e);i=0===a?n:1===t.logicalOperators[a]||"or"===t.logicalOperators[a]?i||n:i&&n}return i}},{key:"getFiltersCount",value:function(){return this.filters.length}},{key:"setConditions",value:function(e,t){var i=this;switch(e){case"numeric":i.numericConditions=t;break;case"string":i.stringConditions=t;break;case"date":case"time":i.dateConditions=t;break;case"bool":case"boolean":i.booleanConditions=t}}},{key:"getConditions",value:function(e){var t=this,i=new Array;switch(e){case"numeric":i=t.numericConditions.slice(0);break;case"string":i=t.stringConditions.slice(0);break;case"date":case"time":i=t.dateConditions.slice(0);break;case"bool":case"boolean":i=t.booleanConditions.slice(0)}return i}},{key:"generateFilterKey",value:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()}},{key:"createFilter",value:function(e,t,i,a,n,o,r){if(null===e||void 0===e)return null;switch(e){case"int":case"float":case"int64":case"double":case"numeric":case"number":case"numericFilter":return new JQX.Utilities.NumericFilter(t,i.toUpperCase());case"string":case"stringFilter":return new JQX.Utilities.StringFilter(t,i.toUpperCase(),o);case"date":case"time":case"dateFilter":return new JQX.Utilities.DateFilter(t,i.toUpperCase(),n,o,r);case"bool":case"boolean":case"booleanFilter":return new JQX.Utilities.BooleanFilter(t,i.toUpperCase());case"custom":return new JQX.Utilities.CustomFilter(t,i.toUpperCase(),a)}throw new Error('jqxGrid: There is no such filter type. The available filter types are: "numericFilter", "stringFilter", "dateFilter" and "booleanFilter"')}},{key:"getFilters",value:function(){for(var t=this,i=new Array,a=0;a<t.filters.length;a++){var n=t.filters[a];if(n instanceof e){var o=n.getFilters();i.push({value:o,logicalOperator:t.logicalOperators[a],type:"FilterGroup"})}else{var r={value:n.value,condition:n.condition,logicalOperator:t.logicalOperators[a],type:n.type};n.data&&(r.id=n.data),i.push(r)}}return i}},{key:"addFilter",value:function(e,t){var i=this;i.filters[i.filters.length]=t,t.key=i.generateFilterKey(),i.logicalOperators[i.logicalOperators.length]=e}},{key:"removeFilter",value:function(e){for(var t=this,i=0;i<t.filters.length;i++)if(t.filters[i].key===e.key){t.filters.splice(i,1),t.logicalOperators.splice(i,1);break}}},{key:"getOperatorAt",value:function(e){var t=this;return void 0===e||null===e?null:e<0||e>t.filters.length?null:t.logicalOperators[e]}},{key:"setOperatorAt",value:function(e,t){var i=this;return void 0===e||null===e?null:e<0||e>i.filters.length?null:void(i.logicalOperators[t]=t)}},{key:"getFilterAt",value:function(e){var t=this;return void 0===e||null===e?null:e<0||e>t.filters.length?null:t.filters[e]}},{key:"setFilterAt",value:function(e,t){var i=this;return void 0===e||null===e?null:e<0||e>i.filters.length?null:(t.key=i.generateFilterKey(),void(i.filters[e]=t))}},{key:"clear",value:function(){var e=this;e.filters=new Array,e.logicalOperators=new Array}},{key:"getUniqueValues",value:function(e,t){for(var i=e.data,a=[],n=[],o="dateFilter"===e.filterType&&"timePicker"===e.displayMode,r=void 0,l=!1,s=0;s<i.length;s++){var d=i[s][e.dataField];if(""!==d&&null!==d&&void 0!==d){var u=void 0;u=o?new JQX.Utilities.DateTime(d).toString(e.formatString):d.toString(),-1===a.indexOf(u)&&(a.push(u),n.push({label:u,value:d,customAttribute:"default-item"}))}else l=!0}switch(e.filterType){case"numericFilter":case"booleanFilter":r=function(e,t){return e.value-t.value};break;case"stringFilter":r=function(e,t){return(new Intl.Collator).compare(e.value,t.value)};break;case"dateFilter":r=o?function(e,t){try{var i=e.value.getHours(),a=t.value.getHours();if(i!==a)return i-a;var n=e.value.getMinutes(),o=t.value.getMinutes();if(n!==o)return n-o;var r=e.value.getSeconds(),l=t.value.getSeconds();return r!==l?r-l:0}catch(e){return-1}}:function(e,t){try{return e.value.getTime()-t.value.getTime()}catch(e){return-1}}}return n.sort(r),"booleanFilter"===e.filterType&&n.map(function(e){e.label=e.label.toUpperCase()}),l&&n.push({label:t.localize("blanks"),value:"",customAttribute:"default-item"}),n}}]),e}()),JQX.Utilities.Assign("StringFilter",function(){function e(t,i,a){babelHelpers.classCallCheck(this,e);var n=this;n.value=t,n.condition=i,n.locale=a||"en",n.type="stringFilter"}return babelHelpers.createClass(e,[{key:"evaluate",value:function(e){var t=this,i=t.value,a=t.condition;if(null===e||void 0===e||""===e){if("NULL"===a)return!0;if("EQUAL"===a&&e===i)return!0;if("NOT_EQUAL"===a&&e!==i)return!0;if("EMPTY"!==a)return!1;if(""===e)return!0}var n="";try{n=e.toString()}catch(e){return!0}var o=function(e,i){var n=t.locale;switch(a){case"EQUAL":return 0===e.localeCompare(i,n,{sensitivity:"accent"});case"EQUAL_CASE_SENSITIVE":return 0===e.localeCompare(i,n,{sensitivity:"variant"});case"NOT_EQUAL":return 0!==e.localeCompare(i,n,{sensitivity:"accent"});case"NOT_EQUAL_CASE_SENSITIVE":return 0!==e.localeCompare(i,n,{sensitivity:"variant"});case"CONTAINS":return-1!==e.toLowerCase().indexOf(i.toLowerCase());case"CONTAINS_CASE_SENSITIVE":return-1!==e.indexOf(i);case"DOES_NOT_CONTAIN":return-1===e.toLowerCase().indexOf(i.toLowerCase());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===e.indexOf(i);case"EMPTY":return""===e;case"NOT_EMPTY":return""!==e;case"NOT_NULL":return null!==e;case"STARTS_WITH":return e=e.substring(0,i.length),0===e.localeCompare(i,n,{sensitivity:"accent"});case"ENDS_WITH":return e=e.substring(e.length-i.length,e.length),0===e.localeCompare(i,n,{sensitivity:"accent"});case"ENDS_WITH_CASE_SENSITIVE":return e=e.substring(e.length-i.length,e.length),0===e.localeCompare(i,n,{sensitivity:"variant"});case"STARTS_WITH_CASE_SENSITIVE":return e=e.substring(0,i.length),0===e.localeCompare(i,n,{sensitivity:"variant"});default:return!1}},r=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=o(n,i);if(l)return l;var s=i.indexOf(" and ")>=0?i.split(" and "):new Array,d=i.indexOf(" or ")>=0?i.split(" or "):new Array,u=i.indexOf("|")>=0?i.split("|"):new Array,c=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,p=i.indexOf(" OR ")>=0?i.split(" OR "):new Array;if(u.length>0)for(var m=0;m<u.length;m++)u[m]=u[m].trim;var v=i.indexOf(" ")>=0?i.split(" "):new Array;if(v.length>0)for(var h=0;h<v.length;h++)v[h]=v[h].trim;if(c=c.concat(v),c=c.concat(s),p=p.concat(u),p=p.concat(d),c.length>0)for(var f=0;f<c.length;f++)!c[f].indexOf(" OR ")>=0&&r.push(c[f]);if(p.length>0)for(var g=0;g<p.length;g++)!p[g].indexOf(" AND ")>=0&&r.push(p[g]);for(var _=void 0,b=0;b<r.length;b++){var y=r[b],w=o(n,y),x=b<c.length?"and":"or";_=void 0===_?w:"or"===x?_||w:_&&w}return _}return o(n,i)}}]),e}()),JQX.Utilities.Assign("BooleanFilter",function(){function e(t,i){babelHelpers.classCallCheck(this,e);var a=this;a.value=t,a.condition=i,a.type="booleanFilter"}return babelHelpers.createClass(e,[{key:"evaluate",value:function(e){var t=this,i=t.value,a=t.condition,n=e;switch(a){case"EQUAL":return n===i;case"NOT_EQUAL":return n!==i;case"NULL":return null===e||void 0===e||""===e;case"NOT_NULL":return!(null===e||void 0===e||""===e);default:return!1}}}]),e}()),JQX.Utilities.Assign("NumericFilter",function(){function e(t,i){babelHelpers.classCallCheck(this,e);var a=this;a.value=t,a.condition=i,a.type="numericFilter"}return babelHelpers.createClass(e,[{key:"evaluate",value:function(e){var t=this,i=t.value,a=t.condition;if(null===e||void 0===e||""===e){if("NOT_NULL"===a)return!1;if("NULL"===a)return!0;switch(a){case"EQUAL":return e===i;case"NOT_EQUAL":return e!==i}return!1}if("NULL"===a)return!1;if("NOT_NULL"===a)return!0;var n=e;try{n=parseFloat(n)}catch(t){if(""!==e.toString())return!1}var o=function(e,t){switch("number"==typeof e&&"number"!=typeof t&&(t=parseFloat(t)),a){case"EQUAL":return e===t;case"NOT_EQUAL":return e!==t;case"GREATER_THAN":return e>t;case"GREATER_THAN_OR_EQUAL":return e>=t;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return t=t.toString().toLowerCase(),e.toString().toLowerCase().substring(0,t.length)===t;case"ENDS_WITH":return e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),e.substring(e.length-t.length,e.length)===t;case"ENDS_WITH_CASE_SENSITIVE":return e=e.toString(),t=t.toString(),e.substring(e.length-t.length,e.length)===t;case"STARTS_WITH_CASE_SENSITIVE":return t=t.toString(),e.toString().substring(0,t.length)===t;case"CONTAINS":return-1!==e.toString().toLowerCase().indexOf(t.toString().toLowerCase());case"CONTAINS_CASE_SENSITIVE":return-1!==e.toString().indexOf(t.toString());case"DOES_NOT_CONTAIN":return-1===e.toString().toLowerCase().indexOf(t.toString().toLowerCase());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===e.toString().indexOf(t.toString());default:return!0}},r=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=o(n,i);if(l)return l;i=i.toString();var s=i.indexOf(" and ")>=0?i.split(" and "):new Array,d=i.indexOf(" or ")>=0?i.split(" or "):new Array,u=i.indexOf("|")>=0?i.split("|"):new Array,c=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,p=i.indexOf(" OR ")>=0?i.split(" OR "):new Array;if(c=c.concat(s),p=p.concat(d),u.length>0)for(var m=0;m<u.length;m++)u[m]=u[m].trim;if(p=p.concat(u),c.length>0)for(var v=0;v<c.length;v++)!c[v].indexOf(" OR ")>=0&&r.push(c[v]);if(p.length>0)for(var h=0;h<p.length;h++)!p[h].indexOf(" AND ")>=0&&r.push(p[h]);for(var f=void 0,g=0;g<r.length;g++){var _=r[g];if(_&&_.indexOf&&_.indexOf("..")>=0){var b=_.toString().split("..");2===b.length&&(l=n>=b[0]&&n<=b[1])}else l=o(n,_);var y=g<c.length?"and":"or";f=void 0===f?l:"or"===y?f||l:f&&l}return f}return i&&i.indexOf&&i.indexOf("..")>=0&&(r=i.toString().split(".."),2===r.length)?n>=r[0]&&n<=r[1]:o(n,i)}}]),e}()),JQX.Utilities.Assign("DateFilter",function(){function e(t,i,a,n,o){babelHelpers.classCallCheck(this,e);var r=this,l=new JQX.Utilities.DateTime;if(r.value=t,r.type="dateFilter",void 0!==a){var s=l.parseDate(t,a);if(null!==s)r.filterdate=s;else{var d=l.tryparseDate(t);null!==d&&(r.filterdate=d)}}else{var u=new Date(t);"NaN"===u.toString()||"Invalid Date"===u.toString()?r.filterdate=l.tryparseDate(t):r.filterdate=u}if(!r.filterdate){var c=new Date(t);"NaN"===c.toString()||"Invalid Date"===c.toString()?r.filterdate=l.tryparseDate(t):r.filterdate=c}r.condition=i,r.formatString=a,r.timeOnly=o}return babelHelpers.createClass(e,[{key:"evaluate",value:function(e){var t=this,i=t.condition,a=t.formatString,n=t.value;if(t.timeOnly)return t.evaluateTimeOnly(e);if(null===e||void 0===e||""===e){if("NOT_NULL"===i)return!1;if("NULL"===i)return!0;switch(i){case"EQUAL":return e===n;case"NOT_EQUAL":return e!==n}return!1}if("NULL"===i)return!1;if("NOT_NULL"===i)return!0;var o=new Date,r=void 0;o.setFullYear(1900,0,1),o.setHours(12,0,0,0);try{var l=new JQX.Utilities.DateTime,s=new Date(e);if(e="NaN"===s.toString()||"Invalid Date"===s.toString()?l.tryparseDate(e):s,o=e,r=!1,void 0!==a&&(a.indexOf("t")>=0||a.indexOf("T")>=0||a.indexOf(":")>=0||a.indexOf("f")>=0)&&(r=!0,n&&-1===n.toString().indexOf(":"))){var d=l.tryparseDate(n.toString()+":00");null!==d&&(t.filterdate=d)}r||(o.setHours(0),o.setMinutes(0),o.setSeconds(0))}catch(t){if(""!==e.toString())return!1}if(null!==t.filterdate)n=t.filterdate;else if(n&&n.indexOf&&(-1!==n.indexOf(":")||!isNaN(parseInt(n)))){var u=new Date(o);u.setHours(12,0,0,0);for(var c=n.split(":"),p=0;p<c.length;p++)0===p&&u.setHours(c[p]),1===p&&u.setMinutes(c[p]),2===p&&u.setSeconds(c[p]);n=u}r&&n&&n.setFullYear&&o&&o.getFullYear&&-1===a.indexOf("d")&&-1===a.indexOf("M")&&-1===a.indexOf("y")&&n.setFullYear(o.getFullYear(),o.getMonth(),o.getDate());var m=function(e,t){switch(null===e&&(e=""),i){case"EQUAL":return e.toString()===t.toString();case"NOT_EQUAL":return e.toString()!==t.toString();case"GREATER_THAN":return e>t;case"GREATER_THAN_OR_EQUAL":return e>=t;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return t=t.toString().toLowerCase(),e.toString().toLowerCase().substring(0,t.length)===t;case"ENDS_WITH":return e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),e.substring(e.length-t.length,e.length)===t;case"ENDS_WITH_CASE_SENSITIVE":return e=e.toString(),t=t.toString(),e.substring(e.length-t.length,e.length)===t;case"STARTS_WITH_CASE_SENSITIVE":return t=t.toString(),e.toString().substring(0,t.length)===t;case"CONTAINS":return-1!==e.toString().toLowerCase().indexOf(t.toString().toLowerCase());case"CONTAINS_CASE_SENSITIVE":return-1!==e.toString().indexOf(t.toString())
;case"DOES_NOT_CONTAIN":return-1===e.toString().toLowerCase().indexOf(t.toString().toLowerCase());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===e.toString().indexOf(t.toString());default:return!0}},v=new Array;if(n&&n.indexOf&&(n.indexOf("|")>=0||n.indexOf(" AND ")>=0||n.indexOf(" OR ")>=0||n.indexOf(" and ")>=0||n.indexOf(" or ")>=0)){var h=m(o,n);if(h)return h;var f=n.indexOf(" and ")>=0?n.split(" and "):new Array,g=n.indexOf(" or ")>=0?n.split(" or "):new Array,_=n.indexOf("|")>=0?n.split("|"):new Array,b=n.indexOf(" AND ")>=0?n.split(" AND "):new Array,y=n.indexOf(" OR ")>=0?n.split(" OR "):new Array;if(b=b.concat(f),y=y.concat(g),_.length>0)for(var w=0;w<_.length;w++)_[w]=_[w].trim;if(y=y.concat(_),b.length>0)for(var x=0;x<b.length;x++)!b[x].indexOf(" OR ")>=0&&v.push(b[x]);if(y.length>0)for(var C=0;C<y.length;C++)!y[C].indexOf(" AND ")>=0&&v.push(y[C]);for(var k=void 0,D=0;D<v.length;D++){var S=v[D];if(S&&S.indexOf&&S.indexOf("..")>=0){var T=S.toString().split("..");2===T.length&&(h=o>=T[0]&&o<=T[1])}else h=m(o,S);var I=D<b.length?"and":"or";k=void 0===k?h:"or"===I?k||h:k&&h}return k}return n&&n.indexOf&&n.indexOf("..")>=0&&(v=n.toString().split(".."),2===v.length)?o>=v[0]&&o<=v[1]:m(o,n)}},{key:"evaluateTimeOnly",value:function(e){var t=this,i=t.value;return i?!!(e&&e instanceof Date)&&(e.getHours()===i.getHours()&&(e.getMinutes()===i.getMinutes()&&e.getSeconds()===i.getSeconds())):!e}}]),e}()),JQX.Utilities.Assign("CustomFilter",function(){function e(t,i,a){babelHelpers.classCallCheck(this,e);var n=this;n.value=t,n.condition=i,n.customfilter=a}return babelHelpers.createClass(e,[{key:"evaluate",value:function(e){var t=this;return t.customfilter(t.value,e,t.condition)}}]),e}()),JQX.FilterGroup=JQX.Utilities.FilterGroup,JQX.StringFilter=JQX.Utilities.StringFilter,JQX.NumericFilter=JQX.Utilities.NumericFilter,JQX.DateFilter=JQX.Utilities.DateFilter,JQX.CustomFilter=JQX.Utilities.CustomFilter;var bigIntNativeSupport=void 0;try{BigInt,bigIntNativeSupport=!0}catch(e){bigIntNativeSupport=!1}JQX.Utilities.Assign("BigNumber",function(){function e(t,i,a){babelHelpers.classCallCheck(this,e);var n,o=this;if(JQX.Utilities.BigNumber.bigIntSupport){if(t instanceof JQX.Utilities.BigNumber){if(!Array.isArray(t._d))return new JQX.Utilities.BigNumber(t._d);t=(t._s?"-":"")+(t._d.slice(0,t._f).join("")||"0")+(t._f!=t._d.length?"."+t._d.slice(t._f).join(""):"")}try{null===t?o._d=BigInt(0):"string"==typeof t&&-1!==t.toLowerCase().indexOf("e")?o._d=BigInt(parseFloat(t)):o._d=BigInt(t)}catch(e){try{var r=t.toString().split("."),l=BigInt(r[0]),s=parseInt(r[1].charAt(0));if(l>0&&s>=5)l+=BigInt(1);else if(l<0)if(s>5)l-=BigInt(1);else if(5===s){for(var d=1,u=r[1].charAt(d),c=!1;""!==u;)if(d++,"0"!==(u=r[1].charAt(d))){c=!0;break}c&&(l-=BigInt(1))}o._d=l}catch(e){o._d=BigInt(0)}}return o._f=o._d.toString().replace("-","").length,void(o._s=o._d<0)}if(t instanceof JQX.Utilities.BigNumber){if("bigint"==typeof t._d)return new JQX.Utilities.BigNumber(t._d.toString());for(n in{precision:0,roundType:0,_s:0,_f:0})o[n]=t[n];return o._d=t._d.slice(),void(t._s&&1===t._d.length&&0===t._d[0]&&(o._s=!1))}if(void 0!==t&&("-0"===t&&(t="0"),new RegExp(/e/i).test(t))){var p=t.toString().toLowerCase(),m=p.indexOf("e"),v=new JQX.Utilities.BigNumber(p.slice(0,m)),h=p.slice(m+2),f=p.slice(m+1,m+2),g=new JQX.Utilities.BigNumber(10),_=g.pow(f+h),b=v.multiply(_);t=b.toString()}for(o.precision=isNaN(i=Math.abs(i))?JQX.Utilities.BigNumber.defaultPrecision:i,o.roundType=isNaN(a=Math.abs(a))?JQX.Utilities.BigNumber.defaultRoundType:a,o._s="-"==(t+="").charAt(0),o._f=((t=t.replace(/[^\d.]/g,"").split(".",2))[0]=t[0].replace(/^0+/,"")||"0").length,n=(t=o._d=(t.join("")||"0").split("")).length;n;t[--n]=+t[n]);o.round()}return babelHelpers.createClass(e,[{key:"add",value:function(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d+new JQX.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),t.isZero()&&t._s&&(t._s=!1),0===e||e.constructor===JQX.Utilities.BigNumber&&1===e._d.length&&0===e._d[0])return new JQX.Utilities.BigNumber(t);if(t._s!=(e=new JQX.Utilities.BigNumber(e))._s)return e._s^=1,t.subtract(e);var i,a,n=new JQX.Utilities.BigNumber(t),o=n._d,r=e._d,l=n._f,s=e._f;for(e=Math.max(l,s),l!=s&&((s=l-s)>0?n._zeroes(r,s,1):n._zeroes(o,-s,1)),i=(l=o.length)==(s=r.length)?o.length:((s=l-s)>0?n._zeroes(r,s):n._zeroes(o,-s)).length,a=0;i;a=(o[--i]=o[i]+r[i]+a)/10>>>0,o[i]%=10);return a&&++e&&o.unshift(a),n._f=e,n.round()}},{key:"subtract",value:function(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d-new JQX.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),t.isZero()&&t._s&&(t._s=!1),0===e||e.constructor===JQX.Utilities.BigNumber&&1===e._d.length&&0===e._d[0])return new JQX.Utilities.BigNumber(t);if(t._s!=(e=new JQX.Utilities.BigNumber(e))._s)return e._s^=1,t.add(e);var i,a,n=new JQX.Utilities.BigNumber(t),o=n.abs().compare(e.abs())+1,r=o?n:e,l=o?e:n,s=r._f,d=l._f,u=s;for(r=r._d,l=l._d,s!=d&&((d=s-d)>0?n._zeroes(l,d,1):n._zeroes(r,-d,1)),i=(s=r.length)==(d=l.length)?r.length:((d=s-d)>0?n._zeroes(l,d):n._zeroes(r,-d)).length;i;){if(r[--i]<l[i]){for(a=i;a&&!r[--a];r[a]=9);--r[a],r[i]+=10}l[i]=r[i]-l[i]}return o||(n._s^=1),n._f=u,n._d=l,n.round()}},{key:"multiply",value:function(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d*new JQX.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);e=t.normalizeOperand(e);var i,a,n,o=new JQX.Utilities.BigNumber(t),r=o._d.length>=(e=new JQX.Utilities.BigNumber(e))._d.length,l=(r?o:e)._d,s=(r?e:o)._d,d=l.length,u=s.length,c=new JQX.Utilities.BigNumber;for(i=u;i;r&&n.unshift(r),c.set(c.add(new JQX.Utilities.BigNumber(n.join("")))))for(n=new Array(u- --i).join("0").split(""),r=0,a=d;a;r+=l[--a]*s[i],n.unshift(r%10),r=r/10>>>0);return o._s=o._s!=e._s,o._f=((r=d+u-o._f-e._f)>=(a=(o._d=c._d).length)?t._zeroes(o._d,r-a+1,1).length:a)-r,o.round()}},{key:"divide",value:function(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d/new JQX.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),"0"==(e=new JQX.Utilities.BigNumber(e)))throw new Error("Division by 0");if("0"==t)return new JQX.Utilities.BigNumber;var i,a,n,o=new JQX.Utilities.BigNumber(t),r=o._d,l=e._d,s=r.length-o._f,d=l.length-e._f,u=new JQX.Utilities.BigNumber,c=0,p=1,m=0,v=0;for(u._s=o._s!=e._s,u.precision=Math.max(o.precision,e.precision),u._f=+u._d.pop(),s!=d&&o._zeroes(s>d?l:r,Math.abs(s-d)),e._f=l.length,l=e,l._s=!1,l=l.round(),e=new JQX.Utilities.BigNumber;"0"==r[0];r.shift());e:do{for(n=m=0,"0"==e&&(e._d=[],e._f=0);c<r.length&&-1==e.compare(l);++c){if(n=c+1==r.length,(!p&&++m>1||(v=n&&"0"==e&&"0"==r[c]))&&(u._f==u._d.length&&++u._f,u._d.push(0)),"0"==r[c]&&"0"==e||(e._d.push(r[c]),++e._f),v)break e;if(n&&-1==e.compare(l)&&(u._f==u._d.length&&++u._f,1)||(n=0))for(;u._d.push(0),e._d.push(0),++e._f,-1==e.compare(l););}if(p=0,-1==e.compare(l)&&!(n=0))for(;n?u._d.push(0):n=1,e._d.push(0),++e._f,-1==e.compare(l););var h;for(a=new JQX.Utilities.BigNumber,i=0;e.compare(h=a.add(l))+1&&++i;a.set(h));e.set(e.subtract(a)),!n&&u._f==u._d.length&&++u._f,u._d.push(i)}while((c<r.length||"0"!=e)&&u._d.length-u._f<=u.precision);return u.round()}},{key:"mod",value:function(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d%new JQX.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);e=t.normalizeOperand(e);var i=t.subtract(t.divide(e).intPart().multiply(e));return i.isZero()&&i._s&&(i._s=!i._s),i}},{key:"pow",value:function(e){if(JQX.Utilities.BigNumber.bigIntSupport){for(var t=BigInt(1),i=BigInt(0);i<new JQX.Utilities.BigNumber(e)._d;i+=BigInt(1))t*=this._d;return new JQX.Utilities.BigNumber(t)}var a=this.normalizeOperand(this);e=a.normalizeOperand(e);var n,o=new JQX.Utilities.BigNumber(a);if(0==(e=new JQX.Utilities.BigNumber(e).intPart()))return o.set(1);for(n=Math.abs(e);--n;o.set(o.multiply(a)));return e<0?o.set(new JQX.Utilities.BigNumber(1).divide(o)):o}},{key:"set",value:function(e){return e=new JQX.Utilities.BigNumber(e),this._d=e._d,this._f=e._f,this._s=e._s,this}},{key:"compare",value:function(e){if(JQX.Utilities.BigNumber.bigIntSupport){var t=new JQX.Utilities.BigNumber(e)._d;return this._d===t?0:this._d>t?1:-1}var i=this.normalizeOperand(this);e=i.normalizeOperand(e);var a,n,o,r=i,l=i._f,s=new JQX.Utilities.BigNumber(e),d=s._f,u=[-1,1];if(r.isZero()&&s.isZero())return 0;if(r._s!=s._s)return r._s?-1:1;if(l!=d)return u[l>d^r._s];for(l=(o=r._d).length,d=(s=s._d).length,a=-1,n=Math.min(l,d);++a<n;)if(o[a]!=s[a])return u[o[a]>s[a]^r._s];return l!=d?u[l>d^r._s]:0}},{key:"negate",value:function(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d*BigInt(-1));var e=this.normalizeOperand(this),t=new JQX.Utilities.BigNumber(e);return t._s^=1,t}},{key:"abs",value:function(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d<0?this._d*BigInt(-1):this._d);var e=this.normalizeOperand(this),t=new JQX.Utilities.BigNumber(e);return t._s=0,t}},{key:"intPart",value:function(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d);var e=this.normalizeOperand(this);return new JQX.Utilities.BigNumber((e._s?"-":"")+(e._d.slice(0,e._f).join("")||"0"))}},{key:"valueOf",value:function(e,t){return this.normalizeOperand(this).toString(e,t)}},{key:"toString",value:function(e,t,i){function a(e){var t,i,a=new JQX.Utilities.BigNumber(2),o=[];i=void 0===e?n:e;do{t=i.mod(a),o.push(t.toString()),i=i.subtract(t).divide(a).intPart()}while(1===i.compare(new JQX.Utilities.BigNumber(0)));return o.reverse().join("")}var n=void 0,o=void 0;if(JQX.Utilities.BigNumber.bigIntSupport?(n=this,o=Array.isArray(n._d)?(n._s?"-":"")+(n._d.slice(0,n._f).join("")||"0")+(n._f!=n._d.length?"."+n._d.slice(n._f).join(""):""):this._d.toString()):(n=this.normalizeOperand(this),o=(n._s?"-":"")+(n._d.slice(0,n._f).join("")||"0")+(n._f!=n._d.length?"."+n._d.slice(n._f).join(""):"")),void 0===e||10===e)return o;var r=void 0;if(n.compare(0)>-1)switch(e){case 2:r=a(),i&&(r=r.padStart(t,"0"));break;case 8:r=function(e){for(var t="";e.length%3!=0;)e="0"+e;for(var i=e.length/3;i>=1;i--){var a=e[3*i-3]+""+e[3*i-2]+e[3*i-1];t=parseInt(a,2).toString(8)+""+t}return t}(a());break;case 16:r=function(e){for(var t="";e.length%4!=0;)e="0"+e;for(var i=e.length/4;i>=1;i--){var a=e[4*i-4]+""+e[4*i-3]+e[4*i-2]+e[4*i-1];t=parseInt(a,2).toString(16)+""+t}return t}(a()).toUpperCase(),i&&(r=r.padStart(t/4,"0"))}else{var l=n.negate(),s=a(l);r=function(e,t,i){var a="";if(String.prototype.repeat){e="0".repeat(i-e.length)+e}for(;e.length<i;)e="0"+e;a=e.replace(/0/g,"a"),a=a.replace(/1/g,"b"),a=a.replace(/a/g,"1"),a=a.replace(/b/g,"0");for(var n=!0,o="",r=a.length-1;r>=0;r--){var l,s=a.charAt(r);"0"===s?!0===n?(l="1",n=!1):l="0":l=!0===n?"0":"1",o=l+""+o}switch(t){case 2:return o;case 8:var d,u;switch(i){case 8:d=3,u="0";break;case 16:d=6,u="00";break;case 32:d=11,u="0";break;case 64:d=22,u="00"}o=u+o;for(var c="",p=d;p>=1;p--){var m=o[3*p-3]+""+o[3*p-2]+o[3*p-1];c=parseInt(m,2).toString(8)+""+c}return c;case 16:var v;switch(i){case 8:v=2;break;case 16:v=4;break;case 32:v=8;break;case 64:v=16}for(var h="",f=v;f>=1;f--){var g=o[4*f-4]+""+o[4*f-3]+o[4*f-2]+o[4*f-1];h=parseInt(g,2).toString(16)+""+h}return h.toUpperCase()}}(s,e,t)}return r}},{key:"_zeroes",value:function(e,t,i){var a=["push","unshift"][i||0];for(++t;--t;e[a](0));return e}},{key:"round",value:function(){if("_rounding"in this)return this;var e,t,i,a,n=JQX.Utilities.BigNumber,o=this.roundType,r=this._d;for(this._rounding=!0;this._f>1&&!r[0];--this._f,r.shift());for(e=this._f,t=this.precision+e,i=r[t];r.length>e&&!r[r.length-1];r.pop());return a=(this._s?"-":"")+(t-e?"0."+this._zeroes([],t-e-1).join(""):"")+1,r.length>t&&(i&&o!=n.DOWN&&(o==n.UP||(o==n.CEIL?!this._s:o==n.FLOOR?this._s:o==n.HALF_UP?i>=5:o==n.HALF_DOWN?i>5:o==n.HALF_EVEN&&(i>=5&&1&r[t-1])))&&this.add(a),r.splice(t,r.length-t)),delete this._rounding,this}},{key:"isZero",value:function(){return 1===this._d.length&&0===this._d[0]}},{key:"normalizeOperand",value:function(e){return e instanceof JQX.Utilities.BigNumber&&"bigint"==typeof e._d?new JQX.Utilities.BigNumber(e._d.toString()):e}}],[{key:"defaultPrecision",get:function(){return 40}},{key:"defaultRoundType",get:function(){return 4}},{key:"bigIntSupport",get:function(){return bigIntNativeSupport&&!0!==JQX.Utilities.BigNumber.ignoreBigIntNativeSupport}}]),e}()),JQX.Utilities.Assign("NumericProcessor",function e(t,i){switch(babelHelpers.classCallCheck(this,e),t[i]){case"integer":return new JQX.Utilities.IntegerNumericProcessor(t,i);case"floatingPoint":return new JQX.Utilities.DecimalNumericProcessor(t,i);case"complex":return new JQX.Utilities.ComplexNumericProcessor(t,i)}}),JQX.Utilities.Assign("BaseNumericProcessor",function(){function e(t,i){babelHelpers.classCallCheck(this,e);var a=this;a.context=t,a._longestLabelSize=0,a.numericFormatProperty=i,a.regexScientificNotation=new RegExp(/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|c|m|u|n|p|f|a|z|y){1}$/),a.regexNoLeadingZero=new RegExp(/^(-)?[.]\d+$/),a.regexLeadingZero=new RegExp(/^[+\-]?(0+)[1-9]+|^[+\-]?(0{2,})[.]|^(0{2,})$/),a.prefixesToPowers={Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,c:-2,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24},window.NIComplex?a.complexConstructor=window.NIComplex:a.complexConstructor=JQX.Utilities.Complex}return babelHelpers.createClass(e,[{key:"prepareForValidation",value:function(e,t,i){var a=this.context,n=e||void 0!==t;if(i=i.toString(),i=i.replace(/\s/g,""),i=a._discardDecimalSeparator(i),this.regexLeadingZero.test(i)){var o=this.regexLeadingZero.exec(i);i=o[1]?i.replace(o[1],""):o[2]?i.replace(o[2],"0"):i.replace(o[3],"0")}this.regexNoLeadingZero.test(i)?i="-"===i.charAt(0)?"-0"+i.slice(1):"0"+i:("integer"===a[this.numericFormatProperty]&&(10===a._radixNumber||n)||"floatingPoint"===a[this.numericFormatProperty])&&this.regexScientificNotation.test(i)&&(i=this.scientificToDecimal(i));var r=!1,l=void 0;if("complex"===a[this.numericFormatProperty]&&!1===a._regexSpecial.nonNumericValue.test(i))try{if(a._regexSpecial.exaValue.test(i)){var s=i.indexOf("E"),d=parseFloat(i.slice(0,s))*Math.pow(10,18),u=parseFloat(i.slice(s+1,-1));l=new this.complexConstructor(d,u)}else l=new this.complexConstructor(i);r=!0}catch(e){r=!1}return!1===r&&(!n&&!1===a._regex[a._radixNumber].test(i)||n&&!1===a._regex[10].test(i))?void a._handleNonNumericValue(e,t,i):{value:i,enteredComplexNumber:l}}},{key:"isENotation",value:function(e){return new RegExp(/e/i).test(e.toString())}},{key:"scientificToDecimal",value:function(e){var t=this.regexScientificNotation.exec(e),i=t[1],a=t[2];return parseFloat(i)*Math.pow(10,this.prefixesToPowers[a])}},{key:"_createMeasureLabel",value:function(){var e=this.context,t=document.createElement("div");return t.className="jqx-label",t.style.position="absolute",t.style.visibility="hidden","far"!==e.scalePosition?e._measureLabelScale=e.$.scaleNear:e._measureLabelScale=e.$.scaleFar,e._measureLabelScale.appendChild(t),t}},{key:"_addMajorTickAndLabel",value:function(e,t,i,a,n){var o=this.context,r=o._settings.leftOrTop,l=this.valueToPx(a),s="",d="";if(parseInt(l)>parseInt(o._measurements.trackLength))return{tick:s,label:d};if(o.logarithmicScale&&(e=o._formatLabel(Math.pow(10,a))),"jqx-tank"===o.nodeName.toLowerCase()||o._intervalHasChanged){var u=o._tickIntervalHandler.labelsSize;if(n){o._labelDummy.innerHTML=e;var c=this.valueToPx(a),p=this.valueToPx(o._drawMax),m=this.valueToPx(o._drawMin),v=o._labelDummy[o._settings.size],h="vertical"===o.orientation?o._labelDummy.offsetWidth:o._labelDummy.offsetHeight,f=(v+u.minLabelSize)/2,g=(v+u.maxLabelSize)/2;i=o._normalLayout?c+g<p&&c-f>m:c-g>p&&c+f<m,h>this._longestLabelSize&&(this._longestLabelSize=h)}else this._longestLabelSize=Math.max(u.minLabelOtherSize,u.maxLabelOtherSize,this._longestLabelSize)}if(o._tickValues.push(a),s='<div style="'+r+": "+l+'px;" class="jqx-tick"></div>',!1!==i){void 0===t&&(o._labelDummy.innerHTML=e,t=o._labelDummy[o._settings.size]);var _=l-t/2;d+='<div class="jqx-label'+(n?" jqx-label-middle":"")+'" style="'+r+": "+_+'px;">'+e+"</div>"}return{tick:s,label:d}}},{key:"getWordLength",value:function(e){switch(this.context._unsigned="u"===e.charAt(0),e){case"int8":case"uint8":return 8;case"int16":case"uint16":return 16;case"int32":case"uint32":return 32;case"int64":case"uint64":return 64}}},{key:"getAngleByValue",value:function(e,t,i){var a=this.context;!1!==t&&a.logarithmicScale&&(e=Math.log10(e));var n=(e-a._drawMin)*a._angleRangeCoefficient,o=void 0;return o=a.inverted?a.startAngle+n:a.endAngle-n,i?o:o*Math.PI/180+Math.PI/2}},{key:"getValueByAngle",value:function(e,t){var i=this.context,a=void 0,n=void 0,o=void 0;for(i.inverted?(a=e,n=i._normalizedStartAngle):(a=i.endAngle,n=e);a<n;)a+=360;if(o=(a-n)/i._angleDifference*i._range+parseFloat(i._drawMin),i.logarithmicScale){if(i.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(o,!0)).toFixed(12));o=Math.pow(10,o)}return t&&!i.coerce?Math.round(o):(o=this.createDescriptor(o,void 0,!0,!0),this.getCoercedValue(o,!1))}},{key:"updateGaugeValue",value:function(e){var t=this.context,i=t.value;t.value=e,t._drawValue=t.logarithmicScale?Math.log10(e).toString():e,t._number=this.createDescriptor(t.value),t.$.digitalDisplay.value=e,t.$.fireEvent("change",{value:e,oldValue:i}),delete t._valueBeforeCoercion}},{key:"validateColorRange",value:function(e){var t=this.context;return Math.min(Math.max(e,t.min),t.max)}},{key:"getActualValue",value:function(e){return this.context.logarithmicScale?Math.pow(10,e):e}},{key:"drawGaugeLogarithmicScaleMinorTicks",value:function(e,t,i){var a=this.context,n=void 0;t instanceof JQX.Utilities.BigNumber&&(t=parseFloat(t.toString()));for(var o in e)if(n=o,o>=0&&o%1==0)break;for(var r=parseFloat(n);r<a._drawMax;r+=t)for(var l=2;l<=9;l++){var s=l*Math.pow(10,r+t-1);s<a.max&&i(s)}for(var d=parseFloat(n);d>a._drawMin;d-=t)for(var u=2;u<=9;u++){var c=u*Math.pow(10,d-1);c>a.min&&i(c)}}},{key:"_getAngleDifference",value:function(e,t){var i=Math.abs(t-e)%360;return i>180?360-i:i}},{key:"addCustomTicks",value:function(){function e(e){var r=i.customTicks[e],l=a?t.createDescriptor(r):Math.log10(r),s=e>0&&e<i.customTicks.length-1,d=t._addMajorTickAndLabel(i._formatLabel(r),void 0,!0,l,s);n+=d.tick,o+=d.label}var t=this,i=t.context,a=!i.logarithmicScale,n="",o="";if(t._longestLabelSize=0,i._tickValues=[],i._labelDummy=t._createMeasureLabel(),i._normalLayout)for(var r=0;r<i.customTicks.length;r++)e(r);else for(var l=i.customTicks.length-1;l>=0;l--)e(l);"jqx-tank"===i.nodeName.toLowerCase()&&i._updateScaleWidth(t._longestLabelSize),i._appendTicksAndLabelsToScales(n,o)}},{key:"addGaugeCustomTicks",value:function(){var e=this,t=e.context,i=t._distance,a=t._measurements.radius-i.majorTickDistance,n=void 0,o=void 0;n="none"!==t.ticksVisibility&&!1!==t._plotTicks?function(e){t._drawTick(e,a,"major")}:function(){},o="none"!==t.labelsVisibility&&!1!==t._plotLabels?function(e,a,n){t._drawLabel(e,a,i.labelDistance,n)}:function(){};for(var r=t.customTicks.length-1;r>=0;r--)!function(i){var a=t.customTicks[i],r=e.createDescriptor(a),l=e.getAngleByValue(r,!0),s=i>0&&i<t.customTicks.length-1;n(l),o(l,a,s)}(r)}}]),e}()),JQX.Utilities.Assign("IntegerNumericProcessor",function(e){function t(e,i){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),n=a;return n.context=e,n.defaultMins={int8:"-128",uint8:"0",int16:"-32768",uint16:"0",int32:"-2147483648",uint32:"0",int64:"-9223372036854775808",uint64:"0"},n.defaultMaxs={int8:"127",uint8:"255",int16:"32767",uint16:"65535",int32:"2147483647",uint32:"4294967295",int64:"9223372036854775807",uint64:"18446744073709551615"},a}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"createDescriptor",value:function(e,t,i,a,n){var o=this.context,r=void 0;if(e.constructor!==JQX.Utilities.BigNumber){var l=!n&&o._radixNumber?o._radixNumber:10;10===l&&t&&e.constructor!==JQX.Utilities.BigNumber&&this.isENotation(e)&&(e=JQX.Utilities.BigNumber.bigIntSupport?new JQX.Utilities.BigNumber(Math.round(e)):new JQX.Utilities.NumberRenderer(e).largeExponentialToDecimal()),r=o._toBigNumberDecimal?o._toBigNumberDecimal(e.toString(l,o._wordLengthNumber),l):new JQX.Utilities.BigNumber(e)}else r=new JQX.Utilities.BigNumber(e);return i&&(o._unsigned&&-1===r.compare(0)&&(r=r.set(0)),a&&(r=this.validate(r,o._minObject,o._maxObject)),r=this.round(r)),r}},{key:"round",value:function(e){var t=this.context;if(e instanceof window.JQX.Utilities.BigNumber&&"bigint"==typeof e._d)return e;if(e instanceof window.JQX.Utilities.BigNumber==!1||!t._wordLengthNumber||t._wordLengthNumber<64)return new JQX.Utilities.BigNumber(Math.round(e.toString()));var i=e.mod(1);return 1===i._d.length&&0===i._d[0]||(e=e.intPart(),e._s?(i._d[1]>5||5===i._d[1]&&i._d[2])&&(e=e.add(-1)):i._d[1]>4&&(e=e.add(1))),e}},{key:"validate",value:function(e,t,i){return-1===e.compare(t)?t:1===e.compare(i)?i:e}},{key:"validateMinMax",value:function(e,t){var i=this.context,a=this.defaultMins[i.wordLength],n=new JQX.Utilities.BigNumber(a),o=this.defaultMaxs[i.wordLength],r=new JQX.Utilities.BigNumber(o),l="date"!==i.mode;if(void 0===i._numberRenderer&&(i._numberRenderer=new JQX.Utilities.NumberRenderer),e&&l){null!==i.min&&(i.min=i.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.min)&&(i.min=this.scientificToDecimal(i.min)));var s=this.round(new JQX.Utilities.BigNumber(i.min));null===i.min||i._minIsNull&&i._initialized||!(s.compare(n)>=0)?(i._minIsNull=!0,i.min=a,i._minObject=n):i._minObject=s}if(t&&l){null!==i.max&&(i.max=i.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.max)&&(i.max=this.scientificToDecimal(i.max)));var d=this.round(new JQX.Utilities.BigNumber(i.max));null===i.max||i._maxIsNull&&i._initialized||!(d.compare(r)<=0)?(i._maxIsNull=!0,i.max=o,i._maxObject=r):i._maxObject=d}l||(i._minObject=new JQX.Utilities.BigNumber(i.min),i._maxObject=new JQX.Utilities.BigNumber(i.max)),this.compare(i._minObject,i._maxObject)||(i._minObject=n,i._maxObject=r,i._drawMin=i.logarithmicScale?0:a,i._drawMax=i.logarithmicScale?10:o,i.min=a,i.max=o),l||(i._minDate=JQX.Utilities.DateTime.fromFullTimeStamp(i.min),i._maxDate=JQX.Utilities.DateTime.fromFullTimeStamp(i.max))}},{key:"valueToPx",value:function(e){var t=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var i=this.context,a=new JQX.Utilities.BigNumber(i._measurements.trackLength).divide(new JQX.Utilities.BigNumber(i._range)),n=void 0;if(i._normalLayout){var o=i._drawMin instanceof JQX.Utilities.BigNumber?i._drawMin:new JQX.Utilities.BigNumber(i._drawMin);e=new JQX.Utilities.BigNumber(e),n=parseFloat(a.multiply(e.subtract(o)).toString())}else{var r=i._drawMax instanceof JQX.Utilities.BigNumber?i._drawMax:new JQX.Utilities.BigNumber(i._drawMax);n=parseFloat(this.round(r.subtract(e).multiply(a)).toString())}return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=t,n}},{key:"pxToValue",value:function(e){var t=this.context,i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport,a=void 0;if(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,a=t._normalLayout?t._valuePerPx.multiply(e-t._trackStart):t._valuePerPx.multiply(t._trackEnd-e),a=this.round(a).toString(),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,t.logarithmicScale){var n=parseFloat(a)+parseFloat(t._drawMin);return new JQX.Utilities.BigNumber(Math.round(Math.pow(10,n)))}return this.createDescriptor(t._minObject.add(a),!1,!0,!0)}},{key:"compare",value:function(e,t,i){if((null===e||null===t)&&e!==t)return!0;e.constructor!==JQX.Utilities.BigNumber&&(e=new JQX.Utilities.BigNumber(e));var a=e.compare(t);return!0!==i?0!==a:a}},{key:"incrementDecrement",value:function(e,t,i){var a=this.context,n=void 0;if(e.constructor!==JQX.Utilities.BigNumber&&(e=new JQX.Utilities.BigNumber(e)),"add"===t){if(n=e.add(i),void 0!==a._drawMax)return n.compare(a._drawMax)>0?new JQX.Utilities.BigNumber(a._drawMax):n}else if(n=e.subtract(i),void 0!==a._drawMin)return n.compare(a._drawMin)<0?new JQX.Utilities.BigNumber(a._drawMin):n;return n}},{key:"render",value:function(e,t){var i=this.context;if(!i.scientificNotation&&!0===t)return new JQX.Utilities.NumberRenderer(new JQX.Utilities.BigNumber(e)).bigNumberToExponent(i.significantDigits);var a=e;return i.scientificNotation&&!0===t?a=new JQX.Utilities.NumberRenderer(a).toScientific(i.significantDigits,i.precisionDigits):"string"!=typeof e&&(a=e.toString(i._radixNumber,i._wordLengthNumber,i.leadingZeros)),a}},{key:"addTicksAndLabels",value:function(){var e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var t=this.context,i=t._measurements.trackLength,a=t._normalLayout,n=t._majorTicksInterval,o=this.round(new JQX.Utilities.BigNumber(t._range).divide(n)),r=i/o,l=new JQX.Utilities.BigNumber(t._drawMin),s=new JQX.Utilities.BigNumber(t._drawMax),d=void 0,u=void 0,c=void 0,p=void 0,m=void 0,v=void 0,h=void 0,f=void 0,g=void 0,_="",b="";t._tickValues=[],this._longestLabelSize=0,a?(d=l,u=n.add(d.subtract(d.mod(n))),c=u.subtract(d),m=t._formatLabel(l),v=t._tickIntervalHandler.labelsSize.minLabelSize,p=s,h=t._formatLabel(s),f=t._tickIntervalHandler.labelsSize.maxLabelSize):(d=s,u=d.subtract(d.mod(n)),c=d.subtract(u),m=t._formatLabel(s),v=t._tickIntervalHandler.labelsSize.maxLabelSize,p=l,h=t._formatLabel(l),f=t._tickIntervalHandler.labelsSize.minLabelSize),t._labelDummy=this._createMeasureLabel(),g=this._addMajorTickAndLabel(m,v,!0,d),_+=g.tick,b+=g.label;var y=c.divide(n).multiply(r);if(0!==u.compare(t.max)&&y.compare(i)<0){var w=t._formatLabel(u.toString()),x=y.compare(v)>0;g=this._addMajorTickAndLabel(w,void 0,x,u,!0),_+=g.tick,b+=g.label}g=this.addMiddleMajorTicks(o,r,y,c,a,n),_+=g.tick,b+=g.label,g=this._addMajorTickAndLabel(h,f,!0,p),_+=g.tick,b+=g.label,"date"!==t.mode&&(_+=this.addMinorTicks(a)),t._measureLabelScale.removeChild(t._labelDummy),delete t._labelDummy,delete t._measureLabelScale,"jqx-tank"===t.nodeName.toLowerCase()&&t._updateScaleWidth(this._longestLabelSize),t._appendTicksAndLabelsToScales(_,b),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}},{key:"addMiddleMajorTicks",value:function(e,t,i,a,n,o){for(var r=this.context,l="",s="",d=void 0,u=1;u<e;u++){var c=i.add(u*t),p=void 0;if(n?p=o.multiply(u).add(a.add(new JQX.Utilities.BigNumber(r._drawMin))):(p=new JQX.Utilities.BigNumber(r._drawMax).subtract(a).subtract(o.multiply(u)),u===e-1&&0===p.compare(0)&&(r._numberRenderer.numericValue=r._tickIntervalHandler.nearestPowerOfTen,d=r._numberRenderer.bigNumberToExponent(1))),0!==p.compare(r._drawMax)){var m=r._formatLabel(p.toString()),v=!0;r._labelDummy.innerHTML=d||m;var h=r._labelDummy[r._settings.size];c.add(h).compare(e*t)>=0&&(v=!1);var f=this._addMajorTickAndLabel(m,void 0,v,p,!0);l+=f.tick,s+=f.label}}return{tick:l,label:s}}},{key:"addMinorTicks",value:function(e){function t(e){-1===a.indexOf(e)&&e%o==0&&(u+='<div style="'+r+": "+i._numericProcessor.valueToPx(e)+'px;" class="jqx-tick jqx-tick-minor"></div>')}var i=this.context,a=i._tickValues,n=i._tickIntervalHandler.nearestPowerOfTen,o=i._minorTicksInterval,r=i._settings.leftOrTop,l=void 0,s=void 0,d=void 0,u="";if(e?(l=a[0],s=a[1],d=a[a.length-1]):(l=a[a.length-1],s=a[a.length-2],d=a[0]),i.logarithmicScale)!function(){var e=i._measurements.trackLength,t=e/a.length,n=.1;t<20?n=1:t>=20&&t<40?n=s-l>1?1:.5:t>=40&&t<80&&(n=.2);for(var o=Math.floor(i._drawMax),d=i._drawMax-o,c=i._drawMax-i._drawMin>a.length,p=i._drawMax;p>0;p-=1)for(var m=d>0?Math.pow(10,p-d+1):Math.pow(10,p),v=m*n,h=m;h>0;h-=v)if(h<i.max&&h>i.min){var f=new JQX.Utilities.BigNumber(Math.log10(h));(f%1==0&&c||!c)&&(u+='<div style="'+r+": "+i._numericProcessor.valueToPx(f)+'px;" class="jqx-tick jqx-tick-minor"></div>')}}();else{for(var c=s;l.compare(c)<0;c=c.subtract(n))t(c);for(var p=s.add(n);d.compare(p)>0;p=p.add(n))t(p)}return u}},{key:"validateCustomTicks",value:function(){for(var e=this.context,t="date"!==e.mode,i=[],a=0;a<e.customTicks.length;a++){var n=e.customTicks[a];t?n=this.createDescriptor(n,!1,!0):void 0===n._d&&(n=JQX.Utilities.DateTime.validateDate(n).getTimeStamp()),n.compare(e._minObject)>=0&&n.compare(e._maxObject)<=0&&i.push(n)}if(i.sort(function(e,t){return e.compare(t)}),t){for(var o=0;o<i.length;o++)i[o]=i[o].toString();i=i.filter(function(e,t,i){return!t||e!==i[t-1]})}e.customTicks=i.slice(0)}},{key:"addGaugeTicksAndLabels",value:function(){var e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var t=this.context,i=this,a=Math.max(t._tickIntervalHandler.labelsSize.minLabelSize,t._tickIntervalHandler.labelsSize.maxLabelSize),n=t._majorTicksInterval,o=t._minorTicksInterval,r={},l=t._distance,s=t._measurements.radius,d=s-l.majorTickDistance,u=s-l.minorTickDistance,c=new JQX.Utilities.BigNumber(t._drawMin),p=new JQX.Utilities.BigNumber(t._drawMax),m=void 0,v=void 0,h=void 0,f=void 0,g=void 0,_=void 0;"none"!==t.ticksVisibility&&!1!==t._plotTicks?(m=function(e){t._drawTick(e,d,"major")},v=function(e){t._drawTick(i.getAngleByValue(e,!0),u,"minor")}):(m=function(){},v=function(){}),h="none"!==t.labelsVisibility&&!1!==t._plotLabels?function(e,i,a){t._drawLabel(e,i,l.labelDistance,a)}:function(){},t.inverted?(g=t.startAngle,_=t.endAngle):(g=t.endAngle,_=t.startAngle),f=i.getAngleByValue(c,!1),m(f),r[t._drawMin.toString()]=!0,h(f,t.min,!1);var b=c.subtract(c.mod(n)),y=void 0;-1!==c.compare(0)&&(b=b.add(n));for(var w=new JQX.Utilities.BigNumber(b);-1!==w.compare(c);w=w.subtract(o))y=w;f=i.getAngleByValue(b,!1),m(f),r[b.toString()]=!0,2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(g,i.getAngleByValue(b,!1,!0))/360)>a&&h(f,this.getActualValue(b),-1===b.compare(p));var x=void 0;for(x=b.add(n);-1===x.compare(p.subtract(n));x=x.add(n))f=i.getAngleByValue(x,!1),m(f),r[x.toString()]=!0,h(f,this.getActualValue(x),!0);if(void 0===r[x.toString()]&&1!==x.compare(p)&&(f=i.getAngleByValue(x,!1),m(f),r[x.toString()]=!0,2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(_,i.getAngleByValue(x,!1,!0))/360)>=a&&h(f,this.getActualValue(x),!0),t._normalizedStartAngle!==t.endAngle&&(f=i.getAngleByValue(p,!1),m(f),2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(_,g)/360)>=a&&h(f,t.max,!1))),"date"===t.mode)return void(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e);if(t.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(r,n,v);else for(var C=y;-1===C.compare(p);C=C.add(o))r[C.toString()]||v(C);JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}},{key:"updateToolTipAndValue",value:function(e,t,i){var a=this.context,n=a.logarithmicScale;a._updateTooltipValue(e.toString()),n&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11))),e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e);var o=e.toString();a._number=e,a._drawValue=n?Math.log10(o):e,0!==e.compare(t)&&i&&("numeric"===a.mode?(a.value=o,e=o):(t=a._valueDate,a._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(o),a.value=e,e=a._valueDate),a._programmaticValueIsSet||a.$.fireEvent("change",{value:e,oldValue:t}),a.$.hiddenInput&&(a.$.hiddenInput.value=e))}},{key:"validateInterval",value:function(e){var t=this.context,i=t._maxObject.subtract(t._minObject);t._validInterval=new JQX.Utilities.BigNumber(e),t._validInterval=this.round(t._validInterval),1===t._validInterval.compare(i)&&(t._validInterval=i),t.interval=t._validInterval.toString()}},{key:"getCoercedValue",value:function(e,t,i){var a=this.context;if(!a.coerce)return e;var n=!a.logarithmicScale;e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e);var o=void 0,r=void 0;if(a.customInterval){var l=a.customTicks;if(0===l.length)return e
;var s=void 0,d=void 0;if(n||i){o=a._minObject,s=o.subtract(e).abs(),d=o;for(var u=0;u<l.length;u++){var c=this.createDescriptor(l[u]),p=c.subtract(e).abs();-1===p.compare(s)&&(s=p,d=c)}}else{o=a._drawMin,s=Math.abs(o-parseFloat(e.toString())),d=o;for(var m=0;m<l.length;m++){var v=Math.log10(l[m]),h=Math.abs(v-e);h<s&&(s=h,d=v)}d=new JQX.Utilities.BigNumber(d)}return d}var f=a._validInterval;if("date"===a.mode){if("addYears"===a._dateIncrementMethod)return this.coerceYear(e);if("addMonths"===a._dateIncrementMethod)return this.coerceMonth(e);f=new JQX.Utilities.BigNumber(a._dateIntervalNumber).multiply(f)}!1!==t?(o=new JQX.Utilities.BigNumber(a._drawMin),r=new JQX.Utilities.BigNumber(a._drawMax)):(o=new JQX.Utilities.BigNumber(a.min),r=new JQX.Utilities.BigNumber(a.max));var g=e.subtract(o),_=g.mod(f);if(0===_.compare(0))return e;var b=g.subtract(_),y=b.add(f);if(g.subtract(b).abs().compare(g.subtract(y).abs())<0)return b.add(o);var w=y.add(o);return w.compare(r)<=0?w:b.add(o)}},{key:"coerceMonth",value:function(e){var t=this.context,i=parseFloat(t._validInterval),a=JQX.Utilities.DateTime.fromFullTimeStamp(e),n=a.year(),o=a.month(),r=a.day(),l=t._minDate.year(),s=t._minDate.month(),d=12*(t._maxDate.year()-l-1)+12-s+t._maxDate.month(),u=12*(n-1-l)+(12-s)+o;1===i&&(-1!==[1,3,5,7,8,10,12].indexOf(o)?(r>16||16===r&&a.hour()>11)&&u++:2===o?a.isLeapYear(n)?(r>15||15===r&&a.hour()>11)&&u++:r>14&&u++:r>15&&u++),u=this.getCoercedTimePart(0,d,u,i);var c=t._minDate.addMonths(u,!0);return 1===c.compare(t._maxDate)&&(c=t._minDate.addMonths(u-i,!0)),t._drawValue=new JQX.Utilities.BigNumber(c.getTimeStamp()),t._drawValue}},{key:"coerceYear",value:function(e){var t=this.context,i=parseFloat(t._validInterval),a=JQX.Utilities.DateTime.fromFullTimeStamp(e),n=t._maxDate.year(),o=JQX.Utilities.DateTime.getConstructorParameters(t._minDate),r=a.year();a.month()>6&&r++;var l=this.getCoercedTimePart(t._minDate.year(),n,r,i);l>n&&(l-=i),o[0]=l,o.unshift(null);var s=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,o));return t._drawValue=new JQX.Utilities.BigNumber(s.getTimeStamp()),t._drawValue}},{key:"getCoercedTimePart",value:function(e,t,i,a){var n=i-e,o=n%a;if(0===o)return i;var r=parseFloat((n-o).toFixed(12)),l=r+a;if(t-e<=a)return i>=e+(t-e)/2?t:e;if(Math.abs(n-r)<Math.abs(n-l))return r+e;var s=l+e;return s>t?r+e:s}},{key:"updateValue",value:function(e){var t=this.context;e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e);var i=this.validate(e,t._minObject,t._maxObject),a=t.value,n=void 0,o=void 0;t._number=i,t._drawValue=t.logarithmicScale?Math.log10(i):i,"numeric"===t.mode?(n=e.toString(),t.value=n,o=this.compare(e,a)):(a=JQX.Utilities.DateTime.fromFullTimeStamp(a),t._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(e),t.value=e,e=t._valueDate,n=e,o=0!==e.compare(a)),t._programmaticValueIsSet||!o&&!t._scaleTypeChangedFlag||t.$.fireEvent("change",{value:n,oldValue:a}),t.$.hiddenInput&&(t.$.hiddenInput.value=e),t._moveThumbBasedOnValue(t._drawValue)}},{key:"getValuePerPx",value:function(e,t){var i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var a=new JQX.Utilities.BigNumber(e).divide(t);return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,a}},{key:"restrictValue",value:function(e){e[1].constructor===JQX.Utilities.BigNumber?-1===e[1].compare(e[0])&&e[1].set(e[0]):e[1]<e[0]&&(e[1]=e[0])}},{key:"getAngleByValue",value:function(e,i,a){var n=this.context,o=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;if(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,n._wordLengthNumber<64)return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=o,babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getAngleByValue",this).call(this,parseFloat(e.toString()),i,a);e instanceof JQX.Utilities.BigNumber==!1&&(e=new JQX.Utilities.BigNumber(e)),!1!==i&&n.logarithmicScale&&(e=new JQX.Utilities.BigNumber(Math.log10(e.toString())));var r=e.subtract(n._drawMin).multiply(n._angleRangeCoefficient),l=void 0;return l=n.inverted?r.add(n.startAngle):r.multiply(-1).add(n.endAngle),l=parseFloat(l.toString()),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=o,a?l:l*Math.PI/180+Math.PI/2}},{key:"getValueByAngle",value:function(e){var i=this.context;if(i._wordLengthNumber<64)return babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getValueByAngle",this).call(this,e,!0);var a=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport,n=void 0,o=void 0,r=void 0;for(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,i.inverted?(n=e,o=i._normalizedStartAngle):(n=i.endAngle,o=e);n<o;)n+=360;r=new JQX.Utilities.BigNumber((n-o)/i._angleDifference).multiply(i._range).add(i._drawMin),i.logarithmicScale&&(r=new JQX.Utilities.BigNumber(Math.pow(10,r.toString())));var l=void 0;return l=i.coerce?this.getCoercedValue(r,!1):this.round(r),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=a,new JQX.Utilities.BigNumber(l)}},{key:"updateGaugeValue",value:function(e){if(e instanceof JQX.Utilities.BigNumber==!1)return babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateGaugeValue",this).call(this,e);var i=this.context,a=i._getEventValue();"numeric"===i.mode?(i.value=e.toString(),i.$.digitalDisplay.value=i.value):(i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(e),i.value=e,i.$.digitalDisplay.$.input.value=i._valueDate),i._drawValue=i.logarithmicScale?Math.log10(i.value).toString():i.value,i._number=e,i.$.fireEvent("change",{value:i._getEventValue(),oldValue:a})}},{key:"validateColorRange",value:function(e){var i=this.context;if(i._wordLengthNumber<64)return babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validateColorRange",this).call(this,e);"numeric"===i.mode?e=new JQX.Utilities.BigNumber(e):(e=JQX.Utilities.DateTime.validateDate(e),e=e.getTimeStamp());var a=new JQX.Utilities.BigNumber(i.min),n=new JQX.Utilities.BigNumber(i.max);return-1===e.compare(a)&&(e=a),1===e.compare(n)&&(e=n),e}},{key:"lockRotation",value:function(e,t){var i=this.context;if(t instanceof JQX.Utilities.BigNumber==!1&&(t=new JQX.Utilities.BigNumber(t)),e&&-1===t.compare(i._number)){if(i._lockCW=!0,-1===t.compare(i._maxObject))return new JQX.Utilities.BigNumber(i._maxObject)}else if(!e&&1===t.compare(i._number)&&(i._lockCCW=!0,1===t.compare(i._minObject)))return new JQX.Utilities.BigNumber(i._minObject)}},{key:"getAngleRangeCoefficient",value:function(){var e=this.context,t=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,e._angleRangeCoefficient=new JQX.Utilities.BigNumber(e._angleDifference).divide(e._range),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=t}}]),t}(JQX.Utilities.BaseNumericProcessor)),JQX.Utilities.Assign("DecimalNumericProcessor",function(e){function t(e,i){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return a.context=e,a}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getPreciseModulo",value:function(e,t,i){var a=e>=0?1:-1;if(e=Math.abs(e),t=Math.abs(t),void 0===i){var n=e.toExponential(),o=t.toExponential(),r=parseInt(n.slice(n.indexOf("e")+1),10),l=parseInt(o.slice(o.indexOf("e")+1),10),s=r<0?Math.abs(r):0,d=l<0?Math.abs(l):0,u=Math.max(s,d);if(this.roundCoefficient=u,e<t)return a*e;if(e===t)return 0;if((e<-1||e>1)&&(t<-1||t>1||1===t)){if(e%1==0&&t%1==0)return a*(e%t);var c=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var p=a*parseFloat(new JQX.Utilities.BigNumber(e).mod(t).toString());return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=c,p}var m=Math.pow(10,u);return a*(e*m%(t*m)/m)}return a*(Math.round(e*i)%Math.round(t*i))}},{key:"createDescriptor",value:function(e,t,i,a){var n=parseFloat(e);return a&&(n=this.validate(n,this.context._minObject,this.context._maxObject)),n}},{key:"round",value:function(e){return Math.round(e)}},{key:"validate",value:function(e,t,i){return e<t?t:e>i?i:e}},{key:"validateMinMax",value:function(e,t){var i=this.context,a=void 0!==i._regexSpecial&&i._regexSpecial.inf.test(i.min),n=void 0!==i._regexSpecial&&i._regexSpecial.inf.test(i.max);e&&(null===i.min||a?(i.min=-1/0,i._minObject=-1/0):(i.min=i.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.min)&&(i.min=this.scientificToDecimal(i.min)),i._minObject=i._discardDecimalSeparator(i.min))),t&&(null===i.max||n?(i.max=1/0,i._maxObject=1/0):(i.max=i.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.max)&&(i.max=this.scientificToDecimal(i.max)),i._maxObject=i._discardDecimalSeparator(i.max))),this.compare(i._minObject,i._maxObject)||(i._maxObject=parseFloat(i._maxObject)+1,i.max=i._maxObject)}},{key:"valueToPx",value:function(e){var t=this.context,i=t._measurements.trackLength/t._range,a=void 0;return a=t._normalLayout?i*(e-t._drawMin):i*(t._drawMax-e),Math.round(a)}},{key:"pxToValue",value:function(e){var t=this.context,i=void 0;if(i=t._normalLayout?(e-t._trackStart)*t._valuePerPx:(t._trackEnd-e)*t._valuePerPx,t.logarithmicScale){var a=i+parseFloat(t._drawMin);return Math.pow(10,a)}return this.validate(i+t._minObject,t._minObject,t._maxObject)}},{key:"compare",value:function(e,t,i){return e=parseFloat(e),t=parseFloat(t),!0!==i?e!==t:e<t?-1:e>t?1:0}},{key:"incrementDecrement",value:function(e,t,i){var a=this.context,n=void 0;if("add"===t){if(n=parseFloat(e)+parseFloat(i),void 0!==a._drawMax)return n>parseFloat(a._drawMax)?a._drawMax:n}else if(n=parseFloat(e)-parseFloat(i),void 0!==a._drawMin)return n<parseFloat(a._drawMin)?a._drawMin:n;return n}},{key:"render",value:function(e){var t=this.context;if(void 0!==t._regexSpecial&&t._regexSpecial.nonNumericValue.test(e))return e;var i=new JQX.Utilities.NumberRenderer(e);return t.scientificNotation?i.toScientific(t.significantDigits,t.precisionDigits):i.toDigits(t.significantDigits,t.precisionDigits)}},{key:"addTicksAndLabels",value:function(){var e=this.context,t=e._measurements.trackLength,i=e._normalLayout,a=e._majorTicksInterval,n=Math.round(e._range/parseFloat(a.toString())),o=t/n,r=parseFloat(e._drawMin),l=parseFloat(e._drawMax),s=void 0,d=void 0,u=void 0,c=void 0,p=void 0,m=void 0,v=void 0,h=void 0,f=void 0,g="",_="";e._tickValues=[],this._longestLabelSize=0,i?(s=r,d=e.logarithmicScale&&r<0&&-1!==r?parseFloat(s-this.getPreciseModulo(s,a)):parseFloat(s-this.getPreciseModulo(s,a)+parseFloat(a)),u=d-s,p=e._formatLabel(r),m=e._tickIntervalHandler.labelsSize.minLabelSize,c=l,v=e._formatLabel(l),h=e._tickIntervalHandler.labelsSize.maxLabelSize):(s=l,d=parseFloat(s-this.getPreciseModulo(s,a)),u=s-d,p=e._formatLabel(l),m=e._tickIntervalHandler.labelsSize.maxLabelSize,c=r,v=e._formatLabel(r),h=e._tickIntervalHandler.labelsSize.minLabelSize),e._labelDummy=this._createMeasureLabel(),f=this._addMajorTickAndLabel(p,m,!0,s),g+=f.tick,_+=f.label;var b=u/a*o;if(d.toString()!==e._drawMax.toString()&&b<t){var y=e._formatLabel(d.toString()),w=m<b;f=this._addMajorTickAndLabel(y,void 0,w,d,!0),g+=f.tick,_+=f.label}f=this.addMiddleMajorTicks(n,o,b,u,i,a),g+=f.tick,_+=f.label,f=this._addMajorTickAndLabel(v,h,!0,c),g+=f.tick,_+=f.label,g+=this.addMinorTicks(i),e._measureLabelScale.removeChild(e._labelDummy),delete e._labelDummy,delete e._measureLabelScale,"jqx-tank"===e.nodeName.toLowerCase()&&e._updateScaleWidth(this._longestLabelSize),e._appendTicksAndLabelsToScales(g,_)}},{key:"addMiddleMajorTicks",value:function(e,t,i,a,n,o){for(var r=this.context,l="",s="",d=1;d<e;d++){var u=d*t+i,c=void 0;if(c=n?parseFloat(r._drawMin)+o*d+a:parseFloat(r._drawMax)-o*d-a,c.toString()!==r._drawMax.toString()){var p=r._formatLabel(c.toString()),m=!0;r._labelDummy.innerHTML=p;u+r._labelDummy[r._settings.size]>=e*t&&(m=!1);var v=this._addMajorTickAndLabel(p,void 0,m,c,!0);l+=v.tick,s+=v.label}}return{tick:l,label:s}}},{key:"addMinorTicks",value:function(e){function t(e){return parseFloat(e.toFixed(l))}function i(e){-1===n.indexOf(e)&&0===a._numericProcessor.getPreciseModulo(e,r,s)&&(m+='<div style="'+d+": "+a._numericProcessor.valueToPx(e)+'px;" class="jqx-tick jqx-tick-minor"></div>')}var a=this.context,n=a._tickValues,o=a._tickIntervalHandler.nearestPowerOfTen,r=a._minorTicksInterval,l=Math.log10(o)<0?Math.round(Math.abs(Math.log10(o))):0,s=Math.pow(10,l),d=a._settings.leftOrTop,u=void 0,c=void 0,p=void 0,m="";if(e?(u=n[0],c=n[1],p=n[n.length-1]):(u=n[n.length-1],c=n[n.length-2],p=n[0]),a.logarithmicScale)!function(){var e=a._measurements.trackLength,t=e/n.length,i=.1;t<20?i=1:t>=20&&t<40?i=c-u>1?1:.5:t>=40&&t<80&&(i=.2);for(var o=Math.floor(a._drawMax),r=a._drawMax-o,l=a._drawMax-a._drawMin>n.length,s=a._drawMax;s>a._drawMin-1;s-=1)for(var p=r>0?Math.pow(10,s-r+1):Math.pow(10,s),v=p*i,h=p;h>0;h-=v)if(h<a.max&&h>a.min){var f=new JQX.Utilities.BigNumber(Math.log10(h));(f%1==0&&l||!l)&&(m+='<div style="'+d+": "+a._numericProcessor.valueToPx(f)+'px;" class="jqx-tick jqx-tick-minor"></div>')}}();else{for(var v=c;v>u;v=t(v-o))i(v);for(var h=t(c+o);h<p;h=t(h+o))i(h)}return m}},{key:"validateCustomTicks",value:function(){for(var e=this.context,t=[],i=0;i<e.customTicks.length;i++){var a=e.customTicks[i],n=this.createDescriptor(a);n>=e._minObject&&n<=e._maxObject&&t.push(n.toString())}t.sort(function(e,t){return e-t}),t=t.filter(function(e,t,i){return!t||e!==i[t-1]}),e.customTicks=t.slice(0)}},{key:"addGaugeTicksAndLabels",value:function(){var e=this.context,t=this,i=Math.max(e._tickIntervalHandler.labelsSize.minLabelSize,e._tickIntervalHandler.labelsSize.maxLabelSize),a=e._majorTicksInterval,n=e._minorTicksInterval,o={},r=e._distance,l=e._measurements.radius,s=l-r.majorTickDistance,d=l-r.minorTickDistance,u=void 0,c=void 0,p=void 0,m=void 0,v=void 0,h=void 0;"none"!==e.ticksVisibility&&!1!==e._plotTicks?(u=function(t){e._drawTick(t,s,"major")},c=function(i){e._drawTick(t.getAngleByValue(i,!0),d,"minor")}):(u=function(){},c=function(){}),p="none"!==e.labelsVisibility&&!1!==e._plotLabels?function(t,i,a){e._drawLabel(t,i,r.labelDistance,a)}:function(){},e.inverted?(v=e.startAngle,h=e.endAngle):(v=e.endAngle,h=e.startAngle),m=t.getAngleByValue(e._drawMin,!1),u(m),o[e._drawMin]=!0,p(m,e.min,!1);var f=e._drawMin-t.getPreciseModulo(e._drawMin,a),g=void 0;e._drawMin>=0&&(f+=a);for(var _=f;_>=e._drawMin;_-=n)g=_;m=t.getAngleByValue(f,!1),u(m),o[f]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(v,t.getAngleByValue(f,!1,!0))/360)>i&&p(m,this.getActualValue(f),f<e._drawMax);var b=void 0;for(b=f+a;b<e._drawMax-a;b+=a)m=t.getAngleByValue(b,!1),u(m),o[b]=!0,p(m,this.getActualValue(b),!0);if(void 0===o[b]&&b<=e._drawMax&&(m=t.getAngleByValue(b,!1),u(m),o[b]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(h,t.getAngleByValue(b,!1,!0))/360)>=i&&p(m,this.getActualValue(b),!0),e._normalizedStartAngle!==e.endAngle&&(m=t.getAngleByValue(e._drawMax,!1),u(m),o[e._drawMax]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(h,v)/360)>=i&&p(m,e.max,!1))),e.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(o,a,c);else for(var y=g;y<e._drawMax;y+=n)o[y]||c(y)}},{key:"updateToolTipAndValue",value:function(e,t,i){var a=this.context,n=a.logarithmicScale;a._updateTooltipValue(e),n&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));var o=e.toString();a._number=e,a._drawValue=n?Math.log10(o):e,o!==t&&i&&(a.value=a._discardDecimalSeparator(o),a._programmaticValueIsSet||a.$.fireEvent("change",{value:a.value,oldValue:t}),a.$.hiddenInput&&(a.$.hiddenInput.value=a.value))}},{key:"validateInterval",value:function(e){var t=this.context,i=t._maxObject-t._minObject;t._validInterval=Math.min(parseFloat(e),i),t.interval=t._validInterval}},{key:"getCoercedValue",value:function(e,t,i){var a=this.context;if(!a.coerce)return e;var n=!a.logarithmicScale,o=void 0,r=void 0;if(a.customInterval){var l=a.customTicks;if(0===l.length)return e;n=n||i,o=!1!==t?parseFloat(a._drawMin):a._minObject;for(var s=Math.abs(o-e),d=o,u=0;u<l.length;u++){var c=this.createDescriptor(l[u]),p=n?c:Math.log10(c),m=Math.abs(p-e);m<s&&(s=m,d=p)}return d}!1!==t?(o=parseFloat(a._drawMin),r=parseFloat(a._drawMax)):(o=parseFloat(a.min),r=parseFloat(a.max));var v=e-o,h=this.getPreciseModulo(v,parseFloat(a.interval)),f=this.roundCoefficient;if(0===h)return e;0===this.roundCoefficient&&(f=12);var g=parseFloat((v-h).toFixed(f)),_=g+parseFloat(a.interval);if(a.max-a.min<=parseFloat(a.interval)&&n){var b=o,y=r;return e>=b+(y-b)/2?y:b}if(Math.abs(v-g)<Math.abs(v-_))return g+o;var w=_+o;return w>r?g+o:w}},{key:"updateValue",value:function(e){var t=this.context,i=this.validate(e,t._minObject,t._maxObject),a=t.value;e.toString()!==a.toString()||t._scaleTypeChangedFlag?(t.value=e.toString(),t._number=i,t._programmaticValueIsSet||t.$.fireEvent("change",{value:t.value,oldValue:a})):t.value="string"==typeof e?e:e.toString(),t._drawValue=t.logarithmicScale?Math.log10(i).toString():i.toString(),t._moveThumbBasedOnValue(t._drawValue),t.$.hiddenInput&&(t.$.hiddenInput.value=t.value)}},{key:"getValuePerPx",value:function(e,t){return parseFloat(e)/t}},{key:"restrictValue",value:function(e){e[1]<e[0]&&(e[1]=e[0])}},{key:"lockRotation",value:function(e,t){var i=this.context;if(e&&t<i._number){if(i._lockCW=!0,t<i._maxObject)return i._maxObject}else if(!e&&t>i._number&&(i._lockCCW=!0,t>i._minObject))return i._minObject}},{key:"getAngleRangeCoefficient",value:function(){var e=this.context;e._angleRangeCoefficient=e._angleDifference/e._range}}]),t}(JQX.Utilities.BaseNumericProcessor)),JQX.Utilities.Assign("ComplexNumericProcessor",function(e){function t(e,i){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return a.context=e,a}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"createDescriptor",value:function(e,t,i,a,n,o){var r=void 0;return r=o||(e.constructor===this.complexConstructor?new this.complexConstructor(e.realPart,e.imaginaryPart):new this.complexConstructor(e)),a&&(r=this.validate(r,this.context._minObject,this.context._maxObject)),r}},{key:"validate",value:function(e,t,i){var a=e;return t!==-1/0?-1===this.compareComplexNumbers(e,t)&&(a=new this.complexConstructor(t.realPart,t.imaginaryPart)):i!==1/0&&1===this.compareComplexNumbers(e,i)&&(a=new this.complexConstructor(i.realPart,i.imaginaryPart)),a}},{key:"compare",value:function(e,t,i){return!0!==i?0!==this.compareComplexNumbers(e,t):this.compareComplexNumbers(e,t)}},{key:"validateMinMax",value:function(e,t){var i=this.context;e&&(null===i.min||i._regexSpecial.inf.test(i.min)?(i.min=-1/0,i._minObject=-1/0):i._minObject=new this.complexConstructor(i.min)),t&&(null===i.max||i._regexSpecial.inf.test(i.max)?(i.max=1/0,i._maxObject=1/0):i._maxObject=new this.complexConstructor(i.max))}},{key:"incrementDecrement",value:function(e,t){var i=new this.complexConstructor(e.realPart,e.imaginaryPart),a=this.context._spinButtonsStepObject;return"add"===t?(i.realPart+=a.realPart,i.imaginaryPart+=a.imaginaryPart):(i.realPart-=a.realPart,i.imaginaryPart-=a.imaginaryPart),i}},{key:"render",value:function(e){var t=e;if(!1===this.context._regexSpecial.nonNumericValue.test(e)){var i=t.realPart,a=t.imaginaryPart,n=void 0,o=this.context.significantDigits,r=this.context.precisionDigits;a>=0?n="+":(n="-",a=Math.abs(a));var l=new JQX.Utilities.NumberRenderer(i),s=new JQX.Utilities.NumberRenderer(a);this.context.scientificNotation?(i=l.toScientific(o,r),a=s.toScientific(o,r)):(i=l.toDigits(o,r),a=s.toDigits(o,r)),t=i+" "+n+" "+a+"i"}return t}},{key:"compareComplexNumbers",value:function(e,t){if(e instanceof this.complexConstructor==!1||t instanceof this.complexConstructor==!1)return-1;var i=e.realPart,a=t.realPart;if(i<a)return-1;if(i>a)return 1;var n=e.imaginaryPart,o=t.imaginaryPart;return n<o?-1:n>o?1:0}}]),t}(JQX.Utilities.BaseNumericProcessor)),JQX.Utilities.Assign("NumberRenderer",function(){function e(t){babelHelpers.classCallCheck(this,e);var i=this;i.numericValue=t,i.powersToPrefixes={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-2":"c","-3":"m","-6":"u","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},i.localizationObject={currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",defaultPrecision:2}}return babelHelpers.createClass(e,[{key:"isENotation",value:function(e){return new RegExp(/e/i).test(e)}},{key:"largeExponentialToDecimal",value:function(e){var t=void 0;void 0===e&&(e=this.numericValue,t=!0);var i=e.toString().toLowerCase(),a=i.indexOf("e"),n=new JQX.Utilities.BigNumber(i.slice(0,a)),o=i.slice(a+1,a+2);"+"!==o&&"-"!==o&&(i=i.slice(0,a)+"e+"+i.slice(a+1),o="+");var r=i.slice(a+2),l=new JQX.Utilities.BigNumber(10),s=l.pow(o+(t?Math.min(20,r):r));return n.multiply(s).toString()}},{key:"bigNumberToExponent",value:function(e,t){var i=this.numericValue;i.constructor!==JQX.Utilities.BigNumber&&(i=new JQX.Utilities.BigNumber(i));var a=i._f,n=i.toString();if(a<=10)return t?parseFloat(n).toExponential(null!==e?e-1:void 0):new JQX.Utilities.NumberRenderer(parseFloat(n)).toDigits(e);if(e>=a&&!t)return n;var o=void 0;!1===i._s?o="":(o="-",n=n.slice(1)),parseFloat(n.slice(e,e+1))>=5&&(n=new JQX.Utilities.BigNumber(n.slice(0,e)).add(1).toString());var r=n.slice(1,e);if(t)e--,r.length>0&&e>r.length?r+="0".repeat(e-r.length):0===r.length&&(r="0".repeat(e));else for(;r.length>0&&"0"===r.charAt(r.length-1);)r=r.slice(0,r.length-1);var l=r.length>0?".":"",s=a-1;return o+n.slice(0,1)+l+r+"E+"+s}},{key:"toScientific",value:function(){var e=this,t=void 0;t=e.numericValue._d?e.bigNumberToExponent(null!==arguments[0]?arguments[0]:arguments[1]+1,!0).toLowerCase():Number(e.numericValue.toString()).toExponential();var i=t.indexOf("e"),a=t.slice(i+1),n=parseFloat(t.slice(0,i));if("-2"===a)return n+"c";var o=parseInt(a,10)%3;if(o>0)for(var r=0;r<o;r++)n*=10;else if(o<0){var l=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,n=parseFloat(new JQX.Utilities.BigNumber(n).multiply(Math.pow(10,o)).toString()),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=l}if(a>0){var s=n>=0?0:1,d=t.slice(s,i).length-o-2;d>=0&&(n=n.toFixed(d))}n=new JQX.Utilities.NumberRenderer(n).toDigits(arguments[0],arguments[1]);var u=parseInt(a,10)-o;return n+e.powersToPrefixes[u.toString()]}},{key:"bigNumberToScientific",value:function(){var e=this,t=e.numericValue._f-1,i=parseInt(t,10)%3,a=parseInt(t,10)-i,n=e.numericValue.toString(),o=void 0,r=void 0;if("-"===n.charAt(0)?(o="-",n=n.slice(1)):o="",null!==arguments[0])for(r=n.slice(0,arguments[0]),parseFloat(n.slice(arguments[0],arguments[0]+1))>=5&&(r=new JQX.Utilities.BigNumber(r).add(1).toString());r.length>1+i&&"0"===r.charAt(r.length-1);)r=r.slice(0,r.length-1);else null!==arguments[1]&&(r=n.slice(0,arguments[1]+1),parseFloat(n.slice(arguments[1]+1,arguments[1]+2))>=5&&(r=new JQX.Utilities.BigNumber(r).add(1).toString()),arguments[1]+i>r.length-1&&(r+="0".repeat(arguments[1]+i-r.length+1)));return r.length>1+i&&(r=r.slice(0,1+i)+"."+r.slice(1+i)),o+r+e.powersToPrefixes[a.toString()]}},{key:"toDigits",value:function(e,t){var i=this;return null!==e?i.applySignificantDigits(e):null!==t?i.applyPrecisionDigits(t):i.applySignificantDigits(8)}},{key:"applySignificantDigits",value:function(e){function t(e){for(;"0"===e.charAt(e.length-1);)e=e.slice(0,-1);return"."===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}var i=this;e=Math.max(1,Math.min(e,21));var a=parseFloat(i.numericValue).toPrecision(e).toUpperCase();if(-1!==a.indexOf("."))if(i.isENotation(a)){var n=a.indexOf("."),o=a.indexOf("E"),r=a.slice(n,o);r=t(r),a=a.slice(0,n)+r+a.slice(o)}else a=t(a);return a}},{key:"applyPrecisionDigits",value:function(e){var t=this;e=Math.max(0,Math.min(e,20));var i=parseFloat(t.numericValue).toFixed(e);return t.isENotation(i)&&(i=t.largeExponentialToDecimal(i)+"."+"0".repeat(e)),i}},{key:"getLogarithm",value:function(e){var t=this.numericValue,i=void 0;if(void 0===e&&(e=10),10===e)try{i=Math.log10(t)}catch(e){i=Math.log(t)/Math.log(10)}else i=Math.log(t)/Math.log(e);return i}},{key:"applySeparators",value:function(e,t){var i=this;e=e.toString();var a=e.indexOf(".");if(-1!==a){var n=e.slice(0,a),o=e.slice(a+1);return i.applyThousandsSeparator(n,t)+i.localizationObject.decimalseparator+o}return i.applyThousandsSeparator(e,t)}},{key:"applyThousandsSeparator",value:function(e,t){if(t)return e;var i="";e=e.toString(),"-"===e.charAt(0)&&(i="-",e=e.slice(1));for(var a=e.split("").reverse(),n=2;n<a.length-1;n+=3)a[n]=this.localizationObject.thousandsseparator+a[n];return a.reverse(),a=a.join(""),i+a}},{key:"formatNumber",value:function(e,t,i){var a=this;if(void 0===arguments[3]&&delete a._ignoreMinus,delete a._wordLengthNumber,!/^([a-zA-Z]\d*)$/g.test(t))try{return a.applyCustomFormat(e,t)}catch(t){return e.toString()}var n=t.slice(0,1),o=t.slice(1);if(""!==o&&(isNaN(parseFloat(o))||parseFloat(o)<0||parseFloat(o)>99?o="":parseFloat(o)%1!=0&&(o=Math.round(o))),e._d)a.inputFormat="integer";else{if(e.imaginaryPart)return a.formatComplexNumber(e,t,n,o);a.inputFormat="floatingPoint"}var r=new JQX.Utilities.NumericProcessor(a,"inputFormat"),l=r.createDescriptor(e),s=void 0;switch(a._wordLengthNumber=r.getWordLength(i||"int32"),"integer"===a.inputFormat&&(l=r.round(l)),a.numericValue=l,n){case"C":case"c":return""===o&&(o=a.localizationObject.defaultPrecision),o=parseFloat(o),s="floatingPoint"===a.inputFormat?a.applyPrecisionDigits(o):l.toString()+(o>0?"."+"0".repeat(o):""),s=a.applySeparators(s),"before"===a.localizationObject.currencysymbolposition?"-"===s.charAt(0)?"-"+a.localizationObject.currencysymbol+s.slice(1):a.localizationObject.currencysymbol+s:s+" "+a.localizationObject.currencysymbol;case"D":case"d":if(s=l,"floatingPoint"===a.inputFormat&&(s=Math.round(l)),s=s.toString(),""===o)return s;var d="";"-"===s.charAt(0)&&(d="-",s=s.slice(1));var u=o-s.length;return u>0&&(s="0".repeat(u)+s),d+s;case"E":case"e":case"U":case"u":""===o&&(o=6),s="floatingPoint"===a.inputFormat?l.toExponential(o):a.bigNumberToExponent(parseFloat(o)+1,!0).toLowerCase();var c=s.indexOf("e"),p=s.slice(c+2).length;return p<3&&(s=s.slice(0,c+2)+"0".repeat(3-p)+s.slice(c+2)),"u"===n.toLowerCase()?a.exponentialToSuperscript(a.applySeparators(s,!0)):("E"===n&&(s=s.toUpperCase()),a.applySeparators(s,!0));case"F":case"f":case"N":case"n":return""===o&&(o=a.localizationObject.defaultPrecision),o=parseFloat(o),s="floatingPoint"===a.inputFormat?a.applyPrecisionDigits(o):l.toString()+(o>0?"."+"0".repeat(o):""),a.applySeparators(s,"f"===n.toLowerCase());case"G":case"g":if(""===o||"0"===o)if("floatingPoint"===a.inputFormat)o=15;else switch(i){case"int8":case"uint8":o=3;break;case"int16":case"uint16":o=5;break;case"int64":o=19;break;case"uint64":o=20;break;default:o=10}o=parseFloat(o);var m=a.formatNumber(e,"E"+o,i),v=m.indexOf("E"),h=parseInt(m.slice(v+1),10);if(h>-5&&h<o)return"floatingPoint"===a.inputFormat?a.applySeparators(a.applySignificantDigits(o),!0):l.toString();if(h>-100&&h<100&&(m=m.slice(0,v+2)+m.slice(v+3)),-1!==m.indexOf(a.localizationObject.decimalseparator)){for(;"0"===m.charAt(v-1);)m=m.slice(0,v-1)+m.slice(v),v=m.indexOf("E");m.charAt(v-1)===a.localizationObject.decimalseparator&&(m=m.slice(0,v-1)+m.slice(v))}return"g"===n&&(m=m.toLowerCase()),m;case"P":case"p":return""===o&&(o=a.localizationObject.defaultPrecision),o=parseFloat(o),"floatingPoint"===a.inputFormat?(a.numericValue=100*l,s=a.applyPrecisionDigits(o)):s=l.multiply(100).toString()+(o>0?"."+"0".repeat(o):""),a.applySeparators(s)+" %";case"B":case"b":case"O":case"o":case"X":case"x":"integer"!==a.inputFormat&&(a.inputFormat="integer",r=new JQX.Utilities.NumericProcessor(a,"inputFormat"),l=r.round(r.createDescriptor(e)));var f=void 0;switch(n){case"B":case"b":f=2;break;case"O":case"o":f=8;break;default:f=16}if(s=l.toString(f,a._wordLengthNumber),""!==o){var g=parseFloat(o)-s.length;g>0&&(s="0".repeat(g)+s)}return"x"===n&&(s=s.toLowerCase()),s;case"S":case"s":return""===o&&(o=a.localizationObject.defaultPrecision),o=parseFloat(o),a.toScientific(null,o).replace(".",a.localizationObject.decimalseparator);default:return e.toString()}}},{key:"formatComplexNumber",value:function(e,t,i){var a=this;switch(i){case"E":case"e":case"U":case"u":case"F":case"f":case"G":case"g":case"N":case"n":case"S":case"s":return e.imaginaryPart>=0?a.formatNumber(e.realPart,t)+" + "+a.formatNumber(e.imaginaryPart,t)+"i":a.formatNumber(e.realPart,t)+" - "+a.formatNumber(Math.abs(e.imaginaryPart),t)+"i";default:return e.toString()}}},{key:"toString",value:function(e,t,i){return t?this.formatNumber(e,t,i):e.toString()}},{key:"applyCustomFormat",value:function(e,t){var i=this;t=t.replace(/_.|\[\w*\]|\*/g,""),t=t.replace(/\?/g,"#");var a=t.split(";");if("string"==typeof e&&isNaN(e))return a[a.length-1].replace(/"/g,"").replace(/@/g,e.toString());if(e._d)i.inputFormat="integer";else{if(e.imaginaryPart)return e.toString();e=parseFloat(e),i.inputFormat="floatingPoint"}var n=new JQX.Utilities.NumericProcessor(i,"inputFormat"),o=n.createDescriptor(e);"integer"===i.inputFormat&&(o=n.round(o)),i.numericProcessor=n;var r=i.getRelevantFormatSection(a,o);if(void 0===r)return e.toString();if(-1!==r.indexOf("@"))return a[a.length-1].replace(/"/g,"").replace(/@/g,e.toString());var l=-1!==r.replace(/".*"/g,"").indexOf("%"),s=i.getTextParts(r);if(-1!==s.main.toLowerCase().indexOf("e"))return i.applyCustomExponentialFormat(o,s,n);if(-1!==s.main.indexOf("/"))return i.applyCustomFractionalFormat(o,s,n);if(l&&("integer"===i.inputFormat?o=o.multiply(100):o*=100),""===s.main){if(!l)return s.suffix;var d=o.toString();return i._ignoreMinus&&"-"===d.charAt(0)&&(d=d.slice(1)),d+s.suffix}var u=s.main.replace(/[^0#,. \/]/g,""),c=u.indexOf(".");for(-1!==c&&(u=u.substring(0,c+1)+u.substring(c+1).replace(/\./g,""),"."===u.charAt(u.length-1)&&(u=u.slice(0,u.length-1)),0===c&&(u="#"+u));","===u.charAt(u.length-1);)u=u.slice(0,u.length-1),"floatingPoint"===i.inputFormat?o/=1e3:o=o.multiply(.001);"integer"===i.inputFormat&&(o=n.round(o));var p=-1!==u.indexOf(",");u=u.replace(/,/g,"");var m=u.split("."),v=m[0],h=m[1],f="";if(1===m.length)return"floatingPoint"===i.inputFormat&&(o=n.round(o)),f=o.toString(),i.setTextParts(i.formatWholeNumber(f,v,p),s);f=o.toString();var g=f.split("."),_=i.formatWholeNumber(g[0],v,p),b=g[1]||"";if(h.length<=b.length&&(f=parseFloat(o.toFixed(h.length)).toString(),g=f.split("."),_=i.formatWholeNumber(g[0],v,p),b=g[1]||""))return i.setTextParts(_+i.localizationObject.decimalseparator+b.slice(0,h.length),s);h=h.slice(b.length-h.length);var y=h.lastIndexOf("0");return-1===y?""===b?i.setTextParts(_,s):i.setTextParts(_+i.localizationObject.decimalseparator+b,s):i.setTextParts(_+i.localizationObject.decimalseparator+b+"0".repeat(y+1),s)}},{key:"getRelevantFormatSection",value:function(e,t){var i=this,a=i.numericProcessor.compare(t,0,!0);if(1===a)return e[0];var n=void 0,o=void 0;return e.length>=3?(i._ignoreMinus=!0,n=1,o=2):2===e.length?(i._ignoreMinus=!0,o=0,n=1):1===e.length&&(o=0,n=0),0===a?e[o]:-1===a?e[n]:void 0}},{key:"getTextParts",value:function(e){var t=e.replace(/"[^"]*"/g,""),i=e.match(/"[^"]*"/g),a=t.search(/0|#|\./g),n=Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"),t.lastIndexOf("."),t.lastIndexOf(",")),o=t.slice(a,n+1);if(""===o)return{prefix:"",main:"",suffix:e.replace(/"/g,"")};var r=e.indexOf(o),l=r+o.length;if(i)for(var s=0;s<i.length;s++){var d=e.indexOf(i[s]);r>=d&&l<=d+i[s].length&&(r=e.indexOf(o,d+i[s].length),l=r+o.length)}return{prefix:e.slice(0,r).replace(/"/g,""),main:o,suffix:e.slice(l).replace(/"/g,"")}}},{key:"applyCustomExponentialFormat",value:function(e,t,i){var a=this,n=t.main,o=void 0,r=-1!==n.indexOf(",");n=n.replace(/[^0#.eE+-]/g,"");var l=n.toLowerCase().indexOf("e");n=n.substring(0,l+1)+n.substring(l+1).replace(/[eE\.]/g,"");var s=n.charAt(l),d=n.indexOf(".");-1!==d&&(n=n.substring(0,d+1)+n.substring(d+1).replace(/\./g,"")),"."===n.charAt(n.length-1)&&(n=n.slice(0,n.length-1))
;var u=n.split(s),c=u[0],p=c.split("."),m=p[0],v=p[1],h=u[1],f=e.toString().split(".")[0].replace(/-/,""),g=0;if("0"===f&&i.compare(e,0)){for(var _=m.length-1;0===parseInt(e);)g++,e*=10;f=e.toString().split(".")[0].replace(/-/,""),g+=_,e*=Math.pow(10,_)}if(r&&(c=c.slice(0,1)+","+c.slice(1)),f.length<=m.length)o=a.formatNumber(e,c,void 0,!0)+s+a.formatExponent(0-g,h);else{var b=f.length-m.length,y="floatingPoint"===a.inputFormat?e/Math.pow(10,b):e.divide(Math.pow(10,b));if(!v){o=a.applyThousandsSeparator(i.round(y).toString(),!r)+s+a.formatExponent(b-g,h)}var w=y.toString().split(".")[1]||"";w.length===v.length?o=a.applySeparators(y,!r)+s+a.formatExponent(b-g,h):w.length<v.length?o=a.formatNumber(y,c,void 0,!0)+s+a.formatExponent(b-g,h):(y="floatingPoint"===a.inputFormat?y.toFixed(v.length):y=i.round(e.divide(Math.pow(10,b-v.length))).divide(Math.pow(10,v.length)),o=a.formatNumber(parseFloat(y),c,void 0,!0)+s+a.formatExponent(b-g,h))}return a.setTextParts(o,t)}},{key:"formatExponent",value:function(e,t){var i=void 0;return-1!==["+","-"].indexOf(t.charAt(0))&&(i=t.charAt(0),(e>0&&"-"===i||e<0&&"+"===i)&&(i=void 0)),e<0&&(e=Math.abs(e),i="-"),t=t.replace(/[+-]/g,""),e=this.formatNumber(e,t,void 0,!0),(i||"")+e}},{key:"formatWholeNumber",value:function(e,t,i){var a=this,n="";if("-"===e.charAt(0)&&(a._ignoreMinus||(n="-"),e=e.slice(1)),"0"===e){if(t==="#".repeat(t.length))return n;e=""}if(t.length<=e.length)return n+a.applyThousandsSeparator(e,!i);t=t.slice(0,t.length-e.length);for(var o=t.length-1;o>=0;o--)"0"===t.charAt(o)&&(e="0"+e);return n+a.applyThousandsSeparator(e,!i)}},{key:"setTextParts",value:function(e,t){return t.prefix+e+t.suffix}},{key:"applyCustomFractionalFormat",value:function(e,t,i){var a=this,n=/^([0#,]+[ ]+)?([0#,]+\/[0#,]+)$/,o=t.main.trim(),r=void 0;if(!n.test(o))return e.toString();var l=n.exec(o);if(l[2]=l[2].replace(/,/g,""),"integer"===a.inputFormat){var s=l[2].split("/");return void 0===l[1]?r=a.formatNumber(e,s[0],void 0,!0)+"/"+a.formatNumber(1,s[1],void 0,!0):(r=a.formatNumber(e,l[1].trim(),void 0,!0),-1!==l[2].indexOf("0")&&(r+=" "+a.formatNumber(0,s[0],void 0,!0)+"/"+a.formatNumber(1,s[1],void 0,!0))),a.setTextParts(r,t)}if(void 0===l[1])r=(e<0?"-":"")+a.formatAsFraction(Math.abs(e),l[2]);else{var d=l[1].trim(),u=l[2];r=a.formatNumber(parseInt(e,10),d,void 0,!0)+" "+a.formatAsFraction(i.getPreciseModulo(Math.abs(e),1),u)}return a.setTextParts(r.trim(),t)}},{key:"formatAsFraction",value:function(e,t){var i=this,a=t.split("/");if(0===e)return-1===t.indexOf("0")?"":i.formatNumber(0,a[0],void 0,!0)+"/"+i.formatNumber(1,a[1],void 0,!0);if(e%1==0)return i.formatNumber(e,a[0],void 0,!0)+"/"+i.formatNumber(1,a[1],void 0,!0);var n=[];i.approximateFractions(e,n);var o=a[1].length>=2?2:1,r=[],l=[];n.forEach(function(t,i){var a=t.denominator.toString().length,n=Math.abs(e-t.numerator/t.denominator);if(void 0===r[a])return l[a]=i,void(r[a]=n);n<r[a]&&(l[a]=i,r[a]=n)});var s=l[o]?n[l[o]]:n[l[1]];return i.formatNumber(s.numerator,a[0],void 0,!0)+"/"+i.formatNumber(s.denominator,a[1],void 0,!0)}},{key:"approximateFractions",value:function(e,t){for(var i=[0,1],a=[1,0],n=this.getMaxNumerator(e),o=e,r=void 0,l=NaN,s=2;s<1e3;s++){var d=Math.floor(o);if(i[s]=d*i[s-1]+i[s-2],Math.abs(i[s])>n)return;if(a[s]=d*a[s-1]+a[s-2],(r=i[s]/a[s])===l)return;if(t.push({numerator:i[s],denominator:a[s]}),r===e)return;l=r,o=1/(o-d)}}},{key:"getMaxNumerator",value:function(e){var t=null,i=e.toString().indexOf("E");-1===i&&(i=e.toString().indexOf("e")),t=-1===i?e.toString():e.toString().substring(0,i);var a=null,n=t.toString().indexOf(".");-1===n?a=t:0===n?a=t.substring(1,t.length):n<t.length&&(a=t.substring(0,n)+t.substring(n+1,t.length));var o=a,r=o.toString().length,l=e,s=l.toString().length;0===l&&(s=0);for(var d=r-s,u=d;u>0&&o%2==0;u--)o/=2;for(var c=d;c>0&&o%5==0;c--)o/=5;return o}},{key:"exponentialToSuperscript",value:function(e){var t=e.indexOf("e"),i=e.slice(t+1).replace(/0{1,2}/,""),a=e.slice(0,t+1);return a=a.replace("e","×10"),a+=this.toSuperscript(i),a=a.replace("+","")}},{key:"toSuperscript",value:function(e,t){for(var i="-0123456789",a="⁻⁰¹²³⁴⁵⁶⁷⁸⁹",n="",o=0;o<e.length;o++)if(!0===t){var r=a.indexOf(e.charAt(o));n+=-1!==r?i[r]:e[o]}else{var l=i.indexOf(e.charAt(o));n+=-1!==l?a[l]:e[o]}return n}}]),e}()),JQX.Utilities.Assign("TickIntervalHandler",function(){function e(t,i,a,n,o,r,l){babelHelpers.classCallCheck(this,e);var s=this;s.context=t,s.minLabel=i,s.maxLabel=a,s.labelClass=n,s.dimension=o,s.logarithmic=l,t.customInterval?t.customTicks.length>0?s.labelsSize=s.getCustomTicksLabelSize():s.labelsSize={minLabelSize:0,minLabelOtherSize:0,maxLabelSize:0,maxLabelOtherSize:0}:s.labelsSize=s.getMinAndMaxLabelSize(),r?(s.getNiceInterval=s.getNiceIntervalInteger,s.getPossibleBiggerLabel=s.getPossibleBiggerLabelInteger):(s.getNiceInterval=s.getNiceIntervalFloatingPoint,s.getPossibleBiggerLabel=s.getPossibleBiggerLabelFloatingPoint)}return babelHelpers.createClass(e,[{key:"getInterval",value:function(e,t,i,a){var n=this.context,o=n._measurements.innerRadius,r=void 0,l=1;"radial"===e?(r=Math.max(this.labelsSize.minLabelSize,this.labelsSize.minLabelOtherSize,this.labelsSize.maxLabelSize,this.labelsSize.maxLabelOtherSize),l=1.35):(r=Math.max(this.labelsSize.minLabelSize,this.labelsSize.maxLabelSize),l=1.45),r*=l;var s=void 0;s="radial"===e?function(){var e=2*Math.PI*o*(Math.abs(n.startAngle-n.endAngle)/360);return Math.round(e)}():n[this.dimension]-this.labelsSize.minLabelSize/2-this.labelsSize.maxLabelSize/2,s=Math.max(10,s);var d=Math.ceil(s/r),u="radial"===e?4*d:3*d,c=this.getNiceInterval(t,i,d,!0),p=this.getNiceInterval(t,i,u);if(n._cachedLabelsSize=this.labelsSize,d>2&&!n.customInterval){var m=this.getPossibleBiggerLabel(d,c);if(m.length>Math.max(this.minLabel.length,this.maxLabel.length)){var v=this.minLabel;this.minLabel=m,this.labelsSize=this.getMinAndMaxLabelSize(),n._cachedLabelsSize=this.labelsSize;var h=this.getInterval(e,t,i,a);return this.minLabel=v,this.labelsSize=this.getMinAndMaxLabelSize(),h}}return{major:c,minor:p}}},{key:"getNiceIntervalFloatingPoint",value:function(e,t,i,a){var n=t-e,o=Math.floor(Math.log10(n)-Math.log10(i)),r=Math.pow(10,o),l=i*r,s=void 0;s=n<2*l?1:n<3*l?2:n<7*l?5:10;var d=s*r;if(a&&this.context._range/d>i){switch(s){case 5:s=10;break;case 2:s=5;break;case 1:s=2}d=s*r}return this.nearestPowerOfTen=r,this.logarithmic&&a?Math.max(1,d):d}},{key:"getPossibleBiggerLabelFloatingPoint",value:function(e,t){var i=this.context,a=parseFloat(i.min-i._numericProcessor.getPreciseModulo(parseFloat(i.min),t)+parseFloat(t)),n=a,o=void 0,r=void 0;this.logarithmic&&(a=Math.pow(10,a)),o=i._formatLabel(a);for(var l=1;l<e&&!((n+=t)>=i._drawMax);l++)r=this.logarithmic?Math.pow(10,n):n,r=i._formatLabel(r),r.length>o.length&&(o=r);return o}},{key:"getNiceIntervalInteger",value:function(e,t,i,a){var n=new JQX.Utilities.BigNumber(t).subtract(new JQX.Utilities.BigNumber(e)),o=Math.floor(Math.log10(n.toString())-Math.log10(i)),r=new JQX.Utilities.BigNumber(10).pow(new JQX.Utilities.BigNumber(o)),l=new JQX.Utilities.BigNumber(i).multiply(r),s=void 0;s=-1===n.compare(new JQX.Utilities.BigNumber(2*l))?1:-1===n.compare(new JQX.Utilities.BigNumber(3*l))?2:-1===n.compare(new JQX.Utilities.BigNumber(7*l))?5:10;var d=new JQX.Utilities.BigNumber(s).multiply(r);if(a&&1===new JQX.Utilities.BigNumber(this.context._range).divide(d).compare(i)){switch(s){case 5:s=10;break;case 2:s=5;break;case 1:s=2}d=new JQX.Utilities.BigNumber(s).multiply(r)}return-1===d.compare(1)&&(d=new JQX.Utilities.BigNumber(1)),this.nearestPowerOfTen=r,d}},{key:"getPossibleBiggerLabelInteger",value:function(e,t){var i=this.context,a=new JQX.Utilities.BigNumber(10),n=new JQX.Utilities.BigNumber(i.min).subtract(new JQX.Utilities.BigNumber(i.min).mod(t)).add(t),o=n,r=void 0,l=void 0;this.logarithmic&&(n=a.pow(n)),r=i._formatLabel(n);for(var s=1;s<e&&(o=o.add(t),-1===o.compare(i._drawMax));s++)l=this.logarithmic?a.pow(o):o,l=i._formatLabel(l),l.length>r.length&&(r=l);return r}},{key:"getMinAndMaxLabelSize",value:function(){var e=this,t=e.context,i=t.$.container,a=document.createElement("span");a.className=e.labelClass,a.style.position="absolute",a.style.visibility="hidden",i.appendChild(a),a.innerHTML=e.minLabel;var n=a[e.dimension],o=a[t._settings.otherSize];a.innerHTML=e.maxLabel;var r=a[e.dimension],l=a[t._settings.otherSize];return i.removeChild(a),{minLabelSize:n,minLabelOtherSize:o,maxLabelSize:r,maxLabelOtherSize:l}}},{key:"getCustomTicksLabelSize",value:function(){var e=this,t=e.context,i=t.$.container,a=document.createElement("span"),n=t.customTicks;a.className=e.labelClass,a.style.position="absolute",a.style.visibility="hidden",i.appendChild(a),a.innerHTML=t._formatLabel(n[0]);for(var o=a[e.dimension],r=a[t._settings.otherSize],l=1;l<t.customTicks.length;l++){a.innerHTML=t._formatLabel(t.customTicks[l]);var s=a[e.dimension],d=a[t._settings.otherSize];s>o&&(o=s),d>r&&(r=d)}return i.removeChild(a),{minLabelSize:o,minLabelOtherSize:r,maxLabelSize:o,maxLabelOtherSize:r}}}]),e}()),JQX("jqx-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<button class='jqx-button' inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role='button'></button>"}},{key:"focus",value:function(){var e=this;if(!e.$.button)return void HTMLElement.prototype.focus.call(e);e.$.button.focus()}},{key:"blur",value:function(){var e=this;if(!e.$.button)return void HTMLElement.prototype.blur.call(e);e.$.button.blur()}},{key:"_upHandler",value:function(e){var t=this;e.stopPropagation(),t.$.setAttributeValue("active",!1)}},{key:"_focusHandler",value:function(){this.$.setAttributeValue("focus",!0)}},{key:"_blurHandler",value:function(){this.$.setAttributeValue("focus",!1)}},{key:"_clickHandler",value:function(e){var t=this;("release"!==t.clickMode&&"pressAndRelease"!==t.clickMode||t.readonly)&&(e.preventDefault(),e.stopPropagation())}},{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t.$.setAttributeValue("active",!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||t.readonly))){var i="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}},{key:"_mouseEnterHandler",value:function(e){var t=this;if(!t.readonly&&(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0),"hover"===t.clickMode)){var i="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}},{key:"_touchEndHandler",value:function(){var e=this;setTimeout(function(){e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)},300)}},{key:"_mouseLeaveHandler",value:function(){var e=this;e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;"disabled"===e?(n._setFocusable(),n.$button&&n.$button.setAttributeValue("hover",!1),n.$.setAttributeValue("hover",!1),n instanceof JQX.RepeatButton&&n._stopRepeat()):"unfocusable"===e&&n._setFocusable()}},{key:"_setFocusable",value:function(){var e=this,t=e.$.button?e.$.button:e;if(e.disabled||e.unfocusable)return t.removeAttribute("tabindex"),void(t.tabIndex=-1);t.tabIndex=e.tabIndex>0?e.tabIndex:0}},{key:"ready",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),e._setFocusable()}}],[{key:"properties",get:function(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}},{key:"styleUrls",get:function(){return["jqx.button.css"]}},{key:"listeners",get:function(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}}]),t}(JQX.ContentElement)),JQX("jqx-repeat-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_clickHandler",value:function(e){var t=this;("release"!==t.clickMode||t.preventDefaultClick||t.readonly||t.disabled)&&(e.preventDefault(),e.stopPropagation(),t.preventDefaultClick=!1)}},{key:"_updateInBoundsFlag",value:function(e){var t=this;t._isPointerInBounds=!0,"mouseleave"===e.type?(t._isPointerInBounds=!1,t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)):(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0)),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}},{key:"_startRepeat",value:function(e){var t=this;t._initialTimer||t.readonly||(t._initialTimer=setTimeout(function(){t._repeatTimer=setInterval(function(){if(t._isPointerInBounds){var i="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),t.preventDefaultClick=!0}},t.delay)},t.initialDelay))}},{key:"_stopRepeat",value:function(){var e=this;e.readonly||(e.$.setAttributeValue("active",!1),e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null))}}],[{key:"properties",get:function(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}},{key:"listeners",get:function(){return{"button.mousedown":"_startRepeat","button.mouseenter":"_updateInBoundsFlag","button.mouseleave":"_updateInBoundsFlag","document.mouseup":"_stopRepeat"}}}]),t}(JQX.Button)),JQX("jqx-toggle-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this)}},{key:"_buttonClickHandler",value:function(){}},{key:"_buttonMouseLeaveHandler",value:function(){this.removeAttribute("hover")}},{key:"_buttonMouseEnterHandler",value:function(){var e=this;e.setAttribute("hover",""),e.disabled||e.readonly||"hover"!==e.clickMode||(e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue())}},{key:"_documentUpHandler",value:function(){var e=this;e._pressed&&(e._pressed=!1,e.disabled||e.readonly||"press"===e.clickMode||(e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue()))}},{key:"_downHandler",value:function(e){var t=this;t.disabled||t.readonly||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t._updateHidenInputNameAndValue()),"press"===t.clickMode&&(e.preventDefault(),e.stopPropagation()))}},{key:"_dragStartHandler",value:function(e){e.preventDefault()}},{key:"_keyHandler",value:function(e){var t=this;if(!0!==t.disabled&&!t.readonly&&32===e.keyCode){if("keydown"===e.type)return void e.preventDefault();if("none"===t.switchMode)return;t._changeCheckState("keyboard"),t._updateHidenInputNameAndValue()}}},{key:"_changeCheckState",value:function(e){var t=this,i=null;null===t.checked?t.checked=!0:(i=t.checked,t.checked=!t.checked),t._handleTextSelection(),t.$.fireEvent("change",{value:t.checked,oldValue:i,changeType:e})}},{key:"_handleTextSelection",value:function(){var e=this;e.$.addClass("jqx-unselectable"),e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){return e.$.removeClass("jqx-unselectable")},500)}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch("checked"===e&&n.$.fireEvent("change",{value:a,oldValue:i,changeType:"api"}),e){case"trueTemplate":n._handleTemplate(!0);break;case"falseTemplate":n._handleTemplate(!1);break;case"indeterminateTemplate":n._handleTemplate()}}},{key:"_htmlBindOnInitialization",value:function(){var e=this;e._bindContentProperty("trueContent","jqx-true-content"),e._bindContentProperty("falseContent","jqx-false-content"),e._bindContentProperty("indeterminateContent","jqx-indeterminate-content")}},{key:"_bindContentProperty",value:function(e,t){var i=this;if(i.$[e+"Container"]){var a=document.createElement("div");a.innerHTML=i.innerHTML;var n=a.getElementsByClassName(t),o=void 0;if(n.length>0)for(var r=0;r<n.length;r++)o=n[r];""===i[e]&&(i[e]=void 0===o?"":o.outerHTML),i.$[e+"Container"].innerHTML=i[e]}}},{key:"_updateContentProperties",value:function(){function e(e){t.$[e+"Container"]&&(t[e]=t.$[e+"Container"].innerHTML)}var t=this;e("trueContent"),e("falseContent"),e("indeterminateContent")}},{key:"_updateHidenInputValue",value:function(){var e=this;if(e.$.hiddenInput){var t=void 0;t=null===e.checked?"null":!1===e.checked?"off":e.value||"on",e.$.hiddenInput.setAttribute("value",t)}}},{key:"_updateHidenInputName",value:function(){var e=this;if(e.$.hiddenInput){var t=!1===e.checked?"":e.name||"";e.$.hiddenInput.setAttribute("name",t)}}},{key:"_updateHidenInputNameAndValue",value:function(){var e=this;e._updateHidenInputName(),e._updateHidenInputValue()}},{key:"_handleTemplate",value:function(e,t){var i=this,a=void 0,n=void 0,o=void 0;if(!0===e?(a=i.trueTemplate,n=i.$.trueContentContainer,o=i.trueContent):!1===e?(a=i.falseTemplate,n=i.$.falseContentContainer,o=i.falseContent):(a=i.indeterminateTemplate,n=i.$.indeterminateContentContainer,o=i.indeterminateContent),t&&(n.innerHTML=o||""),null!==a&&a){if("function"==typeof a)return void a(n,{value:o});if(!("content"in document.createElement("template")))return void i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()}));if(null===(a=document.getElementById(a))||!("content"in a))return void i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:"template"}));for(var r=a.content,l=r.childNodes.length,s=/{{\w+}}/g,d=void 0,u=[],c=0;c<l;c++)for(d=s.exec(r.childNodes[c].innerHTML);d;)u.push({childNodeIndex:c,bindingString:d[0]}),d=s.exec(r.childNodes[c].innerHTML);for(var p=u.length,m=document.importNode(a.content,!0),v=void 0,h=void 0,f=0;f<p;f++){v=m.childNodes[u[f].childNodeIndex],h=u.length;for(var g=0;g<h;g++)v.innerHTML=v.innerHTML.replace(u[f].bindingString,o)}n.innerHTML="";for(var _=0;_<m.childNodes.length;_++)m.childNodes[_].outerHTML&&(n.innerHTML+=m.childNodes[_].outerHTML)}}}],[{key:"properties",get:function(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}},{key:"listeners",get:function(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}}]),t}(JQX.Button)),JQX("jqx-check-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div id='container' class='jqx-container'>\n                 <div class ='jqx-overlay'></div>\n                 <span id='checkBoxInput' class ='jqx-input'></span>\n                 <span id='checkBoxLabel' inner-h-t-m-l='[[innerHTML]]' class ='jqx-label'><content></content></span>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}},{key:"_focusHandler",value:function(){this.$.setAttributeValue("focus",!0)}},{key:"_blurHandler",value:function(){this.$.setAttributeValue("focus",!1)}},{key:"_mouseEnterHandler",value:function(){this.$.setAttributeValue("hover",!0)}},{key:"_mouseLeaveHandler",value:function(){this.$.setAttributeValue("hover",!1)}},{key:"ready",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),e.indeterminate&&(e._valueCashe=e.checked,e.checked=null),e._updateHidenInputNameAndValue()}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(n._updateContentProperties(),e){case"indeterminate":a?(n._valueCashe=n.checked,n.checked=null):n.checked=n._valueCashe,n._updateHidenInputNameAndValue();break;case"value":case"checked":n._updateHidenInputNameAndValue();break;case"name":n._updateHidenInputName()}}},{key:"_documentUpHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(t._pressed&&(t._pressed=!1,t.$.setAttributeValue("active",!1),!(t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.checkBoxInput||"label"===t.checkMode&&i!==t.$.checkBoxLabel))){if("press"===t.clickMode)return e.preventDefault(),void e.stopPropagation();t._changeCheckState("pointer"),t.focus(),t._handleTextSelection(),t._updateHidenInputNameAndValue()}}},{key:"_downHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(!(t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.checkBoxInput||"label"===t.checkMode&&i!==t.$.checkBoxLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){var a=t.$.checkBoxInput.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset;JQX.Utilities.Animation.Ripple.animate(t.$.checkBoxInput,a.left+a.width/2+n,a.top+a.height/2+o)}t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t.focus(),t._updateHidenInputNameAndValue())}}}],[{key:"properties",get:function(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"checkbox",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}},{key:"listeners",get:function(){return{down:"_downHandler","document.up":"_documentUpHandler","checkBoxInput.mouseenter":"_mouseEnterHandler","checkBoxInput.mouseleave":"_mouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}},{key:"styleUrls",get:function(){return["jqx.checkbox.css"]}}]),t}(JQX.ToggleButton)),JQX("jqx-led",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div id='container' class='jqx-container'>\n                 <div id='ledAnimation' class ='jqx-animation'></div>\n                 <div id='button' class='jqx-input'>\n                    <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class ='jqx-false-content-container'></span>\n                    <span id='indeterminateContentContainer' inner-h-t-m-l='[[indeterminateContent]]' class ='jqx-indeterminate-content-container'></span>\n                    <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class ='jqx-true-content-container'></span>\n                 </div>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}},{key:"ready",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),e._htmlBindOnInitialization(),e.indeterminate&&(e._valueCashe=e.checked,e.checked=null),e._handleTemplate(!0),e._handleTemplate(!1),e._handleTemplate(),e._updateHidenInputNameAndValue()}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"indeterminate":a?(n._valueCashe=n.checked,n.checked=null):n.checked=n._valueCashe,n._updateHidenInputNameAndValue();break;case"trueContent":n.trueContent=a,n._handleTemplate(!0);break;case"falseContent":n.falseContent=a,n._handleTemplate(!1);break;case"indeterminateContent":n.indeterminateContent=a,n._handleTemplate();break;case"value":case"checked":n._updateHidenInputNameAndValue();break;case"name":n._updateHidenInputName()}}},{key:"_documentUpHandler",value:function(e){var i=this;if(i._pressed&&!i.readonly){if("press"===i.clickMode)return e.preventDefault(),e.stopPropagation(),void(i._pressed=!1);babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_documentUpHandler",this).call(this,e),i.indeterminate=!1,i._updateHidenInputNameAndValue(),i._pressed=!1}}},{key:"_mouseDownHandler",value:function(){var e=this;e.readonly||e.disabled||(e._pressed=!0,"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||(e._changeCheckState("pointer"),e.$.fireEvent("click"),e.indeterminate=!1,e._updateHidenInputNameAndValue()))}}],[{key:"properties",get:function(){return{shape:{value:"round",allowedValues:["round","square"],type:"string"}}}},{key:"styleUrls",get:function(){return["jqx.led.css"]}}]),t}(JQX.ToggleButton)),JQX("jqx-power-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div id='container' class='jqx-container'>\n                 <div id='powerButtonAnimation' class ='jqx-animation'></div>\n                 <span id='button' class ='jqx-input'></span>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}},{key:"ready",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),e._updateHidenInputNameAndValue()}}],[{key:"styleUrls",get:function(){return["jqx.powerbutton.css"]}}]),t}(JQX.ToggleButton)),JQX("jqx-radio-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div  id='container' class='jqx-container'>\n                 <div class ='jqx-overlay'></div>\n                 <span id='radioButtonInput' class ='jqx-input'></span>\n                 <span id='radioButtonLabel' inner-h-t-m-l='[[innerHTML]]' class ='jqx-label'><content></content></span>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}},{key:"_radioMouseEnterHandler",value:function(){this.$.setAttributeValue("hover",!0)}},{key:"_radioMouseLeaveHandler",value:function(){this.$.setAttributeValue("hover",!1)}},{key:"_focusHandler",value:function(){this.$.setAttributeValue("focus",!0)}},{key:"_blurHandler",value:function(){this.$.setAttributeValue("focus",!1)}},{key:"_mouseEnterHandler",value:function(){this.$.setAttributeValue("hover",!0)}},{key:"_mouseLeaveHandler",value:function(){this.$.setAttributeValue("hover",!1)}},{key:"ready",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),e._handleMultipleCheckedInstances(),e._updateHidenInputNameAndValue()}},{key:"_downHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(!(t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.radioButtonInput||"label"===t.checkMode&&i!==t.$.radioButtonLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){var a=t.$.radioButtonInput.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset;JQX.Utilities.Animation.Ripple.animate(t.$.radioButtonInput,a.left+a.width/2+n,a.top+a.height/2+o)}if(t._preventAction)return void(t._preventAction=!1);"release"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._pressed=!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||("pressAndRelease"===t.clickMode&&(""===t.groupName?t._checkedBeforeChange=t.parentNode.querySelector("jqx-radio-button[checked]"):t._checkedBeforeChange=document.querySelector('jqx-radio-button[group-name="'+t.groupName+'"][checked]')),t._handleMouseInteraction())}}},{key:"_elementMouseEnterHandler",value:function(){var e=this;"hover"!==e.clickMode||e.disabled||e.readonly||e._handleMouseInteraction()}},{key:"_documentUpHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;!t._pressed||t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.radioButtonInput||"label"===t.checkMode&&i!==t.$.radioButtonLabel||("release"===t.clickMode?t._handleMouseInteraction():(null===t._checkedBeforeChange?(t.$.fireEvent("change",{value:!1,oldValue:!0,changeType:"pointer"}),t.checked=!1):t._checkedBeforeChange._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue()),t.$.setAttributeValue("active",!1),t._pressed=!1)}},{key:"_handleMouseInteraction",value:function(){var e=this;e._handleTextSelection(),e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue()}},{key:"_handleMultipleCheckedInstances",value:function(){var e=this,t=Array.from(document.querySelectorAll('jqx-radio-button[group-name="'+e.groupName+'"][checked]')),i=t.length;i<2||t.forEach(function(e,t){return t<i-1&&(e.checked=!1)})}},{key:"_changeCheckState",value:function(e){var t=this,i=document.querySelectorAll('jqx-radio-button[group-name="'+t.groupName+'"]');if(!0===t.checked&&"api"===e||!1===t.checked)if(i.length>0)t._changeCheckStateInGroup(i,e);else{var a=t.parentNode;i=a.querySelectorAll("jqx-radio-button:not([group-name])"),t._changeCheckStateInGroup(i,e)}}},{key:"_changeCheckStateInGroup",value:function(e,t){for(var i=this,a=0;a<e.length;a++)e[a]._isUpdating=!0,e[a]===i?(i.checked=!0,i.$.fireEvent("change",{value:!0,oldValue:!1,changeType:t})):e[a].checked&&(e[a].checked=!1),e[a]._isUpdating=!1}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"value":n._updateHidenInputNameAndValue();break;case"checked":n._isUpdating||n._changeCheckState("api"),n._updateHidenInputNameAndValue();break;case"name":n._updateHidenInputName();break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}}],[{key:"properties",get:function(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"radio",type:"string",defaultReflectToAttribute:!0,readonly:!0},groupName:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{down:"_downHandler",
"document.up":"_documentUpHandler",mouseenter:"_elementMouseEnterHandler","radioButtonInput.mouseenter":"_radioMouseEnterHandler","radioButtonInput.mouseleave":"_radioMouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}},{key:"styleUrls",get:function(){return["jqx.radiobutton.css"]}}]),t}(JQX.ToggleButton)),JQX("jqx-switch-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div  id='container' class='jqx-container'>\n                    <div  id='innerContainer' class ='jqx-inner-container'>\n                           <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class ='jqx-false-content-container'></span>\n                           <span id='switchThumb' class ='jqx-thumb'></span>\n                           <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class ='jqx-true-content-container'></span>\n                    </div>\n                    <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}},{key:"ready",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var i=e.animation;e.hasAnimation&&(e.animation="none"),e._supportCSSVariables=JQX.Utilities.Core.CSSVariablesSupport()&&Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-switch-button-default-width")),e._htmlBindOnInitialization(),e._resizeHandler(),e._initializePrivateVariables(),e._getContainersSizeAndBreakPoint(),e.indeterminate&&(e._valueCache=e.checked,e.checked=null),e._handleTemplate(!0),e._handleTemplate(!1),e._handleTemplate(),e._updateHidenInputNameAndValue(),e._updateThumbPosition(),e.animation=i}},{key:"_mouseDownHandler",value:function(e){var t=this;t.disabled||t.readonly||"none"===t.switchMode||(e.originalEvent.target.closest(".jqx-thumb")!==t.$.switchThumb||"default"!==t.switchMode&&"drag"!==t.switchMode||t._switchThumbDragStartHandler(e),t._isSwitchClicked=t,t._updateContentProperties(),"release"!==t.clickMode&&"click"===t.switchMode&&(t._updateStateOnClick(),t.$.fireEvent("click"),t.indeterminate=!1,t._updateHidenInputNameAndValue()))}},{key:"_updateStateOnClick",value:function(){var e=this;e._changeCheckState(),e.focus()}},{key:"_drag",value:function(e){var t=this;t._mouseDown&&(JQX.Utilities.Core.isMobile&&e.originalEvent.preventDefault(),t._switchThumbDragHandler(e))}},{key:"_switchThumbDragStartHandler",value:function(e){var t=this;t.disabled||("click"===t.switchMode&&"release"!==t.clickMode&&(e.preventDefault(),e.stopPropagation()),t._isInactiveOn("drag")||(t._mouseDown=!0,t._getContainersSizeAndBreakPoint(),t._pointerPosition="vertical"===t.orientation?e.pageY:e.pageX,e.preventDefault()))}},{key:"_selectStartHandler",value:function(e){this._mouseDown&&e.preventDefault()}},{key:"_switchThumbDragHandler",value:function(e){var t=this;if(!t._isInactiveOn("drag")){if(!1===t._mouseDown)return void t._removeDragStyles();t.hasAttribute("dragged")||t.setAttribute("dragged","");var i=t.$.innerContainer,a=t.$.container.getBoundingClientRect(),n="vertical"===t.orientation?document.body.scrollTop||document.documentElement.scrollTop:document.body.scrollLeft||document.documentElement.scrollLeft,o="vertical"===t.orientation?a.top+n:a.left+n,r="vertical"===t.orientation?t._pointerPosition-i.offsetTop:t._pointerPosition-i.offsetLeft,l=t._pointerPosition>=o&&t._pointerPosition<=o+t._switchContainerSize,s=-1*(t.offsetWidth-t.$.switchThumb.offsetWidth),d=-1*(t.offsetHeight-t.$.switchThumb.offsetHeight);if(t._pointerPosition="vertical"===t.orientation?e.pageY:e.pageX,l){var u=t._pointerPosition-r;u<-t._switchTrackLength&&(u=-t._switchTrackLength),u>0&&(u=0),"vertical"===t.orientation?t.$.innerContainer.style.top=Math.max(d,u)+"px":t.$.innerContainer.style.left=Math.max(s,u)+"px"}}}},{key:"_switchThumbDropHandler",value:function(){var e=this;e.hasAttribute("dragged")?e._endDrag():e._isSwitchClicked&&e._endClick(),e._mouseDown=!1,delete e._isSwitchClicked}},{key:"_endDrag",value:function(){var e=this;if(e.indeterminate=!1,e._updateHidenInputNameAndValue(),!e._isInactiveOn("drag")&&e._mouseDown){e.removeAttribute("dragged");var t="vertical"===e.orientation?e.$.innerContainer.offsetTop+e.$.switchThumb.offsetTop+e.$.switchThumb.clientHeight/2:e.$.innerContainer.offsetLeft+e.$.switchThumb.offsetLeft+e.$.switchThumb.clientWidth/2,i=t>e._switchBreakPoint;null!==e.checked?!e.inverted==(i===e.checked)&&e._changeCheckState(!e.checked):i?e._changeCheckState(e.inverted):e._changeCheckState(!e.inverted),e._removeDragStyles(),e._updateThumbPosition()}}},{key:"_endClick",value:function(){var e=this;e._resizeHandler(),e.disabled||e.readonly||e._isInactiveOn("click")||("release"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e._updateStateOnClick(),e.indeterminate=!1,e._updateHidenInputNameAndValue())}},{key:"_switchButtonOnMouseEnter",value:function(){var e=this;e.disabled||e.readonly||e.$.addClass("hovered")}},{key:"_switchButtonOnMouseLeave",value:function(){var e=this;e.disabled||e.readonly||e.$.removeClass("hovered")}},{key:"_isInactiveOn",value:function(e){var t=this,i=t.disabled||t.readonly||t.switchMode!==e;return"default"!==t.switchMode&&i}},{key:"_keyUpHandler",value:function(e){var t=this;t.disabled||t.readonly||32!==e.keyCode||"none"===t.switchMode||(t._getContainersSizeAndBreakPoint(),t._changeCheckState())}},{key:"_initializePrivateVariables",value:function(){var e=this;e._switchContainerSize=e._switchTrackLength=e._switchBreakPoint=e._pointerPosition=0,e._mouseDown=!1}},{key:"_changeCheckState",value:function(e){var t=this,i=t.checked;if(null===i&&void 0!==e)return t.$.fireEvent("change",{value:e,oldValue:null}),t.checked=e,void t._updateThumbPosition();null===t.checked?t.checked=!0:t.checked=!t.checked,t._updateThumbPosition(),t.$.fireEvent("change",{value:t.checked,oldValue:i}),t._updateHidenInputNameAndValue()}},{key:"_getContainersSizeAndBreakPoint",value:function(){var e=this;e._switchContainerSize="vertical"===e.orientation?e.$.container.clientHeight:e.$.container.clientWidth,e._switchTrackLength="vertical"===e.orientation?e._switchContainerSize-e.$.switchThumb.clientHeight:e._switchContainerSize-e.$.switchThumb.clientWidth,e._switchBreakPoint=e._switchContainerSize/2}},{key:"_removeDragStyles",value:function(){var e=this;e._supportCSSVariables?e.$.innerContainer.removeAttribute("style"):e.$.innerContainer.style.left="",e._supportCSSVariables?e.$.innerContainer.removeAttribute("style"):e.$.innerContainer.style.top="",e._mouseDown=!1}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),n._updateContentProperties(),e){case"indeterminate":a?(n._valueCache=n.checked,n.checked=null):n.checked=n._valueCache;break;case"trueContent":n.trueContent=a;break;case"falseContent":n.falseContent=a;break;case"orientation":n._resizeHandler()}n._getContainersSizeAndBreakPoint(),n._removeDragStyles(),n._resizeHandler()}},{key:"_resizeHandler",value:function(){var e=this;if(document.body.contains(e)){var t=window.getComputedStyle(e,null),i=parseInt(t.getPropertyValue("border-top-width")),a=parseInt(t.getPropertyValue("border-right-width")),n=parseInt(t.getPropertyValue("border-bottom-width")),o=parseInt(t.getPropertyValue("border-left-width")),r="vertical"===e.orientation?e.offsetHeight-(i+n):e.offsetWidth-(o+a);e._getContainersSizeAndBreakPoint(),e._supportCSSVariables?e.$.container.style.setProperty("--jqx-switch-button-default-width",r+"px"):(e._innerContainerSize=r,e.$.innerContainer.style.height=e.$.innerContainer.style.width="",e.$.trueContentContainer.style.height=e.$.trueContentContainer.style.width="",e.$.falseContentContainer.style.height=e.$.falseContentContainer.style.width="","horizontal"===e.orientation?(e.$.innerContainer.style.setProperty("width",2*r-e.$.switchThumb.clientWidth+"px"),e.$.trueContentContainer.style.setProperty("width",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("width",e._switchTrackLength+"px")):(e.$.innerContainer.style.setProperty("height",2*r-e.$.switchThumb.clientHeight+"px"),e.$.trueContentContainer.style.setProperty("height",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("height",e._switchTrackLength+"px")),e._updateThumbPosition())}}},{key:"_updateThumbPosition",value:function(){var e=this;if(e._supportCSSVariables||(e.inverted?!0===e.checked:!1===e.checked)||!e._innerContainerSize)return void(e.$.innerContainer.style.left=e.$.innerContainer.style.top="");(e.inverted?!1===e.checked:e.checked)&&("horizontal"===e.orientation?(e.$.innerContainer.style.left=-1*(e._innerContainerSize-e.$.switchThumb.offsetWidth)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize-e.$.switchThumb.offsetHeight)+"px",e.$.innerContainer.style.left="")),null===e.checked&&("horizontal"===e.orientation?(e.$.innerContainer.style.left=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetWidth/2)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetHeight/2)+"px",e.$.innerContainer.style.left=""))}}],[{key:"properties",get:function(){return{inverted:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},switchMode:{value:"default",allowedValues:["default","click","drag","none"],type:"string"},clickMode:{value:"release",allowedValues:["press","release","pressAndRelease"],type:"string"}}}},{key:"listeners",get:function(){return{"container.down":"_mouseDownHandler","document.move":"_drag","document.up":"_switchThumbDropHandler",mouseenter:"_switchButtonOnMouseEnter",mouseleave:"_switchButtonOnMouseLeave",resize:"_resizeHandler","container.resize":"_resizeHandler","document.selectstart":"_selectStartHandler"}}}]),t}(JQX.ToggleButton)),JQX("jqx-drop-down-list",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <div class="jqx-buttons-container" id="buttonsContainer">\n                            <span id="actionButton" class="jqx-input jqx-action-button"></span>\n                            <span id="dropDownButton" class="jqx-drop-down-button">\n                                <span id="arrow"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                            <jqx-list-box id="listBox" unfocusable\n                                    animation="[[animation]]"\n                                    data-source="[[dataSource]]"\n                                    disabled="[[disabled]]"\n                                    display-loading-indicator="[[displayLoadingIndicator]]"\n                                    display-member="[[displayMember]]"\n                                    filterable="[[filterable]]"\n                                    filter-callback="[[filterCallback]]"\n                                    filter-mode="[[filterMode]]"\n                                    filter-input-placeholder="[[filterInputPlaceholder]]"\n                                    grouped="[[grouped]]"\n                                    group-member="[[groupMember]]"\n                                    item-height="[[itemHeight]]"\n                                    item-template="[[itemTemplate]]"\n                                    incremental-search-delay="[[incrementalSearchDelay]]"\n                                    incremental-search-mode="[[incrementalSearchMode]]"\n                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                    loading-indicator-position="[[loadingIndicatorPosition]]"\n                                    name="[[name]]"\n                                    placeholder="[[dropDownPlaceholder]]"\n                                    readonly="[[readonly]]"\n                                    selected-indexes="{{selectedIndexes}}"\n                                    selection-mode="[[selectionMode]]"\n                                    selected-values="{{selectedValues}}"\n                                    sorted="[[sorted]]"\n                                    theme="[[theme]]"\n                                    value-member="[[valueMember]]"\n                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"\n                                    virtualized="[[virtualized]]">\n                                <content></content>\n                            </jqx-list-box>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"animation":n.$.dropDownContainer.setAttribute("animation",n.animation);break;case"disabled":n._setFocusable(),n.close(),n._positionDetection.handleAutoPositioning();break;case"dataSource":case"displayMember":case"inputMember":n.$.actionButton&&(n.$.actionButton.innerHTML=n.placeholder),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally");break;case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownOpenMode":n._setFocusable(),n.$dropDownContainer.addClass("jqx-visibility-hidden"),n.$.dropDownButton.removeAttribute("selected"),n.removeAttribute("drop-down-button-focus"),n.removeAttribute("action-button-focus"),n.opened=!1;break;case"dropDownOverlay":a||n._positionDetection.removeOverlay();break;case"dropDownPosition":n._positionDetection.dropDownPositionChangedHandler();break;case"dropDownMinWidth":case"dropDownWidth":case"dropDownMaxWidth":case"dropDownHeight":case"dropDownMinHeight":case"dropDownMaxHeight":n._setDropDownSize();break;case"opened":if(n.disabled||n.readonly)return;a?n.open():n.close();break;case"placeholder":n._applySelection();break;case"readonly":n.close();break;case"resizeIndicator":a?n.$.dropDownContainer.setAttribute("resize-indicator",""):n.$.dropDownContainer.removeAttribute("resize-indicator");break;case"resizeMode":n.$.dropDownContainer.setAttribute("resize-mode",n.resizeMode);break;case"selectedValues":case"selectedIndexes":0===a.length?n.$.actionButton.innerHTML=n.placeholder:n._applySelection();break;case"selectionDisplayMode":n._applySelection();break;case"tokenTemplate":n._tokenTemplate=n._validateTemplate(n.tokenTemplate),n._applySelection();break;case"unfocusable":n._setFocusable()}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}));t.$.listBox.appendChild(e),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize()}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.isCompleted&&e.$.dropDownContainer&&(e._positionDetection.dropDownAttached("_setDropDownSize"),e._positionDetection.checkBrowserBounds())}},{key:"detached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e.$.dropDownContainer&&(e.close(),e._positionDetection.dropDownDetached())}},{key:"clearItems",value:function(){var e=this;e.$.listBox&&(e.$.listBox.clearItems(),e.$.actionButton.innerHTML=e.placeholder)}},{key:"clearSelection",value:function(){var e=this;e.$.listBox&&(e.$.listBox.clearSelection(),e.$.actionButton.innerHTML=e.placeholder)}},{key:"close",value:function(){var e=this;if(!e.$dropDownContainer.hasClass("jqx-visibility-hidden")){e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.$.fireEvent("close"),e.$.dropDownButton&&e.$.dropDownButton.removeAttribute("selected"),e.opened=!1,e._preventDropDownClose=!1,e._positionDetection.removeOverlay(!0),e._edgeMacFF&&!e.hasAnimation&&e.$.dropDownContainer&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}}},{key:"cloneNode",value:function(){var e=this;if(e.$.listBox){var t=HTMLElement.prototype.cloneNode.apply(e,Array.prototype.slice.call(arguments,0,1));return t.dataSource=e.dataSource,t}}},{key:"ensureVisible",value:function(e){var t=this;t.$.listBox&&t.$.listBox.ensureVisible(e)}},{key:"getItem",value:function(e){var t=this;if(t.$.listBox)return t.$.listBox.getItem(e)}},{key:"insert",value:function(e,t){var i=this;i.$.listBox&&(i.$.listBox.insert(e,t),i._applySelection(),i._dropDownSize&&"auto"===i._dropDownSize.height&&i._setDropDownSize())}},{key:"insertBefore",value:function(e,t){var i=this;if(!i.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,a.concat(Array.prototype.slice.call(arguments)))}if(!e||!t)return void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}));i.$.listBox&&(i.$.listBox.insertBefore(e,t),i._dropDownSize&&"auto"===i._dropDownSize.height&&i._setDropDownSize())}},{key:"open",value:function(){var e=this,t=function(){for(var t=0;t<e.items.length;t++)if(!e.items[t].disabled)return e.items[t]};if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("jqx-visibility-hidden")){if(e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo&&e.dropDownAppendTo.length>0){var i=e.getBoundingClientRect();if(e.$.container.contains(e.$.dropDownContainer)){var a=0,n=setInterval(function(){var t=e.getBoundingClientRect();a++,t.top===e._positionTop&&a<10||(e.open(),clearInterval(n),e._positionTop=t.top)},100);return}i.top!==e._positionTop&&(e._positionTop=i.top)}e.$.fireEvent("opening").defaultPrevented||(e.opened=!0,e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e.$.dropDownButton&&("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("selected",""):e.$.dropDownButton.removeAttribute("selected")),(e.$.listBox&&!e._focusedItem||e._focusedItem&&!e._focusedItem._focused)&&(e.selectedIndexes.length>0?e._focus(e.items[e.selectedIndexes[0]]):e._focus(t)),e.$.input&&!JQX.Utilities.Core.isMobile&&e.$.input.focus())}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e.$.dropDownContainer&&(e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e.$.dropDownContainer.setAttribute("resize-mode",e.resizeMode),e.resizeIndicator&&e.$.dropDownContainer.setAttribute("resize-indicator",""),e._positionDetection.handleAutoPositioning()),e.opened&&e.open(),e._positionTop=e.getBoundingClientRect().top,e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._edgeMacFF&&e.hasAnimation&&e.$.dropDownContainer&&e.$dropDownContainer.addClass("not-in-view"),e._createElement()}},{key:"remove",value:function(e){var t=this;t.$.listBox&&(t.$.listBox.remove(e),t._applySelection(),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize())}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!(e&&e instanceof JQX.ListItem))return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}));t.$.listBox.removeChild(e),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize()}},{key:"select",value:function(e){var t=this;t.$.listBox&&t.$.listBox.select(e)}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),e.$.actionButton.removeAttribute("tabindex"),void e.$.dropDownButton.removeAttribute("tabindex");var t=e.tabIndex>0?e.tabIndex:0;"dropDownButton"===e.dropDownOpenMode?(e.removeAttribute("tabindex"),e.$.actionButton.setAttribute("tabindex",t),e.$.dropDownButton.setAttribute("tabindex",t)):(e.$.actionButton.removeAttribute("tabindex"),e.$.dropDownButton.removeAttribute("tabindex"),e.tabIndex=t)}},{key:"unselect",value:function(e){var t=this;t.$.listBox&&t.$.listBox.unselect(e)}},{key:"update",value:function(e,t){var i=this;i.$.listBox&&(i.$.listBox.update(e,t),i._applySelection())}},{key:"_resizeBarMoveHandler",value:function(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}},{key:"_createToken",value:function(){var e=this,t=void 0,i=document.createDocumentFragment(),a=e.selectedIndexes[e.selectedIndexes.length-1];t="plain"!==e.selectionDisplayMode||"one"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode&&"radioButton"!==e.selectionMode?"tokens"===e.selectionDisplayMode?1===e.selectedIndexes.length&&["oneOrManyExtended","oneOrMany","one","radioButton"].indexOf(e.selectionMode)>-1?"":"&#10006":1===e.selectedIndexes.length?"":",":"";for(var n=e.selectedIndexes,o=e.$.listBox._items,r=0;r<n.length;r++){var l=n[r];o[l]&&i.appendChild(e._applyTokenTemplate(o[l][e.inputMember],"tokens"!==e.selectionDisplayMode&&l===a?"":t))}return i}},{key:"_applySelection",value:function(){var e=this;if("placeholder"===e.selectionDisplayMode||0===e.selectedIndexes.length)return void(e.$.actionButton.innerHTML=e.placeholder);e.$.listBox._items&&0!==e.$.listBox._items.length&&(e.$.actionButton.innerHTML="",e.$.actionButton.appendChild(e._createToken()))}},{key:"_applyTokenTemplate",value:function(e,t){var i=this,a=document.createElement("span"),n=function(){return"<span class='jqx-drop-down-list-selection-label'>"+e+"</span><span class='jqx-drop-down-list-unselect-button'>"+t+"</span>"};if(a.classList.add("jqx-token"),i._tokenTemplate)for(var o=document.importNode(i._tokenTemplate.content,!0),r=o.childNodes.length,l=/{{\w+}}/g,s=void 0,d=0;d<r;d++)s=l.exec(o.childNodes[d].innerHTML),s&&(o.childNodes[d].innerHTML=o.childNodes[d].innerHTML.replace(s[0],n())),o.childNodes[d].outerHTML&&(a.innerHTML+=o.childNodes[d].outerHTML);else"function"==typeof i.tokenTemplate?i.tokenTemplate(a,{label:e,iconSeparator:t}):a.innerHTML=n();return a}},{key:"_bindingCompleteHandler",value:function(){var e=this;e.$.listBox&&requestAnimationFrame(function(){e._setDropDownSize(),e._positionDetection.checkBrowserBounds()})}},{key:"_buttonsDownHandler",value:function(e){var t=this;if(!t.disabled){if(t.hasRippleAnimation)if(t.$.buttonsContainer&&"dropDownButton"!==t.dropDownOpenMode){var i=t.$.buttonsContainer;i.firstElementChild.noRipple=!0,JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i.firstElementChild.noRipple=!1}else JQX.Utilities.Animation.Ripple.animate(e.target,e.pageX,e.pageY);t._preventsSelectStart=!0,"dropDownButton"===t.dropDownOpenMode&&e.target===t.$.actionButton&&t.$.actionButton.setAttribute("active",""),t.opened&&(t._preventDropDownClose=!0)}}},{key:"_buttonsMouseEventsHandler",value:function(e){var t=this;t.disabled||("mouseenter"===e.type?(t.setAttribute("hover",""),e.target.setAttribute("hover","")):(t.removeAttribute("hover"),e.target.removeAttribute("hover")))}},{key:"_calculateDropDownSize",value:function(){var e=this;e._dropDownSize={};var t=window.getComputedStyle(e.$.dropDownContainer),i=parseFloat(t.getPropertyValue("border-top-width").trim()),a=parseFloat(t.getPropertyValue("border-bottom-width").trim()),n=parseFloat(t.getPropertyValue("margin-top").trim()),o=parseFloat(t.getPropertyValue("margin-bottom").trim()),r=parseFloat(t.getPropertyValue("padding-top").trim()),l=parseFloat(t.getPropertyValue("padding-bottom").trim());JQX.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--jqx-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--jqx-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(i)?0:i)+(isNaN(a)?0:a),e._dropDownSize.paddingWidth=(isNaN(r)?0:r)+(isNaN(l)?0:l),e._dropDownSize.marginWidth=(isNaN(n)?0:n)+(isNaN(o)?0:o)}},{key:"_createElement",value:function(){var e=this;e._tokenTemplate=e._validateTemplate(e.tokenTemplate),e._applySelection(),e._setDropDownSize(),e._setFocusable(),e.$.arrow.noRipple=!0}},{key:"_documentDownHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var i=e.originalEvent.target;if(i===t._overlay&&(t._overlayDown=!0),t.enableShadowDOM){i=e.originalEvent.composedPath()[0];for(var a=i.getRootNode().host;a;)a.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),a=a.getRootNode().host}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;if(t._buttonClicked=i.closest(".jqx-action-button")||i.closest(".jqx-drop-down-button"),t.$.listBox){var n=i.closest("jqx-list-item");t.$.listBox.contains(n)||(n=void 0),t.hasRippleAnimation&&n&&JQX.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),(n||i===t.$.listBox.$.filterInput||i.closest(".jqx-token"))&&(t._preventDropDownClose=!0)}if(t._isDropDownClicked&&(t._preventDropDownClose=!0),i===t.$.resizeBar&&"none"!==t.resizeMode){t._resizeDetails||(t._resizeDetails={});var o=t.$.dropDownContainer.getBoundingClientRect();t._resizeDetails.started=!0,t._resizeDetails.x=e.pageX,t._resizeDetails.y=e.pageY,t._resizeDetails.width=t.$.dropDownContainer.offsetWidth,t._resizeDetails.height=t.$.dropDownContainer.offsetHeight,t._resizeDetails.offsetXL=e.clientX-o.left,t._resizeDetails.offsetXR=o.left+t.$.dropDownContainer.offsetWidth-e.clientX,t._resizeDetails.offsetY=o.top+t.$.dropDownContainer.offsetHeight-e.clientY,t._resizeDetails.offsetYtop=e.clientY-o.top,t._preventDropDownClose=!0}}}},{key:"_documentMoveHandler",value:function(e){function t(){if(d=e.pageY-a._resizeDetails.y,"bottom"===s)a._resizeDetails.height=Math.min(o.clientHeight-r.top-6,Math.max(0,a._resizeDetails.height+d)),a._resizeDetails.y=Math.max(r.top+o.scrollTop-a._resizeDetails.offsetY,Math.min(o.clientHeight+o.scrollTop-1.5*a._resizeDetails.offsetY,e.pageY));else{if(a._resizeDetails.height=Math.min(a._dropDownSize.maxHeight,Math.max(0,Math.min(l.top,a._resizeDetails.height-d))),d=Math.max(0,r.top+(r.height-Math.max(a._dropDownSize.minHeight,a._resizeDetails.height))),a.dropDownAppendTo&&a.dropDownAppendTo.length>0){var t=Math.abs(parseFloat(getComputedStyle(a.$.dropDownContainer).getPropertyValue("margin-bottom")))||0;a.$.dropDownContainer.style.top=a.dropDownAppendTo&&a.dropDownAppendTo.length>0?t+d+"px":""}var i=l.top+o.scrollTop+a._resizeDetails.offsetYtop;a._resizeDetails.y=Math.max(a._resizeDetails.offsetYtop,Math.min(i,Math.max(i-a._dropDownSize.maxHeight,e.pageY)))}a.$.dropDownContainer.style.height=a._resizeDetails.height+"px"}function i(){d=e.pageX-a._resizeDetails.x,a._resizeDetails.width=Math.min(o.clientWidth-r.left-6,Math.max(0,a._resizeDetails.width+d)),a.$.dropDownContainer.style.width=a._resizeDetails.width+"px",a._resizeDetails.x=Math.max(r.left+o.scrollLeft-a._resizeDetails.offsetXR,Math.min(o.clientWidth+o.scrollLeft-1.5*a._resizeDetails.offsetXR,e.pageX))}var a=this,n=a.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if("auto"===a.dropDownOpenMode&&null!==a.dropDownAppendTo&&(a.contains(n)||a.$.dropDownContainer.contains(n)?a._isElementHovered=!0:(a._isElementHovered=!1,a._autoClose())),a._resizeDetails&&(!a._resizeDetails||a._resizeDetails.started)){a.setAttribute("resizing",""),a._resizeDetails.resizeEventFired||(a.$.fireEvent("resizeStart",{position:{left:e.pageX,top:e.pageY}}),a._resizeDetails.resizeEventFired=!0);var o=document.documentElement,r=a.$.dropDownContainer.getBoundingClientRect(),l=a.getBoundingClientRect(),s=a.$.dropDownContainer.hasAttribute("top")?"top":"bottom",d=void 0;switch(a.resizeMode){case"vertical":t();break;case"horizontal":i();break;case"both":i(),t()}}}},{key:"_documentUpHandler",value:function(e){var t=this;if(t.$.actionButton.removeAttribute("active"),t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._preventDropDownClose=!1,t.focus(),void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}});if(t.disabled||t._isDropDownClicked||t.readonly)return void delete t._isDropDownClicked;if(t._overlayDown)return t.close(),void delete t._overlayDown;var i=e.originalEvent.target,a=i.closest?i.closest("jqx-drop-down-list"):void 0;if(t.enableShadowDOM&&(i=e.originalEvent.composedPath()[0],a=i.getRootNode().host),t._preventsSelectStart=!1,void 0!==i&&i!==t.$.resizeBar){if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-selection-label")&&a===t){"none"!==t.dropDownOpenMode&&t.open();var n=t.$.listBox._items.filter(function(e){return e[t.inputMember].toString()===i.textContent})[0];return t.$.listBox._scrollView.scrollTop=n.offsetTop,void t._focus(n)}if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-unselect-button")&&a===t){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return;return void t.unselect(t.$.listBox._items.filter(function(e){return e[t.inputMember].toString()===i.previousElementSibling.textContent})[0])}var o=i.closest(".jqx-action-button");if(t._buttonClicked&&("dropDownButton"===t.dropDownOpenMode&&o&&t._buttonClicked===t.$.actionButton?t.$.fireEvent("actionButtonClick"):i.closest(".jqx-drop-down-button")!==t._buttonClicked&&o!==t._buttonClicked||t.$.fireEvent("dropDownButtonClick")),t._buttonClicked=void 0,
o===t.$.actionButton||i.closest(".jqx-drop-down-button")===t.$.dropDownButton)return"dropDownButton"===t.dropDownOpenMode&&o===t.$.actionButton?void t.close():void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode?t.open():t.close());i=t._getUpEventTarget(i),void 0!==i&&("dropDownContainer"!==i&&"item"!==i||"item"===i&&"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0)&&t.close()}}},{key:"_dragStartHandler",value:function(e){var t=this;t._resizeDetails&&t._resizeDetails.started&&e.preventDefault()}},{key:"_dropDownTransitionendHandler",value:function(){var e=this;e._edgeMacFF&&!e.opened&&e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view"))}},{key:"_focus",value:function(e){this.$.listBox._focus(e)}},{key:"_blurEventHandler",value:function(){var e=this;e.$.dropDownButton&&(e.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),e.$.actionButton&&(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus")),e.nodeName&&"JQX-DROP-DOWN-LIST"===e.nodeName&&!e._preventDropDownClose&&e.close()}},{key:"_focusEventHandler",value:function(){var e=this;e.$.dropDownButton&&(e.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus","")),e.$.actionButton&&(e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus","")),e.removeAttribute("drop-down-button-focus"),e.removeAttribute("action-button-focus")}},{key:"_buttonsFocusHandler",value:function(e){var t=this;e.target===t.$.dropDownButton?"focus"===e.type?t.setAttribute("drop-down-button-focus",""):(t.removeAttribute("drop-down-button-focus"),t.nodeName&&"JQX-DROP-DOWN-LIST"===t.nodeName&&!t._preventDropDownClose&&t.close()):"focus"===e.type?t.setAttribute("action-button-focus",""):t.removeAttribute("action-button-focus")}},{key:"_getUpEventTarget",value:function(e){for(var t=this,i=e;i;){if(i instanceof JQX.ListItem&&i.ownerListBox===t.$.listBox){if(i.unselectable||i.disabled)return;i="item";break}if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=i.parentElement}if(t.enableShadowDOM&&null!==i)for(i=e.getRootNode().host;i;){if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=i.parentElement}return i}},{key:"_keyDownHandler",value:function(e){var t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement,a=t.enableShadowDOM?e.composedPath()[0]:e.target;if(!(t.$.listBox&&a===t.$.listBox.$.filterInput||i!==t&&i!==t.$.dropDownButton&&i!==t.$.actionButton))switch(e.key){case"Enter":case" ":a.setAttribute("active",""),e.preventDefault(),a!==t.$.actionButton&&(t._keyPressed=!0,t.opened?(t._focusedItem&&t.select(t._focusedItem),("Enter"===e.key&&["none"].indexOf(t.selectionMode)<0||" "===e.key&&["none","one","radioButton"].indexOf(t.selectionMode)>-1)&&t.close()):t.opened||t.readonly||"none"===t.dropDownOpenMode||t.open());break;case"End":case"Home":case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":if(t.readonly)return;if(e.altKey)return t._keyPressed=!1,void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close());e.preventDefault(),t.$.listBox._handleKeyStrokes(e.key);break;case"Escape":e.preventDefault(),t.close();break;default:if(t.readonly)return;"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!0),t.$.listBox._applyIncrementalSearch(e.key)}}},{key:"_keyUpHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target;t.$.listBox&&i===t.$.listBox.$.filterInput||("Enter"!==e.key&&" "!==e.key||(i.removeAttribute("active"),t.$dropDownContainer.hasClass("jqx-visibility-hidden")||(t._keyPressed=!1)),t.$.listBox&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1))}},{key:"_listBoxChangeHandler",value:function(e){var t=this;if((t.dropDownAppendTo&&t.dropDownAppendTo.length>0||t.enableShadowDOM)&&t.$.fireEvent("change",e.detail),"list"===t.autoComplete&&e.detail){var i=t.$.listBox._items[e.detail.index];t._lastSelectedItem=i||void 0}t._applySelection(t.selectionMode,e.detail)}},{key:"_listBoxItemClickHandler",value:function(e){var t=this;(t.dropDownAppendTo&&t.dropDownAppendTo.length>0||t.enableShadowDOM)&&t.$.fireEvent(e.type,e.detail),"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0&&t.close(),"JQX-COMBO-BOX"!==t.nodeName||JQX.Utilities.Core.isMobile||t.$.input.focus(),delete t._isDropDownClicked}},{key:"_listBoxKeyDownHandler",value:function(e){var t=this;return"Enter"===e.key?(t.close(),"dropDownButton"===t.dropDownOpenMode?t.$.dropDownButton.focus():t.focus(),void e.stopPropagation()):"Escape"===e.key?void t.close():void 0}},{key:"_mouseEnterHandler",value:function(){var e=this;e._isElementHovered=!0,e.tagName.indexOf("JQX-DROP-DOWN-")>-1&&"auto"===e.dropDownOpenMode&&!e.disabled&&!e.readonly&&e.open()}},{key:"_mouseLeaveHandler",value:function(){var e=this;e.removeAttribute("hover"),e._isElementHovered=!1,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e._autoClose()}},{key:"_mouseWheelHandler",value:function(e){var t=this;t.disabled||t.readonly||t.items&&0===t.items.length||t.$dropDownContainer&&!t.$dropDownContainer.hasClass("jqx-visibility-hidden")||t.$.listBox&&(e.preventDefault(),t.$.listBox._handleKeyStrokes(e.deltaY>0?"ArrowDown":"ArrowUp"))}},{key:"_autoClose",value:function(){var e=this;e._autoCloseTimeout=setTimeout(function(){e._isElementHovered||e.close(),clearTimeout(e._autoCloseTimeout)}.bind(e),e.autoCloseDelay)}},{key:"_propertyValidator",value:function(e,t){return"number"!=typeof t&&"string"!=typeof t?e:t}},{key:"_resizeHandler",value:function(){var e=this;"none"===e.resizeMode&&(e._calculateDropDownSize(),e._setDropDownSize())}},{key:"_selectStartHandler",value:function(e){this._preventsSelectStart&&e.preventDefault()}},{key:"_setDropDownSize",value:function(){var e=this;if(e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMinHeight","dropDownMaxWidth","dropDownMaxHeight"].forEach(function(t){e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]=e[t]?e[t]+(e[t].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth){if("auto"!==e.dropDownWidth)e.$.dropDownContainer.style.width=("initial"===e.dropDownWidth?e.offsetWidth:parseFloat(e.dropDownWidth))+"px";else if(e.$.dropDownContainer.style.width="auto",e.$.listBox){var t=2+2*parseInt(window.getComputedStyle(e.$.listBox.$.itemsContainer).getPropertyValue("--jqx-list-item-horizontal-offset"));e.$.dropDownContainer.style.width=t+e.$.listBox._scrollWidth+"px"}}else e.$.dropDownContainer.style.width="auto"===e._dropDownSize.width?"auto":(parseFloat(e._dropDownSize.width)||0)+"px";if(e.dropDownHeight&&"auto"!==e.dropDownHeight)e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px");else if(!e.$.listBox||"auto"!==e._dropDownSize.height&&"auto"!==e.dropDownHeight)e.$.dropDownContainer.style.height=e._dropDownSize.height;else{e.$.dropDownContainer.style.height="";var i=2*parseInt(window.getComputedStyle(e.$.listBox.$.itemsContainer).getPropertyValue("--jqx-list-item-vertical-offset"));isNaN(i)&&(i=6);var a=i;e.$.listBox.items.length>0&&e.$.listBox.items.map(function(e){return a+=e.height||e.offsetHeight}),a=a+e._dropDownSize.paddingWidth+e._dropDownSize.borderWidth,e.$.dropDownContainer.style.height=a+"px"}e.$.listBox&&e.$.listBox._refreshLayout()}},{key:"_styleChangedHandler",value:function(e){var t=this;if(t.dropDownAppendTo&&t.dropDownAppendTo.length>0)for(var i=e.detail.styleProperties,a=["font-size","font-family","font-style","font-weight"],n=0;n<a.length;n++)i[a[n]]&&(t.$.dropDownContainer.style[a[n]]=i[a[n]].value);"auto"===t._dropDownSize.height&&t._setDropDownSize()}},{key:"_validateTemplate",value:function(e){var t=this;if(e&&"function"!=typeof e)return"content"in document.createElement("template")?(e instanceof HTMLTemplateElement||(e=document.getElementById(e)),null!==e&&"content"in e?e:void t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"tokenTemplate"}))):void t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}))}},{key:"items",get:function(){var e=this;if(e.$&&e.$.listBox)return e.$.listBox.items}},{key:"_focusedItem",get:function(){var e=this;if(e.$&&e.$.listBox)return e.$.listBox._focusedItem}}],[{key:"properties",get:function(){return{autoCloseDelay:{value:100,type:"number"},dataSource:{value:null,type:"any",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",type:"string"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},filterable:{value:!1,type:"boolean"},filterInputPlaceholder:{value:"",type:"string"},filterCallback:{value:null,type:"function?"},filterMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},inputMember:{value:"label",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},label:{value:"",type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},renderMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},resizeIndicator:{value:!1,type:"boolean"},selectionDisplayMode:{value:"plain",allowedValues:["plain","placeholder","tokens"],type:"string"},selectionMode:{value:"one",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},sorted:{value:!1,type:"boolean"},tokenTemplate:{value:null,type:"any"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}},{key:"listeners",get:function(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","actionButton.focus":"_buttonsFocusHandler","actionButton.blur":"_buttonsFocusHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownButton.focus":"_buttonsFocusHandler","dropDownButton.blur":"_buttonsFocusHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","listBox.change":"_listBoxChangeHandler","listBox.itemClick":"_listBoxItemClickHandler","listBox.keydown":"_listBoxKeyDownHandler","listBox.bindingComplete":"_bindingCompleteHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler",wheel:"_mouseWheelHandler"}}},{key:"styleUrls",get:function(){return["jqx.dropdownlist.css","jqx.dropdown.css"]}},{key:"requires",get:function(){return{"JQX.ListBox":"jqxlistbox.js"}}}]),t}(JQX.ContentElement)),JQX("jqx-combo-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                         <div id="selectionField" class ="jqx-input jqx-selection-field">\n                             <input id="input" placeholder="[[placeholder]]" autocomplete="off"/>\n                             <div class="jqx-combo-box-auto-complete-string" id="autoCompleteString"></div>\n                         </div>\n                        <span id="dropDownButton" class ="jqx-drop-down-button jqx-unselectable">\n                            <span id="arrow"></span>\n                        </span>\n                         <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                            <jqx-list-box id="listBox"\n                                    animation="[[animation]]"\n                                    unfocusable="true"\n                                    data-source="[[dataSource]]"\n                                    disabled="[[disabled]]"\n                                    display-loading-indicator="[[displayLoadingIndicator]]"\n                                    display-member="[[displayMember]]"\n                                    filterable="[[filterable]]"\n                                    filter-callback="[[filterCallback]]"\n                                    filter-mode="[[filterMode]]"\n                                    filter-input-placeholder="[[filterInputPlaceholder]]"\n                                    grouped="[[grouped]]"\n                                    group-member="[[groupMember]]"\n                                    item-height="[[itemHeight]]"\n                                    item-template="[[itemTemplate]]"\n                                    incremental-search-delay="[[incrementalSearchDelay]]"\n                                    incremental-search-mode="[[incrementalSearchMode]]"\n                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                    loading-indicator-position="[[loadingIndicatorPosition]]"\n                                    name="[[name]]"\n                                    placeholder="[[dropDownPlaceholder]]"\n                                    readonly="[[readonly]]"\n                                    selected-indexes="{{selectedIndexes}}"\n                                    selection-mode="[[selectionMode]]"\n                                    selected-values="{{selectedValues}}"\n                                    sorted="[[sorted]]"\n                                    theme="[[theme]]"\n                                    value-member="[[valueMember]]"\n                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"\n                                    virtualized="[[virtualized]]">\n                                <content></content>\n                            </jqx-list-box>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"autoComplete":if("list"===a){n.$.listBox.$.filterInput.value="";var o=n.$.listBox.context;n.$.listBox.context=n.$.listBox,n.$.listBox._filterItems(!0),n.$.listBox.context=o,n._setDropDownSize()}n._autoComplete(!0);break;case"dataSource":case"displayMember":n._clearSelection(!0),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally");break;case"disabled":n.$.input.disabled=a,n._setFocusable(),n.close(),n._positionDetection&&n._positionDetection.handleAutoPositioning();break;case"readonly":n.$.input.readOnly=a,n.close();break;case"selectedValues":case"selectedIndexes":n._clearSelection(!0),n._applySelection(n.selectionMode);break;case"selectionMode":case"selectionDisplayMode":n._clearSelection(),n._applySelectionDisplayMode(),"tokens"===n.selectionDisplayMode&&(n._currentSelection=void 0),n._applySelection(n.selectionMode);break;case"tokenTemplate":if(n.$.selectionField)for(;"SPAN"===n.$.selectionField.firstElementChild.nodeName;)n.$.selectionField.removeChild(n.$.selectionField.firstElementChild);n._tokenTemplate=n._validateTemplate(n.tokenTemplate),n._applySelection();break;case"value":n._queryItems(!0);break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"clearItems",value:function(){var e=this;e.$.listBox.clearItems(),e._clearSelection(!0)}},{key:"clearSelection",value:function(){var e=this;e.$.listBox.clearSelection(),e._clearSelection(!arguments[0])}},{key:"blur",value:function(){this.$.input.blur()}},{key:"focus",value:function(){this.$.input.focus()}},{key:"_setFocusable",value:function(){var e=this;if(!e.disabled&&!e.unfocusable){var t=e.tabIndex>0?e.tabIndex:0;return e.$.input.tabIndex=t,void("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("tabindex",t):e.$.dropDownButton.removeAttribute("tabindex"))}e.$.input.tabIndex=-1,e.$.dropDownButton.removeAttribute("tabindex")}},{key:"_autoComplete",value:function(e){var t=this;if("list"!==t.autoComplete){if(0===t.$.listBox._items.length&&"function"!=typeof t.dataSource)return void t.close();var i=t.$.input.value.length<t.minLength?"":"escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value,a=function(e){for(var t=0;t<e.length;t++)if(e[t]._focused&&e[t].hasAttribute("focus"))return!0},n=void 0;1===t.$.listBox.selectedValues.length&&(n=t.$.listBox.getItem(t.$.listBox.selectedValues[0])),t.$.autoCompleteString.textContent="",t.$.listBox.$.filterInput.value="none"===t.autoComplete||t.$.input.value.length<t.minLength?"":i;var o=function(){if(t.$.listBox.isAttached&&t.$.input){var e=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if(t._setDropDownSize(),t.opened&&(t._positionDetection.positionDropDown(),t._positionDetection.checkBrowserBounds()),t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length>0){if(t.$.listBox._scrollView.scrollTop=t.$.listBox._filteredItems[0].offsetTop,"none"!==t.autoComplete&&t.$.input.value.length>=t.minLength&&!a(t.$.listBox._filteredItems)&&t._focus(t.$.listBox._filteredItems[0]),e===t.$.input&&"inline"===t.autoComplete&&t.$.input.value.length>=t.minLength&&t._updateAutoCompleteHelper(),n&&n[t.inputMember]===t.$.listBox._filteredItems[0][t.inputMember]&&n.value===t.$.listBox._filteredItems[0].value&&(t.$.listBox.context=t.$.listBox,t.$.listBox._select(t.$.listBox._filteredItems[0],!0),t.$.listBox.context=r),i!==t.$.listBox._filteredItems[0][t.inputMember]||JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode){if(t._closedFromKeyCombination)return void(t._closedFromKeyCombination=!1);if(i.length<t.minLength&&!(JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode))return void t.close();t.isCompleted&&"none"!==t.dropDownOpenMode&&e===t.$.input&&t.open()}}else t.close()}},r=t.$.listBox.context;t.$.listBox.context=t.$.listBox,t.$.listBox._filterItems(!!e,o,JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode),t.$.listBox.context=r}}},{key:"_updateAutoCompleteHelper",value:function(){var e=this;if(e.$.autoCompleteString.style.width=e.$.input.offsetWidth+"px",e.$.autoCompleteString.style.height=e.$.input.offsetHeight+"px",e.$.autoCompleteString.style.left=e.$.input.offsetLeft+"px",e.$.autoCompleteString.style.top=e.$.input.offsetTop+"px",!e._focusedItem)return void(e.$.autoCompleteString.textContent="");e._focusedItem[e.inputMember].length!==e.$.input.value.length&&(e.$.autoCompleteString.textContent=e.$.input.value+e._focusedItem[e.inputMember].slice(e.$.input.value.length))}},{key:"_applySelection",value:function(e,t){function i(){for(;"SPAN"===a.$.selectionField.firstElementChild.nodeName;)a.$.selectionField.removeChild(a.$.selectionField.firstElementChild);var e=document.createDocumentFragment(),t=void 0,i=void 0;i="tokens"===a.selectionDisplayMode?1!==a.selectedIndexes.length||"oneOrManyExtended"!==a.selectionMode&&"oneOrMany"!==a.selectionMode?"&#10006":"":",",a.selectedIndexes.map(function(n){t=a._applyTokenTemplate(a.$.listBox._items[n][a.inputMember],i),t._value=a.$.listBox._items[n].value,e.appendChild(t)}),a.$.selectionField.insertBefore(e,a.$.input),a._currentSelection=a.selectedIndexes.map(function(e){return a.$.listBox._items[e][a.inputMember]}),a.$.container.setAttribute("has-value",""),a._oldValue=a.value=a._currentSelection.toString(),a._positionDetection.positionDropDown()}var a=this;if(a.$.autoCompleteString.textContent="",0===a.selectedIndexes.length)return void a._clearSelection(t&&a.$.input.value===a.$.listBox._items[t.index][a.inputMember]);if(a.$.listBox._items&&0!==a.$.listBox._items.length)if("one"===a.selectionMode||"zeroOrOne"===a.selectionMode||"radioButton"===a.selectionMode){if(a._currentSelection&&a._currentSelection.length>a.selectedIndexes.length)return a._currentSelection=a.selectedIndexes.map(function(e){return a.$.listBox._items[e][a.inputMember]}),a.$.input.value=a._currentSelection.toString(),void(a._oldValue=a.value=a._currentSelection.toString());a._clearSelection(),a._currentSelection=a.selectedIndexes.map(function(e){return a.$.listBox._items[e][a.inputMember]}),a.$.input.value=a._currentSelection.toString(),a._oldValue=a.value=a._currentSelection.toString(),a.$.container.setAttribute("has-value",""),"none"!==a.autoComplete&&"function"!=typeof a.dataSource&&(a._autoComplete(!0),a.close())}else{if(a.$.input.value="",a.$.input.placeholder="",a.$.container.setAttribute("has-value",""),!a._currentSelection||"oneOrManyExtended"===a.selectionMode||"radioButton"===a.selectionMode&&!a.grouped)return void i();var n=a.$.selectionField.getElementsByClassName("jqx-token");if(a._currentSelection.length<a.selectedIndexes.length){for(var o=a.selectedIndexes.map(function(e){return a.$.listBox._items[e][a.inputMember]}),r=0;r<o.length;r++)if(a._currentSelection.indexOf(o[r])<0){var l=a.$.listBox._items[a.selectedIndexes[r]],s=void 0,d=void 0;d="tokens"===a.selectionDisplayMode?1!==a.selectedIndexes.length||"oneOrManyExtended"!==a.selectionMode&&"oneOrMany"!==a.selectionMode?"&#10006":"":",",1!==a.selectedIndexes.length||"oneOrManyExtended"!==a.selectionMode&&"oneOrMany"!==a.selectionMode||(d=""),s=a._applyTokenTemplate(l[a.inputMember],d),s._value=l.value,a.$.selectionField.insertBefore(s,a.$.input)}"none"!==a.autoComplete&&a.$.listBox._filteredItems&&a.$.listBox._filteredItems.length!==a.$.listBox._items.length&&a._autoComplete(!0),a._positionDetection.positionDropDown()}else{if(a._currentSelection.length>0&&0===n.length||a._currentSelection.length===a.selectedIndexes.length&&a._currentSelection.toString()!==a.selectedValues.toString())return void i();if(!t)return;for(var u=0;u<n.length;u++)if(n[u]._value===t.value){a.$.selectionField.removeChild(n[u]);break}}a._currentSelection=a.selectedIndexes.map(function(e){return a.$.listBox._items[e][a.inputMember]}),a._oldValue=a.value=a._currentSelection.toString()}}},{key:"_applySelectionDisplayMode",value:function(){var e=this;"one"===e.selectionMode||"zeroOrOne"===e.selectionMode||"radioButton"===e.selectionMode?e.$.removeClass("auto-height"):e.$.addClass("auto-height")}},{key:"_bindingCompleteHandler",value:function(){var e=this;e._queryItems(),e._setDropDownSize()}},{key:"_buttonsMouseEventsHandler",value:function(e){var t=this;t.disabled||t.readonly||("mouseenter"===e.type?(e.target.setAttribute("hover",""),t.setAttribute("hover",""),"auto"!==t.dropDownOpenMode||JQX.TextBox&&t instanceof JQX.TextBox||(e.target===t.$.dropDownButton?(t.open(),t.$.input.focus()):t.close())):(e.target.removeAttribute("hover"),t.removeAttribute("hover")))}},{key:"_createElement",value:function(){var e=this;e._tokenTemplate=e._validateTemplate(e.tokenTemplate),e._applySelectionDisplayMode(),e._applySelection(e.selectionMode),"none"!==e.autoComplete&&(e._autoComplete(!0),e.$.input.autocomplete="off"),e._setDropDownSize(),e.$.input.disabled=e.disabled,e.$.input.readOnly=e.readonly,e._setFocusable(),e.$.input.value.length>0&&0===e.selectedIndexes.length&&(e.$.container.setAttribute("has-value",""),e._oldValue=e.value=e.$.input.value),e.$.arrow.noRipple=!0}},{key:"_clearSelection",value:function(e){var t=this;if(e&&(t.$.input.value="",t.value=""),t.$.input.placeholder=t.placeholder,t.$.autoCompleteString.textContent="",t._currentSelection=[],t.$.selectionField)for(;"SPAN"===t.$.selectionField.firstElementChild.nodeName;)t.$.selectionField.removeChild(t.$.selectionField.firstElementChild);"none"!==t.autoComplete&&"list"!==t.autoComplete&&t.$.input.value.length>0&&(t._autoCompleteTimer&&clearTimeout(t._autoCompleteTimer),"function"!=typeof t.dataSource&&(t._autoCompleteTimer=setTimeout(function(){t._autoComplete(!0)},t.autoCompleteDelay))),t.$.input.value.length||t.$.container.removeAttribute("has-value")}},{key:"_documentDownHandler",value:function(e){var i=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_documentDownHandler",this).call(this,e);var a=e.originalEvent.target;i.enableShadowDOM&&(a=e.originalEvent.composedPath()[0]),a!==i.$.dropDownButton||"none"===i.dropDownOpenMode||JQX.Utilities.Core.isMobile||requestAnimationFrame(function(){return i.$.input.focus()})}},{key:"_documentUpHandler",value:function(e){var t=this,i=e.originalEvent.target,a=i.closest?i.closest("jqx-combo-box"):void 0;t.enableShadowDOM&&(i=e.originalEvent.composedPath()[0],a=i.getRootNode().host);var n=i;if(t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._dropDownResized=!0,void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}});if(t.disabled||t._isDropDownClicked||t.readonly)return void delete t._isDropDownClicked;if(t._overlayDown)return t.close(),void delete t._overlayDown;if(i!==t.$.input&&void 0!==i&&i!==t.$.resizeBar){if(i===t.$.selectionField)return void t.$.input.focus();if(i===t.$.dropDownButton&&"none"!==t.dropDownOpenMode)return t._preventDropDownClose=!0,t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close(),void(JQX.Utilities.Core.isMobile||requestAnimationFrame(function(){return t.$.input.focus()}));if(i.classList.contains("jqx-drop-down-list-selection-label")&&a===t&&"none"!==t.dropDownOpenMode){t.open();var o=t.$.listBox._items.filter(function(e){return e[t.inputMember].toString()===i.textContent})[0];return t.$.input.focus(),t.$.listBox._scrollView.scrollTop=o.offsetTop,void t._focus(o)}if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-unselect-button")&&a===t){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return;return t.unselect(t.$.listBox._items.filter(function(e){return e[t.inputMember].toString()===i.previousElementSibling.textContent})[0]),void t.$.input.focus()}if(void 0===(i=t._getUpEventTarget(i)))return void t.$.input.focus();(!t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"dropDownContainer"!==i&&"item"!==i||"item"===i&&t.selectionMode.indexOf("Many")<0&&"checkBox"!==t.selectionMode)&&t.close(),("item"===i||"dropDownContainer"===i&&n!==t.$.listBox.$.filterInput)&&t.$.input.focus()}}},{key:"_dropDownButtonFocusHandler",value:function(e){var t=this;"focus"===e.type?("dropDownButton"!==t.dropDownOpenMode&&t.$.input.focus(),t.setAttribute("focus","")):t.removeAttribute("focus")}},{key:"_inputFocusHandler",value:function(e){var t=this;t.disabled||("focus"===e.type?(t.setAttribute("focus",""),t._buttonClicked||(t._oldValue=t.$.input.value)):(t.removeAttribute("focus"),""!==e.target.value||0!==t.selectedIndexes.length&&""===e.target.value?t.$.container.setAttribute("has-value",""):t.$.container.removeAttribute("has-value"),t._preventDropDownClose||(t.opened&&("auto"===t.autoComplete||"inline"===t.autoComplete)&&t.$.input.value.length>0&&t._focusedItem&&!t._focusedItem.selected&&t.select(t._focusedItem),t.close()),"list"!==t.autoComplete||t._buttonClicked||(t.$.autoCompleteString.textContent="",t._lastSelectedItem?t.select(t._lastSelectedItem):t.value=t.$.input.value=t._oldValue),"previousValue"===t.escKeyMode&&(t.value=t.$.input.value)))}},{key:"_inputChangeEventHandler",value:function(e){var t=this;e.stopPropagation(),t.$.fireEvent("change",{oldValue:t._oldValue,newValue:t.$.input.value,selectedItems:t.selectedItems,selectedValues:t.selectedValues})}},{key:"_keyDownHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target;if(!t.disabled&&!t.readonly&&i!==t.$.listBox.$.filterInput){var a="function"==typeof t._focusedItem?t._focusedItem():t._focusedItem;switch(e.key){case"Enter":return void(i===t.$.input&&a&&t.opened?(a.disabled||t.select(a),!t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&t.selectionMode.indexOf("one")>-1&&(t.close(),t._unfocus())):i===t.$.dropDownButton?(t.$.dropDownButton.setAttribute("active",""),t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode?t.open():t.close(),t.$.input.focus()):t.close());case"Escape":switch(t.escKeyMode){case"none":t.$dropDownContainer.hasClass("jqx-visibility-hidden")||(t.close(),t._unfocus());break;case"clearValue":t.value=t.$.input.value="",t.close();break;case"previousValue":t.$.input.value=t._oldValue}break;case"End":case"Home":case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":if(!0===t._autoOpenOnKeyDown(e))return;if(e.altKey){if(t._closedFromKeyCombination=!0,t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode){if(t.open(),0===t.items.length)return;0===t.selectedIndexes.length?t._focus(t.items[0]):t.selectedIndexes.length>0&&!t.$.listBox._items[t.selectedIndexes[t.selectedIndexes.length-1]].hidden&&t._focus(t.items[t.selectedIndexes[t.selectedIndexes.length-1]])}else t.close();return}
if(i===t.$.input&&t.$dropDownContainer.hasClass("jqx-visibility-hidden"))return void(e.ctrlKey&&(e.preventDefault(),t.$.listBox._handleKeyStrokes(e.key)));if(("PageUp"===e.key||"PageDown"===e.key)&&!a||i===t.$.listBox.$.filterInput)return;if(e.preventDefault(),!a||a&&!a._focused)return void t._focus(t.items[0]);t.$.listBox._handleKeyStrokes(e.key),"inline"!==t.autoComplete&&"list"!==t.autoComplete||t._updateAutoCompleteHelper();break;case"Backspace":if(t.$.input.previousElementSibling){if(0===t.$.input.value.length){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return;var n=t.$.listBox.getItem(t.$.input.previousElementSibling._value);n?t.unselect(n):t.$.selectionField.firstElementChild&&"SPAN"===t.$.selectionField.firstElementChild.nodeName&&t.$.selectionField.removeChild(t.$.selectionField.firstElementChild)}return}t.selectedIndexes.length>1&&t.clearSelection(!0);break;default:if(i===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!0),!0===t._autoOpenOnKeyDown(e))return}}}},{key:"_autoOpenOnKeyDown",value:function(e){var t=this;if(!(t.opened||!t.opened&&t.autoOpenShortcutKey.indexOf(e.key)<0)){var i="function"==typeof t._focusedItem?t._focusedItem():t._focusedItem;return t.open(),(!i||i&&!i._focused)&&("ArrowDown"===e.key?t._focus(t.items[0]):"ArrowUp"===e.key&&t._focus(t.items[t.items.length-1]),t.ensureVisible(t._focusedItem)),!0}}},{key:"_keyUpHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target;if(!(t.disabled||"none"===t.escKeyMode&&"Escape"===e.key||i===t.$.listBox.$.filterInput)){if(i===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1),["one","radioButton","zeroOrOne"].indexOf(t.selectionMode)>-1&&1===t.selectedIndexes.length&&t.$.input.value!==(t._currentSelection?t._currentSelection[0]:void 0)&&t.unselect(t.$.listBox._items[t.selectedIndexes[0]]),"Enter"===e.key)return void t.$.dropDownButton.removeAttribute("active");if(i===t.$.input&&e.key.indexOf("Arrow")<0&&["Control","Shift"].indexOf(e.key)<0){if(t.value===t.$.input.value)return;if(t._currentSelection?t.value=t._currentSelection.toString()+(t._currentSelection.length>0?",":"")+t.$.input.value:t.value=t.$.input.value,t.$.autoCompleteString.textContent="",t._closedFromKeyCombination)return void(t._closedFromKeyCombination=!1);if("none"!==t.autoComplete&&"list"!==t.autoComplete?(t.$.input.value!==(t._currentSelection?t._currentSelection.toString():void 0)||t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length!==t.$.listBox._items.length)&&(t._autoCompleteTimer&&clearTimeout(t._autoCompleteTimer),t._autoCompleteTimer=setTimeout(function(){t._autoComplete(!0)},t.autoCompleteDelay)):(t.$.input.value.length>0&&t._queryItems(),t._focusedItem&&(t.open()," "!==e.key&&(t.$.listBox._scrollView.scrollTop=t._focusedItem.offsetTop))),"none"!==t.autoComplete&&"list"!==t.autoComplete&&t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length===t.$.listBox._items.length)return void t.close()}}}},{key:"_queryItems",value:function(e){var t=this;if(!t.value||!t.$.input)return void t.close();var i=t.$.listBox._queryItems(t.$.input.previousElementSibling?t.$.input.value:t.value,t.incrementalSearchMode);0===i.length&&t._unfocus();for(var a=0;a<i.length;a++)if(!i[a].hidden){e&&!i[a].selected&&t.select(i[a]),t._focus(i[a]);break}"list"===t.autoComplete&&(t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement)===t.$.input&&t.$.input.value.length>=t.minLength&&t._updateAutoCompleteHelper()}},{key:"_selectStartHandler",value:function(e){var t=this;t._resizeDetails&&t._resizeDetails.started&&e.preventDefault()}},{key:"_unfocus",value:function(){var e=this;e._focusedItem&&(e._focusedItem._focused=!1,e.$.listBox._focusedItem=void 0)}}],[{key:"properties",get:function(){return{autoComplete:{allowedValues:["none","manual","auto","inline","list"],type:"string",value:"none"},autoCompleteDelay:{value:700,type:"number"},autoOpenShortcutKey:{value:[],type:"array"},escKeyMode:{allowedValues:["none","previousValue","clearValue"],type:"string",value:"none"},minLength:{type:"number",value:2},value:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{"input.focus":"_inputFocusHandler","input.blur":"_inputFocusHandler","dropDownButton.focus":"_dropDownButtonFocusHandler","dropDownButton.blur":"_dropDownButtonFocusHandler","input.change":"_inputChangeEventHandler","input.mouseenter":"_buttonsMouseEventsHandler","input.mouseleave":"_buttonsMouseEventsHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.selectstart":"_selectStartHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler","listBox.change":"_listBoxChangeHandler","listBox.itemClick":"_listBoxItemClickHandler","listBox.keydown":"_listBoxKeyDownHandler",wheel:"_mouseWheelHandler"}}},{key:"styleUrls",get:function(){return["jqx.combobox.css"]}}]),t}(JQX.DropDownList)),JQX("jqx-drop-down-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <span id="actionButton" class="jqx-input jqx-action-button">[[placeholder]]</span>\n                            <span id="dropDownButton" class="jqx-drop-down-button">\n                                <span id="arrow"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                            <jqx-scroll-viewer id="scrollViewer"                            \n                                right-to-left="[[right-to-left]]"\n                                horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]">\n                                <content></content>\n                            </jqx-scroll-viewer>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.isCompleted&&e.$.dropDownContainer&&(e._positionDetection.dropDownAttached("_setDropDownSize"),e._positionDetection.checkBrowserBounds())}},{key:"detached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e.$.dropDownContainer&&(e.close(),e._positionDetection.dropDownDetached())}},{key:"propertyChangedHandler",value:function(e,t,i){var a=this;switch(e){case"disabled":case"unfocusable":a._setFocusable();break;case"dropDownAppendTo":a._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownHeight":case"dropDownMaxHeight":case"dropDownMaxWidth":case"dropDownMinHeight":case"dropDownMinWidth":case"dropDownWidth":a._setDropDownSize();break;case"dropDownOpenMode":a._setFocusable(),a.close();break;case"dropDownOverlay":i||a._positionDetection.removeOverlay();break;case"dropDownPlaceholder":a.$.dropDownContainer.hasAttribute("empty")&&(a.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=i,a.opened&&a.$.scrollViewer.refresh());break;case"dropDownPosition":a._positionDetection.dropDownPositionChangedHandler();break;case"innerHTML":""===i.trim()?(a.$.dropDownContainer.setAttribute("empty",""),requestAnimationFrame(function(){return a.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=a.dropDownPlaceholder})):(a.$.dropDownContainer.removeAttribute("empty"),a.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=i),a.opened&&a.$.scrollViewer.refresh();break;case"opened":i?a.open():a.close();break;case"placeholder":""!==t&&""!==i||a._setFocusable();break;case"resizeIndicator":i?a.$.dropDownContainer.setAttribute("resize-indicator",""):a.$.dropDownContainer.removeAttribute("resize-indicator");break;case"resizeMode":a.$.dropDownContainer.setAttribute("resize-mode",a.resizeMode),a.opened&&a.$.scrollViewer.refresh()}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{method:"removeChild",node:"node"}));t.$.scrollViewer.appendChild(e)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{method:"removeChild",node:"node"}));t.$.dropDownContainer.contains(e)&&t.$.scrollViewer.removeChild(e)}},{key:"removeAll",value:function(){var e=this;e.isCompleted&&e.$.scrollViewer.removeAll()}},{key:"_open",value:function(){var e=this;if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("jqx-visibility-hidden")){if(e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo&&e.dropDownAppendTo.length>0){var t=e.getBoundingClientRect();if(e.$.container.contains(e.$.dropDownContainer)){var i=0,a=setInterval(function(){var t=e.getBoundingClientRect();i++,t.top===e._positionTop&&i<10||(e.open(),clearInterval(a),e._positionTop=t.top)},100);return}t.top!==e._positionTop&&(e._positionTop=t.top)}e.$.fireEvent("opening").defaultPrevented||(e.opened=!0,e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e.$.dropDownButton&&("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("selected",""):e.$.dropDownButton.removeAttribute("selected")),e.$.input&&e.$.input.focus())}}},{key:"open",value:function(){for(var e=this,t=document.querySelectorAll("jqx-drop-down-button, jqx-color-picker"),i=0;i<t.length;i++)t[i]!==e&&t[i].opened&&t[i].close();e._open(),e.$.scrollViewer.refresh()}},{key:"scrollTo",value:function(e,t){var i=this;i.isCompleted&&i.$.scrollViewer.scrollTo(e,t)}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e.$.dropDownContainer.setAttribute("resize-mode",e.resizeMode),e.resizeIndicator&&e.$.dropDownContainer.setAttribute("resize-indicator",""),e._positionDetection.handleAutoPositioning(),e._createElement(),e.opened?e.open():e.hasAnimation&&e._edgeMacFF&&e.$dropDownContainer.addClass("not-in-view"),e._positionTop=e.getBoundingClientRect().top}},{key:"_setDropDownSize",value:function(){var e=this;e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMinHeight","dropDownMaxWidth","dropDownMaxHeight"].forEach(function(t){e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]=e[t]?e[t]+(e[t].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth?"auto"!==e.dropDownWidth?e.$.dropDownContainer.style.width=("initial"===e.dropDownWidth?e.offsetWidth:parseFloat(e.dropDownWidth))+"px":e.$.dropDownContainer.style.width="auto":e.$.dropDownContainer.style.width="auto"===e._dropDownSize.width?"auto":(parseFloat(e._dropDownSize.width)||0)+"px",e.dropDownHeight&&"auto"!==e.dropDownHeight?e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px"):e.$.dropDownContainer.style.height=e._dropDownSize.height}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),e.$.actionButton.removeAttribute("tabindex"),void e.$.dropDownButton.removeAttribute("tabindex");var t=e.tabIndex>0?e.tabIndex:0;"dropDownButton"===e.dropDownOpenMode?(e.removeAttribute("tabindex"),""===e.placeholder?e.$.actionButton.removeAttribute("tabindex"):e.$.actionButton.setAttribute("tabindex",t),e.$.dropDownButton.setAttribute("tabindex",t)):(e.$.actionButton.removeAttribute("tabindex"),e.$.dropDownButton.removeAttribute("tabindex"),e.tabIndex=t)}},{key:"_calculateDropDownSize",value:function(){var e=this;e._dropDownSize={};var t=window.getComputedStyle(e.$.dropDownContainer),i=parseFloat(t.getPropertyValue("border-top-width").trim()),a=parseFloat(t.getPropertyValue("border-bottom-width").trim()),n=parseFloat(t.getPropertyValue("margin-top").trim()),o=parseFloat(t.getPropertyValue("margin-bottom").trim()),r=parseFloat(t.getPropertyValue("padding-top").trim()),l=parseFloat(t.getPropertyValue("padding-bottom").trim());JQX.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--jqx-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--jqx-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(i)?0:i)+(isNaN(a)?0:a),e._dropDownSize.paddingWidth=(isNaN(r)?0:r)+(isNaN(l)?0:l),e._dropDownSize.marginWidth=(isNaN(n)?0:n)+(isNaN(o)?0:o)}},{key:"_createElement",value:function(){var e=this;""===e.innerHTML.trim()&&(e.$.dropDownContainer.setAttribute("empty",""),e.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=e.dropDownPlaceholder),e._setDropDownSize(),e._setFocusable(),e.$.arrow.noRipple=!0}},{key:"_dragStartHandler",value:function(e){var t=this;t._resizeDetails&&t._resizeDetails.started&&e.preventDefault()}},{key:"_dropDownTransitionendHandler",value:function(){var e=this;e._edgeMacFF&&!e.opened&&e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view"))}},{key:"_blurEventHandler",value:function(){var e=this;e.$.dropDownButton&&(e.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),e.$.actionButton&&(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus"))}},{key:"_focusEventHandler",value:function(){var e=this;e.$.dropDownButton&&(e.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus","")),e.$.actionButton&&(e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus","")),e.removeAttribute("drop-down-button-focus"),e.removeAttribute("action-button-focus")}},{key:"_buttonsFocusHandler",value:function(e){var t=this;e.target===t.$.dropDownButton?"focus"===e.type?t.setAttribute("drop-down-button-focus",""):t.removeAttribute("drop-down-button-focus"):"focus"===e.type?t.setAttribute("action-button-focus",""):t.removeAttribute("action-button-focus")}},{key:"_getUpEventTarget",value:function(e){for(var t=this,i=e;i;){if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=i.parentElement}if(t.enableShadowDOM&&null!==i)for(i=e.getRootNode().host;i;){if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=i.parentElement}return i}},{key:"close",value:function(){var e=this;if(!e.$dropDownContainer.hasClass("jqx-visibility-hidden")){e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.$.fireEvent("close"),e.$.dropDownButton&&e.$.dropDownButton.removeAttribute("selected"),e.opened=!1,e._preventDropDownClose=!1,e._positionDetection.removeOverlay(!0),e._edgeMacFF&&!e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}}},{key:"_documentUpHandler",value:function(e){var t=this,i=t.hasAttribute("resizing");if(t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._preventDropDownClose=!1,t.focus(),void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}});if(t.disabled||t._isDropDownClicked||t.readonly)return void delete t._isDropDownClicked;if(t._overlayDown)return t.close(),void delete t._overlayDown;var a=e.originalEvent.target;if(t.enableShadowDOM&&(a=e.originalEvent.composedPath()[0]),t._preventsSelectStart=!1,void 0!==a&&a!==t.$.resizeBar){var n=a.closest(".jqx-action-button");if(t._buttonClicked&&("dropDownButton"===t.dropDownOpenMode&&n&&t._buttonClicked===t.$.actionButton?t.$.fireEvent("actionButtonClick"):a.closest(".jqx-drop-down-button")!==t._buttonClicked&&n!==t._buttonClicked||t.$.fireEvent("dropDownButtonClick")),t._buttonClicked=void 0,!t.editable&&n===t.$.actionButton||a.closest(".jqx-drop-down-button")===t.$.dropDownButton)return"dropDownButton"===t.dropDownOpenMode&&n===t.$.actionButton?void t.close():void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode?t.open():t.close());a=t._getUpEventTarget(a),void 0!==a&&(("dropDownContainer"!==a&&"item"!==a||"item"===a&&"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0)&&t.close(),i&&t.$.scrollViewer&&t.$.scrollViewer.refresh())}}},{key:"_keyDownHandler",value:function(e){var t=this,i=document.activeElement;if(!(t.disabled||t.readonly||i!==t&&i!==t.$.dropDownButton&&i!==t.$.actionButton))switch(e.key){case"Enter":case" ":e.preventDefault(),e.target!==t.$.actionButton&&(t.opened&&"Enter"===e.key?t.close():t.opened||t.readonly||"none"===t.dropDownOpenMode||t.open());break;case"End":t.$.scrollViewer.scrollTop=t.$.scrollViewer.scrollHeight;break;case"Home":t.$.scrollViewer.scrollTop=0;break;case"PageUp":case"PageDown":t.$.scrollViewer.scrollTop+=(e.key.indexOf("Down")>-1?1:-1)*t.$.dropDownContainer.offsetHeight;break;case"ArrowUp":case"ArrowDown":if(e.altKey)return void(t.disabled||t.readonly||"none"===t.dropDownOpenMode||(t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close()));e.preventDefault(),t.$.scrollViewer.scrollTop+=10*(e.key.indexOf("Down")>-1?1:-1);break;case"Escape":e.preventDefault(),t.close()}}},{key:"_propertyValidator",value:function(e,t){return"number"!=typeof t&&"string"!=typeof t?e:t}},{key:"_mouseEnterHandler",value:function(){var e=this;e._isElementHovered=!0,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e.open()}},{key:"_mouseLeaveHandler",value:function(){var e=this;e.removeAttribute("hover"),e._isElementHovered=!1,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e._autoClose()}},{key:"_autoClose",value:function(){var e=this;e._autoCloseTimeout=setTimeout(function(){e._isElementHovered||e.close(),clearTimeout(e._autoCloseTimeout)}.bind(e),e.autoCloseDelay)}},{key:"_documentMoveHandler",value:function(e){function t(){if(d=e.pageY-a._resizeDetails.y,"bottom"===s)a._resizeDetails.height=Math.min(o.clientHeight-r.top-6,Math.max(0,a._resizeDetails.height+d)),a._resizeDetails.y=Math.max(r.top+o.scrollTop-a._resizeDetails.offsetY,Math.min(o.clientHeight+o.scrollTop-1.5*a._resizeDetails.offsetY,e.pageY));else{if(a._resizeDetails.height=Math.min(a._dropDownSize.maxHeight,Math.max(0,Math.min(l.top,a._resizeDetails.height-d))),d=Math.max(0,r.top+(r.height-Math.max(a._dropDownSize.minHeight,a._resizeDetails.height))),a.dropDownAppendTo&&a.dropDownAppendTo.length>0){var t=Math.abs(parseFloat(getComputedStyle(a.$.dropDownContainer).getPropertyValue("margin-bottom")))||0;a.$.dropDownContainer.style.top=a.dropDownAppendTo&&a.dropDownAppendTo.length>0?t+d+"px":""}var i=l.top+o.scrollTop+a._resizeDetails.offsetYtop;a._resizeDetails.y=Math.max(a._resizeDetails.offsetYtop,Math.min(i,Math.max(i-a._dropDownSize.maxHeight,e.pageY)))}a.$.dropDownContainer.style.height=a._resizeDetails.height+"px"}function i(){d=e.pageX-a._resizeDetails.x,a._resizeDetails.width=Math.min(o.clientWidth-r.left-6,Math.max(0,a._resizeDetails.width+d)),a.$.dropDownContainer.style.width=a._resizeDetails.width+"px",a._resizeDetails.x=Math.max(r.left+o.scrollLeft-a._resizeDetails.offsetXR,Math.min(o.clientWidth+o.scrollLeft-1.5*a._resizeDetails.offsetXR,e.pageX))}var a=this,n=a.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if("auto"===a.dropDownOpenMode&&null!==a.dropDownAppendTo&&(a.contains(n)||a.$.dropDownContainer.contains(n)?a._isElementHovered=!0:(a._isElementHovered=!1,a._autoClose())),a._resizeDetails&&(!a._resizeDetails||a._resizeDetails.started)){a.setAttribute("resizing",""),a._resizeDetails.resizeEventFired||(a.$.fireEvent("resizeStart",{position:{left:e.pageX,top:e.pageY}}),a._resizeDetails.resizeEventFired=!0);var o=document.documentElement,r=a.$.dropDownContainer.getBoundingClientRect(),l=a.getBoundingClientRect(),s=a.$.dropDownContainer.hasAttribute("top")?"top":"bottom",d=void 0;switch(a.resizeMode){case"vertical":t();break;case"horizontal":i();break;case"both":i(),t()}}}},{key:"_documentDownHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var i=e.originalEvent.target;if(i===t._overlay&&(t._overlayDown=!0),t.enableShadowDOM){i=e.originalEvent.composedPath()[0];for(var a=i.getRootNode().host;a;)a.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),a=a.getRootNode().host}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;if(t._buttonClicked=i.closest(".jqx-action-button")||i.closest(".jqx-drop-down-button"),t._isDropDownClicked&&(t._preventDropDownClose=!0),i===t.$.resizeBar&&"none"!==t.resizeMode){t._resizeDetails||(t._resizeDetails={});var n=t.$.dropDownContainer.getBoundingClientRect();t._resizeDetails.started=!0,t._resizeDetails.x=e.pageX,t._resizeDetails.y=e.pageY,t._resizeDetails.width=t.$.dropDownContainer.offsetWidth,t._resizeDetails.height=t.$.dropDownContainer.offsetHeight,t._resizeDetails.offsetXL=e.clientX-n.left,t._resizeDetails.offsetXR=n.left+t.$.dropDownContainer.offsetWidth-e.clientX,t._resizeDetails.offsetY=n.top+t.$.dropDownContainer.offsetHeight-e.clientY,t._resizeDetails.offsetYtop=e.clientY-n.top,t._preventDropDownClose=!0}}}},{key:"_resizeHandler",value:function(){var e=this;"none"===e.resizeMode&&(e._calculateDropDownSize(),e._setDropDownSize())}},{key:"_resizeBarMoveHandler",value:function(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}},{key:"_styleChangedHandler",value:function(e){var t=this;if(t.dropDownAppendTo&&t.dropDownAppendTo.length>0)for(var i=e.detail.styleProperties,a=["font-size","font-family","font-style","font-weight"],n=0;n<a.length;n++)i[a[n]]&&(t.$.dropDownContainer.style[a[n]]=i[a[n]].value);"auto"===t._dropDownSize.height&&t._setDropDownSize()}},{key:"_buttonsDownHandler",value:function(e){var t=this;if(!t.disabled){if(t.hasRippleAnimation)if("dropDownButton"===t.dropDownOpenMode)JQX.Utilities.Animation.Ripple.animate(e.target,e.pageX,e.pageY);else if(e.target===t.$.dropDownButton||!t.editable){var i=t.$.buttonsContainer;i.firstElementChild.noRipple=!0,JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i.firstElementChild.noRipple=!1}t._preventsSelectStart=!0,"dropDownButton"===t.dropDownOpenMode&&e.target===t.$.actionButton&&t.$.actionButton.setAttribute("active",""),t.opened&&(t._preventDropDownClose=!0)}}},{key:"_buttonsMouseEventsHandler",value:function(e){var t=this;t.disabled||("mouseenter"===e.type?(t.setAttribute("hover",""),e.target.setAttribute("hover","")):(t.removeAttribute("hover"),e.target.removeAttribute("hover")))}},{key:"_selectStartHandler",value:function(e){this._preventsSelectStart&&e.preventDefault()}}],[{key:"properties",get:function(){return{autoCloseDelay:{value:100,type:"number"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",type:"string"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},label:{value:"",type:"string"},messages:{extend:!0,value:{en:{invalidNode:'jqx-drop-down-button: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}},{key:"listeners",get:function(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","actionButton.focus":"_buttonsFocusHandler","actionButton.blur":"_buttonsFocusHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownButton.focus":"_buttonsFocusHandler","dropDownButton.blur":"_buttonsFocusHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler"}}}]),t}(JQX.ContentElement)),JQX("jqx-multi-split-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <div id="actionButton" class ="jqx-input jqx-action-button">\n                         <template>\n                                 <div class="jqx-multi-split-button-buttons" *items={{buttonsDataSource}}><span class="jqx-action-split-button" inner-H-T-M-L={{item}}></span></div>\n                          </template>\n                        </div>\n                        <span id="dropDownButton" class="jqx-drop-down-button">\n                            <span id="arrow"></span>\n                        </span>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                            <jqx-list-box id="listBox" unfocusable\n                                    animation="[[animation]]"\n                                    data-source="[[dataSource]]"\n                                    disabled="[[disabled]]"\n                                    display-loading-indicator="[[displayLoadingIndicator]]"\n                                    display-member="[[displayMember]]"\n                                    filterable="[[filterable]]"\n                                    filter-mode="[[filterMode]]"\n                                    filter-input-placeholder="[[filterInputPlaceholder]]"\n                                    grouped="[[grouped]]"\n                                    group-member="[[groupMember]]"\n                                    item-height="[[itemHeight]]"\n                                    item-template="[[itemTemplate]]"\n                                    incremental-search-delay="[[incrementalSearchDelay]]"\n                                    incremental-search-mode="[[incrementalSearchMode]]"\n                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                    loading-indicator-position="[[loadingIndicatorPosition]]"\n                                    name="[[name]]"\n                                    placeholder="[[dropDownPlaceholder]]"\n                                    readonly="[[readonly]]"\n                                    selected-indexes="{{selectedIndexes}}"\n                                    selection-mode="[[selectionMode]]"\n                                    selected-values="{{selectedValues}}"\n                                    sorted="[[sorted]]"\n                                    theme="[[theme]]"\n                                    value-member="[[valueMember]]"\n                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"\n                                    virtualized="[[virtualized]]">\n                                <content></content>\n                            </jqx-list-box>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}},{key:"_blurEventHandler",value:function(){var e=this;e.removeAttribute("focus"),e._preventDropDownClose||e.close()}},{key:"_focusEventHandler",value:function(){this.setAttribute("focus","")}},{key:"_documentUpHandler",value:function(e){var i=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_documentUpHandler",this).call(this,e);for(var a=i.querySelectorAll(".jqx-action-split-button"),n=0;n<a.length;n++){a[n].removeAttribute("active")}i.removeAttribute("active")}},{key:"_dropDownButtonMouseEventsHandler",value:function(e){var t=this;"mouseleave"===e.type?(t.$.dropDownButton.removeAttribute("hover"),t.removeAttribute("hover")):(t.$.dropDownButton.setAttribute("hover",""),t.setAttribute("hover",""))}},{key:"_buttonsDownHandler",value:function(e){
for(var t=this,i=t.querySelectorAll(".jqx-action-split-button"),a=0;a<i.length;a++){var n=i[a],o=n.getBoundingClientRect();"mouseleave"!==e.type?(t.setAttribute("active",""),i[a].removeAttribute("active"),o.left<=e.pageX&&e.pageX<=o.width+o.left&&(i[a].setAttribute("active",""),t.$.fireEvent("buttonClick",{index:a,label:t.buttonsDataSource[a]}))):(i[a].removeAttribute("active"),t.removeAttribute("active",""))}}},{key:"_buttonsMouseEventsHandler",value:function(e){for(var t=this,i=t.querySelectorAll(".jqx-action-split-button"),a=0;a<i.length;a++){var n=i[a],o=n.getBoundingClientRect();"mouseleave"!==e.type?(t.setAttribute("hover",""),i[a].removeAttribute("hover"),o.left<=e.pageX&&e.pageX<=o.width+o.left&&i[a].setAttribute("hover","")):(i[a].removeAttribute("hover"),t.removeAttribute("hover",""))}}},{key:"_applySelection",value:function(){var e=this;if(0===e.buttonsDataSource.length){if("placeholder"===e.selectionDisplayMode||0===e.selectedIndexes.length)return void(e.querySelector(".jqx-template-container").innerHTML=e.placeholder);if(!e.$.listBox._items||0===e.$.listBox._items.length)return;e.querySelector(".jqx-template-container").innerHTML='<div class="jqx-multi-split-button-buttons"><span class="jqx-action-split-button"></span></div>',e.$.actionButton.querySelector(".jqx-action-split-button").appendChild(e._createToken())}}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;"dataSource"===e||"displayMember"===e?(n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally")):babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}],[{key:"properties",get:function(){return{buttonsDataSource:{value:[],type:"array"},dropDownOpenMode:{allowedValues:["none","dropDownButton","auto"],value:"dropDownButton",type:"string"}}}},{key:"listeners",get:function(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.move":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","dropDownButton.mouseenter":"_dropDownButtonMouseEventsHandler","dropDownButton.mouseleave":"_dropDownButtonMouseEventsHandler","actionButton.focus":"_focusEventHandler","actionButton.blur":"_blurEventHandler","dropDownButton.focus":"_focusEventHandler","dropDownButton.blur":"_blurEventHandler"}}}]),t}(JQX.DropDownList)),JQX("jqx-text-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span>\n                    <div id="content" class="jqx-content">\n                        <input class="jqx-input" type="text" id="input"\n                            disabled="[[disabled]]"\n                            maxlength="[[maxLength]]"\n                            name="[[name]]"\n                            placeholder="[[placeholder]]"\n                            readonly="[[readonly]]">\n                        <div id="autoCompleteString"></div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                           <jqx-list-box id="listBox"\n                               data-source="[[dataSource]]"\n                               unfocusable="true"\n                               disabled="[[disabled]]"\n                               display-loading-indicator="[[displayLoadingIndicator]]"\n                               display-member="[[displayMember]]"\n                               item-height="[[itemHeight]]"\n                               item-template="[[itemTemplate]]"\n                               filter-callback="[[filterCallback]]"\n                               filter-mode="[[filterMode]]"\n                               loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                               loading-indicator-position="[[loadingIndicatorPosition]]"\n                               placeholder="[[dropDownPlaceholder]]"\n                               readonly="[[readonly]]"\n                               selection-mode="[[selectionMode]]"\n                               value-member="[[valueMember]]">\n                                <content></content>\n                            </jqx-list-box>\n                         </div>\n                    </div>\n                    <span id="hint" class ="jqx-hint"></span>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"autoComplete":n.$.listBox._filteredItems&&n.$.listBox._filteredItems.length!==n.$.listBox._items.length&&babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_autoComplete",this).call(this,!0),n.$.input.autocomplete="none"!==a?"off":"on";break;case"dataSource":case"valueMember":n._clearSelection(),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally");break;case"displayMember":case"inputMember":var o=n.$.listBox;if(o.selectedIndexes.length){var r=o._items[o.selectedIndexes[0]][n.inputMember];n.$.listBox.$.filterInput.value=r,n.$.input.value="escaped"===n.displayMode?n._toEscapedDisplayMode(r):n._toDefaultDisplayMode(r),n.set("value",n._toDefaultDisplayMode(n.$.input.value))}break;case"displayMode":n.$.input.value="escaped"===a?n._toEscapedDisplayMode(n.value):n.value=n._toDefaultDisplayMode(n.$.input.value);break;case"dropDownOpenMode":n._setFocusable(),n.$dropDownContainer.addClass("jqx-visibility-hidden"),n.opened=!1;break;case"value":(n.$.input!==document.activeElement||n.$.input===document.activeElement&&n.$.input.value===n._oldValue)&&(n.$.input.value="escaped"===n.displayMode?n._toEscapedDisplayMode(n.value):n.value,n._oldValue=i),n.value||n.clearSelection(),a.length>0?n.$.addClass("has-value"):n.$.removeClass("has-value");break;case"hint":if(null===a)return n.$.hint.innerHTML="",void n.$.removeClass("invalid");n._handleHintContainer();break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"open",value:function(){var e=this;if(0!==e.$.listBox.items.length&&"none"!==e.autoComplete)return 0===e.$.input.value.length&&e.$.listBox._filteredItems&&e.$.listBox._filteredItems.length!==e.$.listBox._items.length?void babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_autoComplete",this).call(this,!0):void babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this)}},{key:"close",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),e.$.autoCompleteString.textContent="",e.$.listBox._focusedItem&&(e.$.listBox._focusedItem._focused=!1),"none"!==e.autoComplete&&e.$.input._filteredItems&&e.$.input._filteredItems[0]&&e.$.input._filteredItems[0]!==e.$.input.value&&babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_autoComplete",this).call(this,!0)}},{key:"focus",value:function(){this.$.input.focus()}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void(e.$.input.tabIndex=-1);e.$.input.removeAttribute("tabindex")}},{key:"reset",value:function(){var e=this;"escaped"===e.displayMode?(e.value=e._initializationValue,e.$.input.value=e._toEscapedDisplayMode(e._initializationValue)):e.$.input.value=e.value=e._initializationValue,!e.value&&e.$.listBox&&e.clearSelection()}},{key:"_bindingCompleteHandler",value:function(){var e=this;e.$.listBox&&(e._setDropDownSize(),e._positionDetection.checkBrowserBounds())}},{key:"_createElement",value:function(){var e=this;e._browserIsIEorEdge=JQX.Utilities.Core.Browser.IE||JQX.Utilities.Core.Browser.Edge,e.autoFocus&&e.$.input.focus(),e.value&&(e.$.input.value="escaped"===e.displayMode?e._toEscapedDisplayMode(e.value):e.value),"none"!==e.autoComplete&&(e.$.input.autocomplete="off"),e._setDropDownSize(),e._handleSelectedText(),e._setFocusable(),e._initializationValue=e._oldValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer()}},{key:"_focusHandler",value:function(e){var t=this;if("blur"===e.type){if(t._isDropDownClicked)return;return t.removeAttribute("focus"),t.$.autoCompleteString.textContent="",t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),("auto"===t.autoComplete||"inline"===t.autoComplete)&&t.$.input.value.length>0&&t.$.listBox._focusedItem&&t.$.listBox._focusedItem._focused&&(t.$.input.value=t.$.listBox._focusedItem[t.inputMember]),t._preventDropDownClose||t.close(),void(t._oldValue!==t.value&&t.$.fireEvent("change",{oldValue:t._oldValue,newValue:t.value}))}t.disabled||(t.setAttribute("focus",""),t._oldValue=t.value,t.selectAllOnFocus&&t.$.input.select())}},{key:"_handlePointerInEscapedSymbol",value:function(e){var t=this;if("escaped"===t.displayMode){var i=t.$.input.selectionStart,a=t.$.input.selectionEnd,n=t.$.input.value;if("\\"===n[i-1]&&n[i].match(/n|r|s|t|f/g)){if(i===a){var o="next"===e?1:-1;return t.$.input.selectionStart=i+o,void(t.$.input.selectionEnd=i+o)}t.$.input.selectionStart=i-1,"\\"===n[a-1]&&n[a].match(/n|r|s|t|f/g)&&(t.$.input.selectionEnd=a+1)}}}},{key:"_handleSelectedText",value:function(){var e=this;null===e.selectionStart||null===e.selectionEnd||e.selectionStart===e.selectionEnd||e.selectAllOnFocus||(e.selectionStart=e.selectionStart<0?0:e.selectionStart,e.selectionEnd=e.selectionEnd>e.value.length?e.value.length:e.selectionEnd,e.$.input.setSelectionRange(e.selectionStart,e.selectionEnd))}},{key:"_handleHintContainer",value:function(){var e=this;if(e.hint){var t=e.$.hint;if("function"==typeof e.hint){var i=e.value;e.hint(i,t)?e.$.addClass("invalid"):e.$.removeClass("invalid")}else"string"==typeof e.hint&&(t.innerHTML=e.hint,e.$.removeClass("invalid"))}}},{key:"_keyDownHandler",value:function(e){var i=this;switch(i._showAutoCompleteHighlighter=!1,e.key){case"ArrowUp":case"ArrowDown":if(e.altKey)return e.preventDefault(),void("ArrowDown"===e.key?i.open():i.close());if(i.opened){if(e.preventDefault(),i.$.listBox._handleKeyStrokes(e.key),"inline"!==i.autoComplete)break;i._showAutoCompleteHighlighter=!0,babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateAutoCompleteHelper",this).call(this)}break;case"PageUp":case"PageDown":e.preventDefault(),i.$.input.selectionStart=i.$.input.selectionEnd="PageUp"===e.key?0:i.$.input.value.length;break;case"Enter":if(i.opened&&i.$.listBox._focusedItem&&i.$.listBox._focusedItem._focused&&(i.$.listBox.$.filterInput.value=i.$.listBox._focusedItem[i.inputMember],i.$.input.value="escaped"===i.displayMode?i._toEscapedDisplayMode(i.$.listBox._focusedItem[i.inputMember]):i._toDefaultDisplayMode(i.$.listBox._focusedItem[i.inputMember]),i.select(i.$.listBox._focusedItem),i.close()),"default"!==i.enterKeyBehavior){var a=i.$.input.value;i._oldValue!==a&&(e.preventDefault(),i.$.fireEvent("change",{oldValue:i._oldValue,newValue:a,type:"submit"}),"clearOnSubmit"===i.enterKeyBehavior&&(JQX.MaskedTextBox&&i instanceof JQX.MaskedTextBox?(i._cleanMask(),i._setMaskToInput(),i.$.input.selectionStart=i.$.input.selectionEnd=0):i.$.input.value=""),i._oldValue=i.value=i._toDefaultDisplayMode(i.$.input.value)),i._submitted=!0}break;case"Escape":if(i.close(),i._closedFromKeyCombination=!0,"none"===i.escKeyMode)return;switch(i.escKeyMode){case"none":break;case"clearValue":i.value=i.$.input.value="";break;case"previousValue":i.$.input.value="escaped"===i.displayMode?i._toEscapedDisplayMode(i._oldValue):i._oldValue}break;case" ":"escaped"===i.displayMode&&function(t){var a=i.$.input.selectionStart,n=i.$.input.selectionEnd,o=i.$.input.value;e.preventDefault(),o=o.substring(0,a)+t+o.substring(n,o.length),i.value=i._toDefaultDisplayMode(o),i.$.input.value=o,i.$.input.selectionStart=i.$.input.selectionEnd=a+2}("\\s");break;case"Backspace":if("escaped"===i.displayMode&&i.$.input.selectionStart===i.$.input.selectionEnd){var n=i.$.input.selectionStart;"\\"!==i.$.input.value[n-2]||"s"!==i.$.input.value[n-1]&&"n"!==i.$.input.value[n-1]||(i.$.input.value=i.$.input.value.substring(0,n-2)+i.$.input.value.substring(n-2,i.$.input.value.length),i.$.input.selectionStart=n-2)}}}},{key:"_keyUpHandler",value:function(e){var t=this;t.disabled||"Escape"===e.key||e.target===t.$.listBox.$.filterInput||e.target===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1)}},{key:"_listBoxItemClickHandler",value:function(e){var i=this,a=e.detail;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_listBoxItemClickHandler",this).call(this,e),a.selected){if("escaped"===i.displayMode){var n=i.$.input.value;i.value=i._toDefaultDisplayMode(n),i.$.input.value=n}else i.value=i.$.input.value;i._oldValue!==i.value&&(i.$.fireEvent("change",{oldValue:i._oldValue,newValue:i.value}),i.$.input.focus())}}},{key:"_submitKeyUpHandler",value:function(){var e=this;e._submitted&&("clearOnSubmit"===e.enterKeyBehavior&&(e.$.input.selectionStart=e.$.input.selectionEnd=0),e._submitted=!1)}},{key:"_textBoxKeyUpHandler",value:function(e){var i=this;if(!(i.disabled||e.altKey||e.ctrlKey)){if("escaped"===i.displayMode){var a=i.$.input.value;i.value=i._toDefaultDisplayMode(i.$.input.value),i.$.input.value=a}else i.value=i.$.input.value;var n=void 0;if(1===i.$.listBox.selectedIndexes.length&&(n=i.$.listBox.getItem(i.$.listBox.selectedValues[0]),i.value!==n[i.inputMember]&&i.unselect(n)),i._showAutoCompleteHighlighter||(i.$.autoCompleteString.textContent=""),"Alt"===e.key||"Control"===e.key||!i.opened&&"Escape"===e.key||"Enter"===e.key)return void(i._closedFromKeyCombination=!1);if(e.key&&e.key.indexOf("Arrow")>-1)return void i._handlePointerInEscapedSymbol("ArrowRight"===e.key?"next":void 0);if("none"!==i.autoComplete&&(i.$.input.value.length>0||"auto"===i.dropDownOpenMode)){var o=babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_autoComplete",this).bind(i);if(i._autoCompleteTimer&&clearTimeout(i._autoCompleteTimer),0===i.$.listBox._items.length&&"function"!=typeof i.dataSource)return void i.close();i._autoCompleteTimer=setTimeout(function(){o(!0)},i.autoCompleteDelay)}else i.close();"Enter"===e.key&&i.value!==i.value&&i._browserIsIEorEdge&&(i.value=i.$.input.value,i.$.fireEvent("change",{value:i.value}))}}},{key:"_listBoxChangeHandler",value:function(e){var t=this;if(e.stopPropagation(),e.detail.selected){var i=t.$.listBox._items[e.detail.index][t.inputMember];t.$.listBox.$.filterInput.value=i,t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(i):t._toDefaultDisplayMode(i),t.set("value",t._toDefaultDisplayMode(t.$.input.value))}"none"!==t.autoComplete&&"function"!=typeof t.dataSource&&t._autoComplete(!0)}},{key:"_mouseEventsHandler",value:function(e){var t=this;"mouseenter"===e.type?t.setAttribute("hover",""):t.removeAttribute("hover")}},{key:"_textBoxChangeHandler",value:function(e){var t=this;if(e.stopPropagation(),"escaped"===t.displayMode){var i=t.$.input.value,a=t.$.input.selectionStart,n=t.$.input.selectionEnd,o=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData;if(o){var r=o.getData("text"),l=t.$.input.value;e.preventDefault(),r=t._toEscapedDisplayMode(r),t.$.input.value=l.substring(0,a)+r+l.substring(n,l.length)}t.value=t._toDefaultDisplayMode(t.$.input.value),t.$.input.value=i}else t.value=t.$.input.value;t._handleHintContainer()}},{key:"_textBoxSelectHandler",value:function(){var e=this;e.disabled||(e.selectionStart=e.$.input.selectionStart,e.selectionEnd=e.$.input.selectionEnd)}},{key:"_toEscapedDisplayMode",value:function(e){for(var t=[{key:/\r\n|\n\r|\n|\r/g,value:"\\n"},{key:/\s/g,value:"\\s"},{key:/\n/g,value:"\\n"},{key:/\t/g,value:"\\t"},{key:/\f/g,value:"\\f"},{key:/\r/g,value:"\\r"}],i=0;i<t.length;i++)e=e.replace(t[i].key,t[i].value);return e}},{key:"_toDefaultDisplayMode",value:function(e){e||(e="");for(var t=[{key:/\\s/g,value:" "},{key:/\\n/g,value:"\n"},{key:/\\t/g,value:"\t"},{key:/\\f/g,value:"\f"},{key:/\\r/g,value:"\r"}],i=0;i<t.length;i++)e=e.replace(t[i].key,t[i].value);return e}},{key:"_documentDownHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var i=e.originalEvent.target;if(t.enableShadowDOM){i=e.originalEvent.composedPath()[0];for(var a=i.getRootNode().host;a;)a.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),a=a.getRootNode().host}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;var n=e.originalEvent.target.closest("jqx-list-item");t.hasRippleAnimation&&n&&JQX.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),(n||t._isDropDownClicked)&&(t._preventDropDownClose=!0)}}},{key:"_documentUpHandler",value:function(e){var i=this;if(!i.disabled){var a=i.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(a){if("escaped"===i.displayMode&&a===i.$.input&&i._handlePointerInEscapedSymbol(),i._isDropDownClicked||i.readonly)return void delete i._isDropDownClicked;if(a===i.$.input&&"auto"===i.dropDownOpenMode)return void babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_autoComplete",this).call(this,!0);for(;a;){if(a instanceof JQX.ListItem&&a.ownerListBox===i.$.listBox){if(a.unselectable||a.disabled)return;return"escaped"===i.displayMode?(i.value=a[i.inputMember],i.$.input.value=i._toEscapedDisplayMode(a[i.inputMember])):i.$.input.value=i.value=a[i.inputMember],i.$.fireEvent("change",{oldValue:i._oldValue,newValue:i.value,type:"submit"}),i._oldValue=i.value,"clearOnSubmit"===i.enterKeyBehavior&&(i.$.input.value=i.value=""),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_autoComplete",this).call(this,!0),i.close(),a="item",void i.$.input.focus()}if(a===i.$.listBox)return void(a="listBox");a=a.parentElement}return"listBox"!==a&&"item"!==a?void i.close():void 0}}}}],[{key:"properties",get:function(){return{autoFocus:{value:!1,type:"boolean"},autoComplete:{allowedValues:["none","manual","auto","inline"],type:"string",value:"manual"},displayMode:{value:"default",allowedValues:["default","escaped"],type:"string"},dropDownOpenMode:{allowedValues:["none","default","auto"],value:"default",type:"string"},enterKeyBehavior:{value:"submit",allowedValues:["submit","clearOnSubmit"],type:"string"},form:{value:"",type:"string"},hint:{value:null,reflectToAttribute:!1,type:"any"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}."}},type:"object"},required:{value:!1,type:"boolean"},requiredMessage:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},selectionMode:{value:"zeroOrOne",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},type:{value:"input",type:"string",defaultReflectToAttribute:!0,readonly:!0},value:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{"document.up":"_documentUpHandler",focus:"_focusHandler",keydown:"_keyDownHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","input.blur":"_focusHandler","input.change":"_textBoxChangeHandler","input.focus":"_focusHandler","input.keyup":"_textBoxKeyUpHandler","input.paste":"_textBoxChangeHandler","input.select":"_textBoxSelectHandler","listBox.bindingComplete":"_bindingCompleteHandler"}}},{key:"requires",get:function(){return{"JQX.ComboBox":"jqxcombobox.js"}}},{key:"styleUrls",get:function(){return["jqx.textbox.css"]}}]),t}(JQX.ComboBox)),JQX("jqx-masked-text-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class ="jqx-label"></span>\n                    <input type="text" id="input"\n                        autocomplete="off"\n                        autocorrect="off"\n                        autocapitalize="off"\n                        disabled="[[disabled]]"\n                        maxlength="[[maxLength]]"\n                        minlength="[[minLength]]"\n                        name="[[name]]"\n                        placeholder="[[placeholder]]"\n                        readonly="[[readonly]]">\n                    <span id="hint" inner-h-t-m-l="[[hint]]" class ="jqx-hint"></span>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this,o=void 0;switch(e){case"hidePromptOnLeave":a&&!n._focused?n._hidePrompt():n._promptHidden&&n._showPrompt();break;case"maxLength":n.mask.length>0&&(n.maxLength=i);break;case"maskCompleted":case"maskFull":n[e]=i;break;case"promptChar":n._updatePromptChar();break;case"placeholder":n._isPlaceholderRequired()?(n.$.input.value="",n.$.removeClass("has-value")):n._updatePromptChar(),n._updatePromptChar();break;case"mask":o=n._getValueWithTextMaskFormat({start:0,end:n._mask.length},"excludePromptAndLiterals"),n._isPlaceholderRequired()?(n.$.input.value="",n.$.removeClass("has-value")):(n._initializeMask(),n._setValueToMask(o),n._setMaskToInput(),n.maxLength=n._mask.length,n._promptHidden&&n._hidePrompt());break;case"value":n._overwrite=!0,n._setValueToMask(a),n._overwrite=!1,n._setMaskToInput(),n._promptHidden&&n._hidePrompt();break;case"disabled":n._setFocusable();break;case"readonly":break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}n.value=n._getValueWithTextMaskFormat({start:0,end:n._mask.length},n.textMaskFormat)}},{key:"_createElement",value:function(){var e=this;e.autoFocus&&e.$.input.focus(),e._setFocusable(),e._initializeMask(),e._updateMaxLength(),e._isPlaceholderRequired()?(e.$.input.value="",e.$.removeClass("has-value")):(e._setValueToMask(e.value),e._setMaskToInput(),e._updateMaskFullAndCompleted(),e.$.addClass("has-value")),e.$.input.selectionStart=e.$.input.selectionEnd=0,e._initializationValue=e._value=e.value,e._rejectInput=!1}},{key:"_blurHandler",value:function(){var e=this,t=e._isPlaceholderRequired();e.disabled||(e._valueBeforeChange!==e.value&&(e.$.fireEvent("change",{newValue:e.value,oldValue:e._valueBeforeChange}),e._valueBeforeChange=""),e._hidePrompt(),e._focused=!1,e._validateMaskValue(),e.removeAttribute("focus"),e.$.input.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),t&&(e.$.input.value="",e.$.removeClass("has-value")))}},{key:"_updateMaskFullAndCompleted",value:function(){for(var e=this,t=!0,i=!0,a=!1,n=0;n<e._mask.length;n++){var o=e._mask[n];"mask"===o.type&&(o.required&&(a=!0),""===o.character&&(o.required&&(i=!1),t=!1))}t||!i||a||(i=!1),e.maskFull=t,e.maskCompleted=i}},{key:"_isPlaceholderRequired",value:function(){var e=this,t=e.value&&e.value.length>0,i=e.placeholder.length>0;return!t&&(i||e.autoShowMask)}},{key:"_cleanMask",value:function(e,t){var i=this;e=e||0,t=t||i._mask.length;for(var a=e;a<t;a++){"mask"===i._mask[a].type&&(i._mask[a].character="")}}},{key:"_cutCopyHandler",value:function(e,t){var i=this,a=parseInt(i.$.input.selectionStart,10),n=parseInt(i.$.input.selectionEnd,10),o=i._getValueWithTextMaskFormat({start:a,end:n});return window.clipboardData&&(window.clipboardData.setData("text/plain",o),window.clipboardData.setData("text/html",o)),e&&i._preventDefault(e),"Copy"===t?o:(i._cleanMask(a,n),i.value=i._getValueWithTextMaskFormat({start:0,end:i._mask.length},i.textMaskFormat),i._setMaskToInput(),i.$.input.selectionStart=i.$.input.selectionEnd=a,i.maskFull=i.maskCompleted=!1,o)}},{key:"_documentUpHandler",value:function(){}},{key:"_deleteHandler",value:function(e){var t=this,i=t.$.input.selectionStart,a=t.$.input.selectionEnd,n=e.key,o=i;if(t._preventDefault(e),i===a)if("Backspace"===n)for(var r=i;r>0;r--){var l=t._mask[r-1];if("mask"===l.type){o=r-1,l.character="";break}o=i-1;break}else for(var s=i;s<t._mask.length;s++){var d=t._mask[s];if("mask"===d.type){o=s+1,d.character="";break}o=i+1;break}else t._cleanMask(i,a),"Delete"===n&&(o=a);t._setMaskToInput(),t._updateMaskFullAndCompleted(),t.value=t._getValueWithTextMaskFormat({start:0,end:t._mask.length},t.textMaskFormat),t.$.input.selectionStart=t.$.input.selectionEnd=o}},{key:"_findNextOccupiedPosition",value:function(e){for(var t=this,i=t._mask.length,a=e,n=e;n<i;n++){var o=t._mask[n];if("mask"!==o.type||""!==o.character)break;a++}return a}},{key:"_focusHandler",value:function(e){var t=this;if("INPUT"!==e.context.nodeName.toUpperCase())return void t.$.input.focus();if(!t.disabled&&(t.setAttribute("focus",""),t.selectAllOnFocus&&t.$.input.select(),t._showPrompt(),t._focused=!0,t._isPlaceholderRequired())){t._initializeMask(),t._setValueToMask(t.value),t._setMaskToInput();var i=t._getEditableSelectionStart(0);t.$.input.selectionStart=t.$.input.selectionEnd=i}}},{key:"_setMaskToInput",value:function(){for(var e=this,t="",i=0;i<e._mask.length;i++){var a=e._mask[i],n=void 0;if("literal"===a.type||"separator"===a.type||"placeholder"===a.type||"currency"===a.type)n=a.character;else if("mask"===a.type&&""!==a.character)switch(a.escapeSymbol){case">":n=a.character.toUpperCase();break;case"<":n=a.character.toLowerCase();break;case"|":case"\\":default:n=a.character}else n=a.defaultCharacter;t+=n}e.$.input.value=t}},{key:"_getEditableSelectionStart",value:function(e,t){for(var i=this,a=e;a<i._mask.length;a++){var n=i._mask[a];if("mask"===n.type&&(""===n.character||i.isOverwriteMode||" "===t&&i.resetOnSpace||t===i.promptChar&&i.resetOnPrompt))return a}return-1}},{key:"_getNonEditableSelectionStart",value:function(e,t){for(var i=this,a=e;a<i._mask.length;a++){var n=i._mask[a];if("mask"!==n.type&&n.character===t)return a}return-1}},{key:"_getValueWithTextMaskFormat",value:function(e,t){var i=this,a=e?e.start:0,n=e?e.end:i._mask.length||i.$.input.value.length,o="";if("includePromptAndLiterals"===(t=t||i.cutCopyMaskFormat))return i.$.input.value.substring(a,n);for(var r=a;r<n;r++){var l=i._mask[r];switch(t){case"excludePromptAndLiterals":if("mask"!==l.type)continue;o=""===l.character?o+" ":o+l.character;break;case"includePrompt":if("mask"!==l.type)continue;o=""===l.character?o+l.defaultCharacter:o+l.character;break;case"includeLiterals":if("mask"===l.type&&""===l.character)continue;o+=l.character}}return o.trim()}},{key:"_hidePrompt",value:function(){var e=this,t=new RegExp(e.promptChar,"g");!e.disabled&&e.hidePromptOnLeave&&0!==e.mask.length&&(e.$.input.value=e.$.input.value.replace(t," "),e._promptHidden=!0)}},{key:"_initializeMask",value:function(){var e=this,t=e.mask.length,i=void 0;if(e._mask=[],void 0!==e.mask&&null!==e.mask&&0!==e.mask.length)for(var a=0;a<t;a++){var n=e.mask.charAt(a),o={};switch(o.defaultCharacter=e.promptChar,n){case"0":o.editable=!0,o.required=!0,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="0",o.regex="\\d",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case"9":o.editable=!0,o.required=!1,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="9",o.regex="(\\d|\\s)",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case"#":o.editable=!0,o.required=!1,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="#",o.regex="(\\d|\\s|[+]|[-])",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case"L":o.editable=!0,o.required=!0,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="L",o.regex="([a-zA-Zа-яА-Я])",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case"?":o.editable=!0,o.required=!1,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="?",o.regex="[a-zA-Zа-яА-Я]?",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case"&":o.editable=!0,o.required=!0,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="&",o.regex="[^\\s]",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case"C":o.editable=!0,o.required=!1,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="C",o.regex=".",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case"A":o.editable=!0,o.required=!0,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="A",o.regex="[a-zA-Zа-яА-Я]",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case"a":o.editable=!0,o.required=!1,o.escapeSymbol=i,o.type="\\"===o.escapeSymbol?"literal":"mask",o.maskCharacter="a",o.regex="[a-zA-Zа-яА-Я]?",o.character="\\"===o.escapeSymbol?o.maskCharacter:"",o.defaultCharacter=e.promptChar,i=null;break;case".":o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="placeholder",o.maskCharacter=".",o.regex=null,o.character=".",o.defaultCharacter=e.promptChar,i=null;break;case",":o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="placeholder",o.maskCharacter=",",o.regex=null,o.character=",",o.defaultCharacter=e.promptChar,i=null;break;case":":o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="separator",o.maskCharacter=":",o.regex=null,o.character=":",o.defaultCharacter=e.promptChar,i=null;break;case"/":o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="separator",o.maskCharacter="/",o.regex=null,o.character="/",o.defaultCharacter=e.promptChar,i=null;break;case"$":o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="currency",o.maskCharacter="$",o.regex=null,o.character="$",o.defaultCharacter=e.promptChar,i=null;break;case"<":i?"|"===i?i=null:"\\"===i?(o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="literal",o.maskCharacter="<",o.regex="<",o.character="<",o.defaultCharacter=e.promptChar,i=null):i="<":i="<";break;case">":i?"|"===i?i=null:"\\"===i?(o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="literal",o.maskCharacter=">",o.regex=">",o.character=">",o.defaultCharacter=e.promptChar,i=null):i=">":i=">";break;case"|":i&&"\\"===i?(o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="literal",o.maskCharacter="|",o.regex="|",o.character="|",o.defaultCharacter=e.promptChar,i=null):i="|";break;case"\\":i&&"\\"===i?(o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="literal",o.maskCharacter="\\",o.regex="\\",o.character="\\",o.defaultCharacter=e.promptChar,i=null):i="\\";break;default:o.editable=!1,o.required=!0,o.escapeSymbol=i,o.type="literal",o.maskCharacter=n,o.regex=null,o.character=n,o.defaultCharacter=n,i=null}i||o.type&&e._mask.push(o)}}},{key:"_keyDownHandler",value:function(){}},{key:"_validateInput",value:function(e,t){var i=this,a=i._mask[t];return new RegExp(a.regex).test(e)}},{key:"_setValueToMask",value:function(e,t){for(var i=this,a=e||"",n=a.length,o=t&&t.start?t.start:0,r=t&&t.end?t.end:i._mask.length,l=o,s=0;l<r&&s<n;)"mask"===i._mask[l].type&&s++,(i._setCharAtPosition(a.charAt(s-1),l)||"mask"!==i._mask[l].type)&&l++;if(l<r)for(var d=l;d<r;d++)"mask"===i._mask[d].type&&(i._mask[d].character="");t&&(t.start=l)}},{key:"_preventDefault",value:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}},{key:"_showPrompt",value:function(){var e=this
;!e.disabled&&e._promptHidden&&e._setMaskToInput()}},{key:"_textBoxChangeHandler",value:function(){var e=this;e.disabled||e.readonly||(e.value=e._getValueWithTextMaskFormat({start:0,end:e._mask.length},e.textMaskFormat),e._valueBeforeChange!==e.value&&(e.$.fireEvent("change",{newValue:e.value,oldValue:e._valueBeforeChange}),e._valueBeforeChange="",e._validateMaskValue()))}},{key:"_textBoxKeyDownHandler",value:function(e){var t=this,i=e.key,a=e.ctrlKey,n=["a","c","v","x"],o=t.$.input.selectionEnd,r=new RegExp("xxx[\0-]+xxx"),l=/^[a-zA-ZÀ-ÿа-яА-Я0-9.!@?#"$%&:';()*\+,\/;\-=[\\\]\^_{|}<>~` ]+$/,s=t.$.input.selectionStart;if(a&&n.indexOf(i)>-1){var d=function(e,i){var a=document.createElement("textarea");a.style.position="absolute",a.style.left="-1000px",a.style.top="-1000px",document.body.appendChild(a),a.focus(),"Paste"===e?setTimeout(function(){var e=a.value;0===e.length&&window.clipboardData&&(a.value=window.clipboardData.getData("Text"),e=a.value),a.parentNode.removeChild(a),t.$.input.focus(),i(e)},25):(a.value=t._cutCopyHandler(null,e),a.focus(),a.setSelectionRange(0,a.value.length),setTimeout(function(){document.designMode="off",a.focus(),a.parentNode.removeChild(a),t.$.input.focus()},25),window.clipboardData&&window.clipboardData.setData("Text",a.value))};switch(i){case"a":t.$.input.setSelectionRange(0,t.$.input.value.length);break;case"c":d("Copy");break;case"v":d("Paste",function(e){var i=t.context;t.context=t,t._textBoxPasteHandler(null,e),t.context=i});break;case"x":d("Cut")}}else{if("Backspace"===i)return t._deleteHandler(e),void t._updateMaskFullAndCompleted();if("Delete"===i)return t._deleteHandler(e),void t._updateMaskFullAndCompleted();if(!t.allowPromptAsInput&&i===t.promptChar)return void t._preventDefault(e);if(!(t.disabled||t.readonly||t.asciiOnly&&!r.test(i)||!l.test(i)||i.length>1)&&(t._preventDefault(e),(s!==o||s!==t.$.input.value.length)&&(" "!==i||t.resetOnSpace))){s=t._getEditableSelectionStart(s,i);var u=function(){-1!==(s=t._getNonEditableSelectionStart(t.$.input.selectionStart,i))&&(t.$.input.selectionStart=t.$.input.selectionEnd=s+1)};if(-1===s)return void u();t._setCharAtPosition(i,s)?(t._setMaskToInput(),t._updateMaskFullAndCompleted(),t.$.input.selectionStart=t.$.input.selectionEnd=s+1):u()}}}},{key:"_textBoxKeyUpHandler",value:function(){var e=this;e.value=e._getValueWithTextMaskFormat({start:0,end:e._mask.length},e.textMaskFormat)}},{key:"_textBoxPasteHandler",value:function(e,t){var i=this,a=i.$.input.value,n=i.$.input.selectionStart,o=void 0,r=i.$.input.selectionEnd;if(e&&i._preventDefault(e),window.clipboardData&&window.clipboardData.getData?o=window.clipboardData.getData("Text"):e&&e.clipboardData&&e.clipboardData.getData?o=e.clipboardData.getData("text/plain"):t&&(o=t),r-n!==a.length){if(n===r&&(i.$.input.selectionEnd=r=i._mask.length),i.rejectInputOnFirstFailure)for(var l=0,s=n;s<r;s++)if("mask"===i._mask[s].type){if(!i._validateInput(o.charAt(l),s))return void(i.$.input.selectionStart=i.$.input.selectionEnd=n);if(++l>o.length)break}var d={start:n,end:r};i._overwrite=!0,i._setValueToMask(o,d),i._setMaskToInput(),i._updateMaskFullAndCompleted(),i.$.input.selectionStart=i.$.input.selectionEnd=d.start,i.value=i._getValueWithTextMaskFormat({start:0,end:i._mask.length},i.textMaskFormat)}}},{key:"_setCharAtPosition",value:function(e,t){var i=this,a=i._mask[t];if(" "===e&&i.resetOnSpace&&(e=""),"mask"!==a.type||i.readonly||i.disabled||!a.editable)return!1;if(""===e&&!i.resetOnSpace)return!1;if(e===i.promptChar&&!i.resetOnPrompt&&i.allowPromptAsInput)return!1;if(!i.isOverwriteMode&&""!==e&&e!==i.promptChar&&""!==a.character&&!i._overwrite)return!1;var n=a.regex;if(n){if(new RegExp(n,"i").test(e)){switch(a.escapeSymbol){case">":e=e.toUpperCase();break;case"<":e=e.toLowerCase()}return i._mask[t].character=e,!0}return i.resetOnSpace&&""===e?(i._mask[t].character=e,!0):!(!i.resetOnPrompt||e!==i.promptChar||!i.allowPromptAsInput)&&(i._mask[t].character="",!0)}return!1}},{key:"_updateMaxLength",value:function(){var e=this;e._mask.length>0&&(e.maxLength=e._mask.length)}},{key:"_updatePromptChar",value:function(){for(var e=this,t=0;t<e._mask.length;t++){e._mask[t].defaultCharacter=e.promptChar}e._setMaskToInput()}},{key:"_validateMaskValue",value:function(){var e=this;if(!e.readonly&&!e.disabled&&e.validation&&"function"==typeof e.validation){var t=e.value,i=e.validation(t);i?e.removeAttribute("error"):e.setAttribute("error",""),e.$.fireEvent("validation",{success:i})}}},{key:"_keyUpHandler",value:function(){}},{key:"_resizeHandler",value:function(){}},{key:"_selectStartHandler",value:function(){}},{key:"_mouseWheelHandler",value:function(){}},{key:"_applySelection",value:function(){}},{key:"_setDropDownSize",value:function(){}},{key:"_styleChangedHandler",value:function(){}}],[{key:"properties",get:function(){return{allowPromptAsInput:{value:!1,type:"boolean"},asciiOnly:{value:!1,type:"boolean"},autoShowMask:{value:!1,type:"boolean"},cutCopyMaskFormat:{value:"excludePromptAndLiterals",allowedValues:["excludePromptAndLiterals","includePrompt","includeLiterals","includePromptAndLiterals"],type:"string"},hidePromptOnLeave:{value:!1,type:"boolean"},hint:{value:"",reflectToAttribute:!0,type:"string"},isOverwriteMode:{value:!1,type:"boolean"},mask:{value:"#####",type:"string"},maskCompleted:{value:!1,type:"boolean"},maskFull:{value:!1,type:"boolean"},promptChar:{value:"_",type:"string"},rejectInputOnFirstFailure:{value:!1,type:"boolean"},resetOnPrompt:{value:!1,type:"boolean"},resetOnSpace:{value:!1,type:"boolean"},textMaskFormat:{value:"excludePromptAndLiterals",allowedValues:["excludePromptAndLiterals","includePrompt","includeLiterals","includePromptAndLiterals"],type:"string"},validation:{value:null,type:"function?",reflectToAttribute:!1},value:{value:null,reflectToAttribute:!0,type:"string?"}}}},{key:"listeners",get:function(){return{mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","input.copy":"_cutCopyHandler","input.change":"_textBoxChangeHandler","input.cut":"_cutCopyHandler","input.paste":"_textBoxPasteHandler","input.keydown":"_textBoxKeyDownHandler","input.keyup":"_textBoxKeyUpHandler","input.blur":"_blurHandler","input.focus":"_focusHandler"}}}]),t}(JQX.TextBox)),JQX("jqx-multiline-text-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e.$.input,e.$.horizontalScrollBar,e.$.verticalScrollBar))}},{key:"detached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}},{key:"template",value:function(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span>\n                    <div id="innerContainer" class="jqx-inner-container">\n                            <textarea class="jqx-input" id="input"\n                                autocapitalize="[[autoCapitalize]]"\n                                autocomplete="off"\n                                cols="[[cols]]"\n                                disabled="[[disabled]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                readonly="[[readonly]]"\n                                required="[[required]]"\n                                rows="[[rows]]"\n                                spellcheck="[[spellCheck]]"\n                                wrap="[[wrap]]"></textarea>\n                            <jqx-scroll-bar id="verticalScrollBar" animation="[[animation]]" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                            <jqx-scroll-bar id="horizontalScrollBar" animation="[[animation]]" disabled="[[disabled]]"></jqx-scroll-bar>\n                            <div id="resizeElement" class="jqx-resize-element"></div>\n                    </div>\n                            <textarea id="textBoxHidden"\n                                class="jqx-text-box-hidden"\n                                autocapitalize="[[autoCapitalize]]"\n                                autocomplete="off"\n                                cols="[[cols]]"\n                                disabled="[[disabled]]"\n                                inner-h-t-m-l="[[value]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                readonly="[[readonly]]"\n                                required="[[required]]"\n                                rows="[[rows]]"\n                                spellcheck="[[spellCheck]]"\n                                wrap="[[wrap]]"></textarea>\n                    <span id="hint" class="jqx-hint"></span>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"displayMode":switch(a){case"escaped":n.$.input.value=n._toEscapedDisplayMode(n.value);break;default:n.$.input.value=n.value=n._toDefaultDisplayMode(n.$.input.value)}n._autoExpandUpdate(),n._handleScrollbarsDisplay();break;case"value":switch(n._preventProgramaticValueChange?(n._userValue="escaped"===n.displayMode?n._toDefaultDisplayMode(n.$.input.value):n.$.input.value,n._programmaticValue=a):n._userValue=n._programmaticValue=a,n.displayMode){case"escaped":n.$.input.value=n._toEscapedDisplayMode(n._userValue);break;default:n.$.input.value=n._userValue}n._oldValue=i,n._autoExpandUpdate(),n._handleScrollbarsDisplay();break;case"horizontalScrollBarVisibility":case"verticalScrollBarVisibility":case"singleLine":case"wrap":case"resizable":case"placeholder":n._autoExpandUpdate(),n._handleScrollbarsDisplay();break;case"selectionEnd":case"selectionStart":n._handleSelectedText();break;case"rows":case"cols":n._updateSizeRowsCols();break;case"disabled":n._setFocusable();break;case"animation":case"readonly":break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"selection",value:function(e){var t=this,i=t.$.input.selectionStart,a=t.$.input.selectionEnd,n=t.value;return"escaped"===t.displayMode?(n=t.$.input.value.substring(i,a),"escaped"===e?n:t._toDefaultDisplayMode(n)):"escaped"===e?(n=n.substring(i,a),t._toEscapedDisplayMode(n)):n=n.substring(i,a)}},{key:"select",value:function(e,t){var i=this,a=Array.from(arguments).slice(0,2),n=void 0,o=void 0;for(var r in a)a[r]=parseInt(a[r])||0;return 2===a.length?(n=Math.min([e,t]),o=Math.max([e,t])):n=a[0],2===a.length?(n=parseInt(n),n=n>0?n<i.$.input.length?i.$.input.length:n:0,o<n?o=n:o>i.$.input.length&&(n=0),i.$.input.focus(),void i.$.input.setSelectionRange(n,o)):1===a.length?(i.$.input.focus(),void i.$.input.setSelectionRange(n,n+1)):void i.$.input.select()}},{key:"_autoExpandUpdate",value:function(){var e=this;e.autoExpand&&(e.$.textBoxHidden.value=e.$.input.value,e.$.textBoxHidden.style.cssText="height:0px",e.$.input.style.cssText="height:"+e.$.textBoxHidden.scrollHeight+"px")}},{key:"_blurHandler",value:function(){var e=this;e._outsideAutoScroll&&clearInterval(e._outsideAutoScroll),e.removeAttribute("focus"),e._preventProgramaticValueChange=!1,e._oldValue=e.value,e.value=e._userValue||e.value}},{key:"_createElement",value:function(){var e=this;e.autoFocus&&(navigator.userAgent.match(/Edge/)?setTimeout(function(){e.$.input.focus(),e.setAttribute("focus","")},10):(e.$.input.focus(),e.setAttribute("focus","")));var t=e.$.input.innerHTML;e.value?e.$.input.innerHTML="escaped"===e.displayMode?e._toEscapedDisplayMode(e.value):e.value:t.length>0&&"escaped"===e.displayMode?(e.value=t,e.$.input.innerHTML=e._toEscapedDisplayMode(t)):t.length>0&&(e.value=t),e._setFocusable(),e._syncTextBoxContentOnInitialization(),e._scrollView=new JQX.Utilities.Scroll(e.$.input,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._autoExpandUpdate(),e._handleScrollbarsDisplay(),e._initializationValue=e._oldValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer()}},{key:"_handleScrollbarsDisplay",value:function(e){var t=this,i=t.$.input;setTimeout(function(){switch(t.horizontalScrollBarVisibility){case"disabled":t.$container.addClass("hscroll"),t.$.horizontalScrollBar.disabled=!0;break;case"hidden":t.$container.removeClass("hscroll");break;case"visible":t.$container.addClass("hscroll"),t._scrollView.scrollWidth=i.scrollWidth-i.clientWidth,t._scrollView.scrollTo(t.$.input.scrollLeft,!0),t.$.horizontalScrollBar.disabled=!1;break;default:i.scrollWidth>i.clientWidth?(t.$container.addClass("hscroll"),t._scrollView.scrollWidth=i.scrollWidth-i.clientWidth,e&&"resize"===e.type?t.$.input.scrollLeft=t._scrollView.scrollLeft:t._scrollView.scrollTo(t.$.input.scrollLeft,!0)):t.$container.removeClass("hscroll"),t.$.horizontalScrollBar.disabled=!1}switch(t.verticalScrollBarVisibility){case"disabled":t.$container.addClass("vscroll"),t.$.verticalScrollBar.disabled=!0;break;case"hidden":t.$container.removeClass("vscroll");break;case"visible":t.$container.addClass("vscroll"),t._scrollView.scrollHeight=i.scrollHeight-i.clientHeight,t._scrollView.scrollTo(t.$.input.scrollTop),t.$.verticalScrollBar.disabled=!1;break;default:i.scrollHeight>i.clientHeight?(t.$container.addClass("vscroll"),t._scrollView.scrollHeight=i.scrollHeight-i.clientHeight,e&&"resize"===e.type?t.$.input.scrollTop=t._scrollView.scrollTop:t._scrollView.scrollTo(t.$.input.scrollTop)):t.$container.removeClass("vscroll"),t.$.verticalScrollBar.disabled=!1}},0)}},{key:"_focusHandler",value:function(e){var t=this;if(!t.disabled){if(e.target===t)return t.$.input.focus(),void(t._edgeSelect=!1);if(t.setAttribute("focus",""),t.selectAllOnFocus)if(navigator.userAgent.match(/Edge/)){var i=t.$.input.scrollTop;if(t._edgeSelect)return void(t._edgeSelect=!1);setTimeout(function(){t._edgeSelect=!0,t.$.input.select(),t.$.input.scrollTop=i},5)}else t.$.input.select()}}},{key:"_horizontalScrollbarHandler",value:function(e){var t=this;t.disabled||"hidden"===t.horizontalScrollBarVisibility||"disabled"===t.horizontalScrollBarVisibility||(e.stopPropagation(),t.$.input.scrollLeft=e.detail.value)}},{key:"_keyDownHandler",value:function(e){function t(t){var a=i.$.input.selectionStart,n=i.$.input.selectionEnd,o=i.$.input.value;e.preventDefault(),i.$.input.value=o.substring(0,a)+t+o.substring(n,o.length),i.value=i._toDefaultDisplayMode(i.$.input.value),i.$.input.selectionStart=a+2,i.$.input.selectionEnd=a+2}var i=this,a=e.key,n=e.shiftKey,o=e.ctrlKey,r=i.$.input.value;if(i.allowVerticalScrollbar&&i.$.input.selectionEnd>i.$.input.value.length-5&&i._scrollView.scrollTo(i._scrollView.scrollTop+(e.deltaY<0?-i.offsetHeight:i.offsetHeight)),a.indexOf("Arrow")>-1)return void e.stopPropagation();switch(a){case"Enter":if("newLine"===i.enterKeyBehavior&&!o&&!n){"escaped"===i.displayMode&&t("\\n");break}e.preventDefault(),i._userValue="escaped"===i.displayMode?i._toDefaultDisplayMode(i.$.input.value):i.$.input.value,i.value=i._userValue,""!==r&&i._userValue!==i._oldValue&&i.$.fireEvent("change",{oldValue:i._oldValue,value:r,type:"submit"}),"clearOnSubmit"===i.enterKeyBehavior&&(i.$.input.value=""),i._oldValue=i.value=i._toDefaultDisplayMode(i.$.input.value),i._submitted=!0,"escaped"===i.displayMode&&i.enterKeyBehavior.toLowerCase().indexOf("submit")<0&&!o&&!n&&t("\\n"),("submit"===i.enterKeyBehavior||"newLine"===i.enterKeyBehavior&&o)&&i.$.input.blur();break;case"Escape":if("none"===i.escKeyMode)return;switch(i.escKeyMode){case"none":break;case"clearValue":i.value=i.$.input.value="";break;case"previousValue":i.$.input.value="escaped"===i.displayMode?i._toEscapedDisplayMode(i._oldValue):i._oldValue}break;case" ":"escaped"===i.displayMode&&t("\\s");break;case"Backspace":if("escaped"===i.displayMode&&i.$.input.selectionStart===i.$.input.selectionEnd){var l=i.$.input.selectionStart;"\\"!==r[l-2]||"s"!==r[l-1]&&"n"!==r[l-1]||(i.$.input.value=i.$.input.value.substring(0,l-2)+i.$.input.value.substring(l-2,i.$.input.value.length),i.$.input.selectionStart=l-2)}i._scrollView&&i._handleScrollbarsDisplay()}}},{key:"_keyUpHandler",value:function(e){var t=this;switch(e.key){case"ArrowLeft":case"ArrowUp":case"ArrowDown":t._handlePointerInEscapedSymbol();break;case"ArrowRight":t._handlePointerInEscapedSymbol("next")}t._autoExpandUpdate(),t._userValue="escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value,t._submitKeyUpHandler()}},{key:"_textBoxKeyDownHandler",value:function(e){var t=this,i=e.key;t._scrollView&&t._handleScrollbarsDisplay(),t._autoExpandUpdate(),t.value&&t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),-1===["Enter","Escape"].indexOf(i)&&(t._preventProgramaticValueChange=!0),["ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].indexOf(i)>-1&&t._scrollView.scrollTo(t.$.input.scrollTop),["PageUp","PageDown"].indexOf(i)>-1&&JQX.Utilities.Core.Browser.Chrome&&("PageUp"===e.key&&(t.$.input.setSelectionRange(0,0),t.$.input.scrollTop=0),"PageDown"===e.key&&(t.$.input.setSelectionRange(t.$.input.value.length,t.$.input.value.length),t.$.input.scrollTop=t._scrollView.verticalScrollBar.max),e.preventDefault())}},{key:"_mouseWheelHandler",value:function(e){var t=this;t.disabled||t.$.verticalScrollBar.disabled||(t._scrollView.scrollTo(t._scrollView.scrollTop+(e.deltaY<0?-t.offsetHeight:t.offsetHeight)),t.$.input.scrollTop+=e.deltaY<0?-t.offsetHeight:t.offsetHeight,t.$.input.scrollTop>0&&e.preventDefault())}},{key:"_syncTextBoxContentOnInitialization",value:function(){var e=this,t=void 0;if(t=""===e.value?e.innerHTML:e.value,"escaped"===e.displayMode)return void(t.match(/\r\n|\n\r|\n|\r|\s|\t|\f|\r/g)?(e.value=e._initializationValue=t,e.$.input.value=e._toEscapedDisplayMode(t)):(e.value=e._initializationValue=e._toDefaultDisplayMode(t),e.$.input.value=t));e.$.input.value=e.value=e._initializationValue=t}},{key:"_textBoxChangeHandler",value:function(e){var t=this,i=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData,a=t.value;if("escaped"===t.displayMode){var n=t.$.input.selectionStart,o=t.$.input.selectionEnd;if(i){var r=i.getData("text"),l=t.$.input.value;e.preventDefault(),r=t._toEscapedDisplayMode(r),t.$.input.value=l.substring(0,n)+r+l.substring(o,l.length)}t.value=t._toDefaultDisplayMode(t.$.input.value)}else t.value=t.$.input.value;t._handleScrollbarsDisplay(),t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),i||t.$.fireEvent("change",{value:t.value,oldValue:a,type:"blur"}),t._handleHintContainer()}},{key:"_resizeDownHandler",value:function(){var e=this;!e.disabled&&e.resizable&&(e._resizeStarted=!0,e.$container.addClass("jqx-resize"),e.readonly||e.$.input.setAttribute("readonly",""))}},{key:"_resizeMoveHandler",value:function(e){var t=this;if(!t.disabled&&t.resizable&&t._resizeStarted){var i=t.getBoundingClientRect(),a={width:50,height:50},n=e.clientX-i.left,o=e.clientY-i.top;n>a.width&&(t.style.width=n+"px"),o>a.height&&(t.style.height=o+"px")}}},{key:"_updateSizeRowsCols",value:function(){var e=this;e.$.container.removeAttribute("style"),setTimeout(function(){if("disabled"!==e.horizontalScrollBarVisibility&&"hidden"!==e.horizontalScrollBarVisibility||"disabled"!==e.verticalScrollBarVisibility&&"hidden"!==e.verticalScrollBarVisibility){var t=e.getBoundingClientRect();e.$.container.style.width=t.width+"px",e.$.container.style.height=t.height+"px"}},0)}},{key:"_upHandler",value:function(e){var t=this;if(t._selectionStarted=!1,!t.disabled){if(e.originalEvent.target===t.$.input)return void t._handlePointerInEscapedSymbol();t.$container.removeClass("jqx-resize"),t.readonly||t.$.input.removeAttribute("readonly"),t._resizeStarted&&t.$.input.focus(),t._resizeStarted=!1}}},{key:"_verticalScrollbarHandler",value:function(e){var t=this;t.disabled||"disabled"===t.verticalScrollBarVisibility||"hidden"===t.verticalScrollBarVisibility||(e.stopPropagation(),t.$.input.scrollTop=e.detail.value)}},{key:"_documentDownHandler",value:function(e){var t=this;t._selectionStarted=!1,e.originalEvent&&t.contains(e.originalEvent.target)&&(t._selectionStarted=!0,t._selectionStartTime=new Date,t._pointerDown={pageX:e.pageX,pageY:e.pageY},t._edgeSelect=!1)}},{key:"_documentSelectionOutsideHandler",value:function(e){function t(t){var a=i.getBoundingClientRect(),n=document.documentElement,o=t?a.left+n.scrollLeft-e.pageX:a.top+n.scrollTop-e.pageY,r=t?"Left":"Top";o>0?(i.$.input["scroll"+r]-=10,i._scrollView["scroll"+r]-=10):(i.$.input["scroll"+r]+=10,i._scrollView["scroll"+r]+=10)}var i=this;if(clearInterval(i._outsideAutoScroll),i._selectionStarted){var a=i.$.input.getBoundingClientRect(),n=a.y+10,o=a.y+a.height-10;if(!(e.pageY>n&&e.pageY<o)){!(new Date-i._selectionStartTime<300)&&(Math.abs(i._pointerDown.pageX-e.pageX)>=3||Math.abs(i._pointerDown.pageY-e.pageY)>=3)&&(i._outsideAutoScroll=setInterval(function(){t(),t(!0)},10))}}}},{key:"_selectStartHandler",value:function(){}},{key:"_styleChangedHandler",value:function(){}}],[{key:"properties",get:function(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoComplete:{value:"off",allowedValues:["on","off"],type:"string"},autoExpand:{value:!1,type:"boolean"},cols:{value:20,type:"number?"},enterKeyBehavior:{value:"newLine",allowedValues:["submit","clearOnSubmit","newLine"],type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},minLength:{value:0,type:"number"},resizable:{value:!1,type:"boolean"},rows:{value:5,type:"number?"},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},type:{value:"textarea",type:"string",defaultReflectToAttribute:!0,readonly:!0},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}},{key:"listeners",get:function(){return{down:"_documentDownHandler","document.mousemove":"_documentSelectionOutsideHandler","container.resize":"_handleScrollbarsDisplay","document.move":"_resizeMoveHandler","document.up":"_upHandler",focus:"_focusHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler",keydown:"_keyDownHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",resize:"_handleScrollbarsDisplay","resizeElement.down":"_resizeDownHandler",styleChanged:"_handleScrollbarsDisplay","input.change":"_textBoxChangeHandler","input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_textBoxKeyDownHandler","input.keyup":"_keyUpHandler","input.paste":"_textBoxChangeHandler","input.select":"_textBoxSelectHandler",wheel:"_mouseWheelHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}},{key:"requires",get:function(){return{"JQX.ScrollBar":"jqxscrollbar.js"}}}]),t}(JQX.TextBox)),JQX("jqx-password-text-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class ="jqx-label"></span>\n                    <div id="innerContainer" class="jqx-inner-container">\n                            <input class ="jqx-input" type="password" id="input"\n                                disabled="[[disabled]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                value="[[value]]">\n                            <span id="passwordIcon" title="Show Password" class ="jqx-password-icon jqx-hidden">&#xe80a; </span>\n                    </div>\n                    <span id="hint" class ="jqx-hint"></span>\n                    <jqx-tooltip id="tooltip"\n                        open-mode="manual"\n                        arrow="[[tooltipArrow]]"\n                        tooltip-template="[[tooltipTemplate]]"\n                        position="[[tooltipPosition]]"\n                        delay="[[tooltipDelay]]">\n                     </jqx-tooltip>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this,o=void 0;switch(e){case"locale":case"messages":case"passwordStrength":o=n._evaluatePasswordStrength(),n._updateTooltipString(o),n.$.passwordIcon.setAttribute("title",n.localize("showPassword")),n._updatePasswordStrengthStyles(o);break;case"tooltipPosition":n.$.tooltip.position=n.tooltipPosition;break;case"tooltipTemplate":n.$.tooltip.tooltipTemplate=n.tooltipTemplate;break;case"value":o=n._evaluatePasswordStrength(),n._updateTooltipString(o),n._updatePasswordStrengthStyles(o);break;case"disabled":n._setFocusable();break;case"readonly":break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"_createElement",value:function(){var e=this;e.autoFocus&&e.$.input.focus(),e._setFocusable(),e.$.tooltip.selector=e.$.innerContainer,e.$.passwordIcon.setAttribute("title",e.localize("showPassword")),e._updateTooltipString("short"),e._updatePasswordStrengthStyles(),e._initializationValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer()}},{key:"_focusHandler",value:function(){var e=this;e.disabled||(e.selectAllOnFocus&&e.$.input.select(),e.showPasswordIcon&&e.$passwordIcon.removeClass("jqx-hidden"),e.setAttribute("focus",""),e._valueBeforeChange=e.value,e.showPasswordStrength&&(e._tooltipOpened||(e.$.tooltip.open(),e._tooltipOpened=!0)))}},{key:"_blurHandler",value:function(){var e=this;e.disabled||e._passwordIconPressed||(e._valueBeforeChange!==e.value&&(e.$.fireEvent("change",{newValue:e.value,oldValue:e._valueBeforeChange}),e._valueBeforeChange=""),e.showPasswordIcon&&e.$passwordIcon.addClass("jqx-hidden"),e.removeAttribute("focus"),e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._tooltipOpened&&(e.$.tooltip.close(),e._tooltipOpened=!1))}},{key:"_showPassword",value:function(){var e=this;!e.disabled&&e.showPasswordIcon&&(e.$.input.type="text",e._passwordIconPressed=!0)}},{key:"_documentUpHandler",value:function(){var e=this;!e.disabled&&e.showPasswordIcon&&e._passwordIconPressed&&(e.$.input.type="password",e._passwordIconPressed=!1,e.$.input.focus())}},{key:"_textBoxChangeHandler",value:function(){var e=this;if(!e.disabled&&!e.readonly){e.value=e.$.input.value;var t=e._evaluatePasswordStrength();e._updateTooltipString(t),e._updatePasswordStrengthStyles(t)}}},{key:"_updatePasswordStrengthStyles",value:function(e){var t=this,i=["short","weak","far","good","strong"];e=e||"short";for(var a=0;a<i.length;a++)t.$container.removeClass("jqx-password-"+i[a]);t.disabled||t.$container.addClass("jqx-password-"+e)}},{key:"_evaluatePasswordStrength",value:function(){var e=this,t=e.$.input.value,i=t.length,a="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=";if(!e.disabled){if(e.passwordStrength)return e.passwordStrength(t,a);for(var n=0,o=0,r=0,l=0,s=0;s<i;s++){var d=t.charAt(s),u=t.charCodeAt(s);u>64&&u<91||u>96&&u<123||u>127&&u<155||u>159&&u<166?n+=1:!1!==isNaN(d)?-1===a.indexOf(d)||(r+=1):o+=1}return l=n+o+2*r+n*o/2+i,i<8?"short":l<20?"weak":l<30?"far":l<40?"good":"strong"}}},{key:"_keyUpHandler",value:function(){}},{key:"_mouseWheelHandler",value:function(){}},{key:"_resizeHandler",value:function(){}},{key:"_selectStartHandler",value:function(){}},{key:"_setDropDownSize",value:function(){}},{key:"_styleChangedHandler",value:function(){}},{key:"_updateTooltipString",value:function(e){var t=this;t.$.tooltip.value='<span class="password-strength-label">'+t.localize("passwordStrength")+':</span><span class="password-strength-value">'+t.localize(e)+"</span>"}}],[{key:"properties",get:function(){return{messages:{value:{en:{passwordStrength:"Password strength",short:"Short",weak:"Weak",far:"Far",good:"Good",strong:"Strong",showPassword:"Show password"}},type:"object",extend:!0},passwordStrength:{value:null,type:"function?",reflectToAttribute:!1},showPasswordIcon:{value:!1,type:"boolean"},showPasswordStrength:{value:!1,type:"boolean"},tooltipArrow:{value:!1,type:"boolean"},tooltipDelay:{value:0,type:"number"},tooltipPosition:{allowedValues:["bottom","top","left","right","absolute"],value:"top",type:"string"},tooltipTemplate:{value:null,type:"string?"},type:{value:"password",type:"string",defaultReflectToAttribute:!0,readonly:!0},value:{value:"",reflectToAttribute:!1,type:"string"}}}},{key:"requires",get:function(){return{"JQX.Tooltip":"jqxtooltip.js"}}},{key:"listeners",get:function(){return{"document.up":"_documentUpHandler",blur:"_blurHandler",focus:"_focusHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","passwordIcon.down":"_showPassword","input.change":"_textBoxChangeHandler","input.paste":"_textBoxChangeHandler","input.keyup":"_textBoxChangeHandler","input.blur":"_blurHandler","input.focus":"_focusHandler"}}}]),t}(JQX.TextBox)),JQX.Utilities.Assign("Grid.Column",function(){function e(t){babelHelpers.classCallCheck(this,e);var i=this;"string"!=typeof t?Object.assign(i,t):(i.label=t,i.dataField=t),i.dataType||(i.dataType="string"),i.columnGroup||(i.columnGroup=""),i.canNotify=!0;var a="left";switch(i.dataType){case"string":case"date":a="left";break;case"number":a="right";break;case"boolean":a="center"}void 0===i.index&&(i.index=-1),void 0===i.visibleIndex&&(i.visibleIndex=-1),void 0===i.selected&&(i.selected=!1),i.label||(i.label=""),i.menuItems||(i.menuItems=null),i.icon||(i.icon="jqx-icon-user"),i.displayField||(i.displayField=i.dataField),i.template||(i.template=""),i.editor||(i.editor="input"),"string"==typeof i.editor?i.editor={template:i.editor,autoFocus:!0}:void 0===i.editor.autoFocus&&(i.editor.autoFocus=!0),i.menu=null,void 0===i.allowActionButtonAnimation&&(i.grid?i.allowActionButtonAnimation=i.grid.appearance.allowColumnActionButtonAnimation:i.allowActionButtonAnimation=!1),void 0===i.allowSortButtonAnimation&&(i.grid?i.allowSortButtonAnimation=i.grid.appearance.allowColumnSortButtonAnimation:i.allowSortButtonAnimation=!1),void 0===i.autoShowActionButton&&(i.grid?i.autoShowActionButton=i.grid.appearance.autoShowColumnActionButton:i.autoShowActionButton=!1),void 0===i.autoShowSortButton&&(i.grid?i.autoShowSortButton=i.grid.appearance.autoShowColumnSortButton:i.autoShowSortButton=!0),void 0===i.showSortButton&&(i.grid?i.showSortButton=i.grid.appearance.showColumnSortButton:i.showSortButton=!1),void 0===i.showIcon&&(i.grid?i.showIcon=i.grid.appearance.showColumnIcon:i.showIcon=!1),void 0===i.showDescriptionButton&&(i.grid?i.showDescriptionButton=i.grid.appearance.showColumnDescriptionButton:i.showDescriptionButton=!1),void 0===i.showCustomButton&&(i.grid?i.showCustomButton=i.grid.appearance.showColumnCustomButton:i.showCustomButton=!1),void 0===i.showActionButton&&(i.grid?i.showActionButton=i.grid.appearance.showColumnActionButton:i.showActionButton=!1),
void 0===i.allowLabelAnimation&&(i.grid?i.allowLabelAnimation=i.grid.appearance.allowColumnLabelAnimation:i.allowLabelAnimation=!1),void 0===i.autoShowFilterButton&&(i.grid?i.autoShowFilterButton=i.grid.appearance.autoShowColumnFilterButton:i.autoShowFilterButton=!1),void 0===i.showFilterButton&&(i.grid?i.showFilterButton=i.grid.appearance.showColumnFilterButton:i.showFilterButton=!1),void 0===i.autoCloseMenu&&(i.grid?i.autoCloseMenu=i.grid.columnMenu.autoClose:i.autoCloseMenu=!0),i.formatFunction||(i.formatFunction=null),i.sortOrder||(i.sortOrder=null),i.sortIndex||(i.sortIndex=null),i.filter||(i.filter=null),i.filterMenuMode||(i.filterMenuMode="default"),i.align||(i.align=a),i.cellsAlign||(i.cellsAlign=a),i.minWidth||(i.minWidth=30),i.width||(i.width="auto"),i.grid&&i.grid.columnWidth&&(i.width=i.grid.columnWidth),void 0===i.visible&&(i.visible=!0),void 0===i.allowResize&&(i.allowResize=!0),void 0===i.allowReorder&&(i.allowReorder=!0),void 0===i.allowHide&&(i.allowHide=!0),void 0===i.allowSort&&(i.allowSort=!0),void 0===i.allowSelect&&(i.allowSelect=!0),void 0===i.allowSortToggleOnClick&&(i.allowSortToggleOnClick=!0),void 0===i.allowGroup&&(i.allowGroup=!0),void 0===i.allowFilter&&(i.allowFilter=!0),void 0===i.allowEdit&&(i.allowEdit=!0),void 0===i.allowExport&&(i.allowExport=!0),void 0===i.description&&(i.description=""),void 0===i.group&&(i.group=!1),i.summary||(i.summary=[]),i.selected=!1,i.sorted=!1,i.filtered=!1,i.parent=null,i.children=[]}return babelHelpers.createClass(e,[{key:"refresh",value:function(){var e=this;e.element&&e.element._refresh()}},{key:"render",value:function(){var e=this;e.element.column=e,e.element&&e.element._render()}},{key:"setProperty",value:function(e,t){var i=this,a=i.getProperty(e);a!==t&&(i.canNotify=!1,i[e]=t,i.propertyChanged(e,a,t),i.canNotify=!0)}},{key:"getProperty",value:function(e){var t=this;if("selected"===e){var i=!1;return t.grid._selection.cells["column"+t.dataField]&&(i=null),t.grid&&t.grid._selection.columns[t.dataField]&&(i=!0),t.grid.columns.canNotify=!1,t[e]=i,t.grid.columns.canNotify=!0,i}return"group"===e?!(!t.dataSource||!t.dataSource.groupBy)&&t.dataSource.groupBy.indexOf(t.dataField)>=0:t[e]}},{key:"propertyChanged",value:function(e,t,i){var a=this;if("allowSort"===e||"allowFilter"===e)return void a.refresh();if("showIcon"===e)return void a.refresh();if("visible"===e)return void a.grid.refresh(a.grid.grouping.enabled);if("showCustomButton"===e&&(i?a.element._showCustomButton():a.element._hideCustomButton()),"showDescriptionButton"===e&&(i?a.element._showDescriptionButton():a.element._hideDescriptionButton()),"filter"===e&&(a.filter?(a.grid.addFilter(a.dataField,a.filter),a.filtered=!0):(a.grid.removeFilter(a.dataField),a.filtered=!1),(a.autoShowFilterButton||a.showFilterButton)&&(i?a.element._showFilterButton():a.element._hideFilterButton())),"sortIndex"===e)return void("many"===a.grid.sorting.mode&&a.grid.context===document&&a.grid.sortBy(a.dataField,a.sortOrder));if("selected"===e&&(a.selectionColumn&&a.refresh(),i?a.grid._selection.columns[a.dataField]||(a.grid._selection.columns[a.dataField]=!0):!1===i&&a.grid._selection.columns[a.dataField]&&delete a.grid._selection.columns[a.dataField],a.grid._recycle(!1)),"sortOrder"===e)return a.sorted=!1,null===i?a.element._hideSortButton():(a.element._showSortButton(),a.sorted=!0),void(a.grid.context===document&&a.grid.sortBy(a.dataField,a.sortOrder));if("group"===e)return void(a.grid.context===document&&(i?a.grid.addGroup(a.dataField):a.grid.removeGroup(a.dataField)));if("showActionButton"===e&&(a.element.allowAnimations=!1,i?a.element._showActionButton():a.element._hideActionButton(),a.element.allowAnimations=!0),"autoShowActionButton"===e&&(a.element.allowAnimations=!1,i?a.element._hideActionButton():a.element._showActionButton(),a.element.allowAnimations=!0),"showFilterButton"===e&&(a.element.allowAnimations=!1,void 0===a._autoShowFilterButton&&(a._autoShowFilterButton=a.autoShowFilterButton),i?(a.autoShowFilterButton=!1,a.element._showFilterButton()):(a.element._hideFilterButton(),a.autoShowFilterButton=a._autoShowFilterButton),a.element.allowAnimations=!0),"showSortButton"===e&&(a.element.allowAnimations=!1,void 0===a._autoShowSortButton&&(a._autoShowSortButton=a.autoShowSortButton),i?(a.autoShowSortButton=!1,a.element._showSortButton()):(a.element._hideSortButton(),a.autoShowSortButton=a._autoShowSortButton),a.element.allowAnimations=!0),"autoShowSortButton"===e&&(a.element.allowAnimations=!1,a._autoShowSortButton=a.autoShowSortButton,i?a.element._hideSortButton():a.element._showSortButton(),a.element.allowAnimations=!0),"menu"===e&&(i?a.element.setAttribute("aria-controls",a.menu.id):(a.element.removeAttribute("aria-controls"),a.autoShowActionButton&&a.element._hideActionButton())),"label"!==e&&"width"!==e&&"minWidth"!==e||a.grid.refresh(),"freeze"===e){if(i)a.element.setAttribute("freeze",""),a.freeze&&(!0===a.freeze||"near"===a.freeze?a.grid._frozenNearColumns.push(a):a.grid._frozenFarColumns.push(a));else if(!0===a.freeze||"near"===a.freeze){a.element.removeAttribute("freeze");var n=a.grid._frozenNearColumns.indexOf(a);n>=0&&a.grid._frozenNearColumns.splice(n,0,0)}else if("far"===a.freeze){var o=a.grid._frozenFarColumns.indexOf(a);o>=0&&a.grid._frozenFarColumns.splice(o,0,0)}a.grid._createColumnHeaderCellElements(),a.grid.refresh()}}},{key:"createElement",value:function(){var e=this,t=document.createElement("jqx-grid-column");return t._initialize(e),e.element=t,e.grid.notify(function(t,i,a){switch(t){case"appearance_allowColumnLabelAnimation":e.setProperty("allowLabelAnimation",a);break;case"appearance_allowColumnSortAnimation":e.setProperty("allowSortAnimation",a);break;case"appearance_allowColumnSortButtonAnimation":e.setProperty("allowSortButtonAnimation",a);break;case"appearance_allowColumnActionButtonAnimation":e.setProperty("allowActionButtonAnimation",a);break;case"appearance_allowColumnFilterButtonAnimation":e.setProperty("allowFilterButtonAnimation",a);break;case"appearance_autoShowColumnActionButton":e.setProperty("autoShowActionButton",a);break;case"appearance_autoShowColumnSortButton":e.setProperty("autoShowSortButton",a);break;case"appearance_autoShowColumnFilterButton":e.setProperty("autoShowFilterButton",a);break;case"appearance_showColumnActionButton":e.setProperty("showActionButton",a);break;case"appearance_showColumnFilterButton":e.setProperty("showFilterButton",a);break;case"appearance_showColumnCustomButton":e.setProperty("showCustomButton",a);break;case"appearance_showColumnDescriptionButton":e.setProperty("showDescriptionButton",a);break;case"appearance_showColumnSortButton":e.setProperty("showSortButton",a);break;case"appearance_showFrozenColumnBackground":case"appearance_showSortColumnBackground":case"appearance_showFilterColumnBackground":e.grid._recycle(!1)}}),t}},{key:"properties",get:function(){return["allowExport","allowGroup","allowSelect","verticalAlign","columnGroup","cellsVerticalAlign","autoCloseMenu","autoShowActionButton","autoShowSortButton","autoShowFilterButton","allowLabelAnimation","allowActionButtonAnimation","allowSortButtonAnimation","allowHide","allowEdit","allowFilter","allowSort","allowSortToggleOnClick","allowResize","allowReorder","canNotify","description","grid","icon","menuItems","menu","summary","cellsFormat","formatFunction","index","sortIndex","sortOrder","sorted","groups","element","level","group","filtered","filter","filterMenuMode","dataField","displayField","label","dataType","align","cellsAlign","minWidth","width","visible","freeze","showActionButton","selected","showIcon","showDescriptionButton","adaptiveVisible","treeColumn","computedWidth","computedHeight","overflowWidth","parent","children","onAction","left","top","showCustomButton","showFilterButton","showSortButton","editor","template","visibleIndex"]}}]),e}()),JQX("jqx-grid-column",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_showSortButton",value:function(e){var t=this;t.column&&(t.column.autoGenerated||(t.sortButton.classList.remove("asc"),t.sortButton.classList.remove("desc"),t.column.autoShowSortButton||t.column.allowSort&&t.sortButton.classList.add("jqx-icon-sort","jqx-grid-icon"),"asc"===t.column.sortOrder?t.sortButton.classList.add("asc"):"desc"===t.column.sortOrder&&t.sortButton.classList.add("desc"),t.column.showSortButton&&(t.sortButton.classList.add("show"),!1!==e&&t._refresh())))}},{key:"_hideSortButton",value:function(e){var t=this;t.column&&(t.sortButton.classList.remove("asc"),t.sortButton.classList.remove("desc"),t.column.showSortButton&&!t.column.autoShowSortButton||(t.sortButton.classList.remove("show"),t.sortButton.classList.remove("jqx-icon-sort"),!1!==e&&t._refresh()))}},{key:"_showFilterButton",value:function(){var e=this;e.column&&!e.column.autoGenerated&&(e.filterButton.classList.add("show"),e._refresh())}},{key:"_hideFilterButton",value:function(){var e=this;e.column&&(e.filterButton.classList.remove("show"),e._refresh())}},{key:"_showDescriptionButton",value:function(){var e=this;e.column&&!e.column.autoGenerated&&(e.descriptionButton.setAttribute("title",e.column.description),e.descriptionButton.classList.add("show"),e._refresh())}},{key:"_hideDescriptionButton",value:function(){var e=this;e.column&&(e.descriptionButton.classList.remove("show"),e._refresh())}},{key:"_showIcon",value:function(){var e=this;e.column&&!e.column.autoGenerated&&(e.icon.classList.add("show"),e._refresh())}},{key:"_hideIcon",value:function(){var e=this;e.icon.classList.remove("show"),e._refresh()}},{key:"_showCustomButton",value:function(){var e=this;e.column&&!e.column.autoGenerated&&(e.customButton.classList.add("show"),e._refresh())}},{key:"_hideCustomButton",value:function(){var e=this;e.column&&(e.customButton.classList.remove("show"),e._refresh())}},{key:"_showActionButton",value:function(){var e=this;e.column&&e.column.showActionButton&&e.column.grid.hasColumnMenu(e.column)&&e.actionButton&&(e.actionButton.classList.add("show"),e._refresh())}},{key:"_hideActionButton",value:function(){var e=this;e.column&&e.column.showActionButton&&e.actionButton&&!e.hasAttribute("aria-controls")&&(e.actionButton.classList.remove("show"),e._refresh())}},{key:"_rotate",value:function(){var e=this,t=document.createElement("span");return e.label.innerHTML="",t.innerHTML=e.column.label,e.label.appendChild(t),t.className="rotate",t.style.transform="rotate("+e.column.rotationAngle+"deg)",e.column.grid._recycleRotate(e.label,t,e.column.align,e.column.verticalAlign,e.column.label)}},{key:"_align",value:function(){var e=this;switch(e.column.align){case"left":e.label.classList.add("align-left");break;case"center":e.label.classList.add("align-center");break;case"right":e.label.classList.add("align-right")}switch(e.column.verticalAlign){case"top":e.label.classList.add("align-top");break;case"middle":e.label.classList.add("align-middle");break;case"bottom":e.label.classList.add("align-bottom")}}},{key:"_refresh",value:function(){var e=this;if(e.sortButton.classList.remove("filter"),e.sortButton.classList.remove("action"),e.label.className="jqx-label","_checkBoxColumn"===e.column.dataField){var t=e.column.grid,i=t.getVisibleRows();t.paging.enabled&&"page"===t.selection.checkBoxes.selectAllMode&&(i=i.slice(t.paging.pageIndex*t.paging.pageSize,(t.paging.pageIndex+1)*t.paging.pageSize));var a=t.paging.enabled&&"page"===t.selection.checkBoxes.selectAllMode?t._getSelectedRows(!0,!0):t._getSelectedRows(!0,!1);return t.selection.checkBoxes.autoShow?e.setAttribute("auto-show",""):e.removeAttribute("auto-show"),a.length===i.length?e.setAttribute("selected",""):a.length>0&&a.length<i.length?e.setAttribute("selected","indeterminate"):0!==a.length&&0!==i.length||e.removeAttribute("selected"),e.removeAttribute("checkbox"),e.label.classList.remove("jqx-input"),void("none"!==t.selection.checkBoxes.selectAllMode&&(e.setAttribute("checkbox",""),e.label.classList.add("jqx-input")))}if("_commandColumn"===e.column.dataField){var n=e.column.grid,o="icon"!==n.editing.commandColumn.displayMode,r="label"!==n.editing.commandColumn.displayMode,l=n.editing.commandColumn.dataSource.commandColumnMenu,s='<div class="jqx-grid-command-item">',d="{{messages}}"===l.label?n.localize("commandColumnMenu"):l.label,u=l.icon;r&&o?(s+='<span class="jqx-grid-icon '+u+'"></span>',s+='<span class="jqx-grid-label">'+d+"</span>"):r&&!o?s+='<span class="jqx-grid-icon '+u+'"></span>':o&&!r&&(s+='<span class="jqx-grid-label">'+d+"</span>"),s+="</div>",l.visible&&(e.label.innerHTML=s)}var c=e.column.getProperty("selected");!1===c&&e.hasAttribute("selected")?e.removeAttribute("selected"):!0===c?e.setAttribute("selected",""):null===c&&e.setAttribute("selected","indeterminate"),e.column.allowSortButtonAnimation?e.sortButton.classList.add("jqx-animate"):e.sortButton.classList.remove("jqx-animate"),e.column.sorted?e._showSortButton(!1):e._hideSortButton(!1),e.column.allowFilterButtonAnimation?e.filterButton.classList.add("jqx-animate"):e.filterButton.classList.remove("jqx-animate"),e.column.allowActionButtonAnimation&&!1!==e.allowAnimations?e.buttonsGroup.classList.add("jqx-animate"):e.buttonsGroup.classList.remove("jqx-animate"),e.column.allowLabelAnimation&&!1!==e.allowAnimations?e.label.classList.add("jqx-animate"):e.label.classList.remove("jqx-animate"),e.buttonsGroup.classList.remove("action"),e.actionButton.classList.contains("show")&&e.buttonsGroup.classList.add("action"),e.column.showIcon?e.icon.classList.add("show"):e.icon.classList.remove("show"),e.icon.classList.contains("show")&&e.icon.classList.add(e.column.icon);for(var p=e.column.showIcon?1:0,m=0;m<e.buttonsGroup.children.length;m++)e.buttonsGroup.children[m].classList.contains("show")&&p++;switch(p){case 1:e.label.classList.add("one");break;case 2:e.label.classList.add("two");break;case 3:e.label.classList.add("three");break;case 4:e.label.classList.add("four");break;case 5:e.label.classList.add("five");break;case 6:e.label.classList.add("six")}if(e.classList.remove("jqx-visibility-hidden"),!e.column.adaptiveVisible&&e.column.visible||e.classList.add("jqx-visibility-hidden"),e.column.grid._columnGap>0?e.classList.add("jqx-grid-column-border"):e.classList.remove("jqx-grid-column-border"),e.column.grid.appearance.showColumnHeaderLines?e.classList.remove("jqx-grid-vertical-border-collapse"):e.classList.add("jqx-grid-vertical-border-collapse"),e.column.rotationAngle){if(!e._rotate())return}e._align()}},{key:"_render",value:function(){var e=this,t=e.column.dataField?e.column.dataField:"",i=e.column===e.column.grid._lastVisibleColumn;e.label.firstChild?e.label.firstChild.textContent!==e.column.label&&(e.label.firstChild.textContent=e.column.label):e.label.innerHTML="<span>"+e.column.label+"</span>",e._refresh(),e.column.autoGenerated||i?e.style.width=e.column.computedWidth+"px":e.style.width=e.column.computedWidth-e.column.grid._columnGap+"px",e.style.height!==e.column.computedHeight+"px"&&(e.style.height=e.column.computedHeight+"px"),e.style.lineHeight!==e.column.computedHeight+"px"&&(e.style.lineHeight=e.column.computedHeight+"px"),e.style.left!==e.column.left+"px"&&(e.style.left=e.column.left+"px"),e.style.top!==e.column.top+"px"&&(e.style.top=e.column.top+"px"),e.getAttribute("data-field")!==t&&e.setAttribute("data-field",t),e.setAttribute("header",""),e.column.freeze&&e.setAttribute("freeze",""),e.column.level>0&&(e.style.top=e.column.top+"px")}},{key:"addThemeClass",value:function(){}},{key:"addDefaultClass",value:function(){}},{key:"_initialize",value:function(e){var t=this,i=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div"),d=document.createElement("div");t.column=e,t.classList.add("jqx-visibility-hidden"),s.classList.add("jqx-icon","jqx-grid-icon"),i.classList.add("jqx-label"),a.classList.add("jqx-sort-button","jqx-grid-icon"),n.classList.add("jqx-filter-button","jqx-icon-filter","jqx-grid-icon"),o.classList.add("jqx-action-button","jqx-grid-icon"),o.setAttribute("aria-haspopup",""),r.classList.add("jqx-description-button","jqx-icon-info-circled","jqx-grid-icon"),l.classList.add("jqx-custom-button",e.customButtonIcon?e.customButtonIcon:"jqx-icon-tools","jqx-grid-icon"),d.classList.add("jqx-buttons-group"),o.innerHTML="<div></div>",t.style.width=t.column.computedWidth+"px",t.appendChild(s),t.appendChild(i),t.appendChild(d),d.appendChild(a),d.appendChild(n),d.appendChild(r),d.appendChild(l),d.appendChild(o),t.icon=s,t.label=i,t.sortButton=a,t.filterButton=n,t.actionButton=o,t.descriptionButton=r,t.customButton=l,t.buttonsGroup=d;var u=window.PointerEvent?"pointerdown":"mousedown",c=window.PointerEvent?"pointerup":"mouseup";t.filterButton.addEventListener(u,function(e){e.preventDefault(),e.stopPropagation(),t.column.onAction&&t.column.onAction(e)}.bind(t)),t.filterButton.addEventListener(c,function(e){e.preventDefault(),e.stopPropagation()}),t.actionButton.addEventListener(c,function(e){e.preventDefault(),e.stopPropagation()}),t.actionButton.addEventListener(u,function(e){e.preventDefault(),e.stopPropagation(),t.column.onAction&&t.column.onAction(e)}.bind(t)),!t.column.autoShowActionButton&&t.column.showActionButton&&t._showActionButton(),!t.column.autoShowSortButton&&t.column.showSortButton&&t._showSortButton(),!t.column.autoShowFilterButton&&t.column.showFilterButton&&t._showFilterButton(),t.column.showDescriptionButton&&t._showDescriptionButton(),t.column.showCustomButton&&t._showCustomButton(),t.column.showIcon&&t._showIcon(),"_rowHeaderColumn"===t.column.dataField&&t.classList.add("top-near-corner"),t.customButton.onclick=function(e){t.column.onCustomButtonClick&&t.column.onCustomButtonClick(e)}.bind(t)}},{key:"template",value:function(){return""}},{key:"hasStyleObserver",get:function(){return!1}},{key:"enableShadowDOM",get:function(){return!1}},{key:"isUtilityElement",get:function(){return!0}}]),t}(JQX.BaseElement)),JQX.Utilities.Assign("Grid.Row",function(){function e(t){babelHelpers.classCallCheck(this,e);var i=this;if(t||(t={}),Object.assign(i,t),t){if(void 0===i.data){var a={$:{}};if(t.grid&&t.grid.dataSource)for(var n=t.grid.dataSource,o=0;o<n.dataFields.length;o++){var r=n.dataFields?n.dataFields[o]:{};a[r.name]=""}t.id&&(a.$.id=t.id),i.data=a}(void 0===t.$||t.$&&void 0===t.$.id)&&(t.data?(t.data.$&&t.data.$.id&&(i.id=t.data.$.id),i.id||(i.id=t.index)):void 0===i.id&&(i.id=t.index),void 0===i.id&&(i.id=JQX.Utilities.Core.createGUID())),void 0===i.detailHeight&&(i.grid?i.detailHeight=i.grid.rowDetail.height:i.detailHeight=200),void 0===i.height&&i.grid&&(i.height=i.grid.rowMinHeight,i.grid.__autoRowHeight&&(i.height=i.grid.__autoRowHeight),i.grid.rowHeight&&(i.height=i.grid.rowHeight)),void 0===i.cellHeight&&(i.cellHeight=i.height),void 0===i.showDetail&&(i.showDetail=!1),void 0===i.index&&(i.index=-1),void 0===i.visibleIndex&&(i.visibleIndex=-1),void 0===i.freeze&&(i.freeze=!1),void 0===i.height&&(i.height=null),void 0===i.minHeight&&(i.minHeight=25),void 0===i.selected?(i.selected=!1,i.grid&&i.grid._selection.rows[i.id]&&(i.selected=!0)):i.selected&&i.grid&&(i.grid._selection.rows[i.id]=!0),void 0===i.enabled&&(i.enabled=!0),void 0===i.visible&&(i.visible=!0),void 0===i.filtered&&(i.filtered=!0),void 0===i.allowResize&&(i.allowResize=!0),void 0===i.allowToggle&&(i.allowToggle=!0),void 0===i.allowSelect&&(i.allowSelect=!0),void 0===i.expanded&&(t.data&&void 0!==t.data.expanded?i.expanded=t.data.expanded:i.expanded=!1),i.headerCell=null,i._cells=[]}}return babelHelpers.createClass(e,[{key:"createElement",value:function(){var e=this,t=document.createElement("jqx-grid-row");return e.element=t,t._initialize(e),t}},{key:"getCell",value:function(e){var t=this,i=t.grid;if("string"!=typeof e&&"number"!=typeof e||(e=i.columnByDataField[e]),!e)return null;if(t["column_"+e.dataField]){var a=t["column_"+e.dataField];return a.column=e,a}var n=new JQX.Grid.Cell(t,e,i);return t["column_"+e.dataField]=n,n}},{key:"createCells",value:function(){var e=this,t=e.grid;e._cells=[];for(var i=0;i<t.viewColumns.length;i++){var a=t.viewColumns[i];if(!a.autoGenerated)if(e["column_"+a.dataField]){var n=e["column_"+a.dataField];e._cells.push(n)}else{var o=new JQX.Grid.Cell(e,a,t);e["column_"+a.dataField]=o,e._cells.push(o)}}}},{key:"toggle",value:function(){var e=this;e.element._handleExpandCollapse(!e.expanded)}},{key:"expand",value:function(){this.element._handleExpandCollapse(!0)}},{key:"collapse",value:function(){this.element._handleExpandCollapse(!1)}},{key:"render",value:function(){var e=this;e.element.row=e,e.element._render()}},{key:"setProperty",value:function(e,t){var i=this,a=i.getProperty(e);i[e]=t,a!==t&&(i.canNotify=!1,i.propertyChanged(e,a,t),i.canNotify=!0)}},{key:"getProperty",value:function(e){var t=this;if("selected"===e){var i=!1;return t.grid._selection.cells["row"+t.id]&&(i=null),t.grid&&t.grid._selection.rows[t.id]&&(i=!0),t.grid.rows.canNotify=!1,t[e]=i,t.grid.rows.canNotify=!0,i}return t[e]}},{key:"propertyChanged",value:function(e,t,i){var a=this;if("showDetail"===e){a.height=0;var n=a.element.rowDetail;if(a.grid.appearance.allowRowDetailToggleAnimation){var o=function(e){var t=a.grid._toggledRow;!t||"transform"!==e.propertyName&&"height"!==e.propertyName||r(t)},r=function(e){e.grid.$.content.style.transition="",e.element.rowDetail.removeEventListener("transitionend",o),e.element.rowDetail.removeEventListener("transitioncancel",o),e.grid._toggledRow=null,e.element.removeAttribute("has-detail"),a.grid._refresh()};a.grid._toggledRow=a,n.addEventListener("transitionend",o),n.addEventListener("transitioncancel",o),i?(a.element.setAttribute("has-detail",""),a.element.toggleDetailButton.removeAttribute("toggled"),a.element.toggleDetailButton.classList.remove("jqx-animate"),setTimeout(function(){a.element.toggleDetailButton.classList.add("jqx-animate"),a.element.toggleDetailButton.setAttribute("toggled",""),a.element.setAttribute("show-detail","")}),a.element.style.height=a.cellHeight+a.detailHeight+"px",a.grid._autoHeight&&(a.grid.$.content.style.transition="0.25s height ease-in-out",a.grid.$.content.style.height=parseInt(a.grid.$.content.style.height)+a.detailHeight+"px",a.grid.$.scrollView.style.height="auto"),n.classList.remove("jqx-hidden"),n.style.height!==a.detailHeight+"px"&&(n.style.height=a.detailHeight+"px"),n.style.lineHeight!==a.detailHeight+"px"&&(n.style.lineHeight=a.detailHeight+"px"),n.style.top!==a.cellHeight+"px"&&(n.style.top=a.cellHeight+"px")):(a.element.setAttribute("has-detail",""),a.element.toggleDetailButton.removeAttribute("toggled"),a.grid._autoHeight&&(a.grid.$.content.style.transition="0.25s height ease-in-out",a.grid.$.content.style.height=parseInt(a.grid.$.content.style.height)-a.detailHeight+"px",a.grid.$.scrollView.style.height="auto"),setTimeout(function(){a.element.style.height=a.cellHeight+"px",a.element.removeAttribute("show-detail")}))}else a.grid._refresh()}if("selected"===e){if(i?a.grid._selection.rows[a.id]=!0:!1===i&&a.grid._selection.rows[a.id]&&delete a.grid._selection.rows[a.id],!a.element)return;a.grid._recycle()}"visible"===e&&a.grid.refresh(),"expanded"===e&&(a.expandHeight||a.grid.refresh()),"height"===e&&(a.expandHeight||a.cellHeight!==i&&(a.cellHeight=i,a.grid.refresh())),"freeze"===e&&(!0===i||"near"===i?a.grid._frozenNearRows.push(a):"far"===i?a.grid._frozenFarRows.push(a):(a.grid._frozenNearRows.splice(a.grid._frozenNearRows.indexOf(a),1),a.grid._frozenFarRows.splice(a.grid._frozenFarRows.indexOf(a),1)),a.grid._recycle())}},{key:"properties",get:function(){return["allowToggle","allowResize","allowSelect","canNotify","cells","detailHeight","detailTemplate","cellHeight","expandHeight","data","enabled","expanded","filtered","freeze","grid","headerCell","height","index","id","minHeight","unbound","selected","showDetail","visible","visibleIndex"]}},{key:"cells",get:function(){var e=this;return e._cells&&e.grid&&e._cells.length===e.grid.columns.length?e._cells:(e.createCells(),e._cells)}},{key:"viewCells",get:function(){for(var e=this,t=[],i=0;i<e.grid.viewColumns.length;i++){var a=e.grid.viewColumns[i];if(e["column_"+a.dataField]){var n=e["column_"+a.dataField];t.push(n)}else{var o=new JQX.Grid.Cell(e,a,e.grid);e["column_"+a.dataField]=o,t.push(o)}}return e._viewCells=t,t}}]),e}()),JQX("jqx-grid-row",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"addThemeClass",value:function(){}},{key:"addDefaultClass",value:function(){}},{key:"_initialize",value:function(e){var t=this,i=e.grid,a=i._columnElements,n=i._frozenNearColumns,o=i._frozenFarColumns,r=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div"),d=document.createDocumentFragment(),u=document.createDocumentFragment(),c=document.createDocumentFragment();l.classList.add("near","jqx-grid-cell-container"),r.classList.add("center","jqx-grid-cell-container"),s.classList.add("far","jqx-grid-cell-container"),t.row=e,e.createCells(),t.addEventListener("mouseenter",function(){if(!i.isScrolling&&!i.editing.isEditing&&(t.commandBar&&(t.commandBar.parentNode.removeChild(t.commandBar),t.commandBar=null),i.editing.enabled&&i.editing.commandColumn.visible&&i.editing.commandColumn.inline&&!t.commandBar)){var e=document.createElement("div"),a=i._getCommandColumnCommandsTemplate();e.classList.add("jqx-grid-command-bar"),e.innerHTML=a,r.appendChild(e),requestAnimationFrame(function(){e.classList.add("show")}),i._updateCommandColumnCommandsVisibility(e,t.row),e.onmousedown=function(e){for(var a=e.path,n=null,o=0;o<a.length;o++)if(a[o].classList.contains("jqx-grid-command-item")){n=a[o];break}if(n){var r=n.getAttribute("command");i._applyCommand(r,[t.row]),t.commandBar&&(t.commandBar.parentNode.removeChild(t.commandBar),t.commandBar=null),t.removeAttribute("hover"),e.stopPropagation(),e.preventDefault()}},t.commandBar=e}}),t.addEventListener("mouseleave",function(){i.isScrolling||i.editing.isEditing||t.commandBar&&(t.commandBar.classList.remove("show"),t.commandBar.addEventListener("transitionend",function(){t.commandBar&&(t.commandBar.parentNode.removeChild(t.commandBar),t.commandBar=null)}),t.commandBar.addEventListener("transitioncancel",function(){t.commandBar&&(t.commandBar.parentNode.removeChild(t.commandBar),t.commandBar=null)}))});for(var p=0;p<n.length;p++){var m=n[p],v=e.getCell(m),h=v.createElement();u.appendChild(h)}for(var f=0;f<o.length;f++){var g=o[f],_=e.getCell(g),b=_.createElement();c.appendChild(b)}for(var y=0;y<a.length;y++){var w=a[y],x=w.column;if(!w.parentNode||!x)break;var C=e.getCell(x),k=C.createElement();x&&x._treeColumn&&(t.toggleButton=k.toggleButton),d.appendChild(k)}l.appendChild(u),r.appendChild(d),s.appendChild(c);var D=document.createElement("div");D.classList.add("jqx-grid-row-detail","jqx-hidden","jqx-animate");var S=document.createElement("div");S.classList.add("jqx-grid-row-sub-container","jqx-hidden"),i._adaptiveLayout>0&&(l.classList.add("jqx-visibility-hidden"),r.classList.add("jqx-visibility-hidden"),s.classList.add("jqx-visibility-hidden")),t._rowFragment=document.createDocumentFragment(),t._rowFragment.appendChild(l),t._rowFragment.appendChild(r),t._rowFragment.appendChild(s),t._rowFragment.appendChild(D),t._rowFragment.appendChild(S),t.appendChild(t._rowFragment),t.cellsNearContainerElement=t.children[0],t.cellsContainerElement=t.children[1],t.cellsFarContainerElement=t.children[2],t.rowDetail=t.children[3],t.rowContainer=t.children[4],i.rowHeight&&"auto"!==i.rowHeight&&(t.style.height=i.rowHeight+"px")}},{key:"_handleExpandCollapse",value:function(e){var t=this,i=t.row,a=i.grid;if(!i.allowToggle)return null;a._toggledRow=i;var n=function(){var e=a._toggledRow;a._refresh(),a._refreshRowHierarchy();for(var t=0,i=0;i<a.rowHierarchy.length;i++)for(var n=a.rowHierarchy[i],o=n.parent;o;)o.id===a._toggledRow.id&&(t+=n.height),o=o.parent;var r=a._scrollView.scrollTop,l=a._contentHeight-(e.cellHeight+e.top-r);e.expandHeight=Math.min(l,t),e.height=e.cellHeight+e.expandHeight},o=a.dataSource.virtualDataSourceOnExpand&&e&&!0!==i.data._loaded;if(!a.appearance.allowRowToggleAnimation||o)a.rows.canNotify=!1,i.expanded=e,a.rows.canNotify=!0,o&&(i.data._loaded=!0,i.data.expanded=e,a._virtualDataRequest("expand")),a._toggledRow=null,a._refresh(),o&&a.appearance.allowRowToggleAnimation&&(t.toggleButton.removeAttribute("toggled"),t.toggleButton.classList.remove("jqx-animate"),setTimeout(function(){t.toggleButton.classList.add("jqx-animate"),t.toggleButton.setAttribute("toggled","")},50));else{var r=function(e){e.height=e.cellHeight,a.$.content.style.transition="",e.element.rowContainer.innerHTML="",e.element.rowContainer.classList.add("jqx-hidden"),e.element.rowContainer.removeEventListener("transitionend",l),e.element.rowContainer.removeEventListener("transitioncancel",l),e.element.rowContainer.style.height="",e.element.rowContainer.style.transform="",e.element.rowContainer.style.transition="",e.element.rowContainer.classList.remove("jqx-animate"),e.element.toggleButton.classList.remove("jqx-animate"),a._refresh()},l=function(e){var i=a._toggledRow;t._toggleTimer=null,a._toggledRow=null,!i||"transform"!==e.propertyName&&"height"!==e.propertyName||setTimeout(function(){r(i)},50)};if(t._toggleTimer){clearTimeout(t._toggleTimer);var s=a._toggledRow;a._toggledRow=null,r(s)}t._toggleTimer=setTimeout(function(){var o=function(){n(),a._recycle(!1),t.style.overflow="hidden",t.style.height="auto",t.style.lineHeight=i.cellHeight+"px"};e?(i.expanded=!0,o(),t.rowContainer.style.transform="scaleY(0)",t.rowContainer.style.height="0px",t.toggleButton.removeAttribute("toggled"),a._autoHeight&&(a.$.content.style.height=parseInt(a.$.content.style.height)-i.expandHeight+"px"),setTimeout(function(){t.toggleButton.classList.add("jqx-animate"),t.toggleButton.setAttribute("toggled",""),t.rowContainer.addEventListener("transitionend",l),t.rowContainer.addEventListener("transitioncancel",l),a._autoHeight&&(a.$.content.style.transition="0.25s height ease-in-out",a.$.content.style.height=parseInt(a.$.content.style.height)+i.expandHeight+"px"),t.rowContainer.classList.add("jqx-animate"),t.rowContainer.style.height=i.expandHeight+"px",t.rowContainer.style.transform="scaleY(1)"})):(o(),i.expanded=!1,t.rowContainer.style.transform="scaleY(0)",t.rowContainer.style.height="0px",a._autoHeight&&(a.$.content.style.height=parseInt(a.$.content.style.height)-i.expandHeight+"px",a.$.content.style.transition="",a.$.content.style.height=parseInt(a.$.content.style.height)+i.expandHeight+"px"),t.rowContainer.style.height=i.expandHeight+"px",t.rowContainer.style.transform="scaleY(1)",t.toggleButton.setAttribute("toggled",""),t.toggleButton.classList.add("jqx-animate"),setTimeout(function(){t.toggleButton.removeAttribute("toggled",""),a._autoHeight&&(a.$.content.style.transition="0.25s height ease-in-out",a.$.content.style.height=parseInt(a.$.content.style.height)-i.expandHeight+"px"),t.rowContainer.addEventListener("transitionend",l),t.rowContainer.addEventListener("transitioncancel",l),t.rowContainer.classList.add("jqx-animate"),t.rowContainer.style.transform="scaleY(0)",t.rowContainer.style.height="0px"},0))},50)}}},{key:"_renderAddNewRow",value:function(){var e=this,t=e.row,i=t.grid,a=t.element,n=new JQX.Grid.Cell(t,i.columns[0],i);t.visible?a.classList.remove("jqx-hidden"):a.classList.add("jqx-hidden"),a.innerHTML="<jqx-grid-cell><div>"+i.localize("addNewRow")+"</div></jqx-grid-cell>",a.firstChild.firstChild.classList.add("align-center"),a.firstChild.classList.add("jqx-grid-column-border-collapse"),a.firstChild.setAttribute("freeze",""),a.firstChild.setAttribute("addNewRow",""),
a.firstChild.style.width="100%",i._scrollView.vScrollBar.offsetWidth>0&&(a.firstChild.style.width="calc(100% - "+(-1+i._scrollView.vScrollBar.offsetWidth)+"px)"),a.firstChild.cell=n,i._rowGap>0&&t!==i.rows[i.rows.length-1]?(e.style.marginBottom=i._rowGap+"px",parseInt(e.style.height)-i._rowGap!==t.height&&(e.style.height=t.height-i._rowGap+"px"),parseInt(e.style.lineHeight)-i._rowGap!==t.height&&(e.style.lineHeight=t.height-i._rowGap+"px")):(e.style.marginBottom="",parseInt(e.style.height)!==t.height&&(e.style.height=t.height+"px"),parseInt(e.style.lineHeight)!==t.height&&(e.style.lineHeight=t.height+"px"))}},{key:"_renderEmpty",value:function(){this.classList.add("jqx-hidden")}},{key:"_renderAdaptive",value:function(){var e=this,t=e.row,i=t.grid,a=!1;if(i._toggledRow&&i.appearance.allowRowToggleAnimation&&i._toggledRow.expanded)for(var n=t.parent;n;){if(n.id===i._toggledRow.id){var o=n.element.adaptiveDetail;e.classList.add("jqx-hidden"),e.toggleButton.classList.add("jqx-hidden"),a=!0,o.appendChild(e);break}n=n.parent}var r=e.adaptiveDetail;if(e.row=t,e.visible=t.visible,e.style.height!==t.height+"px"&&(e.style.height=t.height+"px"),e.style.lineHeight!==t.height+"px"&&(e.style.lineHeight=t.height+"px"),r.classList.remove("jqx-hidden"),r.style.height!==t.adaptiveHeight+"px"&&(r.style.height=t.adaptiveHeight+"px"),r.style.lineHeight!==t.adaptiveHeight+"px"&&(r.style.lineHeight=t.adaptiveHeight+"px"),t.expandHeight){if(t.expanded){var l=Math.min(i._clientSize.height,t.height+t.expandHeight)+"px";e.style.height=l,e.style.lineHeight=l}var s=Math.min(i._clientSize.height,t.height+t.expandHeight)+"px";r.style.height=s,r.style.lineHeight=s}else r.innerHTML="";r.style.top=a?t.cellHeight+"px":"0px";for(var d=document.createDocumentFragment(),u=0,c=0,p=0;p<i.viewColumns.length;p++){var m=i.viewColumns[p];if(!m.autoGenerated){var v=m.createElement(),h=t.getCell(m),f=h.createElement();if(void 0!==t.label){d.appendChild(f),f.classList.add("jqx-grid-adaptive-cell"),f.style.height=t.cellHeight+"px",f.style.lineHeight=t.cellHeight+"px",f.style.left="0px",f.style.top="0px",h.render(),f.style.width="100%";break}f.classList.add("jqx-grid-adaptive-cell"),v.classList.add("jqx-grid-adaptive-column"),m.render(),e._renderCell(t,m,f);var g=1===i._adaptiveLayout?"100%":"50%";v.style.width=g,v.style.height=t.cellHeight+"px",v.style.lineHeight=t.cellHeight+"px",v.style.top=u+"px",v.classList.remove("jqx-visibility-hidden"),f.style.width=g,f.style.height=t.cellHeight+"px",f.style.lineHeight=t.cellHeight+"px",f.style.top=u+t.cellHeight+"px","100%"===g?(v.style.left="0px",f.style.left="0px"):0===c?(v.style.left="0px",f.style.left="0px",c="50%"):(v.style.left="50%",f.style.left="50%"),(p+1)%i._adaptiveLayout==0&&(c=0,u+=2*t.cellHeight),d.appendChild(v),d.appendChild(f)}}r.appendChild(d),e.visible?e.classList.remove("jqx-hidden"):e.classList.add("jqx-hidden")}},{key:"_renderCell",value:function(e,t,i){if(!t)return void i.classList.add("jqx-hidden");var a=e.getCell(t);a.element!==i&&(a._styleChanged=!0),i.cell!==a&&(i.cell.background===a.background&&i.cell.borderColor===a.borderColor&&i.cell.color===a.color&&i.cell.fontSize===a.fontSize&&i.cell.fontFamily===a.fontFamily&&i.cell.fontWeight===a.fontWeight&&i.cell.fontStyle===a.fontStyle||(a._styleChanged=!0)),a.element=i,i.cell=a,a.render(),t&&t.rowNumbersColumn&&(e.header=i,i.setAttribute("data-id",e.id))}},{key:"_alternate",value:function(){var e=this,t=e.row,i=t.grid,a=i.appearance.alternationStart,n=i.appearance.alternationEnd>0?i.appearance.alternationEnd:1/0;if(!(i.appearance.alternationCount<=0)&&(e.removeAttribute("alternation-index"),t.visibleIndex>=a&&t.visibleIndex<=n)){var o=(t.visibleIndex-a)%i.appearance.alternationCount;e.setAttribute("alternation-index",o)}}},{key:"_renderDetail",value:function(e){var t=this,i=t.row.grid,a=t.row,n=a.id,o=a.detailTemplate||i.rowDetail.template;if(o.startsWith("#")&&(o=document.querySelector(o)),a._detail)return e.firstChild===a._detail?void(i.onRowDetailUpdated&&i.onRowDetailUpdated(a.index,a,e.firstChild)):(e.firstChild&&e.removeChild(e.firstChild),e.appendChild(a._detail),void(i.onRowDetailUpdated&&i.onRowDetailUpdated(a.index,a,e.firstChild)));if(o instanceof HTMLTemplateElement){var r=o.content.cloneNode(!0).firstElementChild;n=n.toString(),n=n.replace(/'/gi,"\\'"),n=n.replace(/"/gi,'\\"');var l=r.outerHTML.replace(/{{value}}/gi,n).replace(/{{id}}/gi,a.id);l.indexOf("{{value=")>=0&&(n?(l=l.substring(0,l.indexOf("{{value="))+n+l.substring(l.indexOf("}")),l=l.replace(/}/gi,""),l=l.replace(/{/gi,"")):(l=l.replace(/{{value=/gi,""),l=l.replace(/}}/gi,""))),l="<div>"+l+"</div>";for(var s in a.data)l=l.replace("{{"+s+"}}",a.data[s]);e.innerHTML!==l&&(e.innerHTML=l)}else{var d="<div>"+o.replace(/{{value}}/gi,n).replace(/{{id}}/gi,a.id)+"</div>";for(var u in a.data)d=d.replace("{{"+u+"}}",a.data[u]);e.innerHTML!==d&&(e.innerHTML=d)}i.onRowDetailInit&&i.onRowDetailInit(a.index,a,e.firstChild),a._detail=e.firstChild}},{key:"_render",value:function(){var e=this,t=e.row,i=t.grid,a=t.getProperty("selected");if(!1===a&&e.hasAttribute("selected")?e.removeAttribute("selected"):!0===a?e.setAttribute("selected",""):null===a&&e.setAttribute("selected","indeterminate"),e.hasAttribute("unbound")&&e.removeAttribute("unbound"),t.unbound&&e.setAttribute("unbound",""),!i._toggledRow&&e.classList.contains("jqx-animate"))return e.classList.remove("jqx-animate"),e.rowContainer.innerHTML="",e.rowContainer.classList.add("jqx-hidden"),i._refreshLayout(),void i._recycle();if(t.adaptiveHeight&&!i._responsiveLayout)return void e._renderAdaptive();if(0===i.columns.length)return void e._renderEmpty();if(t.addNewRow)return void e._renderAddNewRow();if(i._toggledRow&&(t.id===i._toggledRow.id?e.setAttribute("toggle",""):e.hasAttribute("toggle")&&e.removeAttribute("toggle")),i._toggledRow&&i.appearance.allowRowToggleAnimation){var n=t.parent;if(!i._toggledRow.expanded&&i._toggledRow.id===t.id)for(var o=e.rowContainer,r=0;r<o.children.length;r++){var l=o.children[r],s=l.getAttribute("data-id"),d=i.rowById[s];l.getAttribute("data-rendered")||(l.setAttribute("data-rendered",!0),d.element=l,d.render())}for(;n;){if(n.id===i._toggledRow.id){var u=n.element.rowContainer;if(i._toggledRow.expanded){e.classList.add("jqx-hidden");for(var c=t.createElement(i),p=0;p<u.children.length;p++){var m=u.children[p];if(m.getAttribute("data-id")===t.id.toString())return void(c=m)}t.element=c,u.appendChild(c),u.classList.remove("jqx-hidden"),c.row=t,e=c}break}n=n.parent}}e._alternate();var v=parseFloat(i.$.columnNearContainer.style.width),h=parseFloat(i.$.columnContainer.style.width),f=parseFloat(i.$.columnFarContainer.style.width),g=e.children[1],_=e.children[0],b=e.children[2];if(b.classList.remove("vscroll"),i.computedVerticalScrollBarVisibility&&b.classList.add("vscroll"),e.hasAttribute("group")&&e.removeAttribute("group"),e.hasAttribute("tree")&&e.removeAttribute("tree"),e.hasAttribute("level")&&e.removeAttribute("level"),e.hasAttribute("leaf")&&e.removeAttribute("leaf"),e.hasAttribute("expanded")&&e.removeAttribute("expanded"),e.hasAttribute("summary")&&e.removeAttribute("summary"),e.hasAttribute("filter")&&e.removeAttribute("filter"),null===t.filtered&&e.setAttribute("filter","indeterminate"),i.dataSource.groupBy&&i.dataSource.groupBy.length>0?(e.setAttribute("level",t.level),t.expanded&&e.setAttribute("expanded",""),void 0!==t.label&&t.level===i.dataSource.groupBy.length-1&&e.setAttribute("leaf",""),void 0!==t.label?e.setAttribute("group",""):e.setAttribute("leaf",""),t.summaryRow&&e.setAttribute("summary",""),e.toggleButton&&e.toggleButton.classList.remove("jqx-hidden")):i.dataSource.boundHierarchy?(e.setAttribute("level",t.level),t.expanded&&e.setAttribute("expanded",""),t.leaf&&e.setAttribute("leaf",""),t.summaryRow&&e.setAttribute("summary",""),e.toggleButton&&e.toggleButton.classList.remove("jqx-hidden")):(t.canNotify=!1,t.leaf=!0,t.expanded=!1,t.summaryRow=!1,t.level=0,e.toggleButton&&e.toggleButton.classList.add("jqx-hidden"),t.canNotify=!0),e.setAttribute("data-id",t.id),e.visible=t.visible,e.cellsNearContainerElement.classList.remove("jqx-visibility-hidden"),e.cellsContainerElement.classList.remove("jqx-visibility-hidden"),e.cellsFarContainerElement.classList.remove("jqx-visibility-hidden"),e.removeAttribute("rowspan"),i._rowGap>0&&t!==i.rows[i.rows.length-1]?(e.style.marginBottom=i._rowGap+"px",parseInt(e.style.height)-i._rowGap!==t.height&&(e.style.height=t.height-i._rowGap+"px"),parseInt(e.style.lineHeight)-i._rowGap!==t.height&&(e.style.lineHeight=t.height-i._rowGap+"px")):(e.style.marginBottom="",parseInt(e.style.height)!==t.height&&(e.style.height=t.height+"px"),parseInt(e.style.lineHeight)!==t.height&&(e.style.lineHeight=t.height+"px")),g.style.left!==-i._scrollView.scrollLeft+"px"&&(g.style.left=-i._scrollView.scrollLeft+"px"),i.rowDetail.enabled){var y=e.rowDetail;e.removeAttribute("show-detail"),t.showDetail?(y.classList.remove("jqx-hidden"),e.setAttribute("show-detail",""),y.style.height!==t.detailHeight+"px"&&(y.style.height=t.detailHeight+"px"),y.style.lineHeight!==t.detailHeight+"px"&&(y.style.lineHeight=t.detailHeight+"px"),y.style.top!==t.cellHeight+"px"&&(y.style.top=t.cellHeight+"px"),e._renderDetail(y)):y.classList.add("jqx-hidden")}_.classList.remove("jqx-hidden"),b.classList.remove("jqx-hidden"),_.style.width!==v+"px"&&(_.style.width=v+"px"),g.style.width!==h+"px"&&(g.style.width=h+"px"),b.style.width!==f+"px"&&(b.style.width=f+"px"),_.style.height=t.cellHeight+"px",g.style.height=t.cellHeight+"px",b.style.height=t.cellHeight+"px",0===f&&b.classList.add("jqx-hidden"),0===v&&_.classList.add("jqx-hidden"),v>0&&(parseInt(v),parseInt(i._autoGeneratedColumnsNearWidth)),f>0&&parseInt(f)===parseInt(i._autoGeneratedColumnsFarWidth)&&b.classList.add("border-collapse");for(var w=0;w<i._frozenNearColumns.length;w++){var x=i._frozenNearColumns[w],C=e.children[0].children[w];if(!C){C=t.getCell(x).createElement(),e.children[0].appendChild(C)}e._renderCell(t,x,C)}for(var k=0;k<i._frozenFarColumns.length;k++){var D=i._frozenFarColumns[k],S=e.children[2].children[k];if(!S){S=t.getCell(D).createElement(),e.children[2].appendChild(S)}D.adaptiveColumn?D.adaptiveVisible?S.classList.remove("jqx-hidden"):S.classList.add("jqx-hidden"):e._renderCell(t,D,S)}for(var T=0;T<g.children.length;T++){if(!i._columnElements[T+i._frozenNearColumns.length]){var I=e.children[1].children[T];e._renderCell(t,null,I)}}for(var H=0;H<i._columnElements.length;H++){var $=i._columnElements[H],M=$.column;if($.parentNode&&M){var B=e.children[1].children[H];if(!B){$.column||($.column=M);B=t.getCell(M).createElement(),e.children[1].appendChild(B)}$.classList.contains("jqx-visibility-hidden")?B.classList.add("jqx-visibility-hidden"):(B.classList.remove("jqx-visibility-hidden"),e._renderCell(t,M,B))}else if($&&!M){var j=e.children[1].children[H];j&&j.classList.add("jqx-visibility-hidden")}}e.visible?e.classList.remove("jqx-hidden"):e.classList.add("jqx-hidden")}},{key:"template",value:function(){return""}},{key:"isUtilityElement",get:function(){return!0}},{key:"hasStyleObserver",get:function(){return!1}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{}}}]),t}(JQX.BaseElement)),JQX.Utilities.Assign("Grid.Cell",function(){function e(t,i){babelHelpers.classCallCheck(this,e);var a=this;return a.row=t,a.column=i,a.grid=t.grid,a.rowSpan=1,a.colSpan=1,a.value=void 0,a.fontSize=null,a.fontWeight=null,a.fontFamily=null,a.color=null,a.background=null,a.borderColor=null,a.tooltip=null,a.align=null,a.verticalAlign=null,a.readonly=!1,a.oldValue=void 0,a._updating=!1,a.styleChanged=!0,a.editor=null,a.template=null,a.isEditing=!1,a.canNotify=!0,a.selected=!1,a.focused=!1,new Proxy(a,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){if("value"===t){return a.column.displayField?a.row.data[a.column.displayField]:a.row.data[a.column.dataField]}if("editor"===t||"template"===t)return e[t]||a.column[t];if("focused"===t){if(a.grid.selection.allowCellSelection&&a.grid._selection.focusedCell&&a.grid._selection.focusedCell.row.id===a.row.id&&a.grid._selection.focusedCell.column.dataField===a.column.dataField)return!0;var i=a.parent();return!!(i&&a.grid.selection.allowCellSelection&&a.grid._selection.focusedCell&&a.grid._selection.focusedCell.row.id===i.row.id&&a.grid._selection.focusedCell.column.dataField===i.column.dataField)}if("selected"===t)return!0===a.row.getProperty("selected")||(!0===a.column.getProperty("selected")||!!a.grid._selection.cells["row"+a.row.id]&&a.grid._selection.cells["row"+a.row.id][a.column.dataField]);if("modifiedValue"===t){var n=a.grid._cellsUpdatedValues[a.row.id+"_"+a.column.dataField];return void 0!==n?n:e.value}return e[t]},set:function(e,t,i){var n=this.get(e,t);if(n===i)return!0;if(e[t]=i,"element"===t||"isEditing"===t||"oldValue"===t||"_updating"===t||"notifyFn"===t||t.startsWith("_")||"canNotify"===t)return!0;if("focused"===t&&(a.grid._selection.focusedCell=a),"colSpan"!==t&&"rowSpan"!==t||i>=0&&-1===a.grid._cellsMerge.indexOf(a)&&a.grid._cellsMerge.push(a),"row"===t||"column"===t||"grid"===t||"styleChanged"===t)return!0;if("background"!==t&&"fontSize"!==t&&"fontWeight"!==t&&"fontFamily"!==t&&"color"!==t&&"borderColor"!==t&&"fontStyle"!==t||(a._styleChanged=!0),"value"===t){void 0===a.oldValue&&(a.oldValue=n),a.grid.dataSource.boundSource.canNotify=!1,null!==i&&i.label&&i.value?(a.row.data[a.column.displayField]=i.label,a.row.data[a.column.dataField]=i.value):(a.column.valueField&&(a.row.data[a.column.valueField]=i),a.row.data[a.column.dataField]=i);var o=a.grid.dataSource.dataItemById[a.row.id];if(o){var r=o.$.index;i!==a.grid.dataSource[r][a.column.dataField]&&(a.grid.dataSource[r][a.column.dataField]=i)}a.grid.dataSource.boundSource.canNotify=!0}return"selected"===t&&(a.grid._selection.cells["row"+a.row.id]&&(delete a.grid._selection.cells["row"+a.row.id][a.column.dataField],1===Object.getOwnPropertyNames(a.grid._selection.cells["row"+a.row.id]).length&&delete a.grid._selection.cells["row"+a.row.id]),a.grid._selection.cells["column"+a.column.dataField]&&(delete a.grid._selection.cells["column"+a.column.dataField][a.row.id],1===Object.getOwnPropertyNames(a.grid._selection.cells["column"+a.column.dataField]).length&&delete a.grid._selection.cells["column"+a.column.dataField]),i&&(a.grid._selection.cells["row"+a.row.id]||(a.grid._selection.cells["row"+a.row.id]=[]),a.grid._selection.cells["column"+a.column.dataField]||(a.grid._selection.cells["column"+a.column.dataField]=[]),a.grid._selection.cells["row"+a.row.id][a.column.dataField]=!0,a.grid._selection.cells["column"+a.column.dataField][a.row.id]=!0)),!(!a._updating&&a.canNotify)||(!a.row.canNotify||(a.grid._recycle(),a.propertyChanged&&a.propertyChanged(name.substring(1),n),!0))}})}return babelHelpers.createClass(e,[{key:"setStyle",value:function(e){var t=this;t._styleChanged&&(e.style.background=t.background,e.style.borderColor=t.borderColor,e.style.color=t.color,e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.paddingBottom="",t._styleChanged=!1)}},{key:"getFormattedValue",value:function(e,t){var i=this;return void 0===e||null===e||""===e?e:"date"===i.column.dataType||"datetime"===i.column.dataType||"time"===i.column.dataType?i.formatDate(e,t):"int"===i.column.dataType||"int64"===i.column.dataType||"float"===i.column.dataType||"number"===i.column.dataType?i.formatNumber(e,t):e}},{key:"formatDate",value:function(e,t){if(!JQX.Utilities.DateTime)return e;try{return new JQX.Utilities.DateTime(e).toString(t)}catch(t){return e}}},{key:"formatNumber",value:function(e,t){if(!JQX.Utilities.NumberRenderer)return e;var i=new JQX.Utilities.NumberRenderer,a=i.formatNumber(e,t);return void 0===a?e:a}},{key:"refresh",value:function(){var e=this;if(e.element){var t=e.element.firstChild;e.setStyle(t)}}},{key:"setProperties",value:function(e){var t=this;t._updating=!0;for(var i in e)t[i]=e[i];t._updating=!1,t.grid._recycle()}},{key:"createElement",value:function(){var e=this,t=document.createElement("jqx-grid-cell");return e.element=t,t._initialize(e),t}},{key:"render",value:function(){var e=this;e.element&&e.element._render()}},{key:"parent",value:function(e){var t=this,i=t.row,a=t.column.dataField,n=t.grid;if(!n._cellsMerge.length)return null;if(t.__parentCells&&void 0!==t.__parentCells["row"+i.id+"_column_"+a])return t.__parentCells["row"+i.id+"_column_"+a];var o=n.getVisibleRows();n.paging.enabled&&"page"===n.selection.selectAllMode&&(o=o.slice(n.paging.pageIndex*n.paging.pageSize,(n.paging.pageIndex+1)*n.paging.pageSize)),t.__parentCells||(t.__parentCells=[]);for(var r=0;r<n._cellsMerge.length;r++){var l=n._cellsMerge[r],s=[],d=[];if(s.push(l.row),l.rowSpan>1){var u=o.indexOf(l.row);if(u>=0)for(var c=u;c<u+l.rowSpan;c++)o[c]&&-1===s.indexOf(o[c])&&s.push(o[c])}if(d.push(l.column.dataField),l.colSpan>1)for(var p=n.columns.indexOf(n.columnByDataField[l.column.dataField]),m=p;m<p+l.colSpan;m++)n.columns[m]&&-1===d.indexOf(n.columns[m].dataField)&&d.push(n.columns[m].dataField);if(s.indexOf(i)>=0&&d.indexOf(a)>=0){if(e){var v={cell:l.row.getCell(l.column.dataField),rows:s,columns:d,row:l.row,column:l.column,endRow:s[s.length-1],endColumn:n.columnByDataField[d[d.length-1]]};return t.__parentCells["row"+i.id+"_column_"+a]=v,v}var h=l.row.getCell(l.column.dataField);return t.__parentCells["row"+i.id+"_column_"+a]=h,h}}return t.__parentCells["row"+i.id+"_column_"+a]=null,null}}]),e}()),JQX("jqx-grid-cell",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"addThemeClass",value:function(){}},{key:"addDefaultClass",value:function(){}},{key:"_initialize",value:function(e){var t=this,i=document.createElement("div"),a=e.column,n=e.row,o=e.grid;t.cell=e,t.appendChild(i);var r=!1;if(a&&a._treeColumn&&o.dataSource.boundHierarchy&&(r=!0,!o.grouping.enabled&&o.dataSource.groupBy&&o.dataSource.groupBy.length>0&&(r=!1)),r){var l=document.createElement("div"),s=document.createElement("button"),d=document.createElement("div"),u=document.createElement("div");return n.expanded?s.setAttribute("toggled",""):s.removeAttribute("toggled",""),t.toggleButton=s,i.appendChild(l),i.appendChild(u),u.setAttribute("content",""),l.setAttribute("indent",""),d.setAttribute("label",""),s.setAttribute("toggle-button",""),t.setAttribute("has-toggle-button",""),u.appendChild(s),u.appendChild(d),void(t.content=d)}var c=document.createElement("div");i.appendChild(c),t.content=i}},{key:"_renderCommands",value:function(){var e=this,t=e.cell.grid;if(t.__cellsCommandTemplate)return e.firstChild.innerHTML=t.__cellsCommandTemplate,void t._updateCommandColumnCommandsVisibility(e.firstChild,e.cell.row);var i=t._getCommandColumnCommandsTemplate();e.firstChild.innerHTML=i,t._updateCommandColumnCommandsVisibility(e.firstChild,e.cell.row),t.__cellsCommandTemplate=i}},{key:"_renderGroupCell",value:function(){var e=this,t=e.cell.grid,i=e.cell.column,a=e.cell.row;[].concat(babelHelpers.toConsumableArray(e.attributes)).forEach(function(t){return e.removeAttribute(t.name)}),e.style.width!==i.computedWidth+"px"&&(e.style.width=i.computedWidth+"px"),e.style.left!==i.left+"px"&&(e.style.left=i.left+"px"),e.classList.contains("jqx-hidden")&&e.classList.remove("jqx-hidden");var n=a.label;if(void 0!==a.label){var o="";if(t.grouping.summaryRow.visible){var r=function e(t,i,a){for(var n=0;n<i.length;n++){var o=i[n];void 0!==o[t]&&a.push(o),o.summaryRow||(o.children?e(t,o.children,a):o.data&&o.data.children&&e(t,o.children,a))}return a}(i.dataField,a.summaryRow?a.parent.data.children:a.data.children,[]),l={},s=i._treeColumn?i.summary.length>0?i.summary:["count"]:i.summary;l[i.dataField]=s;var d=s.length>0?t.dataSource.summarize([l],r):null;if(d)for(var u=0;u<s.length;u++){var c=s[u];o+="<span summary>"+t.localize(c,{value:d[i.dataField][c]})}}i._treeColumn?(n=a.summaryRow?"<div header><span group></span><span value></span></div>":"<div header><span group>"+t.columnByDataField[a.groupDataField].label+"</span><span value>"+a.label+"</span></div>",o&&(n+="<div summary>",n+=o,n+="</div>"),e.setAttribute("has-toggle-button","")):(n="<div content><div label><div header><span group></span><span value></span></div>",o&&(n+="<div summary>",n+=o,n+="</div>"),n+="</div></div>")}var p=e.firstChild;if(t.dataSource.boundHierarchy&&e.toggleButton){var m=p.children[0],v=p.children[1].children[0],h=p.children[1].children[1];m.setAttribute("indent",""),a.leaf?v.classList.add("jqx-visibility-hidden"):(v.classList.remove("jqx-visibility-hidden"),a.expanded?v.setAttribute("toggled",""):v.removeAttribute("toggled",""));var f="";if(i._treeColumn?e.toggleButton.classList.remove("jqx-hidden"):e.toggleButton.classList.add("jqx-hidden"),i._treeColumn)if(t.grouping.enabled&&t.dataSource.groupBy.length>0){var g=a.level;void 0===a.label&&g--,f+='<div style="width: '+(1+g)*t.grouping.groupIndent+'px;"></div>'}else for(var _=0;_<a.level;_++)f+="<div class='jqx-indent'></div>";t._adaptiveLayout>0&&(v.classList.add("jqx-hidden"),f=""),void 0===a.label?v.classList.add("jqx-hidden"):(v.classList.remove("jqx-hidden"),v.style.marginLeft="",i._treeColumn&&t.grouping.enabled&&t.grouping.toggleButtonIndent>0&&(v.style.marginLeft=a.level*(t.grouping.toggleButtonIndent-t.grouping.groupIndent)+"px")),m.innerHTML=f,h.innerHTML=n,t.appearance.showTooltips?h.setAttribute("title",a.label?a.label:n):h.hasAttribute("title")&&h.removeAttribute("title")}else void 0!==a.label&&t.grouping.enabled&&!e.toggleButton&&(p.innerHTML=n);if(t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0){var b=t.grouping.groupIndent*(1+a.level);i.dataField===t.columns[t.columns.length-1].dataField&&(e.style.width=i.computedWidth-b+"px",t.appearance.showColumnLines&&p.firstChild.classList.add("jqx-grid-column-border"))}if("jqx-label"!==p.className&&(p.className="jqx-label"),i.formatFunction){var y={row:a,column:i,cell:e.cell,value:null,template:null,group:{value:n,template:null}};i.formatFunction(y),y.group.value!==n&&(p.innerHTML=y.group.value),null!==y.group.template&&(p.innerHTML=y.group.template)}}},{key:"_render",value:function(){var e=this,t=e.cell.grid,i=e.cell.column,a=e.cell.row,n=a.data;if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&void 0!==a.label)return void e._renderGroupCell();if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&e.toggleButton&&(e.toggleButton.classList.remove("jqx-hidden"),e.toggleButton.classList.remove("jqx-visibility-hidden"),e.toggleButton.style.marginLeft="",i._treeColumn&&t.grouping.enabled&&t.grouping.toggleButtonIndent>0&&(e.toggleButton.style.marginLeft=a.level*(t.grouping.toggleButtonIndent-t.grouping.groupIndent)+"px")),!i.visible)return void(e.style.width="0px");t.appearance.showSortColumnBackground?i.sorted?e.setAttribute("sort",""):e.removeAttribute("sort"):i.sorted&&e.hasAttribute("sort")&&e.removeAttribute("sort"),t.appearance.showFilterColumnBackground?i.filtered?e.setAttribute("filter",""):e.removeAttribute("filter"):i.filtered&&e.hasAttribute("filter")&&e.removeAttribute("filter");var o=i.displayField?n[i.displayField]:n[i.dataField];if(t.editing.batch){if(t._cellsUpdatedValues){e.removeAttribute("update");var r=t._cellsUpdatedValues[a.id+"_"+i.dataField];void 0!==r&&(e.setAttribute("update",""),o=r)}t._rowsDeleted&&(t._rowsDeleted.indexOf(a)>=0?e.setAttribute("delete",""):e.removeAttribute("delete")),t._rowsAdded&&(t._rowsAdded.indexOf(a.id)>=0?e.setAttribute("add",""):e.removeAttribute("add"))}!t.onCellValue||i.rowNumbersColumn||i.selectionColumn||(e.cell._updating=!0,t.onCellValue(e.cell),e.cell._updating=!1,o=e.cell.value),void 0===o&&(o="");var l=o;i.cellsFormat&&(l=e.cell.getFormattedValue(o,i.cellsFormat));var s=e.firstChild;(t.onCellRender||i.onCellRender)&&requestAnimationFrame(function(){if(i._cellsCachedValues||(i._cellsCachedValues=[]),i._cellsCachedValues[a.index]){var n=i._cellsCachedValues[a.index];s.firstChild&&s.removeChild(s.firstChild),s.appendChild(n)}else if(t.onCellRender?t.onCellRender(e.cell):i.onCellRender(e.cell),e.cell.template!==i.template){var o=document.createElement("div");return s.firstChild&&s.removeChild(s.firstChild),e.cell.template instanceof HTMLTemplateElement?o.appendChild(e.cell.template.cloneNode(!0)):o.appendChild(e.cell.template),s.appendChild(o),void(i._cellsCachedValues[a.index]=o)}}),i.autoGenerated||e.setAttribute("data-field",i.dataField),e.cell.focused?e.setAttribute("focus",""):e.removeAttribute("focus"),e.cell.selected?e.setAttribute("selected",""):e.removeAttribute("selected"),t.rowDetail.enabled&&a.showDetail&&(e.style.height=a.cellHeight+"px",e.style.lineHeight=a.cellHeight+"px"),(a.adaptiveDetailExpanded||t.adaptivityMode.responsiveLayout.autoShowHiddenCells&&a.adaptiveHeight)&&(e.style.height=a.cellHeight+"px",e.style.lineHeight=a.cellHeight+"px"),a.expanded&&a.expandHeight>0&&(e.style.height=a.cellHeight+"px",e.style.lineHeight=a.cellHeight+"px");var d=e._getCellAlignment(a,i),u=""!==e.cell.template&&t.isInitialized,c="";if(d.align&&(c+=d.align+" "),d.verticalAlign&&(c+=d.verticalAlign+" "),c+="jqx-label",e.style.width!==i.computedWidth+"px"){var p=t._isLastVisibleColumn(i);i.autoGenerated||p?e.style.width=i.computedWidth+"px":e.style.width=i.computedWidth-t._columnGap+"px"}if(t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0){var m=t.grouping.groupIndent*(1+a.level);i.dataField===t.columns[t.columns.length-1].dataField&&(e.style.width=i.computedWidth-m+t.grouping.groupIndent+"px",t.appearance.showColumnLines&&e.classList.add("jqx-grid-column-border"))}i===t._firstVisibleColumn?e.classList.add("jqx-grid-column-border-collapse"):e.classList.remove("jqx-grid-column-border-collapse"),t._columnGap>0&&t.appearance.showColumnLines&&e.classList.add("jqx-grid-column-border"),t._rowGap>0&&e.classList.add("jqx-grid-row-border"),t.appearance.showColumnLines?e.classList.remove("jqx-grid-vertical-border-collapse"):e.classList.add("jqx-grid-vertical-border-collapse"),t.appearance.showRowLines?e.classList.remove("jqx-grid-horizontal-border-collapse"):e.classList.add("jqx-grid-horizontal-border-collapse");var v=i.left;if(e.style.left!==v+"px"&&(e.style.left=v+"px"),e.classList.contains("jqx-hidden")&&e.classList.remove("jqx-hidden"),e.hasAttribute("template")&&e.removeAttribute("template"),e.hasAttribute("freeze")&&e.removeAttribute("freeze"),e.hasAttribute("adaptive")&&e.removeAttribute("adaptive"),e.hasAttribute("detail")&&e.removeAttribute("detail"),a.filterRow?e.classList.add("jqx-grid-filter-row-cell"):a.summaryRow?e.classList.add("jqx-grid-summary-row-cell"):(i.freeze||a.freeze)&&(i.selectionColumn&&(e.setAttribute("checkbox",""),c+=" jqx-input",i.grid.selection.checkBoxes.enabled&&i.grid.selection.checkBoxes.autoShow?e.setAttribute("auto-show",""):e.removeAttribute("auto-show")),(i.rowNumbersColumn||i.selectionColumn)&&e.setAttribute("header",""),i.rowDetailColumn&&(e.setAttribute("header",""),e.setAttribute("detail",""),e.setAttribute("has-toggle-button","")),i.commandColumn&&e.setAttribute("command",""),t.appearance.showFrozenColumnBackground&&i.freeze&&e.setAttribute("freeze",""),t.appearance.showFrozenRowBackground&&a.freeze&&e.setAttribute("freeze","")),i.cellsRotationAngle){if(!e._rotateCellContent(s,i,o))return}else if(a.filterRow)i.adaptiveColumn||i.toggleColumn||i.rowNumbersColumn?s.innerHTML="":i.filterEditorInitialized||(i.filterEditorInitialized=!0);else if(a.summaryRow){if(i.adaptiveColumn||i.toggleColumn||i.rowNumbersColumn)s.innerHTML="";else if(i.summary.length>0&&t._summaryItems){var h=t._summaryItems[i.dataField],f=0;for(var g in h)f===a.summaryRowIndex&&(s.innerHTML=t.localize(g,{value:h[g]})),f++}}else if(t.rowDetail.enabled&&i.rowDetailColumn)""!==s.innerHTML&&(a.showDetail?s.innerHTML='<button class="jqx-animate" toggled toggle-button></button>':s.innerHTML='<button class="jqx-animate" toggle-button></button>',a.element.toggleDetailButton=e.querySelector("button"));else if(i.adaptiveColumn)e.removeAttribute("expanded"),a.adaptiveDetailExpanded&&e.setAttribute("expanded",""),new Date-t._lastPointerDownTime<300&&(c+=" jqx-animate");else if(i.commandColumn)e._renderCommands();else if(t.appearance.showRowNumber&&i.rowNumbersColumn)a.addNewRow?s.textContent="":t._rowsAdded&&t._rowsAdded.indexOf(a.id)>=0?s.textContent="":s.textContent=a.visibleIndex+1;else if(u)switch(e.removeAttribute("readonly"),e.cell.template){case"checkBox":case"switchButton":case"radioButton":""!==s.textContent&&(s.textContent=""),(!t.editing.enabled||!i.allowEdit||e.cell.readonly||t.editing.enabled&&t.editing.commandColumn.visible&&t.editing.editRow!==e.cell.row)&&e.setAttribute("readonly",""),'<span class="jqx-input"></span>'!==s.innerHTML&&(s.innerHTML='<span class="jqx-input"></span>'),o?s.firstChild.setAttribute("checked",""):null===o?s.firstChild.setAttribute("checked","indeterminate"):s.firstChild.removeAttribute("checked"),e.setAttribute("template",e.cell.template);break;default:var _=null;if(e.setAttribute("template",""),"function"==typeof e.cell.template){var b={row:a,column:i,cell:e.cell,oldValue:e.cell.oldValue,value:o,template:null},y=s.querySelector(".jqx-grid-cell-template");if(y&&(b.template=y.firstElementChild),e.cell.template(b),!y&&b.template)if(b.template instanceof HTMLElement){var w=document.createElement("div");w.classList.add("jqx-grid-cell-template"),s.appendChild(w),w.appendChild(b.template)}else s.innerHTML='<div class="jqx-grid-cell-template">'+b.template+"</div>";else y||null!==b.template||(s.innerHTML=o);e.cell._styleChanged&&e.cell.setStyle(s)}else if(""!==s.textContent&&(s.textContent=""),e.cell.template.startsWith("#")&&(_=document.querySelector(e.cell.template)),_){var x=_.content.cloneNode(!0).firstElementChild;o=o.toString(),o=o.replace(/'/gi,"\\'"),o=o.replace(/"/gi,'\\"');var C=x.outerHTML.replace(/{{value}}/gi,o).replace(/{{id}}/gi,a.id);C.indexOf("{{value=")>=0&&(o?(C=C.substring(0,C.indexOf("{{value="))+o+C.substring(C.indexOf("}")),C=C.replace(/}/gi,""),C=C.replace(/{/gi,"")):(C=C.replace(/{{value=/gi,""),C=C.replace(/}}/gi,""))),s.innerHTML!==C&&(s.innerHTML=C)}else{var k=e.cell.template.replace(/{{value}}/gi,o).replace(/{{id}}/gi,a.id);s.innerHTML!==k&&(s.innerHTML=k)}}else if(i.selectionColumn)"checkBox"===t.selectionMode&&(a.getProperty("selected")?e.setAttribute("selected",""):e.getAttribute("selected")&&e.removeAttribute("selected"));else{var D=s.firstChild;if(D&&D.classList&&e.toggleButton){var S=s.children[0],T=s.children[1].children[0],I=s.children[1].children[1],H="";if(i._treeColumn)if(t.grouping.enabled){var $=a.level-1;H+='<div style="width: '+(1+$)*t.grouping.groupIndent+'px;"></div>'}else for(var M=0;M<a.level;M++)H+="<div class='jqx-indent'></div>";S.innerHTML=H,T.classList.add("jqx-visibility-hidden"),a.leaf?T.classList.add("jqx-visibility-hidden"):(T.classList.remove("jqx-visibility-hidden"),a.expanded?T.setAttribute("toggled",""):T.removeAttribute("toggled","")),a.data.isEmpty&&T.classList.add("jqx-visibility-hidden"),I.innerHTML=l,t.appearance.showTooltips?I.setAttribute("title",l):I.hasAttribute("title")&&I.removeAttribute("title")}else{var B=a["column_"+i.dataField];if(e.getAttribute("rowspan")&&(e.removeAttribute("rowspan"),e.style.height=""),e.getAttribute("colspan")&&e.removeAttribute("colspan"),B){if(B.colSpan>1){for(var j=t.columns.indexOf(i),E=0,L=j;L<j+B.colSpan;L++){var q=t.columns[L];q&&q.visible&&(E+=q.computedWidth)}e.style.width=E+"px",e.setAttribute("colspan",""),B._styleChanged=!0}if(B.rowSpan>1){var z=t.rows.indexOf(a),A=0;a.element.setAttribute("rowspan","");for(var F=z;F<=z+B.rowSpan-1;F++){var O=t.rows[F];O&&O.visible&&O.filtered&&(A+=O.cellHeight)}e.style.height=A+"px",e.setAttribute("rowspan",""),B._styleChanged=!0}(1===B.colSpan&&e.hasAttribute("colspan")||e.hasAttribute("rowspan")&&1===B.rowSpan)&&(e.style.height="",
e.style.width="",e.removeAttribute("colspan"),e.removeAttribute("rowspan"),B._styleChanged=!0),s.textContent===l||i.formatFunction||(s.textContent=l),B.setStyle(s),t.appearance.showTooltips?s.setAttribute("title",B.tooltip||l):s.hasAttribute("title")&&s.removeAttribute("title")}else s.textContent=l}}if(s.className!==c&&(s.className=c),i.formatFunction&&!a.data.isEmpty&&t.isInitialized){var P={row:a,column:i,cell:e.cell,oldValue:e.cell.oldValue,value:o,formattedValue:l,template:null};e.cell.canNotify=!1,a.canNotify=!1;var N=Object.assign({},{background:e.cell.background,borderColor:e.cell.borderColor,color:e.cell.color,fontSize:e.cell.fontSize,fontFamily:e.cell.fontFamily,fontWeight:e.cell.fontWeight,fontStyle:e.cell.fontStyle});i.formatFunction(P),s.style.background===N.background&&s.style.borderColor===N.borderColor&&s.style.color===N.color&&s.style.fontSize===N.fontSize&&s.style.fontWeight===N.fontWeight&&s.style.fontStyle===N.fontStyle||(e.cell._styleChanged=!0,e.cell.setStyle(s));var V=!0;if(P.value!==o){if(e.toggleButton){s.children[1].children[1].innerHTML=P.value}else s.innerHTML=P.value;V=!1}if(null!==P.template){if(e.toggleButton){var R=s.children[1].children[1];R.innerHTML!==P.template&&(R.innerHTML=P.template)}else if(s.innerHTML!==P.template){var X=document.createElement("div");X.innerHTML=P.template,X.innerHTML!==s.innerHTML&&(s.innerHTML=P.template)}V=!1}V&&(s.textContent=o),e.cell.canNotify=!0,a.canNotify=!0}}},{key:"_rotateCellContent",value:function(e,t,i){var a=this,n=document.createElement("span");return e.innerHTML="",n.innerHTML=i,e.appendChild(n),n.className="rotate",n.style.transform="rotate("+t.cellsRotationAngle+"deg)",a.grid._recycleRotate(e,n,t.cellsAlign,t.cellsVerticalAlign,i)}},{key:"_getCellAlignment",value:function(e,t){var i=e["column_"+t.dataField],a=i?i.align||t.cellsAlign:t.cellsAlign,n=i?i.verticalAlign||t.cellsVerticalAlign:t.cellsVerticalAlign,o={align:"",verticalAlign:""};switch(a){case"left":o.align="align-left";break;case"center":case"middle":o.align="align-center";break;case"right":o.align="align-right"}switch(n){case"top":o.verticalAlign="align-top";break;case"center":case"middle":o.verticalAlign="align-middle";break;case"bottom":o.verticalAlign="align-bottom"}return o}},{key:"template",value:function(){return""}},{key:"hasStyleObserver",get:function(){return!1}},{key:"enableShadowDOM",get:function(){return!1}},{key:"isUtilityElement",get:function(){return!0}}],[{key:"properties",get:function(){return{}}}]),t}(JQX.BaseElement)),JQX.Utilities.Assign("Grid.Menu",function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"openMenu",value:function(e){var t=this,i=t.columnByDataField[e];i&&t._openMenu(i)}},{key:"_openColumnChooserMenu",value:function(e){var t=this;if(e||(e=t._commandColumn),!e||t.menu&&t.menu.column===e&&e.element.hasAttribute("aria-controls"))return void t.closeMenu();t.menu||(t.menu=document.createElement("div"),t.menu.classList.add("jqx-grid-column-menu"),t.menu.id=t.id+"_"+t.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),t.appearance.allowColumnMenuAnimation?t.menu.classList.add("jqx-animate"):t.menu.classList.remove("jqx-animate"),t._createColumnChooserMenuItems(e),t.menu.style.height=t.columnMenu.height?t.columnMenu.height+"px":"auto",t.menu.column&&t.menu.column!==e&&(t.menu.column.setProperty("menu",null),t.menu.column=null),document.body.appendChild(t.menu),e.setProperty("menu",t.menu);var i=e.element.getBoundingClientRect();t.menu.column=e;var a=i.right-e.element.actionButton.getBoundingClientRect().width+window.pageXOffset,n=i.bottom+window.pageYOffset;a+t.menu.offsetWidth>window.innerWidth&&(a=i.right+window.pageXOffset-t.menu.offsetWidth)+t.menu.offsetWidth>window.innerWidth&&(a=window.innerWidth-t.menu.offsetWidth),t.menu.style.left=a+"px",t.menu.style.top=n+"px",t.menu.classList.remove("jqx-hidden"),t.menu.classList.add("open")}},{key:"_openMenu",value:function(e){var t=this;if(!e||t.menu&&t.menu.column===e&&e.element.hasAttribute("aria-controls"))return void t.closeMenu();t.menu||(t.menu=document.createElement("div"),t.menu.classList.add("jqx-grid-column-menu"),t.menu.id=t.id+"_"+t.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),t.appearance.allowColumnMenuAnimation?t.menu.classList.add("jqx-animate"):t.menu.classList.remove("jqx-animate"),t._createMenuItems(e),t._createFilterPanel(e),t._filterMenuItemsVisibility(e),t.menu.style.height=t.columnMenu.height?t.columnMenu.height+"px":"auto",t.menu.column&&t.menu.column!==e&&(t.menu.column.setProperty("menu",null),t.menu.column=null),document.body.appendChild(t.menu),e.setProperty("menu",t.menu);var i=e.element.getBoundingClientRect();t.menu.column=e;var a=i.right-e.element.actionButton.getBoundingClientRect().width+window.pageXOffset,n=i.bottom+window.pageYOffset;a+t.menu.offsetWidth>window.innerWidth&&(a=i.right+window.pageXOffset-t.menu.offsetWidth)+t.menu.offsetWidth>window.innerWidth&&(a=window.innerWidth-t.menu.offsetWidth),t.menu.style.left=a+"px",t.menu.style.top=n+"px",t.hasColumnMenu(e)?t.menu.classList.remove("jqx-hidden"):t.closeMenu(),t.menu.classList.add("open")}},{key:"_menuItemClick",value:function(e){var t=this,i=e.detail,a=i.value;if(a&&a.properties){var n=a.properties.command;"function"==typeof n?n.apply(t,[a.column]):t[n]&&t[n].apply(t,[a.column]),a.column.autoCloseMenu&&t.closeMenu()}}},{key:"removeGroupByCommand",value:function(e){this.removeGroup(e.dataField)}},{key:"groupByCommand",value:function(e){var t=this;t.dataSource&&t.addGroup(e.dataField)}},{key:"sortAscCommand",value:function(e){this.sortBy(e.dataField,"asc")}},{key:"sortDescCommand",value:function(e){this.sortBy(e.dataField,"desc")}},{key:"removeSortCommand",value:function(e){this.sortBy(e.dataField,null)}},{key:"_removeMenu",value:function(){var e=this,t=e.menu.querySelector("jqx-menu");t&&e.menu.removeChild(t)}},{key:"_createColumnChooserMenuItems",value:function(){var e=this;e._removeMenu();var t=document.createElement("jqx-menu"),i=document.createDocumentFragment();t.mode="vertical",t.dropDownAppendTo="body",t.checkboxes=!0,t.checkable=!0,t.classList.add("jqx-grid-column-chooser-menu");for(var a=0;a<e.columns.length;a++){var n=e.columns[a],o=document.createElement("jqx-menu-item"),r=n.showIcon?n.icon:n.visible?"jqx-icon-eye":"jqx-icon-eye-off";o.checked=n.visible,n.allowHide&&(n.command=function(e){e.visible=!e.visible},o.label=e.localize(n.label)||n.label||n.dataField,o.value={column:n,properties:n},r&&(o.label='<span class="jqx-grid-icon '+r+'"></span>'+o.label),i.appendChild(o))}t.appendChild(i),e.menu.appendChild(t),e.menu.itemCheckChange=e._menuItemClick.bind(e),e.menu.addEventListener("itemCheckChange",e.menu.itemCheckChange),e.menu.addEventListener("keydown",e._keyDownHandler.bind(e))}},{key:"_createMenuItems",value:function(e){var t=this;t._removeMenu();var i=document.createElement("jqx-menu"),a=document.createDocumentFragment(),n=e.menuItems||t.columnMenu.dataSource;i.mode="vertical",i.dropDownAppendTo="body";for(var o in n){var r=n[o],l=document.createElement("jqx-menu-item"),s=r.icon;l.label=t.localize(o),l.value={column:e,properties:r};var d=function(t){if(t){if("string"===e.dataType)return"A → Z";if("number"===e.dataType||"date"===e.dataType||"time"===e.dataType)return"1 → 9";if("bool"===e.dataType||"boolean"===e.dataType)return"0 → 1"}else{if("string"===e.dataType)return"Z → A";if("number"===e.dataType||"date"===e.dataType||"time"===e.dataType)return"9 → 1";if("bool"===e.dataType||"boolean"===e.dataType)return"1 → 0"}};"columnMenuItemSortAsc"===o?(l.label=t.localize(o,{mode:d(!0)}),"string"!==e.dataType&&r.iconAlt&&(s=r.iconAlt)):"columnMenuItemSortDesc"===o&&(l.label=t.localize(o,{mode:d(!1)}),"string"!==e.dataType&&r.iconAlt&&(s=r.iconAlt)),s&&(l.label='<span class="jqx-grid-icon '+s+'"></span>'+l.label),a.appendChild(l)}i.appendChild(a),t._filterContainer?t.menu.insertBefore(i,t._filterContainer):t.menu.appendChild(i),t.menu.itemClick=t._menuItemClick.bind(t),t.menu.addEventListener("itemClick",t.menu.itemClick),t.menu.addEventListener("keydown",t._keyDownHandler.bind(t))}},{key:"_getFilterType",value:function(e){var t=e.dataType.endsWith("?")?e.dataType.substring(0,e.dataType.length-1):e.dataType,i="string";switch(t){case"number":case"int":case"float":case"int64":i="numeric";break;case"bool":case"boolean":i="bool";break;case"date":case"time":case"datetime":i="date";break;case"any":i="any"}return i}},{key:"_createFilterPanel",value:function(e){var t=this;if(JQX.FilterPanel)if(t.filtering.enabled&&t.filtering.filterMenu.visible&&e.allowFilter){var i=t._getFilterType(e);if(t._filterPanel&&t._filterPanel.parentNode.removeChild(t._filterPanel),t._filterPanel=t._filterPanels[i],t._filterPanel.dataField=e.dataField,!t._filterContainer){var a=document.createElement("div");a.classList.add("jqx-filter-container"),t._filterContainer=a,requestAnimationFrame(function(){t.menu.appendChild(a)}),t._applyFilterHandler=function(){t.addFilter(t._filterPanel.dataField,t._filterPanel.getFilter()),t.columnByDataField[t._filterPanel.dataField]._filterState=t._filterPanel.getState()},t._clearFilterHandler=function(){requestAnimationFrame(function(){t.removeFilter(t._filterPanel.dataField),t.columnByDataField[t._filterPanel.dataField]._filterState=null})}}if(t._filterContainer.appendChild(t._filterPanel),t._filterPanel.classList.remove("jqx-hidden"),t._filterPanel.removeEventListener("filter",t._applyFilterHandler),t._filterPanel.removeEventListener("clear",t._clearFilterHandler),t._filterPanel.addEventListener("filter",t._applyFilterHandler),t._filterPanel.addEventListener("clear",t._clearFilterHandler),"none"!==e.filterMenuMode&&t.filtering.filterMenu.visible&&JQX.FilterPanel?t._filterContainer.classList.remove("jqx-hidden"):t._filterContainer.classList.add("jqx-hidden"),t._filterPanel.reset(),e._filterState)t._filterPanel.loadState(e._filterState);else if(e.filter){for(var n=e.filter,o=t._getFilterType(e),r=n.getFilters();r.length>0&&"FilterGroup"===r[0].type;)r=r[0].value;var l=n.getConditions(o),s=r.length>0?l.indexOf(r[0].condition):-1,d=r.length>1?l.indexOf(r[1].condition):-1,u=r.length>0?r[0].value:"",c=r.length>1?r[1].value:"",p=r.length>1?["and","or"].indexOf(r[1].logicalOperator):0;e._filterState={firstFilterComparison:s,firstFilterValue:u,logicalOperator:p,secondFilterComparison:d,secondFilterValue:c},t._filterPanel.loadState(e._filterState)}}else t._filterPanel&&(t._filterPanel.parentNode.removeChild(t._filterPanel),e._filterState=null)}},{key:"hasColumnMenu",value:function(e){var t=this,i=e.menuItems||t.columnMenu.dataSource,a=0,n=0;for(var o in i){var r=i[o];n++,!1===r.visible?a++:"auto"===r.visible&&("columnMenuItemFilter"!==o&&"columnMenuItemRemoveFilter"!==o||(t.filtering.filterMenu.visible||t.filtering.filterBuilder.visible)&&a++,"columnMenuItemGroupBy"!==o&&"columnMenuItemRemoveGroupBy"!==o||e.allowGroup&&t.grouping.enabled||a++,"columnMenuItemFilter"!==o||e.allowFilter||a++,"columnMenuItemRemoveFilter"!==o||e.allowFilter||a++,"columnMenuItemGroupBy"!==o||e.allowGroup||a++,"columnMenuItemSortAsc"!==o&&"columnMenuItemSortDesc"!==o&&"columnMenuItemRemoveSort"!==o||e.allowSort&&t.sorting.enabled||a++)}return!!(t.filtering.enabled&&t.filtering.filterMenu.visible&&"none"!==e.filterMenuMode&&JQX.FilterPanel||JQX.Menu&&!(a>=n))}},{key:"_filterMenuItemsVisibility",value:function(e){var t=this,i=t.menu.querySelectorAll("jqx-menu-item"),a=e.menuItems||t.columnMenu.dataSource,n=0;for(var o in a){var r=i[n++],l=a[o];if(r.disabled=!l.enabled,r.classList.remove("jqx-hidden"),"columnMenuItemRemoveSort"===o&&(e.sortOrder?r.disabled=!1:r.disabled=!0),"columnMenuItemSortAsc"===o&&"asc"===e.sortOrder?r.disabled=!0:"columnMenuItemSortDesc"===o&&"desc"===e.sortOrder&&(r.disabled=!0),!0===l.visible)r.classList.remove("jqx-hidden");else if(!1===l.visible)r.classList.add("jqx-hidden");else if("auto"===l.visible){if("columnMenuItemFilter"!==o&&"columnMenuItemRemoveFilter"!==o||(!1===t.filtering.enabled?r.classList.add("jqx-hidden"):t.filtering.filterMenu.visible||t.filtering.filterBuilder.visible?r.classList.add("jqx-hidden"):t.filtering.filterBuilder.visible&&r.classList.remove("jqx-hidden")),"columnMenuItemGroupBy"===o){t.grouping.enabled&&e.allowGroup?r.classList.remove("jqx-hidden"):r.classList.add("jqx-hidden");var s=t.dataSource.groupBy.indexOf(e.dataField);r.disabled=s>=0}if("columnMenuItemRemoveGroupBy"===o){t.grouping.enabled&&e.allowGroup?r.classList.remove("jqx-hidden"):r.classList.add("jqx-hidden");var d=t.dataSource.groupBy.indexOf(e.dataField);r.disabled=d<0}"columnMenuItemFilter"!==o||e.allowFilter||r.classList.add("jqx-hidden"),"columnMenuItemRemoveFilter"!==o||e.allowFilter||r.classList.add("jqx-hidden"),"columnMenuItemSortAsc"!==o&&"columnMenuItemSortDesc"!==o&&"columnMenuItemRemoveSort"!==o||(e.allowSort&&t.sorting.enabled?r.classList.remove("jqx-hidden"):r.classList.add("jqx-hidden"))}}}},{key:"hasMenu",value:function(){var e=this;return!!(e.menu&&e.menu.column&&e.menu.parentNode)}},{key:"closeMenu",value:function(){var e=this;e.menu&&e.menu.column&&(e.menu.column&&(e.menu.column.setProperty("menu",null),e.menu.column=null),e.menu.parentNode&&(e.menu.classList.remove("open"),e.appearance.allowColumnMenuAnimation||e.menu.parentNode.removeChild(e.menu)),e.menu.removeEventListener("keydown",e._keyDownHandler.bind(e)),e.menu.removeEventListener("itemClick",e.menu.itemClick),e.menu.removeEventListener("itemCheckChange",e.menu.itemCheckChange),e.focus())}}]),e}()),JQX.Utilities.Assign("Grid.Filter",function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"addFilter",value:function(e,t,i){var a=this,n=a.columnByDataField[e];n&&n.canNotify&&(n.setProperty("filter",t),!1!==i&&a.refreshFilters())}},{key:"removeFilter",value:function(e,t){var i=this,a=i.columnByDataField[e];a&&a.canNotify&&(a.setProperty("filter",null),!1!==t&&i.refreshFilters())}},{key:"clearFilter",value:function(){for(var e=this,t=0;t<e.columns.length;t++){e.columns[t].setProperty("filter",null)}e.refreshFilters()}},{key:"getFilteredColumns",value:function(){var e=this;if(e._filters){for(var t=[],i=0;i<e._filters.length;i++){var a=e._filters[i];t[a[0]]=a[1],t.length++}return t}return[]}},{key:"getVisibleRows",value:function(){var e=this;if(e._visibleRows)return e._visibleRows;for(var t=[],i=e._viewRows,a=e.editing.addNewRow.visible&&"far"!==e.editing.addNewRow.position?1:0,n=0;n<i.length;n++){var o=i[n];o.canNotify=!1,o.visibleIndex=-1,!o.visible||!1===o.filtered&&void 0!==o.filtered||(o.visibleIndex=t.length-a,t.push(o)),o.canNotify=!0}return e._visibleRows=t,t}},{key:"refreshFilters",value:function(){for(var e=this,t=[],i=0;i<e.columns.length;i++){var a=e.columns[i];a.filter&&t.push([a.dataField,a.filter])}e.scrollTop=0,e.closeMenu(),e.dataSource&&!e.dataSource.onFilter&&(e.dataSource.onFilter=function(){for(var t=e._viewRows,i=0;i<t.length;i++){var a=t[i];a.data&&!a.addNewRow&&(a.filtered=void 0===a.data.$.filtered||a.data.$.filtered)}e.refresh()}),e._filters=t,e._visibleRows=null,e.dataSource&&e.dataSource.virtualDataSource?(e.closeMenu(),e._virtualDataRequest("filter")):e.dataSource._filter(t),e.paging.enabled&&e.dataSource&&!e.dataSource.virtualDataSource&&e._refreshPagesCount(),e.$.fireEvent("filter",{data:e.getFilteredColumns()})}}]),e}()),JQX.Utilities.Assign("Grid.Sort",function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"clearSort",value:function(){var e=this;if(!e._isSorting){e._isSorting=!0,e.dataSource.clearSort();for(var t=0;t<e._sortedColumns.length;t++){var i=e._sortedColumns[t],a=e.columnByDataField[i.dataField];a.setProperty("sortOrder",null),a.setProperty("sortIndex",null)}e._sortedColumns=[];for(var n=0;n<e.dataSource.length;n++){var o=e.rows[n],r=e.dataSource[n];o.data=r,o.boundIndex=r.boundIndex}e._recycle(),e._isSorting=!1}}},{key:"getSortedColumns",value:function(){var e=this,t=[];if(e._sortedColumns)for(var i=0;i<e._sortedColumns.length;i++){var a=e._sortedColumns[i];t[a.dataField]={sortOrder:a.sortOrder,sortIndex:a.sortIndex},t.length++}return t}},{key:"addSort",value:function(e,t){this.sortBy(e,t)}},{key:"removeSort",value:function(e){this.sortBy(e,null)}},{key:"sortBy",value:function(e,t){var i=this,a=i.columnByDataField[e],n=[],o=[],r=[],l=void 0===t;if(!i._isSorting&&a){i._isSorting=!0,void 0===t&&(t="asc");var s=function(e){e.setProperty("sortOrder",null)},d=function(){if(i._sortedColumns.length>0)for(var e=0;e<i._sortedColumns.length;e++){var t=i._sortedColumns[e],a=i.columnByDataField[t.dataField];s(a)}i._sortedColumns=[]};if(null===a)return d(),void(i._isSorting=!1);if(!i.sorting.enabled||!i.dataSource||!a.allowSort||i._sortAnimation)return void(i._isSorting=!1);s(a),i._sortedColumns||(i._sortedColumns=[]);for(var u="string",c=0;c<i.dataSource.dataFields.length;c++){var p=i.dataSource.dataFields[c];if(p.name===e){u=p.dataType;break}}for(var m=!0,v=0;v<i._sortedColumns.length;v++){var h=i._sortedColumns[v];if(h.dataField===e)if(m=!1,h.sortIndex=a.sortIndex,l){if("asc"===h.sortOrder)h.sortOrder="desc",t="desc";else if("desc"===h.sortOrder){i.sorting.sortToggleThreeStates?(i._sortedColumns.splice(v,1),s(a),t=null):(h.sortOrder="asc",t="asc");break}}else h.sortOrder=t,null===t&&(i._sortedColumns.splice(v,1),s(a))}m&&("one"===i.sorting.mode&&d(),null!==t&&i._sortedColumns.push({dataField:e,sortOrder:t,sortIndex:a.sortIndex,dataType:u})),a.setProperty("sortOrder",t),i._sortedColumns.sort(function(e,t){return"string"==typeof e.sortIndex&&"string"==typeof t.sortIndex?0:"number"==typeof e.sortIndex&&"string"==typeof t.sortIndex?-1:"string"==typeof e.sortIndex&&"number"==typeof t.sortIndex?1:"number"==typeof e.sortIndex&&"number"==typeof t.sortIndex?e.sortIndex-t.sortIndex:void 0});for(var f=0;f<i._sortedColumns.length;f++){var g=i._sortedColumns[f];n.push(g.dataField),o.push(g.sortOrder),r.push(g.dataType)}var _=function(){if(i.dataSource&&i.dataSource.virtualDataSource)i._virtualDataRequest("sort");else{if(i.dataSource.sortBy(n,r,o),i.dataSource.boundHierarchy)i._refreshRowHierarchy();else for(var e=0;e<i.dataSource.length;e++){var t=i.rows[e],a=i.dataSource[e];t.data=a,t.boundIndex=a.boundIndex}i._recycle()}i.$.fireEvent("sort",{data:i.getSortedColumns()})};if(i.appearance.allowSortAnimation){var b=[],y=[];i.rows.canNotify=!1,i._sortAnimation=!0;var w=function(){for(var e=0;e<i._rowElements.length;e++){var t=i._rowElements[e];t.classList.remove("jqx-grid-sort-animation"),i.removeTransformMoveStyle(t),t.offsetHeight>0&&b.push(t.offsetTop)}};w(),i._sortTimer=setTimeout(function(){w(),i._sortAnimation=!1,i.rows.canNotify=!0},i.appearance.sortAnimationDuration),i._sortTimer2=setTimeout(function(){_()},i.appearance.sortAnimationDuration/2);for(var x=0;x<b.length;x++)!function(e){var t=i._rowElements[e];t.classList.remove("jqx-grid-sort-animation"),i.removeTransformMoveStyle(t);for(var a=Math.floor(Math.random()*b.length-1+1);y[a];)a=Math.floor(Math.random()*b.length-1+1);y[a]=!0,i.addTransformMoveStyle(t,"0ms",0,-t.offsetTop+b[a],0,.5),t.classList.add("jqx-grid-sort-animation"),setTimeout(function(){i.addTransformMoveStyle(t,i.appearance.sortAnimationDuration+"ms",0,0,0,1)}),setTimeout(function(){t.classList.remove("jqx-grid-sort-animation")},i.appearance.sortAnimationDuration)}(x)}else _();i._isSorting=!1}}}]),e}()),JQX("jqx-grid",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div class='jqx-container'id='container' disabled='[[disabled]]' role='grid'>\n                <div id='header' class='jqx-grid-header jqx-hidden' ></div>\n                <div id='groupHeader' class='jqx-grid-group-header jqx-hidden'></div>\n                <div id='headerPager' top class='jqx-grid-pager jqx-hidden'></div>\n                <div id='headerCommandBar' header top class='jqx-grid-header jqx-grid-command-bar jqx-hidden'></div>\n                 <div id='content' class='jqx-grid-content'>\n                    <div id='placeholder' class ='jqx-hidden jqx-placeholder jqx-grid-placeholder'>[[placeholder]]</div>\n                    <div id='columnHeader' class='jqx-grid-column-header'>\n                        <div id='columnNearContainer' class='near jqx-hidden jqx-grid-column-header-cell-container'>\n                       </div>\n                       <div id='columnContainer' class='center jqx-grid-column-header-cell-container'>\n                       </div>\n                        <div id='columnFarContainer' class='far jqx-hidden jqx-grid-column-header-cell-container'>\n                       </div>\n                    </div>\n                    <div id='scrollView' class ='jqx-grid-scroll-view'>\n                        <div id='rowNearContainer' class='near jqx-hidden jqx-grid-row-container'>\n                        </div>\n                         <div id='rowContainer' class='center jqx-grid-row-container'>\n                        </div>\n                        <div id='rowFarContainer' class='far jqx-hidden jqx-grid-row-container'>\n                        </div>\n                        <jqx-scroll-bar id='verticalScrollBar' class='jqx-grid-scroll-bar' wait disabled='[[disabled]]' orientation='vertical'></jqx-scroll-bar>\n                        <jqx-scroll-bar id='horizontalScrollBar' class='jqx-grid-scroll-bar' wait disabled='[[disabled]]'></jqx-scroll-bar>\n                    </div>\n                  <div id='filterFooter' class='jqx-grid-filter-footer jqx-hidden'></div>\n                </div>\n                <div id='loadingIndicatorContainer' class='jqx-loader-container'>\n                    <span id='loadingIndicator' class='jqx-grid-loader jqx-loader'></span>\n                    <span id='loadingIndicatorPlaceHolder' class ='jqx-loader-label jqx-hidden'>[[loadingIndicatorPlaceholder]]</span>\n                </div>\n                <div id='footerCommandBar' footer class='jqx-grid-footer jqx-grid-command-bar jqx-hidden'></div>\n                <div id='footerPager' class='jqx-grid-pager jqx-hidden'></div>\n                <div id='footer' class='jqx-grid-footer jqx-hidden'></div>\n            </div>"}},{key:"pageSizeValidator",value:function(e,t){var i=this;return t<0?0:i.dataSource&&t>i.dataSource.length?i.dataSource.length:void 0}},{key:"pageIndexValidator",value:function(e,t){var i=this;if(t<0)return 0;if(i.dataSource){var a=Math.ceil(i.dataSource.length/i.paging.pageSize);if(t>a-1)return a-1}}},{key:"_offsetTop",value:function(e){var t=this;return e?e.offsetTop+t._offsetTop(e.offsetParent):0}},{key:"_offsetLeft",value:function(e){var t=this;return e?e.offsetLeft+t._offsetLeft(e.offsetParent):0}},{key:"offset",value:function(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}}},{key:"getBoundingRect",value:function(e){var t=window.pageXOffset,i=window.pageYOffset,a=e.getBoundingClientRect();if(e!==document.body)for(var n=e.parentNode;n!==document.body;)t+=n.scrollLeft,i+=n.scrollTop,n=n.parentNode;return{bottom:a.bottom+i,height:a.height,left:a.left+t,right:a.right+t,top:a.top+i,width:a.width}}},{key:"_downHandler",value:function(){}},{key:"_upHandler",value:function(e){var t=this,i=t.getBoundingRect(t);if(t._tapTimer&&clearTimeout(t._tapTimer),(e.pageX<i.left||e.pageX>i.right||e.pageY<i.top||e.pageY>i.bottom)&&(t._inputOverlay&&(t._inputOverlay.classList.remove("jqx-input-overlay-on"),setTimeout(function(){t._inputOverlay&&(t._inputOverlay.parentNode&&t._inputOverlay.parentNode.removeChild(t._inputOverlay),t._inputOverlay=null)},300)),t.editing.isEditing&&!t.editing.dialog.enabled&&setTimeout(function(){e.defaultPrevented||t.editing.editCell&&t.editing.editCell.editor.instance&&(t.editing.editCell.editor.instance.blur(e),e.defaultPrevented)||t.endEdit()},50),t.menu)){var a=e.originalEvent.target;if(!t.contains(a)&&!t.menu.contains(a)){for(var n=t.menu.querySelectorAll("jqx-drop-down-list"),o=t.menu.querySelectorAll("jqx-date-time-picker"),r=0;r<n.length;r++){if(n[r].$.dropDownContainer.contains(a))return}for(var l=0;l<o.length;l++){if(o[l].$.dropDownContainer.contains(a))return}return void t.closeMenu()}}if(t._dragSelectionEnd(),t.classList.remove("jqx-grid-resize-mode"),t.$.root.classList.remove("jqx-grid-resize-mode"),t._rowToResize&&t._rowResizeStartLine&&t._rowResizeLine){var s=t.rowById[t._rowToResizeId],d=s.cellHeight+parseFloat(t._rowResizeLine.style.top)-parseFloat(t._rowResizeStartLine.style.top);if(t.rows.canNotify=!1,s.height=null,"split"===t.rowResizeMode){var u=t._nextRow(s),c=parseInt(s.height-d+s.cellHeight);s.computedHeight=d,u.computedHeight=parseInt(u.height)+c,u.height=null}else s.computedHeight=d;return t.rows.canNotify=!0,t._rowResizeStartLine.parentNode.removeChild(t._rowResizeStartLine),t._rowResizeLine.parentNode.removeChild(t._rowResizeLine),t.appearance.showResizeTooltips&&t._rowResizeTooltip.parentNode.removeChild(t._rowResizeTooltip),t._rowResizeLine=null,t._rowToResize=null,t._rowToResizeId=null,void t.refresh()}if(t._columnToResizeElement&&t._columnResizeLine){var p=t.columnByDataField[t._columnToResizeDataField],m=t._columnToResizeRect,v=i.left+parseInt(t._columnResizeLine.style.left)-m.left+t.scrollLeft;if(t.columns.canNotify=!1,"split"===t.columnResizeMode){var h=t._nextColumn(p),f=parseInt(p.computedWidth-v);p.width=v,h.width=parseInt(h.computedWidth)+f}else p.width=v;t.columns.canNotify=!0,t._columnResizeLine.parentNode.removeChild(t._columnResizeLine),t._columnResizeLine=null,t._columnResizeStartLine.parentNode.removeChild(t._columnResizeStartLine),t._columnResizeTooltip.parentNode&&t._columnResizeTooltip.parentNode.removeChild(t._columnResizeTooltip),t._columnResizeStartLine=null,t._columnToResizeElement=null,t._columnToResizeRect=null,t._columnToResizeDataField=null,t._columnResizeTooltip=null,t.refresh()}}},{key:"_nextColumn",value:function(e){for(var t=this,i=0;i<t.viewColumns.length;i++){var a=t.viewColumns[i];if(a.visibleIndex===e.visibleIndex+1)return a}return null}},{key:"_nextRow",value:function(e){var t=this,i=t._recyclingRows,a=i.indexOf(e);return a>=0?i[a+1]:null}},{key:"_columnMoveResizeHandler",value:function(e){var t=this,i=function(e){var i=t._columnToResizeRect,a=e.left+parseFloat(t._columnResizeLine.style.left)-i.left+t.scrollLeft;t.appearance.showResizeTooltips&&(t._columnResizeTooltip.innerHTML="w: "+parseInt(a)+"px")};if(t._columnResizeLine){var a=t.columnByDataField[t._columnToResizeDataField],n=t._columnToResizeRect,o=a.minWidth,r=a.maxWidth,l=t._nextColumn(a),s=t.getBoundingRect(t);if(e.pageX<s.left)return;if("split"===t.columnResizeMode&&l&&e.pageX>=s.left+l.left+l.width-l.minWidth-t.scrollLeft)return t._columnResizeLine.style.left=-s.left+s.left+l.width+l.left-l.minWidth-t.scrollLeft+"px",void i(s);if(n.left+o-t.scrollLeft>=e.pageX)return t._columnResizeLine.style.left=-s.left+n.left+o-t.scrollLeft+"px",void i(s);if(n.left+r-t.scrollLeft<=e.pageX)return t._columnResizeLine.style.left=-s.left+n.left+r-t.scrollLeft+"px",void i(s);t._columnResizeLine.style.left=-s.left+e.pageX+"px",i(s)}else{var d=this,u=document.elementsFromPoint(e.clientX,e.clientY),c=null,p=null;if(d._columnResizeLine)return;for(var m=0;m<u.length;m++){var v=u[m];if(v.hasAttribute("data-field")&&v.hasAttribute("header")){c=v.getAttribute("data-field"),p=v;break}}if(d._columnToResizeElement&&(d._columnToResizeElement.style.cursor="",d._columnToResizeElement=null),c){var h=p.getBoundingClientRect().right;if(p.style.cursor="",h-5<=e.clientX&&e.clientX<=h+5){var f=d.columnByDataField[c];if(!f||f&&!f.allowResize)return;var g=d._isLastVisibleColumn(f);if("split"===d.columnResizeMode&&g)return;p.style.cursor="col-resize",d._columnToResizeRect=d.getBoundingRect(p),d._columnToResizeElement=p,d._columnToResizeDataField=c}}}}},{key:"_moveHandler",value:function(e){var t=this;t.selection.enabled&&t.selection.allowDragSelection&&!t.editing.isEditing&&(!t._selection.selectionRect||t._selection.selectionRect&&!t._selection.selectionRect.captured)&&(t._dragSelection(e),JQX.Utilities.Core.isMobile&&e.originalEvent.preventDefault()),"none"!==t.columnResizeMode&&t._columnMoveResizeHandler(e),"none"!==t.rowResizeMode&&t._rowMoveResizeHandler(e)}},{key:"_rowMoveResizeHandler",value:function(e){var t=this,i=document.elementsFromPoint(e.clientX,e.clientY),a=null,n=null;if(t._rowResizeLine){var o=t._offsetTop(t.$.scrollView),r={top:o,bottom:t.$.scrollView.offsetHeight+o};if(e.pageY<=r.top)return;if(e.pageY>=r.bottom)return;var l=function(){var e=s.cellHeight+parseFloat(t._rowResizeLine.style.top)-parseFloat(t._rowResizeStartLine.style.top);t.appearance.showResizeTooltips&&(t._rowResizeTooltip.innerHTML="h: "+parseInt(e)+"px")},s=t.rowById[t._rowToResizeId],d=t._nextRow(s),u=t._rowToResizeBounds,c=s.minHeight,p=s.maxHeight;return"split"===t.rowResizeMode&&d&&u.bottom+d.height-d.minHeight<=e.pageY?(t._rowResizeLine.style.top=u.bottom+d.height-d.minHeight-o+"px",void l()):u.top+c+5>=e.pageY?(t._rowResizeLine.style.top=u.top+c+5-o+"px",void l()):u.top+p>=e.pageY-o?(t._rowResizeLine.style.top=u.top+p+5-o+"px",void l()):(t._rowResizeLine.style.top=-o+e.pageY-1+"px",void l())}for(var m=0;m<i.length;m++){var v=i[m];if(v.hasAttribute("data-id")&&v.hasAttribute("header")){n=v,a=v.getAttribute("data-id");break}}if(t._rowToResize&&(t._rowToResize.style.cursor="",t._rowToResize=null),null!==a){var h=t._offsetTop(n)+n.offsetHeight;if(n.style.cursor="",h-5<=e.clientY&&e.clientY<=h+5){var f=t.rowById[a];if(!f||f&&!f.allowResize)return;f.header&&(f.header.style.cursor="row-resize");var g=t._offsetTop(n);t._rowToResizeBounds={top:g,bottom:n.offsetHeight+g,height:n.offsetHeight},t._rowToResize=n,t._rowToResizeId=a}}}},{key:"_rowDownResizeHandler",value:function(){var e=this,t=e._rowToResizeBounds,i=function(){var i=document.createElement("div");return i.classList.add("jqx-grid-resize-line","row"),i.style.width=e.$.scrollView.offsetWidth-e._rowToResize.offsetLeft+"px",i.style.left="0px",i.style.top=-e._offsetTop(e.$.scrollView)+t.bottom+"px",i},a=document.createElement("div");a.classList.add("jqx-grid-resize-tooltip"),e._rowResizeTooltip=a,e._rowResizeTooltip.style.top=-e._offsetTop(e.$.scrollView)+t.bottom+"px",e._rowResizeTooltip.innerHTML="h: "+parseInt(t.height)+"px",e._rowResizeTooltip.style.right="20px",e._rowResizeTooltip.style.bottom="initial","growAndShrink"===e.rowResizeMode&&(e.classList.add("jqx-grid-resize-mode"),e.$.root.classList.add("jqx-grid-resize-mode")),e._rowResizeLine=i(),e._rowResizeStartLine=i(),e.$.scrollView.appendChild(e._rowResizeLine),e.$.scrollView.appendChild(e._rowResizeStartLine),e.appearance.showResizeTooltips&&e.$.scrollView.appendChild(e._rowResizeTooltip)}},{key:"_rowResizeHandler",value:function(e){var t=this,i=e.clientX,a=e.clientY;void 0!==i&&void 0!==a||(i=e.touches[0].clientX,a=e.touches[0].clientY);for(var n=document.elementsFromPoint(i,a),o=null,r=0;r<n.length;r++){var l=n[r];l.getAttribute("data-id")&&(o=l.getAttribute("data-id"))}if(null!==o&&t._rowToResize&&!t._rowResizeLine)return void t._rowDownResizeHandler(e)}},{key:"_columnMouseLeaveHandler",value:function(){for(var e=this,t=0;t<e._columnElements.length;t++){var i=e._columnElements[t],a=i.column;a&&a.autoShowActionButton&&i._hideActionButton()}}},{key:"_columnMoveHandler",value:function(e){var t=this;if(!t._columnResizeStartLine&&!t._rowResizeStartLine)for(var i=0;i<t._columnElements.length;i++){var a=t._columnElements[i],n=a.column;if(n&&n.autoShowActionButton){var o=a.getBoundingClientRect(),r=t.offset(a);if(r.left<=e.pageX&&r.left+o.width-6>=e.pageX)if(r.top<=e.pageY&&r.top+o.height>=e.pageY){if(!t.hasColumnMenu(n))continue;a._showActionButton()}else a._hideActionButton();else a._hideActionButton()}}}},{key:"_columnDownResizeHandler",value:function(){
var e=this,t=e._columnToResizeRect,i=e.getBoundingRect(e.$.columnHeader),a=function(){var e=document.createElement("div");return e.classList.add("jqx-grid-resize-line"),e.style.left=-i.left+t.right+"px",e.style.top=-i.top+t.top+"px",e.style.height="calc(100% - "+e.style.top+")",e},n=document.createElement("div");n.classList.add("jqx-grid-resize-tooltip"),e._columnResizeTooltip=n,e._columnResizeTooltip.style.left=-i.left+t.right+"px",e._columnResizeTooltip.innerHTML="w: "+parseInt(t.width)+"px",e._columnResizeLine=a(),e._columnResizeStartLine=a(),"growAndShrink"===e.columnResizeMode&&(e.classList.add("jqx-grid-resize-mode"),e.$.root.classList.add("jqx-grid-resize-mode")),e.appearance.showResizeTooltips&&e.$.root.appendChild(e._columnResizeTooltip),e.$.root.appendChild(e._columnResizeLine),e.$.root.appendChild(e._columnResizeStartLine)}},{key:"_columnDownHandler",value:function(e){for(var t=this,i=document.elementsFromPoint(e.clientX,e.clientY),a=null,n=null,o=0;o<i.length;o++){var r=i[o];if(r.classList.contains("jqx-action-button"))return;if(r.getAttribute("data-field")){a=r.getAttribute("data-field"),n=r;break}}if(a){var l=n.column;if(!l)return;if("_commandColumn"===a)return void t._applyCommand(t.editing.commandColumn.dataSource.commandColumnMenu.command);var s=function(i){if(l.selectionColumn?t.selection.checkBoxes.action===i&&t.selection.enabled:t.selection.action===i&&t.selection.enabled){if(e.shiftKey||e.ctrlKey?t._dragSelectionStartDataField=null:t._dragSelectionStartDataField=a,"_checkBoxColumn"===a)return void t._toggleColumnSelection(l);t._setSelection(null,l.dataField,e),t.$.fireEvent("change")}};if(t.$.fireEvent("columnClick",{column:l}),new Date-t._clickTime<300&&(t.$.fireEvent("columnDoubleClick",{column:l}),s("doubleClick")),s("click"),t._columnToResizeElement&&!t._columnResizeLine)return void t._columnDownResizeHandler(e);JQX.Utilities.Core.isMobile?(new Date-t._clickTime<300&&l.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(a),t._columnMoveHandler(e),e.originalEvent.preventDefault()):l.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(a),t._clickTime=new Date}t.closeMenu()}},{key:"addTransformMoveStyle",value:function(e,t,i,a,n,o){e.style.opacity=o,e.style["transition-duration"]=t,e.style.transform="translate3d("+i+"px,"+a+"px,"+n+"px)"}},{key:"removeTransformMoveStyle",value:function(e){e.style.opacity="",e.style["transition-duration"]="",e.style.transform=""}},{key:"_rowDownHandler",value:function(e){var t=this;if(t._inputOverlay&&t._inputOverlay.classList.remove("jqx-input-overlay-on"),t.closeMenu(),t._rowResizeHandler(e),!t._toggledRow||!t.appearance.allowRowToggleAnimation){var i=e.clientX,a=e.clientY;e.touches&&(i=e.touches[0].clientX,a=e.touches[0].clientY);var n=document.elementsFromPoint(i,a),o=null,r=null,l=null;t._lastPointerDownTime=new Date;for(var s=0;s<n.length;s++){var d=n[s];if(d.hasAttribute("toggle-button")&&(r=d),l||"jqx-grid-cell"!==d.nodeName.toLowerCase()||(l=d),!o&&"jqx-grid-row"===d.nodeName.toLowerCase()){o=d;break}}if(o&&l){var u=l?l.cell:null;if(r&&u&&!u.column.rowDetailColumn||t._adaptiveLayout>0&&!1===o.row.leaf){o.row.toggle()}else if(t.rowDetail.enabled&&t.rowDetail.visible&&r&&u&&u.column.rowDetailColumn){var c=o.row;c.showDetail?t.hideDetail(c.id):t.showDetail(c.id)}else{var p=o.row,m=l?l.cell:null;t.$.fireEvent("rowClick",{row:p,originalEvent:e.originalEvent}),t.$.fireEvent("cellClick",{cell:m,originalEvent:e.originalEvent}),t._tapTimer&&clearTimeout(t._tapTimer),t._tapTimer=setTimeout(function(){t._clickedRow===o&&t.$.fireEvent("rowTap",{row:p,originalEvent:e.originalEvent}),t._clickedCell===l&&t.$.fireEvent("cellTap",{cell:m,originalEvent:e.originalEvent})},300);var v=function(i){if(t.selection.enabled&&!p.autoGenerated){t.editing.isEditing&&t.editing.editCell.row.id===p.id&&t.editing.editCell.column.dataField===m.column.dataField||(t.selection.action===i?(e.shiftKey||e.ctrlKey?t._dragSelectionStartRow=null:!t.selection.allowRowHeaderSelection&&m.column.autoGenerated?t._dragSelectionStartRow=null:t._dragSelectionStartRow=o.row,e.shiftKey||e.ctrlKey?t._dragSelectionStartDataField=null:t._dragSelectionStartDataField=m.column.dataField,t._setSelection(p.id,m.column.dataField,e),t.$.fireEvent("change")):m.column.selectionColumn&&t.selection.checkBoxes.enabled&&t.selection.checkBoxes.action===i&&(t._setSelection(p.id,m.column.dataField,e),t.$.fireEvent("change")))}},h=m.selected;v("click"),p.autoGenerated||m.column.autoGenerated||m.template?(t._onRowClick(p.index,p,e),t._onCellClick(m,e)):t.selection.enabled?t.selection.allowCellSelection?!0===h&&h===m.selected&&!t.selection.isDragging&&t._clickedCell===l&&new Date-t._clickTime<300&&(t._onRowClick(p.index,p,e),t._onCellClick(m,e)):t.selection.allowRowSelection?!0===h&&h===m.selected&&!t.selection.isDragging&&t._clickedCell===l&&new Date-t._clickTime<300&&(t._onRowClick(p.index,p,e),t._onCellClick(m,e)):(t._onRowClick(p.index,p,e),t._onCellClick(m,e)):(t._onRowClick(p.index,p,e),t._onCellClick(m,e)),new Date-t._clickTime<300&&(t._clickedRow===o&&(t._onRowDoubleClick(p.index,p,e,e),t.$.fireEvent("rowDoubleClick",{row:p,originalEvent:e.originalEvent}),v("doubleClick")),t._clickedCell===l&&(t._onCellDoubleClick(m,e),t.$.fireEvent("cellDoubleClick",{cell:m,originalEvent:e.originalEvent}))),t._clickedRow=o,t._clickedCell=l,t._clickTime=new Date}}}}},{key:"showDetail",value:function(e){var t=this,i=t.rowById[e];i&&(i.showDetail=!0)}},{key:"hideDetail",value:function(e){var t=this,i=t.rowById[e];i&&(i.showDetail=!1)}},{key:"_focusHandler",value:function(){this._focused=!0}},{key:"_blurHandler",value:function(){this._focused=!1}},{key:"_notify",value:function(e,t,i){var a=this;if(a.notifyFn)for(var n=0;n<a.notifyFn.length;n++)a.notifyFn[n](e,t,i)}},{key:"notify",value:function(e){var t=this;e&&(t.notifyFn||(t.notifyFn=[]),t.notifyFn.push(e))}},{key:"_applyTemplate",value:function(e,t){var i=null;if(null===e||""===e)return void(t.innerHTML="");if((e.startsWith("#")||e.startsWith("."))&&(i=document.querySelector(e)),i)t.innerHTML="",t.appendChild(i.content.cloneNode(!0).firstElementChild);else{var a=function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}(e);a&&(t.innerHTML="",t.appendChild(a))}}},{key:"propertyChangedHandler",value:function(e,t,i){var a=this;if(a.isInitialized){switch(a._notify(e,t,i),e){case"appearance_showColumnHeaderLines":case"appearance_showColumnLines":case"appearance_showRowLines":return void a._recycle();case"appearance_allowColumnStickyPosition":i?a._stickHeader():a._unstickHeader();break;case"appearance_showColumnIcon":for(var n=0;n<a.columns.length;n++){a.columns[n].setProperty("showIcon",a.appearance.showColumnIcon)}a._recycle();break;case"appearance_showRowNumber":case"appearance_showRowHeader":a._initializeRowNumberColumn();var o=a._frozenNearColumns[0];o.rowNumbersColumn&&o.element&&!o.element.parentNode&&a.$.columnNearContainer.appendChild(o.element),a.refresh();break;case"header_template":a._applyTemplate(i,a.$.header);break;case"footer_template":a._applyTemplate(i,a.$.footer);break;case"columnWidth":a.columns.canNotify=!1;var r=parseInt(i);if(isNaN(r)&&(r="auto"),r>=30||"auto"===r)for(var l=0;l<a.columns.length;l++){var s=a.columns[l];s.width=r}a.columns.canNotify=!0,a.refresh();break;case"columnHeader_visible":a.__columnHeaderHeight=null,a.refresh();break;case"selection_checkBoxes_enabled":a._selectionColumn.visible=i;break;case"selection_checkBoxes_autoShow":a._selectionColumn.element&&(i?a._selectionColumn.element.setAttribute("auto-show",""):a._selectionColumn.element.removeAttribute("auto-show"));break;case"selection_checkBoxes_position":var d=a.viewColumns.indexOf(a._selectionColumn);a.viewColumns.canNotify=!1,a.viewColumns.splice(d,1);var u=a._frozenNearColumns.indexOf(a._selectionColumn),c=a._frozenFarColumns.indexOf(a._selectionColumn);if(u>=0&&a._frozenNearColumns.splice(u,1),c>=0&&a._frozenFarColumns.splice(c,1),"far"===i)a._selectionColumn.canNotify=!1,a._selectionColumn.freeze="far",a._selectionColumn.canNotify=!0,a._frozenFarColumns.splice(0,0,a._selectionColumn),a.viewColumns.push(a._selectionColumn),a.$.columnFarContainer.appendChild(a._selectionColumn.element);else{for(var p=0,m=0,v=0;v<a.viewColumns.length&&(a.viewColumns[v].autoGenerated||a.viewColumns[v].dataField!==a.columns[m++].dataField);v++)a.viewColumns[v].autoGenerated&&p++;a._selectionColumn.canNotify=!1,a._selectionColumn.freeze="near",a._selectionColumn.canNotify=!0,a._frozenNearColumns.splice(p,0,a._selectionColumn),a.viewColumns.splice(p,0,a._selectionColumn),a.$.columnNearContainer.appendChild(a._selectionColumn.element)}a.viewColumns.canNotify=!0;break;case"filtering_enabled":return void(i&&a._createFilterPanels());case"filtering_filter":for(var h=0;h<a.columns.length;h++){var f=a.columns[h];f.canNotify=!1,f.setProperty("filter",null),f.canNotify=!0}for(var g=0;g<a.filtering.filter.length;g++){var _=a.filtering.filter[g];if(_){var b=_[0],y=_.splice(1),w=null;if(y instanceof JQX.FilterGroup)w=y;else{var x=a.columnByDataField[b];x&&(w=a.dataSource._createFilter(x.dataType,y))}w&&a.addFilter(b,w,!1)}}return void a.refreshFilters();case"paging_spinner_enabled":a._refresh();break;case"pager_visible":return a._renderPagers(),void a._refreshPaging(!1);case"paging_pageIndex":case"pager_position":case"paging_enabled":return void a._refreshPaging(!0);case"paging_pageSize":return void a._refreshPaging(!1);case"columns":return void a._renderColumns();case"dataSource":return void a.dataBind();case"displayLoadingIndicator":return void a._setLoadingIndicatorVisibility();case"filterable":return void a._refreshLayout();case"selectionMode":return;case"editing_addNewRow_position":return a._renderAddNewRow(),void a.refresh();case"editing_dialog_visible":return}a.refresh()}}},{key:"clearSelection",value:function(){var e=this;e.dataSource&&0!==e.dataSource.length&&e._recycle()}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this,i=e._scrollView.vScrollBar,a=e._scrollView.hScrollBar;i.hasStyleObserver=!1,a.hasStyleObserver=!1,i.hasResizeObserver=!1,a.hasResizeObserver=!1,i.wait=!1,a.wait=!1,i.onChange=e._verticalScrollbarHandler.bind(e),a.onChange=e._horizontalScrollbarHandler.bind(e),e.setFocusable(!0),e._setLoadingIndicatorVisibility(),e._cellsMerge=[],e.checkLicense(),e._render()}},{key:"checkLicense",value:function(e){var i=this;(i.grouping.enabled||i.selection.enabled&&i.selection.allowCellSelection||i.rowDetail.enabled||i.editing.enabled&&i.editing.batch||i.editing.enabled&&"row"===i.editing.mode||i.editing.enabled&&i.editing.addNewRow.visible||i.editing.enabled&&i.editing.commandColumn.visible||"virtual"===i.scrollMode||i.sorting.enabled&&"many"===i.sorting.mode||!0===e)&&babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"checkLicense",this).call(this)}},{key:"_createFilterPanels",value:function(){var e=this;if(e._filterPanels){if(e._filterPanels.length>0)return}else e._filterPanels=[];e.filtering.enabled&&0===e._filterPanels.length&&requestAnimationFrame(function(){var t=document.createElement("jqx-filter-panel"),i=document.createElement("jqx-filter-panel"),a=document.createElement("jqx-filter-panel"),n=document.createElement("jqx-filter-panel");i.filterType="boolean",a.filterType="numeric",n.filterType="date",e._filterPanels.bool=i,e._filterPanels.date=n,e._filterPanels.numeric=a,e._filterPanels.string=t;for(var o in e._filterPanels){var r=e._filterPanels[o];r.classList.add("jqx-hidden"),e.$.content.appendChild(r),r.parentNode.removeChild(r)}})}},{key:"_applyScrollMode",value:function(){var e=this,t=e._scrollView.vScrollBar;requestAnimationFrame(function(){switch(t.largeStep=e.$.scrollView.offsetHeight,e.scrollMode){case"physical":case"infinite":case"virtual":t.step=10,t.mechanicalAction="switchWhileDragging";break;case"deferred":t.step=10,t.mechanicalAction="switchWhenReleased";break;case"logical":t.step=e.rowMinHeight,t.mechanicalAction="switchWhileDragging"}})}},{key:"beginUpdate",value:function(){var e=this;e._isUpdating||(e._isUpdating=0),e._isUpdating++}},{key:"endUpdate",value:function(e){var t=this;t._isUpdating--,t._isUpdating<0&&(t._isUpdating=0),!1!==e&&t.refresh()}},{key:"suspendLayout",value:function(){this._layoutSuspended=!0}},{key:"resumeLayout",value:function(e){var t=this;t._layoutSuspended=!1,e?t.refresh():t._recycle(!1)}},{key:"_measureColumnHeight",value:function(){var e=this;if(e.__measuredColumnHeight)return e.__measuredColumnHeight;var t=document.createElement("jqx-grid-column");t.style.height="auto",t.style.position="static";var i=document.createElement("div");i.classList.add("jqx-label"),i.innerHTML="aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRwWxXyYzZ1234567890",t.appendChild(i),e.$.columnHeader.appendChild(t);var a=e.$.columnHeader.offsetHeight;return e.$.columnHeader.removeChild(t),e._columnHeights&&e._columnHeights.length>1&&(a=e._columnHeights[0]),a<e.columnMinHeight&&(a=e.columnMinHeight),e.__measuredColumnHeight=a,a}},{key:"_initializeColumnGroupsHierarchy",value:function(){var e=this,t=0;if(e.$.columnContainer.innerHTML="",e.columnGroups.length>0){for(var i=0;i<e.columnGroups.length;i++)e.columnGroups[i].parent=null,e.columnGroups[i].groups=null;for(var a=0;a<e.viewColumns.length;a++)e.viewColumns[a].parent=null,e.viewColumns[a].groups=null;for(var n=function(t){for(var i=0;i<e.columnGroups.length;i++){var a=e.columnGroups[i];if(a.name===t)return a}return null},o=0;o<e.columnGroups.length;o++){var r=e.columnGroups[o];if(r.groups||(r.groups=null),r.parentGroup){var l=n(r.parentGroup);l&&(r.parent=l,l.groups||(l.groups=new Array),-1===l.groups.indexOf(r)&&l.groups.push(r))}}for(var s=0;s<e.viewColumns.length;s++){var d=e.viewColumns[s];if(d.columnGroup){var u=n(d.columnGroup);u&&(u.groups||(u.groups=new Array),d.parent=u,-1===u.groups.indexOf(d)&&u.groups.push(d))}}for(var c=0;c<e.viewColumns.length;c++){var p=e.viewColumns[c],m=p;for(p.level=0;m.parent;)m=m.parent,p.level++;m=p;var v=p.level;for(t=Math.max(t,p.level);m.parent;)(m=m.parent)&&(m.level=--v)}for(var h=0;h<e.columnGroups.length;h++){var f=e.columnGroups[h],g=function e(t){var i=new Array;if(t.columnGroup&&i.push(t),t.groups)for(var a=0;a<t.groups.length;a++)if(t.groups[a].columnGroup)i.push(t.groups[a]);else if(t.groups[a].groups)for(var n=e(t.groups[a]),o=0;o<n.length;o++)i.push(n[o]);return i}(f);f.columns=g;var _=new Array,b=0,y="near";0===g.length&&(b=-1,f.visible=!1);for(var w=0;w<g.length;w++)_.push(e.viewColumns.indexOf(g[w])),g[w].freeze&&("far"===g[w].freeze&&(y="far"),b++);b===g.length?f.freeze=y:b>0&&b<g.length&&e.error(e.localize("frozenColumns",{elementType:"Grid"})),_.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(var x=1;x<_.length;x++)_[x]!==_[x-1]+1&&e.error(e.localize("columnGroups",{elementType:"Grid"}))}}e._columnGroupsLevel=1+t}},{key:"_refreshColumnHeights",value:function(){var e=this;e._viewColumnsHeight=e._measureColumnHeight(),e._columnHeights=[];for(var t=0,i=0;i<e._columnGroupsLevel;i++){var a=e._viewColumnsHeight;e.columnHeight&&(a="number"==typeof e.columnHeight?e.columnHeight?e.columnHeight:e._viewColumnsHeight:e.columnHeight?e.columnHeight(i):e._viewColumnsHeight),a<e.columnMinHeight&&(a=e.columnMinHeight),a?(e._columnHeights.push(a),t+=a):(t+=e._viewColumnsHeight,e._columnHeights.push(e._viewColumnsHeight))}e._columnHeaderHeight=e._columnGroupsLevel*e._viewColumnsHeight,e._columnHeaderHeight=t,e.$.columnHeader.style.height=e._columnHeaderHeight+"px";for(var n=function(t){for(var i=0,a=0;a<t.level;a++)i+=e._columnHeights[a];return i},o=function(t){for(var i=n(t),a=e._columnHeaderHeight-i,o=t.level+1;o<e._columnHeights.length;o++)for(var r=o,l=0;l<e.viewColumns.length;l++){var s=e.viewColumns[l],d=!1;if(s.level===r){for(var u=s;u.parent;){if(u.parent===t){a-=e._columnHeights[r],d=!0;break}u=u.parent}if(d)break}}return a},r=0;r<e.viewColumns.length;r++){var l=e.viewColumns[r],s=o(l);l.computedHeight=s,l.top=n(l)}for(var d=0;d<e._columnGroupsLevel-1;d++)for(var u=0;u<e.columnGroups.length;u++){var c=e.columnGroups[u],p=c.level;if(p===d){if(c.groups){var m=o(c),v=n(c);c.top=v,c.computedHeight=m}var h=c.element;h&&(h.style.width=c.computedWidth+"px",h.style.left=c.left+"px",h.style.top=c.top+"px",h.style.height=c.computedHeight+"px",h.style.lineHeight=c.computedHeight+"px")}}}},{key:"_refreshColumnWidths",value:function(){var e=this;e.__clientSize=null;var t=e.$.verticalScrollBar.offsetWidth>0?e.$.verticalScrollBar.offsetWidth:0,i=e.dataSource.groupBy||[],a=e.grouping.enabled?e.grouping.groupIndent*(1+i.length):0,n=0;e.selection.checkBoxes.enabled&&(n=e._selectionColumn.computedWidth?e._selectionColumn.computedWidth:e._selectionColumn.minWidth);var o=e._clientSize.width-t-a,r=e.adaptivityMode.adaptiveLayout.width,l=e.adaptivityMode.responsiveLayout.width,s=e.adaptivityMode.adaptiveLayout.enabled&&o<=r?o>=375?"50%":"100%":null,d=0,u=[],c=0,p=0,m=0;e._adaptiveLayout=0,s&&(e._adaptiveLayout="50%"===s?2:1),e._responsiveLayout=!1;for(var v=e.viewColumns.length-1;v>=0;v--){if(e.viewColumns[v].adaptiveVisible){e._responsiveLayout=e.adaptivityMode.responsiveLayout.enabled&&o<=l&&0===e._adaptiveLayout;break}}if(e.editing.enabled&&e.editing.commandColumn.visible&&!e.editing.commandColumn.inline){var h=e.editing.commandColumn.width?e.editing.commandColumn.width:function(){var t=document.createElement("div"),i=document.createElement("div"),a=e.editing.commandColumn.dataSource,n=0,o="",r=0;i.classList.add("jqx-label");for(var l in a){var s=a[l],d=!1;if("commandColumnMenu"!==l){var u=!1;if(d||(!0===s.visible?(r++,u=!0):"auto"===s.visible&&((e.editing.editRow||e.editing.editCell)&&!e.editing.dialog.enabled||"commandColumnEdit"!==l?!e.editing.editRow&&!e.editing.editCell||e.editing.dialog.enabled||("commandColumnUpdate"===l?(r++,u=!0):"commandColumnCancel"===l&&(r++,u=!0)):(r++,u=!0)),d=!0),u&&"icon"!==e.editing.commandColumn.displayMode){o+="<span>"+("{{messages}}"===s.label?e.localize(l):s.label)+"</span>"}}}return i.innerHTML="<span>"+o+"</span>",t.appendChild(i),t.style.width="auto",t.style.position="static",e.$.columnHeader.appendChild(t),n=10+i.firstChild.offsetWidth,e.$.columnHeader.removeChild(t),"icon"===e.editing.commandColumn.displayMode?n=20+20*r:"labelAndIcon"===e.editing.commandColumn.displayMode?n+=25*r:n+=10*r,n}();e.columns.canNotify=!1,e._commandColumn.width=h,e.columns.canNotify=!0}for(var f=0;f<e.viewColumns.length;f++){var g=e.viewColumns[f],_=g,b=void 0;s?(b=parseFloat(s)/100,b*=o,_.computedWidth=b):("number"==typeof _.width?b=_.width:_.width&&_.width.toString().indexOf("%")>=0?(b=parseFloat(_.width)/100,b*=o-n):_.visible&&(u.push(_),b=0),_.overflowWidth&&(b-=_.overflowWidth),_.visible&&!_.adaptiveVisible&&(d+=b),b<_.minWidth&&(b=_.minWidth),_.computedWidth=b)}if(u){var y=o-d,w=0;y<0&&(y=60*u.length);for(var x=0;x<u.length;x++){var C=u[x],k=void 0;k=y/u.length,x===u.length-1&&(k=y-w),C.overflowWidth&&(k-=C.overflowWidth),k<C.minWidth&&(k=C.minWidth),C.computedWidth=k,w+=k}}for(var D=0;D<e.viewColumns.length;D++){var S=e.viewColumns[D],T=S;T.visible&&!T.adaptiveVisible&&(a>0&&!T.autoGenerated&&(T.computedWidth+=a,a=0),T.freeze?!0===T.freeze||"near"===T.freeze?(T.left=c,m+=T.computedWidth,c+=T.computedWidth):"far"===T.freeze&&(T.left=p,p+=T.computedWidth):(T.left=m,m+=T.computedWidth))}for(var I=0;I<e._columnGroupsLevel-1;I++)for(var H=0;H<e.columnGroups.length;H++){(function(t){var i=e.columnGroups[t];if(i.level!==I)return"continue";var a=99999;if(i.groups){i.computedWidth=function e(t){for(var i=0,n=0;n<t.groups.length;n++){var o=t.groups[n];o.groups?i+=e(o):o.hidden||(a=Math.min(o.left,a),i+=o.computedWidth)}return i}(i),i.left=a}})(H)}}},{key:"_createColumnHeaderCellElements",value:function(){var e=this,t=e.$.columnContainer,i=document.createDocumentFragment(),a=0;e._columnElements=[],e.$.columnContainer.innerHTML="",e.$.columnNearContainer.innerHTML="",e.$.columnFarContainer.innerHTML="";for(var n=0;n<e._frozenNearColumns.length;n++){e._frozenNearColumns[n].createElement()}for(var o=0;o<e._frozenFarColumns.length;o++){e._frozenFarColumns[o].createElement()}for(var r=0;r<e.viewColumns.length;r++){var l=e.viewColumns[r];if(!l.freeze){var s=l.createElement();void 0!==l.computedWidth?(a+=l.computedWidth,e._columnElements.push(s),a<2*e._clientSize.width&&i.appendChild(s)):(e._columnElements.push(s),i.appendChild(s))}}for(var d=0;d<e.columnGroups.length;d++){var u=e.columnGroups[d],c=new JQX.Grid.Column({visible:void 0===u.visible||u.visible,allowSelect:!1,grid:e,dataField:u.name,label:u.label,align:u.align,verticalAlign:u.verticalAlign});u.column=c;var p=c.createElement();p.style.width=u.computedWidth+"px",p.style.left=u.left+"px",p.style.top=u.top+"px",p.style.height=u.computedHeight+"px",p.style.lineHeight=u.computedHeight+"px",i.appendChild(p),u.element=p,u.grid=this}e.htmlColumnLastChild||(e.htmlColumnLastChild=document.createElement("jqx-grid-column"),e.htmlColumnLastChild.classList.add("top-far-corner"),e.$.columnHeader.appendChild(e.htmlColumnLastChild)),t.appendChild(i),t.style.width=e._computedColumnsWidth+"px",e._refreshFrozenColumns()}},{key:"_refreshFrozenColumns",value:function(){var e=this;e.$.columnNearContainer.style.width=e._frozenColumnsNearWidth+"px",e.$.columnFarContainer.style.width=e._frozenColumnsFarWidth+"px";for(var t=0;t<e.columnGroups.length;t++){var i=e.columnGroups[t];i.freeze&&i.element&&(!0===i.freeze||"near"===i.freeze?e.$.columnNearContainer.appendChild(i.element):"far"===i.freeze&&e.$.columnFarContainer.appendChild(i.element))}for(var a=0;a<e.viewColumns.length;a++){var n=e.viewColumns[a];n.freeze&&n.element&&(!0===n.freeze||"near"===n.freeze?e.$.columnNearContainer.appendChild(n.element):"far"===n.freeze&&e.$.columnFarContainer.appendChild(n.element))}}},{key:"_initializeRowElements",value:function(){var e=this;if(e.rows){e.rows.canNotify=!1;var t=0,i=e._clientSize.height;e.$.rowNearContainer.innerHTML="",e.$.rowFarContainer.innerHTML="",e.$.rowContainer.innerHTML="",e._rowElements=[],e._overflowOffset=Math.max(i,300);var a=e.offsetHeight;e.$.container.classList.add("jqx-hidden");var n=e.offsetHeight;e.$.container.classList.remove("jqx-hidden"),"hidden"!==e.verticalScrollBarVisibility&&a===n||(i=e._scrollHeight);for(var o=function(){var a=document.createDocumentFragment();if(!e.rows||0!==e.rows.length){for(var n=0;n<e.rows.length;n++){var o=e.rows[n];if(!o.freeze){var r=o.createElement();if(a.appendChild(r),(t+=e.rowMinHeight)>e._overflowOffset+i)break}}e.$.rowContainer.appendChild(a);for(var l=e.$.rowContainer.children,s=0;s<l.length;s++){var d=l[s];e.rows[s]&&(e.rows[s].element=d),e._rowElements[s]=d}}},r=0;r<e._frozenNearRows.length;r++){var l=e._frozenNearRows[r],s=l.createElement();l.element=s,e.$.rowNearContainer.appendChild(s)}for(var d=0;d<e._frozenFarRows.length;d++){var u=e._frozenFarRows[d],c=u.createElement();u.element=c,e.$.rowFarContainer.appendChild(c)}o();for(var p=0;t<1.5*i&&++p<50;)o();e.rows.canNotify=!0}}},{key:"_initializeRows",value:function(){var e=this,t=0;e._frozenNearDefaultRows=[],e._frozenFarDefaultRows=[],e.rows=[],e.rowById=[],e._frozenFarRows=[],e._frozenNearRows=[];var i=function(){for(var t=[],i=!1,a=0;a<e.columns.length;a++){var n=e.columns[a],o={};n.summary&&n.summary.length>0&&(i=!0),o[n.dataField]=n.summary,t.push(o)}if(!i)return void(e._summaryItems=[]);e._summaryItems=e.dataSource.summarize(t)},a=function(i,a){var n=i.grid?i:new JQX.Grid.Row({data:i,index:a,grid:e});if(e.onRowInit){e.onRowInit(a,n);for(var o in n)-1!==n.properties.indexOf(o)||o.startsWith("_")||e.error(e.localize("invalidRowProperty",{elementType:"Grid",propertyName:o}))}n.selected&&(e._selection.rows[n.id]=!0),n.freeze?!0===n.freeze||"near"===n.freeze?(e.rows.splice(t++,0,n),e._frozenNearRows.push(n)):"far"===n.freeze&&(e._frozenFarRows.push(n),e.rows.push(n)):e.rows[a]?e.rows.splice(a,0,n):e.rows.push(n),"virtual"===e.scrollMode||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource||e.onRowInserted&&e.onRowInserted(a,n)},n=function(){var t=e.rows[e.rows.length-1];e.rows.pop(),e.onRowRemoved&&e.onRowRemoved(e.rows.length,t)},o=function(t){var i=e.rows[t];e.rows.splice(t,1),e.onRowRemoved&&e.onRowRemoved(t,i)};e._add=a,e._removeLastRow=n,e._removeAt=o,e._rowHeight=e._autoRowHeight;for(var r=e.dataSource.length,l=0;l<e.dataSource.length;l++){var s=e.dataSource[l];a(s,l)}for(var d=0;d<e._frozenFarRows.length;d++){var u=e._frozenFarRows[d];e.rows.splice(e.rows.indexOf(u),1),e.rows.push(u)}if(i(),e.dataSource.notify(function(t){if(!e.dataSource._updating){var l=t.data;switch(e.rows.canNotify=!1,t.action){case"add":if(l.length)for(var s=0;s<l.length;s++)a(l[s],e.dataSource.length-l.length+s);else a(l,e.dataSource.length-1);break;case"update":if(l.length)for(var d=0;d<l.length;d++){var u=t.index[d];e.rows[u]?(e.rows[u].data=l[d],e.onRowUpdated&&e.onRowUpdated(u,e.rows[u])):a(l[d],e.dataSource.length-1)}else{var c=t.index;e.rows[c]?e.rows[c].data=l:a(l,e.dataSource.length-1),e.onRowUpdated&&e.onRowUpdated(c,e.rows[c])}break;case"insert":a(l,t.index);for(var p=0;p<e.rows.length;p++){e.rows[p].index=p}break;case"remove":o(t.index);break;case"removeLast":n();break;case"bindingComplete":e.dataSource&&e.dataSource.url&&(e.displayLoadingIndicator=!1,e._setLoadingIndicatorVisibility(),e._toggledRow=null,e.dataSource.length!==r&&(e.paging.enabled&&(e.$.headerPager.querySelector("jqx-pager").pagesCount=Math.ceil(e.dataSource.length/e.paging.pageSize),e.$.footerPager.querySelector("jqx-pager").pagesCount=Math.ceil(e.dataSource.length/e.paging.pageSize)),e._initializeRows(),e._initializeRowElements(),e.refresh()),e._recycle())}i(),"update"!==t.action&&e._refreshLayout(),e._recycle(),e.rows.canNotify=!0}}),e._observeRows(),e.summaryRow.visible)for(var c=0;c<e._summaryRowCount;c++){var p=new JQX.Grid.Row({freeze:"near",visible:"near"===e.summaryRow.position,summaryRowIndex:c,summaryRow:!0}),m=new JQX.Grid.Row({freeze:"far",visible:"far"===e.summaryRow.position,summaryRowIndex:c,summaryRow:!0});e._frozenNearRows.splice(0,0,p),e._frozenFarRows.push(m)}if(e.filtering.enabled&&e.filtering.filterRow.visible){var v=new JQX.Grid.Row({freeze:"near",filterRow:!0});e._frozenNearRows.splice(0,0,v)}e._renderAddNewRow()}},{key:"_observeRows",value:function(){var e=this,t={allowToggle:!0,allowResize:!0,expanded:!0,selected:!0,visible:!0,enabled:!0,minHeight:!0,height:!0,freeze:!0,showDetail:!0,data:!0,visibleIndex:!0,index:!0};e._frozenNearRows=[],e._frozenFarRows=[],e.rows=new JQX.ObservableArray(e.rows,null,t);for(var i=0;i<e.rows.length;i++){var a=e.rows[i];!0===a.freeze||"near"===a.freeze?e._frozenNearRows.push(a):"far"===a.freeze&&e._frozenFarRows.push(a),e.rowById[e.rows[i].id]=a}var n=function(e,t,i,a){e.propertyChanged(t,i,a)};e.rows.notify(function(t){if(e.rows.canNotify){var i=t.action;if("length"!==i){if(t.path)return e.rows.canNotify=!1,n(t.target,t.propertyName,t.oldValue,t.newValue),void(e.rows.canNotify=!0);if(e.rows.canNotify=!1,e.dataSource){switch(e.dataSource.canNotify=!1,i){case"add":for(var a=0;a<t.addedCount;a++)!function(i){var a=e.rows[i];if(a instanceof JQX.Grid.Row==!1){a=new JQX.Grid.Row(a);var n=e.rows.canNotify;e.rows.canNotify=!1,t.object[i]=a,a=t.object[i],e.rows.canNotify=n}i<e.dataSource.length?e.dataSource.insert(i,e.rows[i].data):e.dataSource.add(e.rows[i].data),a.grid=e,a.data=e.dataSource[i],e.rowById[a.id]=a,a.selected&&(e._selection.rows[a.id]=!0),a.freeze&&(!0===a.freeze||"near"===a.freeze?e._frozenNearRows.push(a):"far"===a.freeze&&e._frozenFarRows.push(a))}(t.index+a);break;case"update":e.dataSource.update(t.index,e.rows[t.index]);break;case"remove":var o=t.removed;delete e.rowById[o.id],e.dataSource.remove(t.index)}if(e.dataSource.canNotify=!0,e.rows.canNotify=!0,i){e.isInitialized&&e._rowElements&&e._rowElements.length<e.rows.length&&e._initializeRowElements(),e.refresh(),e._refreshPagesCount()}}}}})}},{key:"render",value:function(){this._render()}},{key:"_renderColumns",value:function(e){var t=this;t._initializeColumns(),t._initializeColumnGroupsHierarchy(),t._refreshColumnsResponsiveVisibility(),t._createColumnHeaderCellElements(),t._renderColumnGroupHeaders(),!1!==e&&t._refresh()}},{key:"_renderRows",value:function(e){var t=this;t._initializeRows(),t._initializeRowElements(),!1!==e&&t._refresh()}},{key:"_render",value:function(){var e=this;if(e.isInitialized||(e.onBeforeInit&&e.onBeforeInit(),e.$.fireEvent("beforeInit",{grid:e})),null===e.dataSource&&(e.dataSource=new JQX.DataAdapter),e._selection={rows:[],columns:[],cells:[]},e.dataSource&&e.dataSource.url&&(e.displayLoadingIndicator=!0,e._setLoadingIndicatorVisibility(),e.dataSource.data={sorting:e.getSortedColumns(),filtering:e.getFilteredColumns(),grouping:[]}),e._renderColumns(!1),e._renderRows(!1),e._renderPagers(),e._renderCommandBar(),e.appearance.allowColumnStickyPosition&&e._stickHeader(),e.isInitialized)e.refreshFilters();else{for(var t=0;t<e.viewColumns.length;t++){var i=e.viewColumns[t];if(i.allowSort&&i.sortOrder){var a=e.appearance.allowSortAnimation;e.appearance.allowSortAnimation=!1,e.sortBy(i.dataField,i.sortOrder),e.appearance.allowSortAnimation=a}}if(e.filtering.filter.length>0){for(var n=0;n<e.filtering.filter.length;n++){var o=e.filtering.filter[n];if(o){var r=o[0],l=o.splice(1),s=null;if(l instanceof JQX.FilterGroup)s=l;else{var d=e.columnByDataField[r];d&&(s=e.dataSource._createFilter(d.dataType,l))}s&&e.addFilter(r,s,!1)}}e.refreshFilters()}}e.viewColumns.canNotify=!0,e.isInitialized||(e.onInit&&e.onInit(),e.$.fireEvent("init",{grid:e})),e.isInitialized=!0,"virtual"===e.scrollMode||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource&&e._virtualDataRequest("dataBind"),""!==e.header.template&&e._applyTemplate(e.header.template,e.$.header),""!==e.footer.template&&e._applyTemplate(e.footer.template,e.$.footer),e._createFilterPanels(),e._refresh(),e._applyScrollMode(),e.onRender&&e.onRender()}},{key:"_refreshPagesCount",value:function(){var e=this,t=e.$.headerPager.querySelector("jqx-pager"),i=function(){var t=e.getVisibleRows(),i=t.length;if(e.rowHierarchy){i=0;for(var a=0;a<t.length;a++){var n=t[a];0!==n.level||n.parent||i++}e.dataSource.virtualDataSourceLength&&(i=e.dataSource.virtualDataSourceLength)}return Math.ceil(i/e.paging.pageSize)}();t&&(t.pagesCount=i);var a=e.$.footerPager.querySelector("jqx-pager");t&&(a.pagesCount=i),e.paging.pageIndex>i&&(e.paging.pageIndex=i-1,e._refreshPaging(e.paging.pageIndex))}},{key:"_stickHeader",value:function(){var e=this,t=function(){e._handleStickyHeader()};e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("jqx-columns-sticky");for(var i=e.parentNode;i!==document;)i.addEventListener("scroll",t),i=i.parentNode;try{null!==window.top&&window.top!==window.self&&window.top.document.addEventListener("scroll",t)}catch(e){}e._handleStickyHeader()}},{key:"_unstickHeader",value:function(){var e=this;e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("jqx-columns-sticky");for(var t=function(){e._scrollHandler()},i=e.parentNode;i!==document.body;)i.removeEventListener("scroll",t),i=i.parentNode;try{(""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self&&window.top.document.removeEventListener("scroll",t)}catch(e){}}},{key:"_handleStickyHeader",value:function(){var e=this;if(e.appearance.allowColumnStickyPosition)if(e.$.columnHeader.classList.add("jqx-columns-sticky"),0===document.scrollTop&&0===e.parentElement.scrollTop)e.$.columnHeader.style.top="";else{for(var t=e.parentNode,i=0;t!==document.body;)i+=parseInt(t.scrollTop),t=t.parentNode;var a=parseInt(e.clientTop+i);e.$.columnHeader.style.top=a+"px";var n=0;window.top!==window.self&&parseInt(window.top.scrollY)>parseInt(e._offsetTop(window.frameElement))&&(n=parseInt(window.top.scrollY)-parseInt(e._offsetTop(window.frameElement))),
window.scrollY+n>e.offsetTop&&(e.$.columnHeader.style.top=parseInt(window.scrollY)-parseInt(e.offsetTop)+a+n+"px")}}},{key:"_scrollHandler",value:function(){this._handleStickyHeader()}},{key:"_initializeRowNumberColumn",value:function(){var e=this;if(e._frozenNearColumns&&e._frozenNearColumns.length>0&&e._frozenNearColumns[0].rowNumbersColumn)return void(e._frozenNearColumns[0].visible=e.appearance.showRowNumber||e.appearance.showRowHeader);var t=e.appearance.showRowNumber?function(){var t=document.createElement("div"),i=document.createElement("div"),a=e.rows?e.rows.length:e.dataSource?e.dataSource.length:0,n=0;return i.classList.add("jqx-label"),i.innerHTML="<span>"+a+"</span>",t.appendChild(i),t.style.width="auto",t.style.position="static",e.$.columnHeader.appendChild(t),n=20+i.firstChild.offsetWidth,e.$.columnHeader.removeChild(t),Math.max(30,n)}():30,i=new JQX.Grid.Column({dataField:"_rowHeaderColumn",label:"",allowSelect:!1,freeze:!0,visible:!0,grid:e,autoGenerated:!0,rowNumbersColumn:!0,cellsAlign:"center",width:t});i.createElement();var a=new JQX.Observable(i,i.observables);e.viewColumns.splice(0,0,a),e._frozenNearColumns.splice(0,0,a)}},{key:"_initializeColumns",value:function(){var e=this;if("number"==typeof e.columns){for(var t=[],i="A".charCodeAt(0),a="",n=0,o=0;o<e.columns;o++){var r=String.fromCharCode(i+n);n++;var l=a+r;t.push({align:"center",label:l,dataField:l,width:100}),n>=26&&(n=0,a+="A")}e._boundColumns=t}else e._boundColumns=Array.isArray(e.columns)?e.columns.splice(0):e.columns.toArray().splice(0);e.columnByDataField=[],e.viewColumns=[],e.columns=new JQX.ObservableArray,e._frozenFarColumns=[],e._frozenNearColumns=[],e._summaryRowCount=0;var s=0,d=function(t){if(e.dataSource.dataFields){var i=e.dataSource.dataFields.find(function(e){if(e.name===t.dataField)return e}),a=i?i.dataType||"string":"string";t.dataType=a}};if(0===e._boundColumns.length&&e.dataSource&&e.dataSource[0]){var u=e.dataSource[0];for(var c in u)if(!c.startsWith("_")&&"$"!==c){var p=e._boundColumns.length,m={index:p,visibleIndex:p,label:c,dataField:c};d(m),e._boundColumns.push(m)}}for(var v=0;v<e._boundColumns.length;v++)!function(t){var i=e._boundColumns[t];if("string"==typeof i){if(e.dataSource.dataFields){var a=e.dataSource.dataFields.find(function(e){if(e.name===i)return e});i={label:i,dataField:i,dataType:a?a.dataType||"string":"string"}}}else d(i);i.visibleIndex=t,i.index=t,i.grid=e;var n=new JQX.Grid.Column(i);e.onColumnInit&&e.onColumnInit(t,n);for(var o in n)-1!==n.properties.indexOf(o)||o.startsWith("_")||e.error(e.localize("invalidColumnProperty",{elementType:"Grid",propertyName:o,type:n.dataField||"Column"}));n.grid=e,e.columns.push(n);var r=e.columns[e.columns.length-1];e._summaryRowCount=Math.max(e._summaryRowCount,n.summary.length),n.freeze?!0===n.freeze||"near"===n.freeze?(e.viewColumns.splice(s++,0,r),e._frozenNearColumns.push(r)):"far"===n.freeze&&e._frozenFarColumns.push(r):e.viewColumns.push(r),e.columnByDataField[n.dataField]?(r.parent=e.columnByDataField[n.dataField],e.columnByDataField[n.dataField].children||(e.columnByDataField[n.dataField].children=[]),e.columnByDataField[n.dataField].children.push(r)):e.columnByDataField[n.dataField]=r,e.onColumnInserted&&e.onColumnInserted(t,n)}(v);e.viewColumns=e.viewColumns.concat(e._frozenFarColumns);var h=0;if((e.appearance.showRowNumber||e.appearance.showRowHeader)&&(e._initializeRowNumberColumn(),h++),e.rowDetail.enabled){var f=new JQX.Grid.Column({dataField:"_rowDetailColumn",allowSelect:!1,visible:e.rowDetail.visible,label:"",grid:e,freeze:!0,rowDetailColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),g=new JQX.Observable(f,f.observables);"near"===e.rowDetail.position?(f.freeze="near",g.freeze="near",e.viewColumns.splice(h,0,g),e._frozenNearColumns.splice(h,0,g)):(e.viewColumns.push(g),e._frozenFarColumns.splice(0,0,g)),h++}var _=new JQX.Grid.Column({dataField:"_adaptiveColumn",allowSelect:!1,visible:!e.adaptivityMode.responsiveLayout.autoShowHiddenCells,label:"",grid:e,freeze:"far",adaptiveColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),b=new JQX.Observable(_,_.observables);b.canNotify=!1,e.viewColumns.push(b),e._frozenFarColumns.splice(0,0,b);var y=new JQX.Grid.Column({dataField:"_commandColumn",allowSelect:!1,visible:e.editing.enabled&&e.editing.commandColumn.visible&&!e.editing.commandColumn.inline,label:"",grid:e,freeze:"far",commandColumn:!0,autoGenerated:!0,align:"center",cellsAlign:"center",width:""}),w=new JQX.Observable(y,y.observables);w.canNotify=!1,"near"===e.editing.commandColumn.position?(y.freeze="near",w.freeze="near",e.viewColumns.splice(h,0,w),e._frozenNearColumns.splice(h,0,w)):(e.viewColumns.push(w),e._frozenFarColumns.splice(0,0,w)),e._commandColumn=w;var x=new JQX.Grid.Column({allowSelect:!1,visible:e.selection.enabled&&e.selection.checkBoxes.enabled,dataField:"_checkBoxColumn",label:"",freeze:e.selection.checkBoxes.position,grid:e,selectionColumn:!0,autoGenerated:!0,cellsAlign:"center",width:32}),C=new JQX.Observable(x,x.observables);"near"===x.freeze?(e.viewColumns.splice(h,0,C),e._frozenNearColumns.splice(h,0,C)):(e.viewColumns.push(C),e._frozenFarColumns.splice(0,0,C)),e._selectionColumn=C,e._selectionColumn.canNotify=!1,e._observeColumns(),e._templateColumns()}},{key:"_templateColumns",value:function(){var e=this,t=getComputedStyle(e),i=t.getPropertyValue("--jqx-grid-template-columns").trim(),a=t.getPropertyValue("--jqx-grid-column-gap").trim(),n=t.getPropertyValue("--jqx-grid-row-gap").trim();if(e._rowGap=parseInt(n),e._columnGap=parseInt(a),e._maxHeight=parseInt(t.maxHeight),e._minHeight=parseInt(t.minHeight),"none"!==i){for(var o=0,r=0;r<e.viewColumns.length;r++)e.viewColumns[r].autoGenerated&&(o+=e.viewColumns[r].visible?e.viewColumns[r].width:0);var l=[],s=document.createElement("div");s.style.display="grid",s.style.gridTemplateColumns=i;for(var d=0;d<e.columns.length;d++)s.innerHTML+="<div></div>";s.style.width=e.clientWidth-o+"px",e.$.root.appendChild(s);for(var u=i.split(" "),c=0;c<e.columns.length;c++)l[c]=s.children[c].offsetWidth,"auto"===u[c]&&(l[c]="auto");s.parentNode.removeChild(s);for(var p=0,m=0;m<e.viewColumns.length;m++){var v=e.viewColumns[m];v.autoGenerated||l[p]&&(v.width=v.templateWidth=l[p++])}}else for(var h=0;h<e.viewColumns.length;h++){var f=e.viewColumns[h];f.autoGenerated||f.templateWidth&&(f.width=f.templateWidth="auto")}}},{key:"_observeColumns",value:function(){for(var e=this,t=function(e,t,i,a){e.propertyChanged(t,i,a)},i=0;i<e.viewColumns.length;i++)!function(i){var a=e.viewColumns[i];a.onAction=function(){e._openMenu(this)},a.autoGenerated&&a.notify(function(e){a.canNotify=!1,t(a,e.propertyName,e.oldValue,e.newValue),a.canNotify=!0})}(i);e.columns.notify(function(i){var a=null;if(i.path)return e.columns.canNotify=!1,t(i.target,i.propertyName,i.oldValue,i.newValue),void(e.columns.canNotify=!0);e.columns.canNotify=!1;var n=i.action,o=0;switch(n){case"length":return void(e.columns.canNotify=!0);case"add":for(var r=0;r<i.addedCount;r++)!function(t){if((a=i.object[t])instanceof JQX.Grid.Column==!1){a=new JQX.Grid.Column(a);var n=e.columns.canNotify;e.columns.canNotify=!1,i.object[t]=a,a=i.object[t],e.columns.canNotify=n}a.grid=e,a.freeze?e._frozenNearColumns.push(a):"far"===a.freeze&&e._frozenFarColumns.push(a);var o=e.viewColumns.length-e._frozenFarColumns.length;if(t<e.columns.length?e.viewColumns.splice(t+e._frozenNearColumns.length,0,a):e.viewColumns.splice(o,0,a),e.columnByDataField[a.dataField]){e.columnByDataField[a.dataField].children.push(a),a.parent=e.columnByDataField[a.dataField],a.valueField=a.dataField;var r=a.dataField+"_"+a.parent.children.length;e.columnByDataField[r]=a,a.dataField=r}else e.columnByDataField[a.dataField]=a;e.onColumnInserted&&e.onColumnInserted(t,a)}(i.index+r);break;case"update":a=i.object[i.index],a.grid=e;for(var l=0;l<i.index;l++)e.viewColumns[l].autoGenerated&&o++;e.viewColumns[o+i.index]=a,e.columnByDataField[a.dataField]=a,e.onColumnUpdated&&e.onColumnUpdated(i.index,a);break;case"remove":a=i.removed[0];for(var s=i.index,d=0;d<=s;d++)e.viewColumns[d].autoGenerated&&o++;e.viewColumns.splice(o+s,1),delete e.columnByDataField[a.dataField],e.onColumnRemoved&&e.onColumnRemoved(i.index,a)}e._initializeColumnGroupsHierarchy(),e._refreshColumnsResponsiveVisibility(),e._createColumnHeaderCellElements(),e._templateColumns(),e.refresh(),e.columns.canNotify=!0})}},{key:"_horizontalScrollbarHandler",value:function(){var e=this;e.closeMenu(),e.isScrolling=!0,requestAnimationFrame(function(){e._recycle(),e.isScrolling=!1})}},{key:"_mouseWheelHandler",value:function(e){var t=this;t._scrollView.hScrollBar.$.hasClass("jqx-hidden")&&t._scrollView.vScrollBar.$.hasClass("jqx-hidden")||t.disabled||t._scrollView.vScrollBar.$.hasClass("jqx-hidden")||(e.stopPropagation(),e.preventDefault(),t._scrollView.scrollTo(t._scrollView.scrollTop+t._getScrollCoefficient(e,t._clientSize.height)))}},{key:"clearRows",value:function(){var e=this;e.dataSource=[],e.clearSelection()}},{key:"dataBind",value:function(){var e=this;e._renderRows(),"virtual"===e.scrollMode||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource&&e._virtualDataRequest("dataBind")}},{key:"refresh",value:function(e){var t=this;t.isInitialized&&(e&&(t._initializeRows(),t._initializeRowElements()),t._refresh())}},{key:"_refresh",value:function(){var e=this;if(!e._isUpdating){var t=e.$.verticalScrollBar.offsetWidth;e.removeAttribute("grouped"),e.removeAttribute("tree"),e.grouping.enabled&&e.dataSource.groupBy&&e.dataSource.groupBy.length>0?e.setAttribute("grouped",""):e.dataSource.boundHierarchy&&e.setAttribute("tree",""),e.isInitialized&&e._refreshColumnsResponsiveVisibility(),e._refreshLayout(),t!==e.$.verticalScrollBar.offsetWidth&&(e.__scrollWidth=null,e._refreshColumnsResponsiveVisibility(),e._refreshScrollBars()),e._refreshSelection(),e._recycle(),requestAnimationFrame(function(){e._width=e.offsetWidth,e._height=e.offsetHeight})}}},{key:"_resizeHandler",value:function(e){var t=this;e.target!==t||t._isUpdatingScrollBars||(t._isUpdatingScrollBars=!0,t._autoHeight=!1,t.$.content&&t.$.content.classList.remove("auto-height"),t.refresh(),t._isUpdatingScrollBars=!1)}},{key:"_refreshColumnsResponsiveVisibility",value:function(){for(var e=this,t=e.adaptivityMode.responsiveLayout.width,i=e.adaptivityMode.adaptiveLayout.width,a=1+e.$.scrollView.offsetWidth,n=e.$.columnContainer,o=e.$.columnNearContainer,r=e.$.columnFarContainer,l=0,s=0,d=0,u=!1,c=0;c<e.viewColumns.length;c++){var p=e.viewColumns[c];p._treeColumn=!1,!p.visible||p.autoGenerated||u||(p._treeColumn=!0,u=!0),p.overflowWidth=void 0,p.adaptiveVisible=!1}e._refreshColumnWidths();for(var m=0,v=0,h=0;h<e.viewColumns.length;h++){var f=e.viewColumns[h];f.visible&&!f.adaptiveVisible&&(f.freeze&&(!0===f.freeze||"near"===f.freeze?(l+=f.computedWidth,f.autoGenerated&&(m+=f.computedWidth)):"far"===f.freeze&&(s+=f.computedWidth,f.autoGenerated&&(v+=f.computedWidth))),d+=f.computedWidth)}if(n.style.width=d+"px",o.style.width=l+"px",r.style.width=s+"px",r.classList.remove("jqx-hidden"),o.classList.remove("jqx-hidden"),0===s&&r.classList.add("jqx-hidden"),0===l&&o.classList.add("jqx-hidden"),r.classList.remove("border-collapse"),s===v&&r.classList.add("border-collapse"),e._autoGeneratedColumnsNearWidth=m,e._autoGeneratedColumnsFarWidth=v,e.adaptivityMode.responsiveLayout.enabled||e.adaptivityMode.adaptiveLayout.enabled){var g=a<=t&&e.adaptivityMode.responsiveLayout.enabled,_=a<=i&&e.adaptivityMode.adaptiveLayout.enabled;if(g||_){for(var b=e.viewColumns.length-1;b>=0;b--){var y=e.viewColumns[b];if(y.visible&&!y.freeze){if(d-y.computedWidth<=a)break;d-=y.computedWidth,y.adaptiveVisible=!0}}if(d>a){var w=d-a,x=-1,C=function(t){for(var i=e.viewColumns.length-1;i>=0;i--){var a=e.viewColumns[i];if(a.visible&&!a.freeze&&!a.adaptiveVisible){-1===x&&(x=i);if(!(a.computedWidth-t<a.minWidth))return a.overflowWidth=t,0;var n=a.computedWidth-a.minWidth;a.overflowWidth=n,t-=n}}return t};if((w=C(w))>0&&-1!==x){var k=e.viewColumns[x];d-=k.computedWidth,k.adaptiveVisible=!0,w=d-a,C(w)}e._refreshColumnWidths(),d=a}}}e._computedColumnsWidth=d,e._frozenColumnsNearWidth=l,e._frozenColumnsFarWidth=s}},{key:"_selectStartHandler",value:function(e){var t=this;t.isScrolling||t.editing.isEditing||e.preventDefault()}},{key:"setFocusable",value:function(e){var t=this;if(t.disabled||!e)return void t.removeAttribute("tabindex");t.tabIndex=0}},{key:"_setLoadingIndicatorVisibility",value:function(){var e=this;if(e.displayLoadingIndicator)return void e.$.loadingIndicatorContainer.classList.remove("jqx-visibility-hidden");e.$.loadingIndicatorContainer.classList.add("jqx-visibility-hidden")}},{key:"_refreshElementsVisibility",value:function(){var e=this,t=function(e,t){t?e.classList.remove("jqx-hidden"):e.classList.add("jqx-hidden")};if(t(e.$.placeholder,!e.rows||e.rows&&0===e.rows.length||0===e.columns.length),t(e.$.footer,e.footer.visible),t(e.$.header,e.header.visible),t(e.$.groupHeader,e.groupHeader.visible),t(e.$.columnHeader,e.columnHeader.visible&&!e._adaptiveLayout&&e.columns.length>0),t(e.$.headerCommandBar,e.editing.commandBar.visible&&e.editing.enabled&&"far"!==e.editing.commandBar.position),t(e.$.footerCommandBar,e.editing.commandBar.visible&&e.editing.enabled&&"near"!==e.editing.commandBar.position),e.htmlColumnLastChild.classList.add("jqx-visibility-hidden"),e.pager&&e.pager.visible&&e.paging.enabled)switch(e.pager.position){case"near":t(e.$.headerPager,!0),t(e.$.footerPager,!1);break;case"far":t(e.$.headerPager,!1),t(e.$.footerPager,!0);break;case"both":t(e.$.headerPager,!0),t(e.$.footerPager,!0)}else t(e.$.footerPager,!1),t(e.$.headerPager,!1);e._refreshRowHierarchy()}},{key:"_refreshRowHierarchy",value:function(){var e=this;if(e.rowHierarchy=null,!(!e.grouping.enabled&&e.dataSource.groupBy&&e.dataSource.groupBy.length>0)&&e.dataSource.boundHierarchy){var t=e.dataSource.reservedNames,i=function(t){var i=new JQX.Grid.Row({data:t,index:e.rows.length});return e.rowById[i.id]=i,i},a=e.dataSource.boundHierarchy;if(e.paging.enabled&&(a=a.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),e.rowHierarchy=function a(n,o){for(var r=0;r<n.length;r++){var l=n[r],s=e.rowById[l.$.id];s||(s=i(l)),s.data=l,s.leaf=l[t.leaf]||!1,s.level=l[t.level],s.groupDataField=l.groupDataField,s.label=l.label,s.data&&(s.filtered=void 0===s.data.$.filtered||s.data.$.filtered),l.summaryRow&&(s.summaryRow=!0),(null===e._toggledRow||e._toggledRow&&e._toggledRow.id!==s.id)&&(s.expandHeight=0),l.parent?(s.parent=e.rowById[l.parent.$.id],s.parentId=l.parent.$.id):(s.parent=null,s.parentId=null);var d=s.expanded;if(!0===s.visible&&!1!==s.filtered)if(d||l[t.leaf]){if(o.push(s),l.children&&l.children.length>0){var u=a(l.children,new Array);0===u.length&&(s.leaf=!0);for(var c=0;c<u.length;c++)o.push(u[c])}}else if(o.push(s),l.children&&l.children.length>0){var p=a(l.children,new Array);0===p.length&&(s.leaf=!0)}}return o}(a,new Array),e._rowElements.length<e.rowHierarchy.length&&!e._toggledRow&&e._initializeRowElements(),e.grouping.summaryRow.visible&&!e.grouping.summaryRow.inline){!function e(t,i,a,n){if(0!==t&&i.length>0&&i[i.length-1]&&!i[i.length-1].summaryRow){var o={label:" ",boundSource:[],groupDataField:a.data.groupDataField,$:{},summaryRow:!0,leaf:!0,level:t,expandHeight:0,siblings:i};o.$.id="SubRow"+n+"_"+a.data.$.id,a&&(o.parent=a.data,o.parentId=a.data.$.id),o.data=Object.assign(o),i.push(o)}for(var r=0;r<i.length;r++)i[r]&&i[r].data&&i[r].data.children&&e(t+1,i[r].data.children,i[r],r)}(0,e.rowHierarchy,null,0)}}}},{key:"applyContent",value:function(){}},{key:"_refreshContentHeight",value:function(){var e=this,t=e._clientSize.height,i=e.offsetHeight;e.$.container.classList.add("jqx-hidden");var a=e.offsetHeight;if(e.$.container.classList.remove("jqx-hidden"),"hidden"===e.verticalScrollBarVisibility||i!==a||e._minHeight&&e._minHeight===i)return t=e._scrollHeight+e.$.columnHeader.offsetHeight+e.$.filterFooter.offsetHeight,e.$.content.style.height=t+"px",e._contentHeight=t,void(e._maxHeight<t?(e._autoHeight=!1,e.$.content.classList.remove("auto-height"),e.$.content.style.height=e._maxHeight+"px",e._contentHeight=e._maxHeight):(e._autoHeight=!0,e.$.content.classList.add("auto-height")));e.header.visible&&(t-=e.$.header.offsetHeight),e.groupHeader.visible&&(t-=e.$.groupHeader.offsetHeight),e.footer.visible&&(t-=e.$.footer.offsetHeight),e.pager.visible&&(t-=e.$.headerPager.offsetHeight,t-=e.$.footerPager.offsetHeight),e.editing.enabled&&e.editing.commandBar.visible&&(t-=e.$.headerCommandBar.offsetHeight,t-=e.$.footerCommandBar.offsetHeight),e.$.content.style.height=t+"px",e._contentHeight=t}},{key:"appendChild",value:function(){var e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},{key:"removeChild",value:function(){var e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},{key:"_refreshLayout",value:function(){var e=this,t=e.rows;if(!e._layoutSuspended){if(e._visibleRows=null,e.__viewRows=null,e.__clientSize=null,e.__scrollHeight=null,e.__scrollWidth=null,e.__parentCells=null,e.$.columnFarContainer.classList.remove("vscroll"),e.$.scrollView.classList.remove("hscroll"),e.$.scrollView.classList.remove("vscroll"),e._refreshElementsVisibility(),e._refreshColumnHeights(),e._refreshContentHeight(),!(t&&t.url||t&&null!==t&&0!==t.length&&0!==e.columns.length))return e.$.placeholder.classList.remove("jqx-hidden"),e.scrollWidth=0,void(e.scrollHeight=0);e.__columnHeaderHeight||(e.__columnHeaderHeight=e.$.columnHeader.offsetHeight),e.__filterFooterOffsetHeight||(e.__filterFooterOffsetHeight=e.$.filterFooter.classList.contains("jqx-hidden")?0:e.$.filterFooter.offsetHeight);var i=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight;if(e.$.scrollView.style.height=i+"px",e.htmlColumnLastChild.style.height=e.__columnHeaderHeight+"px",e.paging.spinner.enabled&&e.paging.enabled){if(!e.pageScroll){var a=document.createElement("jqx-scroll-bar");a.orientation="vertical",a.style.height="100%",a.style.width="100%",a.max=Math.ceil(e.dataSource.length/e.paging.pageSize),a.step=e.paging.spinner.step,a.largeStep=e.paging.spinner.step,a.setAttribute("spinner",""),a.setAttribute("jqx-id","spinner"),a.ownerElement=e,e.addPropertyBinding("[[paging_spinner_step]]","step",a,e.$.columnHeader),a.addEventListener("change",function(t){e.paging.pageIndex=t.detail.value}),e.pageScroll=a}e.htmlColumnLastChild.appendChild(e.pageScroll)}else e.htmlColumnLastChild.innerHTML="";e._refreshScrollBars()}}},{key:"_refreshScrollBars",value:function(){var e=this,t=e._scrollView.vScrollBar,i=e._scrollView.hScrollBar,a=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight,n=e.$.scrollView.offsetWidth,o=e._scrollWidth-n-e._contentBorder.left,r=e._scrollHeight-a-e._contentBorder.top,l=e._columnNearContainerComputedStyle?e._columnNearContainerComputedStyle:getComputedStyle(e.$.columnNearContainer),s=e._columnFarContainerComputedStyle?e._columnFarContainerComputedStyle:getComputedStyle(e.$.columnFarContainer),d=parseInt(e.$.columnNearContainer.style.width)+parseInt(l.borderRightWidth),u=parseInt(e.$.columnFarContainer.style.width)+parseInt(s.borderLeftWidth);if(e.__frozenNearWidth=d,e.__frozenFarWidth=u,e._columnNearContainerComputedStyle=l,e._columnFarContainerComputedStyle=s,e._refreshHorizontalScrollBarVisibility(o),e._refreshVerticalScrollBarVisibility(r),t.style.height=a+"px",e.computedVerticalScrollBarVisibility&&(e.__scrollBarSize||(e.__scrollBarSize=t.offsetWidth),e.__scrollWidth+=e.__scrollBarSize,e._refreshHorizontalScrollBarVisibility(e._scrollWidth-n-1),e.$.columnFarContainer.classList.add("vscroll"),e.htmlColumnLastChild.classList.remove("jqx-visibility-hidden")),i.style.width=n+"px",i.style.left="0px",e.computedVerticalScrollBarVisibility&&e.computedHorizontalScrollBarVisibility&&(i.style.width=n-t.offsetWidth+"px",t.style.height=a-i.offsetHeight+"px"),e.computedHorizontalScrollBarVisibility?(e.$.scrollView.classList.add("hscroll"),e._autoHeight?(e.$.content.style.height="auto",e.$.scrollView.style.height="auto",e.$.scrollView.style.paddingBottom=i.offsetHeight+"px"):e.$.scrollView.style.paddingBottom=""):e.$.scrollView.classList.remove("hscroll"),(e.__frozenNearHeight>0||e._frozenNearRows&&e._frozenNearRows.length>0)&&!e.appearance.showVerticalScrollBarOnFixedColumns){var c=getComputedStyle(e.$.rowNearContainer),p=e.__frozenNearHeight+parseInt(c.borderBottomWidth);t.style.height=parseInt(t.style.height)-p+"px",t.style.top=p+"px",t.style.setProperty("--jqx-scroll-bar-near-size",p+"px")}else e.appearance.showVerticalScrollBarOnFixedColumns&&(t.style.top="0px");if((e.__frozenFarHeight>0||e._frozenFarRows&&e._frozenFarRows.length>0)&&!e.appearance.showVerticalScrollBarOnFixedColumns){var m=getComputedStyle(e.$.rowFarContainer),v=-2+e.__frozenFarHeight+parseInt(m.borderTopWidth);t.style.height=parseInt(t.style.height)-v+"px",t.style.setProperty("--jqx-scroll-bar-far-size",v+"px"),0===e.__frozenNearHeight&&(t.style.top="0px")}(d>0||u>0)&&!e.appearance.showHorizontalScrollBarOnFixedColumns&&(i.style.width=parseInt(i.style.width)-d-u+"px",i.style.left=d+"px",i.style.setProperty("--jqx-scroll-bar-near-size",d+parseInt(l.borderRightWidth)+"px"),i.style.setProperty("--jqx-scroll-bar-far-size",u+parseInt(l.borderLeftWidth)+"px"),e.computedVerticalScrollBarVisibility&&(e.__scrollBarSize||(e.__scrollBarSize=t.offsetWidth),i.style.setProperty("--jqx-scroll-bar-far-size",u+e.__scrollBarSize+"px"))),t.refresh(),i.refresh()}},{key:"_refreshHorizontalScrollBarVisibility",value:function(e){var t=this;t.scrollWidth=e,t.computedHorizontalScrollBarVisibility||(t.scrollLeft=0)}},{key:"_refreshVerticalScrollBarVisibility",value:function(e){var t=this;if(t._autoHeight)return t.scrollTop=0,void(t.scrollHeight=0);t.computedHorizontalScrollBarVisibility&&(e+=t.$.horizontalScrollBar.offsetHeight),t.scrollHeight=e,t.paging.enabled&&t.paging.spinner.visible&&t.$.verticalScrollBarVisibility.classList.remove("jqx-hidden"),t.computedVerticalScrollBarVisibility||(t.scrollTop=0)}},{key:"_styleChangedHandler",value:function(e){var t=this;if(!e.detail.styleProperties.overflow&&!t.classList.contains("jqx-grid-resize-mode")){if(e.detail.styleProperties["grid-template-columns"])return t._templateColumns(),void t.refresh();t._resetCachedLayout(),t._refreshLayout(),t._recycle()}}},{key:"_resetCachedLayout",value:function(){var e=this;e.__cellsCommandTemplate=null,e.__autoRowHeight=null,e.__measuredColumnHeight=null,e.__columnHeaderHeight=null,e.__filterFooterOffsetHeight=null}},{key:"_swipeLeftHandler",value:function(){}},{key:"_swipeRightHandler",value:function(){}},{key:"_getRowIndexByPosition",value:function(e){var t=this;return function(i){var a=0,n=i.length-1;if(e<=0)return 0;var o=i[i.length-1];if(-1!==o.top&&o.top<=e)return i.length-1;for(;;){var r=Math.floor((a+n)/2),l=i[r];if(t._isRowInPosition(l,e))return r;l.top<e?a=r+1:l.top>e?n=r-1:a=r+1}}(t._recyclingRows)}},{key:"_isRowInPosition",value:function(e,t){var i=e.top,a=e.top+e.height,n=i<=t&&a>t;return 0!==e.height&&n}},{key:"_renderColumnGroupHeaders",value:function(){for(var e=this,t=0;t<e.columnGroups.length;t++){e.columnGroups[t].column.render()}}},{key:"_isLastVisibleColumn",value:function(e){for(var t=this,i=t.viewColumns.length-1;i>=0;i--){var a=t.viewColumns[i];if(a.visible)return a===e}return!1}},{key:"_recycle",value:function(e,t){var i=this;if(!i._layoutSuspended&&!i._isUpdating){i.editing.isEditing&&i.endEdit(),i._inputOverlay&&(i._inputOverlay.parentNode&&i._inputOverlay.parentNode.removeChild(i._inputOverlay),i._inputOverlay=null),i._selection.selectionRect&&i._refreshCellSelectionRect();for(var a=i._scrollView.scrollTop,n=i._getRowIndexByPosition(a),o=i._recyclingRows,r=o[n],l=r?r.top:0,s=void 0,d=0,u=0,c=0,p=0,m=0;m<i._cellsMerge.length;m++){var v=i._cellsMerge[m],h=o.indexOf(v.row);if(n>h&&n<=h+v.rowSpan&&(n=h,r=v.row,c=Math.max(c,l-r.top),l=r.top,i.$.rowContainer.style.top=i.__frozenNearHeight-a+l+"px"),v.colSpan>1)for(var f=0;f<i.viewColumns.length;f++){var g=i.viewColumns[f],_=g.autoGenerated?g:i.columnByDataField[g.dataField];if(_.visible&&!_.adaptiveVisible&&(_.left+_.computedWidth-i._scrollView.scrollLeft>=d&&_.left-_.computedWidth-i._scrollView.scrollLeft<i._clientSize.width)){var b=i.columnByDataField[v.column.dataField];p=Math.max(p,_.left-b.left+_.computedWidth);break}}}if(!1!==e||i._cellsMerge.length>0){for(var y=0;y<i._columnElements.length;y++){var w=i._columnElements[y];if(!w.parentNode)break;w.set("column",null,!1),w.classList.add("jqx-visibility-hidden")}for(var x=0;x<i.columnGroups.length;x++){var C=i.columnGroups[x],k=C.element;k.style.left=C.left+"px",k.style.width=C.computedWidth+"px"}i._firstVisibleColumn=null,i._lastVisibleColumn=null;for(var D=0;D<i.viewColumns.length;D++){var S=i.viewColumns[D],T=S;if((T.visible||T.adaptiveVisible)&&(i._firstVisibleColumn||(i._firstVisibleColumn=T),i._lastVisibleColumn=T),T.element&&(T===i._firstVisibleColumn?T.element.classList.add("jqx-grid-column-border-collapse"):T.element.classList.remove("jqx-grid-column-border-collapse")),T.freeze)!0!==T.freeze&&"near"!==T.freeze||T.visible&&(d+=T.computedWidth),!T.visible||T.adaptiveVisible?T.element.classList.add("jqx-visibility-hidden"):(T.element.classList.remove("jqx-visibility-hidden"),T.render());else if(T.visible&&!T.adaptiveVisible)if(i._adaptiveLayout>0)T.element.classList.add("jqx-visibility-hidden");else if(T.left+T.computedWidth-i._scrollView.scrollLeft>=d-p&&T.left-T.computedWidth-i._scrollView.scrollLeft<i._clientSize.width){var I=i._columnElements[u++];I.set("column",T,!1),I.parentNode||i.$.columnContainer.appendChild(I),T.element=I,T.render(),void 0===s&&(s=T.left)}}}if(void 0===s&&(s=0),i.$.columnContainer.style.left=-i._scrollView.scrollLeft+"px",i.$.rowContainer.style.top=i.__frozenNearHeight-a+l+"px",!1!==t&&i._rowElements){if(n>=0){u=0;for(var H=Math.max(i._clientSize.height,i._overflowOffset),$=n;$<o.length;$++){var M=o[$];if(0!==M.height&&M.visible&&!1!==M.filtered&&!M.freeze){var B=M.height;if(M.expandHeight&&(H+=i.offsetHeight+M.expandHeight),!(l+B>=a-c&&l<=a+H||i._autoHeight))break;var j=i._rowElements[u++];if(!j)break;M.element=j,M.grid=i,M.render(),l+=B}}}if(i._renderFrozenRows(),u<i._rowElements.length)for(var E=u;E<i._rowElements.length;E++){var L=i._rowElements[u++];L.classList.add("jqx-hidden")}}}}},{key:"_renderFrozenRows",value:function(){var e=this,t=!1,i=!1;0===e._frozenNearRows.length?e.$.rowNearContainer.classList.add("jqx-hidden"):e.$.rowNearContainer.classList.remove("jqx-hidden");for(var a=0;a<e._frozenNearRows.length;a++){var n=e._frozenNearRows[a];n.visible&&n.filtered&&(t=!0,n.element=e.$.rowNearContainer.children[a],n.render())}t||e.$.rowNearContainer.classList.add("jqx-hidden"),0===e._frozenFarRows.length?e.$.rowFarContainer.classList.add("jqx-hidden"):e.$.rowFarContainer.classList.remove("jqx-hidden");for(var o=0;o<e._frozenFarRows.length;o++){var r=e._frozenFarRows[o];r.visible&&(i=!0),r.element=e.$.rowFarContainer.children[o],r.render()}i||e.$.rowFarContainer.classList.add("jqx-hidden")}},{key:"_recycleRotate",value:function(e,t,i,a,n){var o=t.getBoundingClientRect(),r=e.getBoundingClientRect(),l=0,s=0;return 0===r.width?(e.innerHTML=n,!1):(o.left>r.left&&(l=r.left-o.left),o.top<r.top&&(s=r.top-o.top),"left"!==i&&""!==i||(l=4),"center"===i&&(l+=r.width/2-o.width/2),"right"===i&&(l+=r.width-o.width-4),"top"!==a&&""!==a||(s=4),"center"!==a&&"middle"!==a||(s+=r.height/2-o.height/2),"bottom"===a&&(s+=r.height-o.height-4),t.style.left=l+"px",t.style.top=s+"px",!0)}},{key:"_virtualDataRequest",value:function(e){var t=this,i=-1,a=-1;if(t._rowElements||"infinite"===t.scrollMode){if("virtual"===t.scrollMode)for(var n=0;n<t._rowElements.length;n++){var o=t._rowElements[n],r=o.row,l=0===n?r.visibleIndex:i+n;o.classList.contains("jqx-hidden")||(-1===i&&(i=l),-1!==l&&(a=1+l))}else"infinite"===t.scrollMode?(i=1/0,a=1/0):(i=0,a=t.dataSource.length);t.paging.enabled&&(i=t.paging.pageIndex*t.paging.pageSize,a=i+t.paging.pageSize),a!==1/0&&(a=Math.min(a,t.dataSource.length)),t.displayLoadingIndicator=!0,t._setLoadingIndicatorVisibility();var s={first:i,last:a,sorting:t.getSortedColumns(),filtering:t.getFilteredColumns(),grouping:[],row:t._toggledRow?t._toggledRow.data:null,action:e},d=t.dataSource.length;t.dataSource.onVirtualDataSourceRequested(function(){t.displayLoadingIndicator=!1,t._setLoadingIndicatorVisibility(),t._toggledRow=null,t.dataSource.length!==d?(t.paging.enabled&&(t.$.headerPager.querySelector("jqx-pager").pagesCount=Math.ceil(t.dataSource.length/t.paging.pageSize),t.$.footerPager.querySelector("jqx-pager").pagesCount=Math.ceil(t.dataSource.length/t.paging.pageSize)),t._initializeRows(),t._initializeRowElements(),t.refresh()):t.dataSource.virtualDataSourceOnExpand&&t.refresh(),t._recycle()},s)}}},{key:"_verticalScrollbarHandler",value:function(e){var t=this;t.closeMenu(),t.isScrolling=!0,t._scrollTimer&&clearTimeout(t._scrollTimer),t._scrollTimer=setTimeout(function(){if(t._recycle(!1),t.isScrolling=!1,e.max===e.value&&(t.$.fireEvent("scrollBottomReached"),"infinite"===t.scrollMode))return void t._virtualDataRequest("scroll");"virtual"===t.scrollMode&&t._virtualDataRequest("scroll"),e.min===e.value&&t.$.fireEvent("scrollTopReached")})}},{key:"_autoRowHeight",get:function(){var e=this;if(e.__autoRowHeight)return e.__autoRowHeight;var t=new JQX.Grid.Row({adaptiveHeight:0,index:0,grid:e}),i=t.createElement(),a=e.rowMinHeight;e.$.scrollView.appendChild(i);for(var n={},o=0;o<e.dataSource.dataFields.length;o++){n[e.dataSource.dataFields[o].name]="ABCDEFHIJLMNOPQRSTUVWXYZ1234567910|"}t.data=n,t.render(),i.style.height="",i.style.lineHeight="",a=Math.max(i.offsetHeight,a);for(var r=0;r<i.children.length;r++)i.children[r].style.height="";for(var l=0;l<i.children[1].children.length;l++){i.children[1].children[l].style.height="auto";t.getCell(e.columns[0].dataField).render(),a=Math.max(a,8+i.children[1].children[l].offsetHeight);break}return e.$.scrollView.removeChild(i),e.__autoRowHeight=a,a}},{key:"_scrollHeight",get:function(){var e=this,t=e._recyclingRows,i=0,a=e._autoRowHeight,n=0,o=0;if(e.__scrollHeight)return e.__scrollHeight;if(0===t.length||0===e.columns.length)return 0;e.rows.canNotify=!1;var r=0,l=0;if(e._responsiveLayout)for(var s=0;s<e.viewColumns.length;s++){var d=e.viewColumns[s];d.autoGenerated||(d.adaptiveVisible?r++:l++)}else if(e._adaptiveLayout>0)for(var u=0;u<e.viewColumns.length;u++){var c=e.viewColumns[u];c.autoGenerated||r++}for(var p=t.length,m=0;m<p;m++){var v=t[m];if(v.visible&&!1!==v.filtered){if((!v.height||!v.cellHeight||v.showDetail)&&!v.expandHeight){if(v.detailHeight||(v.detailHeight=200),e.rowHeight)e.rowHeight&&("number"==typeof e.rowHeight?(e.rowHeight<e.rowMinHeight&&(e.rowHeight=e.rowMinHeight),v.height=e.rowHeight,v.computedHeight&&(v.height=v.computedHeight),void 0!==v.label&&(v.height=e.grouping.groupRowHeight),v.cellHeight=v.height,e.rowDetail.enabled&&v.showDetail&&(v.height+=v.detailHeight)):(e.rowHeight(m,v),v.height||(v.height=a),v.cellHeight=v.height,e.rowDetail.enabled&&v.showDetail&&(v.height+=v.detailHeight)));else{if(v.height=a,v.adaptiveHeight=0,void 0===v.label||v.summaryRow||(v.height=e.grouping.groupRowHeight),v.computedHeight&&(v.height=v.computedHeight),v.cellHeight=v.height,e._responsiveLayout){var h=Math.ceil(r/l);void 0===v.label?v.adaptiveHeight=h*a:v.adaptiveHeight=v.height,v.adaptiveHeight+=50}e.rowDetail.enabled&&v.showDetail&&(v.height+=v.detailHeight)}e._rowGap&&m<e.rows.length-1&&(v.height+=e._rowGap)}!0===v.freeze||"near"===v.freeze?n+=v.height:"far"===v.freeze&&(o+=v.height),v.freeze?v.top=i:(v.top!==i&&(v.top=i),v.expandHeight?i+=v.cellHeight:i+=v.height)}else v.height=0,v.cellHeight=0,v.top=i}return e.__scrollHeight=i,e.__frozenNearHeight=n,
e.__frozenFarHeight=o,e._scrollView.scrollHeight=i-e.$.scrollView.offsetHeight+n+o,i=e.__scrollHeight+n+o,e.grouping.enabled&&e.dataSource.groupBy.length>0&&e.grouping.groupIndent>0&&(i+=parseInt(e.grouping.groupIndent/2)),e.__scrollHeight=i,e.rows.canNotify=!0,i}},{key:"_clientSize",get:function(){var e=this;if(e.__clientSize)return e.__clientSize;var t=getComputedStyle(e.$.container),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),a=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),o=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return e.__clientSize={width:e.$.container.offsetWidth-i-n,height:e.$.container.offsetHeight-a-o},e.__clientSize}},{key:"_viewRows",get:function(){var e=this;if(e.__viewRows)return e.__viewRows;e._nearRowsAdded||(e._nearRowsAdded=[],e._farRowsAdded=[]);var t=e.rowHierarchy?e.rowHierarchy:e.rows.toArray(),i=[].concat(e._frozenNearDefaultRows,e._nearRowsAdded,t,e._farRowsAdded,e._frozenFarDefaultRows);return e.__viewRows=i,i}},{key:"styleProperties",get:function(){return["grid-template-columns"]}},{key:"_scrollWidth",get:function(){var e=this;if(e.__scrollWidth)return e.__scrollWidth;for(var t=0,i=0;i<e.viewColumns.length;i++){var a=e.viewColumns[i];a.visible&&!a.adaptiveVisible&&(t+=a.computedWidth)}if(e.adaptivityMode.responsiveLayout.enabled){var n=e.adaptivityMode.responsiveLayout.width;if(1+e.$.scrollView.offsetWidth<=n)return 0}if(e.adaptivityMode.adaptiveLayout.enabled){var o=e.adaptivityMode.adaptiveLayout.width;if(1+e.$.scrollView.offsetWidth<=o)return 0}return t=parseInt(t),e.__scrollWidth=t,e._scrollView.scrollWidth=t-e._clientSize.width,e.__scrollWidth}},{key:"enableShadowDOM",get:function(){return!0}},{key:"_contentBorder",get:function(){var e=this;if(e.__contentBorder)return e.__contentBorder;var t=getComputedStyle(e.$.content),i=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),a=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),n={left:i,top:a};return e.__contentBorder=n,n}},{key:"_recyclingRows",get:function(){var e=this;if(e.rowHierarchy)return e.rowHierarchy;var t=e.getVisibleRows();return e.paging.enabled&&(t=t.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),t}}],[{key:"properties",get:function(){return{adaptivityMode:{value:{responsiveLayout:{value:{enabled:{value:!1,type:"boolean"},autoShowHiddenCells:{value:!0,type:"boolean"},width:{value:900,type:"number"}},type:"object"},adaptiveLayout:{value:{enabled:{value:!1,type:"boolean"},width:{value:450,type:"number"}},type:"object"}},type:"object"},allowColumnReorder:{value:!1,type:"boolean"},allowRowReorder:{value:!1,type:"boolean"},allowColumnFixing:{value:!1,type:"boolean"},appearance:{value:{alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},allowHover:{value:!1,type:"boolean",defaultReflectToAttribute:!0},allowHeaderHover:{value:!0,type:"boolean",defaultReflectToAttribute:!0},allowRowToggleAnimation:{value:!1,type:"boolean"},allowRowDetailToggleAnimation:{value:!1,type:"boolean"},allowSortAnimation:{value:!1,type:"boolean"},allowColumnLabelAnimation:{value:!0,type:"boolean"},allowCheckBoxesSelectionAnimation:{value:!0,type:"boolean"},allowColumnMenuAnimation:{value:!0,type:"boolean"},allowColumnSortButtonAnimation:{value:!0,type:"boolean"},allowColumnActionButtonAnimation:{value:!0,type:"boolean"},allowColumnFilterButtonAnimation:{value:!0,type:"boolean"},allowColumnStickyPosition:{value:!1,type:"boolean"},autoShowColumnSortButton:{value:!0,type:"boolean"},autoShowColumnActionButton:{value:!0,type:"boolean"},autoShowColumnFilterButton:{value:!0,type:"boolean"},sortAnimationDuration:{value:500,type:"number"},showRowHeader:{value:!1,type:"boolean"},showRowNumber:{value:!1,type:"boolean"},showColumnHeaderLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showColumnLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showRowLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showFilterColumnBackground:{value:!0,type:"boolean"},showSortColumnBackground:{value:!0,type:"boolean"},showFrozenColumnBackground:{value:!0,type:"boolean"},showFrozenRowBackground:{value:!0,type:"boolean"},showColumnSortButton:{value:!0,type:"boolean"},showColumnFilterButton:{value:!0,type:"boolean"},showColumnDescriptionButton:{value:!1,type:"boolean"},showColumnIcon:{value:!1,type:"boolean"},showColumnCustomButton:{value:!1,type:"boolean"},showColumnActionButton:{value:!0,type:"boolean"},showTooltips:{value:!1,type:"boolean"},showResizeTooltips:{value:!0,type:"boolean"},showHorizontalScrollBarOnFixedColumns:{value:!1,type:"boolean"},showVerticalScrollBarOnFixedColumns:{value:!1,type:"boolean"}},type:"object"},dataExport:{value:{header:{value:!0,type:"boolean"},filterBy:{value:null,type:"object"},groupBy:{value:null,type:"object"},style:{value:null,type:"object"},fileName:{value:"jqxGrid",type:"string"},pageOrientation:{value:"portrait",type:"string"},expandChar:{value:"+",type:"string"},collapseChar:{value:"-",type:"string"}},type:"object"},clipboard:{value:{enabled:{value:!0,type:"boolean"},autoFillMode:{value:"copy",allowedValues:["none","copy","fillSeries"],type:"string"},onPasteValue:{value:null,type:"any"}},type:"object"},columns:{value:[],type:"any",reflectToAttribute:!1},columnWidth:{value:null,type:"any",reflectToAttribute:!1},columnChooser:{value:{allowSearch:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"},label:{value:"Column Chooser",type:"string"},mode:{value:"dragAndDrop",type:"string",allowedValues:["select","dragAndDrop"]},placeholder:{value:"Drag a column here to hide it",type:"string"},width:{value:250,type:"number"},height:{value:200,type:"number"}},type:"object"},columnMenu:{value:{autoClose:{value:!0,type:"boolean"},dataSource:{value:{columnMenuCustomizeType:{command:"customizeTypeCommand",enabled:!0,visible:!1,icon:"jqx-icon-customize",label:"{{messages}}"},columnMenuItemRename:{command:"renameCommand",enabled:!0,visible:!1,icon:"jqx-icon-rename",label:"{{messages}}"},columnMenuItemEditDescription:{command:"editDescriptionCommand",enabled:!0,visible:!1,icon:"jqx-icon-info-circled",label:"{{messages}}"},columnMenuItemDuplicate:{command:"duplicateCommand",visible:!1,enabled:!0,icon:"jqx-icon-duplicate",label:"{{messages}}"},columnMenuItemInsertLeft:{command:"insertLeftCommand",visible:!1,enabled:!0,icon:"jqx-icon-insert-left",label:"{{messages}}"},columnMenuItemInsertRight:{command:"insertRightCommand",visible:!1,enabled:!0,icon:"jqx-icon-insert-right",label:"{{messages}}"},columnMenuItemSortAsc:{command:"sortAscCommand",visible:"auto",enabled:!0,iconAlt:"jqx-icon-sort-number-up",icon:"jqx-icon-sort-name-up",label:"{{messages}}"},columnMenuItemSortDesc:{command:"sortDescCommand",visible:"auto",enabled:!0,iconAlt:"jqx-icon-sort-number-down",icon:"jqx-icon-sort-name-down",label:"{{messages}}"},columnMenuItemRemoveSort:{command:"removeSortCommand",visible:"auto",enabled:!0,icon:"jqx-icon-cancel-circled",label:"{{messages}}"},columnMenuItemFilter:{command:"addFilterCommand",visible:"auto",enabled:!0,icon:"jqx-icon-add-filter",label:"{{messages}}"},columnMenuItemRemoveFilter:{command:"removeFilterCommand",enabled:!0,visible:"auto",icon:"jqx-icon-cancel-circled-outline",label:"{{messages}}"},columnMenuItemGroupBy:{command:"groupByCommand",enabled:!0,visible:"auto",icon:"jqx-icon-object-group",label:"{{messages}}"},columnMenuItemRemoveGroupBy:{command:"removeGroupByCommand",visible:"auto",enabled:!0,icon:"jqx-icon-object-ungroup",label:"{{messages}}"},columnMenuItemHide:{command:"hideColumnCommand",enabled:!0,visible:!1,icon:"jqx-icon-hide",label:"{{messages}}"},columnMenuItemDelete:{command:"deleteColumnCommand",enabled:!0,visible:!1,icon:"jqx-icon-delete",label:"{{messages}}"}},type:"object"},visible:{value:!1,type:"boolean"},width:{value:250,type:"number"},height:{value:null,type:"number?"}},type:"object"},columnGroups:{value:[],type:"array",reflectToAttribute:!1},columnHeight:{value:null,type:"any",reflectToAttribute:!1},columnMinHeight:{value:30,type:"any",reflectToAttribute:!1},columnResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]},dataSource:{value:null,type:"object",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},grouping:{value:{enabled:{value:!1,type:"boolean",reflectToAttribute:!1},allowCollapse:{value:!1,type:"boolean",reflectToAttribute:!1},autoExpandAll:{value:!1,type:"boolean",reflectToAttribute:!1},expandMode:{value:"buttonClick",type:"string",allowedValues:["buttonClick","rowClick"],reflectToAttribute:!1},groupRowHeight:{value:50,type:"any",reflectToAttribute:!1},toggleButtonIndent:{value:16,type:"number",reflectToAttribute:!1},groupIndent:{value:16,type:"number",reflectToAttribute:!1},groupBar:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnDragDrop:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnCloseButtons:{value:!0,type:"boolean",reflectToAttribute:!1}},type:"object"},groupPanel:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1}},type:"object"},summaryRow:{value:{inline:{value:!0,type:"boolean"},visible:{value:!0,type:"boolean"}},type:"object"}},type:"object"},messages:{extend:!0,value:{en:{invalidColumnProperty:'{{elementType}}: Invalid property name "{{propertyName}}" set for Column: "{{type}}"',invalidRowProperty:'{{elementType}}: Invalid property name "{{propertyName}}" set for Row"',frozenColumns:"{{elementType}}: To Pin/Freeze a column group, all columns within it should be frozen.",frozenRows:"{{elementType}}: To Pin/Freeze a special cell, all rows within it should be frozen.",columnGroups:"{{elementType}}: Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.",min:"Min: {{value}}",max:"Max: {{value}} ",sum:"Sum: {{value}} ",avg:"Avg: {{value}} ",count:"Count: {{value}} ",pagerFirstButton:"First",pagerLastButton:"Last",pagerPreviousButton:"Previous",pagerNextButton:"Next",pagerNavigateToLabel:"Go to:",pagerPageSizeLabel:"Show:",pagerNavigateToInputPlaceholder:"",pagerEllipsis:"...",pagerSummaryString:"of",pagerSummaryPrefix:"of",pagerSummarySuffix:"",columnMenuCustomizeType:"Customize type",columnMenuItemRename:"Rename",columnMenuItemEditDescription:"Edit description",columnMenuItemDuplicate:"Duplicate",columnMenuItemInsertLeft:"Insert left",columnMenuItemInsertRight:"Insert right",columnMenuItemSortAsc:"Sort {{mode}}",columnMenuItemSortDesc:"Sort {{mode}}",columnMenuItemRemoveSort:"Remove Sort",columnMenuItemFilter:"Filter",columnMenuItemRemoveFilter:"Remove Filter",columnMenuItemGroupBy:"Group by this column",columnMenuItemRemoveGroupBy:"Remove Group",columnMenuItemHide:"Hide",columnMenuItemDelete:"Delete",commandBarAddRow:"Add",commandBarDeleteRow:"Delete",commandBarBatchRevert:"Revert",commandBarBatchSave:"Save",commandColumnEdit:"Edit",commandColumnDelete:"Delete",commandColumnCancel:"Cancel",commandColumnUpdate:"Update",commandColumnMenu:"",addNewRow:"Click here to add a new row",dialogEditHeader:"Edit {{value}}",dialogAddButtonConfirm:"ADD",dialogAddButtonCancel:"CANCEL",dialogEditButtonConfirm:"OK",dialogEditButtonCancel:"CANCEL",dialogDeleteButtonConfirm:"DELETE",dialogDeleteButtonCancel:"CANCEL",dialogAddHeader:"Add Row",dialogDeleteHeader:"Delete Row",dialogDeleteContent:"Are you sure you want to delete this row?"}},type:"object"},onCellValue:{value:null,type:"any",reflectToAttribute:!1},onBeforeInit:{value:null,type:"any",reflectToAttribute:!1},onInit:{value:null,type:"any",reflectToAttribute:!1},onKey:{value:null,type:"any",reflectToAttribute:!1},onRender:{value:null,type:"any",reflectToAttribute:!1},onRowInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailUpdated:{value:null,type:"any",reflectToAttribute:!1},onRowInserted:{value:null,type:"any",reflectToAttribute:!1},onRowRemoved:{value:null,type:"any",reflectToAttribute:!1},onRowUpdated:{value:null,type:"any",reflectToAttribute:!1},onColumnInit:{value:null,type:"any",reflectToAttribute:!1},onColumnInserted:{value:null,type:"any",reflectToAttribute:!1},onColumnRemoved:{value:null,type:"any",reflectToAttribute:!1},onColumnUpdated:{value:null,type:"any",reflectToAttribute:!1},onCommand:{value:null,reflectToAttribute:!1,type:"any"},filtering:{value:{enabled:{value:!1,type:"boolean"},filter:{value:[],type:"array",reflectToAttribute:!1},filterRow:{value:{visible:{value:!1,type:"boolean"},menuVisible:{value:!1,type:"boolean"},applyMode:{value:"auto",type:"string",allowedValues:["auto","click"]},autoApplyModeDelay:{value:300,type:"number"}},type:"object"},filterMenu:{value:{visible:{value:!0,type:"boolean"},buttons:{value:["cancel","clear","filter"],type:"array"},dataSource:{value:null,type:"any"},width:{value:250,type:"number"},height:{value:200,type:"number"}},type:"object"},filterBuilder:{value:{visible:{value:!1,type:"boolean"},height:{value:null,type:"number?"}},type:"object"}},type:"object"},editing:{value:{active:{value:!1,readonly:!0,type:"boolean"},enabled:{value:!1,type:"boolean"},batch:{value:!1,type:"any"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},commandKeys:{value:{commandKeyEdit:{value:{command:"commandKeyEditCommand",key:"F2"},type:"object"},commandKeyCancel:{value:{command:"commandKeyCancelCommand",key:"Escape"},type:"object"},commandKeyUpdate:{value:{command:"commandKeyUpdateCommand",key:"Enter | Tab"},type:"object"}},type:"object"},commandBar:{value:{visible:{value:!1,type:"boolean"},position:{value:"near",allowedValues:["near","far","both"],type:"string"},displayMode:{value:"labelAndIcon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandBarAddRow:{value:{command:{value:"commandBarAddRowCommand",type:"any"},icon:{value:"jqx-icon-plus",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarDeleteRow:{value:{command:{value:"commandBarDeleteRowCommand",type:"any"},icon:{value:"jqx-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarBatchSave:{value:{command:{value:"commandBarBatchSaveCommand",type:"any"},icon:{value:"jqx-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandBarBatchRevert:{value:{command:{value:"commandBarBatchRevertCommand",type:"any"},icon:{value:"jqx-icon-ccw",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"}},type:"object"}},type:"object"},commandColumn:{value:{visible:{value:!1,type:"boolean"},inline:{value:!1,type:"boolean"},position:{value:"far",allowedValues:["near","far"],type:"string"},displayMode:{value:"icon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandColumnMenu:{value:{command:{value:"commandColumnMenuCommand",type:"any"},icon:{value:"jqx-icon-menu",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnEdit:{value:{command:{value:"commandColumnEditCommand",type:"any"},icon:{value:"jqx-icon-rename",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnDelete:{value:{command:{value:"commandColumnDeleteCommand",type:"any"},icon:{value:"jqx-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandColumnUpdate:{value:{command:{value:"commandColumnUpdateCommand",type:"any"},icon:{value:"jqx-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnCancel:{value:{command:{value:"commandColumnCancelCommand",type:"any"},icon:{value:"jqx-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnRowMenu:{value:{command:{value:"commandColumnRowMenuCommand",type:"any",reflectToAttribute:!1},icon:{value:"jqx-icon-ellipsis-vert",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnCustom:{value:{command:{value:"",type:"any"},icon:{value:"jqx-icon-ellipsis-vert",type:"string"},label:{value:"",type:"string"},visible:{value:!1,type:"any"}},type:"object"}},type:"object"},width:{value:null,type:"number?"}},reflectToAttribute:!1,type:"object"},mode:{value:"cell",allowedValues:["cell","row"],type:"string"},addNewRow:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},visible:{value:!1,type:"boolean"},autoCreate:{value:!1,type:"boolean"},autoSave:{value:!0,type:"boolean"},label:{value:"{{message}}",type:"string"},displayMode:{value:"row",allowedValues:["row","button"],type:"string"}},type:"object"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},addDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},deleteDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},paging:{value:{enabled:{value:!1,type:"boolean"},spinner:{value:{enabled:{value:!1,type:"boolean"},step:{value:1,type:"number"}},type:"object"},pageSize:{value:10,type:"int",validator:"pageSizeValidator"},pageIndex:{value:0,type:"int",validator:"pageIndexValidator"}},type:"object"},pager:{value:{autoEllipsis:{value:"both",allowedValues:["none","before","after","both"],type:"string"},position:{value:"far",allowedValues:["near","far","both"],type:"string"},template:{value:"",type:"string"},pageSizeSelector:{value:{visible:{value:!1,type:"boolean"},dataSource:{value:[10,20,50],type:"object"},position:{value:"far",allowedValues:["near","far"],type:"string"}},type:"object"},summary:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},navigationButtons:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},prevNextButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},firstLastButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},labels:{value:{visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},navigationInput:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},pageIndexSelectors:{value:{visible:{value:!0,type:"boolean"},dataSource:{value:10,type:"any"}},type:"object"},visible:{value:!1,type:"boolean"}},type:"object",reflectToAttribute:!1},placeholder:{value:"No Rows",type:"string"},rowDetail:{value:{enabled:{value:!1,type:"boolean"},height:{value:200,type:"number"},position:{value:"near",allowedValues:["near","far"],type:"string"},template:{value:"",type:"any",reflectToAttribute:!1},visible:{value:!0,type:"boolean"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},rowMinHeight:{value:30,type:"number"},rowHeight:{value:null,type:"any",reflectToAttribute:!1},rowResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]},summaryRow:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},scrollMode:{value:"physical",allowedValues:["physical","virtual","infinite","deferred"],type:"string"},columnHeader:{value:{visible:{value:!0,type:"boolean"}},type:"object"},groupHeader:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},header:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},footer:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},selection:{value:{enabled:{value:!1,type:"boolean"},allowRowHeaderSelection:{value:!1,type:"boolean"},allowColumnHeaderSelection:{value:!1,type:"boolean"},allowRowSelection:{value:!0,type:"boolean"},allowCellSelection:{value:!1,type:"boolean"},allowDragSelection:{value:!0,type:"boolean"},allowDragSelectionAutoScroll:{value:!0,type:"boolean"},allowCellDragSelectionHandle:{value:!0,type:"boolean"},allowCellDragDropSelectionHandle:{value:!0,type:"boolean"},allowCellDragSelectionAutoFill:{value:!0,type:"boolean"},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},mode:{value:"many",type:"string",allowedValues:["one","many","extended"]},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},checkBoxes:{value:{enabled:{value:!1,type:"boolean"},autoShow:{value:!1,type:"boolean"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},position:{value:"near",allowedValues:["near","far"],type:"string"}},type:"object"},selected:{value:"",type:"string"}},type:"object"},sorting:{value:{enabled:{value:!1,type:"boolean"},sort:{value:[],type:"array"},mode:{value:"one",allowedValues:["one","many"],type:"string"},sortToggleThreeStates:{value:!0,type:"boolean"}},type:"object"}}}},{key:"requires",get:function(){return{}}},{key:"styleUrls",get:function(){return["jqx.grid.css"]}},{key:"listeners",get:function(){return{focus:"_focusHandler",blur:"_blurHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler","document.move":"_moveHandler","document.down":"_downHandler","document.scroll":"_scrollHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler","columnHeader.down":"_columnDownHandler","columnHeader.move":"_columnMoveHandler","columnHeader.mouseleave":"_columnMouseLeaveHandler","rowNearContainer.down":"_rowDownHandler","rowContainer.down":"_rowDownHandler","rowFarContainer.down":"_rowDownHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler"}}}]),t}(JQX.ScrollViewer)),function(){JQX.Grid.Extend=function(e){var t=Object.getOwnPropertyNames(e.prototype);for(var i in t){var a=t[i];"constructor"!==a&&(JQX.Grid.prototype[a]=e.prototype[a])}},JQX.Grid.Extend(JQX.Utilities.Grid.Pager),JQX.Grid.Extend(JQX.Utilities.Grid.Filter),JQX.Grid.Extend(JQX.Utilities.Grid.Sort),JQX.Grid.Extend(JQX.Utilities.Grid.Menu),JQX.Grid.Extend(JQX.Utilities.Grid.Select),JQX.Grid.Extend(JQX.Utilities.Grid.Edit),JQX.Grid.Extend(JQX.Utilities.Grid.Group),JQX.Grid.Extend(JQX.Utilities.Grid.Tree),JQX.Grid.Extend(JQX.Utilities.Grid.Export),JQX.Grid.Cell=JQX.Utilities.Grid.Cell,JQX.Grid.Row=JQX.Utilities.Grid.Row,JQX.Grid.Column=JQX.Utilities.Grid.Column}(),JQX("jqx-menu-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return""}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this.$.addClass("jqx-unselectable")}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;if("disabled"===e&&!1!==a&&n.checked){var o=n.menu;if(o){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),n.checked=!1;var r=n.parentItem;"radioButton"===(r?r.checkMode:o.checkMode)&&o._validateRadioButtonSelection(r,n.level,[])}}}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{checked:{value:!1,type:"boolean"},label:{value:"",type:"any"},level:{value:null,type:"number?"},separator:{value:!1,type:"boolean"},shortcut:{value:"",type:"string"},value:{value:null,type:"any"}}}}]),t}(JQX.BaseElement)),JQX("jqx-menu-items-group",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return""}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this.$.addClass("jqx-unselectable")}},{key:"propertyChangedHandler",value:function(e,i,a){if(-1!==["checkable","checkMode","disabled"].indexOf(e)){var n=this,o=n.menu;if(o)switch(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),e){case"checkable":a?n.itemContainer.setAttribute("checkable",""):n.itemContainer.removeAttribute("checkable"),o._isContainerOpened(n.container.level,n.container)&&"tree"!==o.mode&&!o._minimized&&o._closeSubContainers(n.level+2);break;case"checkMode":n.itemContainer.setAttribute("check-mode",a),o._changeToRadioButtonMode(a,n.itemContainer,n);break;case"disabled":if(JQX.ListMenu&&o instanceof JQX.ListMenu){if(o._view)for(;n.contains(o._view);)o._backButtonClickHandler()}else o._isContainerOpened(n.container.level,n.container)&&o._closeSubContainers(n.level+1,n.container);if(!n.checked)return;n.checked=!1;var r=n.parentItem;"radioButton"===(r?r.checkMode:o.checkMode)&&o._validateRadioButtonSelection(r,n.level,[])}}}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{checkable:{value:!1,type:"boolean"},checked:{value:!1,type:"boolean"},checkMode:{value:"checkbox",allowedValues:["checkbox","radioButton"],type:"string"},dropDownHeight:{value:null,type:"number?"},expanded:{value:!1,type:"boolean"},label:{value:"",type:"any"},level:{value:null,type:"number?"},separator:{value:!1,type:"boolean"},value:{value:null,type:"any"}}}}]),t}(JQX.BaseElement)),JQX("jqx-menu",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="minimizedHeader" class ="jqx-header jqx-minimized-header jqx-hidden">\n                        <div id="hamburgerIcon" class ="jqx-hamburger-icon jqx-hidden">\n                            <div id="hamburgerIconLineTop" class ="jqx-hamburger-icon-line jqx-hamburger-icon-line-top"></div>\n                            <div id="hamburgerIconLineCenter" class ="jqx-hamburger-icon-line jqx-hamburger-icon-line-center"></div>\n                            <div id="hamburgerIconLineBottom" class ="jqx-hamburger-icon-line jqx-hamburger-icon-line-bottom"></div>\n                            <div id="customIconContainer" class ="jqx-hamburger-icon-custom-container jqx-hidden"></div>\n                        </div>\n                    </div>\n                    <jqx-repeat-button id="scrollButtonNear" class="jqx-menu-scroll-button jqx-spin-button jqx-scroll-button-near jqx-hidden" animation="[[animation]]" unfocusable>\n                        <div id="arrowNear" class="jqx-arrow"></div>\n                    </jqx-repeat-button>\n                    <div id="mainContainer" class="jqx-menu-main-container">\n                        <content></content>\n                    </div>\n                    <jqx-repeat-button id="scrollButtonFar" class="jqx-menu-scroll-button jqx-spin-button jqx-scroll-button-far jqx-hidden" animation="[[animation]]" unfocusable>\n                        <div id="arrowFar" class="jqx-arrow"></div>\n                    </jqx-repeat-button>\n                </div>'}},{key:"attached",value:function(){var e=this;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),!("tree"===e._element||JQX.ListMenu&&e instanceof JQX.ListMenu)&&e.isCompleted&&null!==e.dropDownAppendTo){if(e._minimized)e._dropDownParent.appendChild(e.$.mainContainer);else for(var i=0;i<e._containersInBody.length;i++)e._dropDownParent.appendChild(e._containersInBody[i]);"dropDown"===e.mode&&(e._dropDownParent===e.parentElement?e._dynamicallyReparented?delete e._dynamicallyReparented:e._positionRelativeTo=null:(e._positionRelativeTo=e.parentElement,e._dynamicallyReparented=!0,setTimeout(function(){e._dropDownParent.appendChild(e)},0)))}}},{key:"detached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),"tree"===e._element||JQX.ListMenu&&e instanceof JQX.ListMenu||(e._close(),null!==e.dropDownAppendTo&&(e._minimized?e._dropDownParent.removeChild(e.$.mainContainer):e._removeContainersInBody()))}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._element="menu",e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._containers=[],e._containersInBody=[],e._openedContainers=[],e._containersFixedHeight=[],e._menuItemsGroupsToExpand=[],e._additionalScrollButtons=[],e._createElement()}},{key:"addItem",value:function(e,t){var i=this;if(e instanceof JQX.MenuItem||e instanceof JQX.MenuItemsGroup){var a=void 0,n=void 0;if(void 0===t)t=i.$.mainContainer,a=1,n=t;else{if((t=i.getItem(t))instanceof JQX.MenuItemsGroup==!1)return;a=t.level+1,n=t.itemContainer}if(i._createItemHTMLStructure(e,a,t,n.childElementCount,0),e instanceof JQX.MenuItemsGroup&&(i._processHTML(e,a+1),i._checkContainersLength()),n.appendChild(e),i._checkOverflowAddRemove(e.level,n),e instanceof JQX.MenuItemsGroup&&("tree"===i.mode||i._minimized)){for(var o=e.getElementsByClassName("jqx-menu-items-group-arrow"),r=0;r<o.length;r++)o[r].className="jqx-menu-items-group-arrow down jqx-arrow-down";i._expandItemsByDefault()}}}},{key:"checkItem",value:function(e){var t=this;void 0===(e=t.getItem(e))||e.checked||e.disabled||e.templateApplied||t._toggleItem(e)}},{key:"clear",value:function(){var e=this;e.$.mainContainer.innerHTML="",e._removeContainersInBody(),e._menuItems={},e._containers=[],e._containersInBody=[],e._openedContainers=[],e._containersFixedHeight=[],e._menuItemsGroupsToExpand=[],e._additionalScrollButtons=[]}},{key:"close",value:function(){var e=this;if(!("dropDown"!==e.mode||!1===e.opened&&e.$.hasClass("jqx-visibility-hidden"))){e.$.fireEvent("closing",arguments[0]||{trigger:"programmatic"}).defaultPrevented?e.opened=!0:(e.opened=!1,e.$.addClass("jqx-visibility-hidden"),e._close(),e.$.fireEvent("close"))}}},{key:"collapseItem",value:function(e,t){var i=this,a=i.animation,n=!1===t&&i.hasAnimation;if(void 0===e)return n&&(i.animation="none"),i._close(),void(n&&setTimeout(function(){i.animation=a},0));if(!(void 0===(e=i.getItem(e))||e instanceof JQX.MenuItem)){var o=e.level;if(i._openedContainers[o+1]&&i._isContainerOpened(o+1,e.container)){var r=i.mode;n&&(i.animation="none"),
i._closeSubContainers(o+1,e.container,void 0,!1!==arguments[2]),1!==o&&"tree"!==r||i._checkOverflow(i.$.mainContainer,"horizontal"===r,[i.$.scrollButtonNear,i.$.scrollButtonFar]),n&&(i.animation=a)}}}},{key:"expandItem",value:function(e,t){var i=this;if(!(void 0===(e=i.getItem(e))||e instanceof JQX.MenuItemsGroup&&i._isContainerOpened(e.level+1,e.container)&&i._isBranchExpanded(e))){var a=[e],n=i.animation,o=!1===t&&i.hasAnimation,r=e.parentItem;for(o&&(i.animation="none"),i._discardKeyboardHover();r;)a.unshift(r),r=r.parentItem;for(var l=0;l<a.length;l++){var s=a[l];if(l===a.length-1&&s instanceof JQX.MenuItem){s.disabled||s.templateApplied||i._hoverViaKeyboard(s);break}i._isContainerOpened(s.container.level,s.container)||i._menuItemsGroupSelectionHandler(s,{target:s,type:"expand",isTrusted:!0},arguments[2])}o&&(i.animation=n)}}},{key:"getItem",value:function(e){var t=this,i=void 0;if("string"==typeof e){if(null===(i=t.shadowRoot?t.shadowRoot.getElementById(e):document.getElementById(e)))return t._menuItems[e]}else{if(!isNaN(e))return t._menuItems[e.toString()];i=e}if((i instanceof JQX.MenuItem||i instanceof JQX.MenuItemsGroup)&&(t.contains(i)||t.$.mainContainer.contains(i)||i.parentElement.parentElement.ownerElement===t))return i}},{key:"maximize",value:function(){var e=this;if(e._minimized){var t=e.animation;if(e.$.mainContainer.style.marginTop="",e.$.mainContainer.style.marginLeft="",e.enableShadowDOM&&!e.$.mainContainer.id&&(e.$.mainContainer.id=e.$.mainContainer.getAttribute("jqx-id")),"none"!==t&&(e.animation="none"),e._positionDetection.removeOverlay(),e._closeSubContainers(2),e.$minimizedHeader.addClass("jqx-hidden"),e._minimized=!1,e._minimizedDropDownOpened&&(e.$hamburgerIcon.removeClass("jqx-close-button"),e._minimizedDropDownOpened=!1),null!==e.dropDownAppendTo&&e._appendMinimizedContainerToMenu(e.$.mainContainer,e.$.scrollButtonFar),"tree"!==e.mode){e.$mainContainer.addClass("jqx-menu-main-container"),e.$mainContainer.removeClass("jqx-menu-minimized-items-container");for(var i=e.getElementsByClassName("jqx-menu-items-group-arrow"),a=0;a<i.length;a++)e._setArrowDirection(i[a],i[a].parentElement.parentElement.level+1);null!==e.dropDownAppendTo&&e._moveDropDownsToExternalContainer(),e._applyContainerFixedHeight()}e.$mainContainer.removeClass("jqx-visibility-hidden"),e.$hamburgerIcon.addClass("jqx-hidden"),e.removeAttribute("minimized"),e._checkOverflow(e.$.mainContainer,"horizontal"===e.mode,[e.$.scrollButtonNear,e.$.scrollButtonFar]),"none"!==t&&setTimeout(function(){e.animation=t},0)}}},{key:"minimize",value:function(){var e=this;if(!e._minimized&&"dropDown"!==e.mode){e.$minimizedHeader.removeClass("jqx-hidden");var t=null!==e.dropDownAppendTo,i=e.animation,a=e.hasAnimation;if(a&&(e.animation="none"),e._positionDetection.removeOverlay(),e._closeSubContainers(2),a&&t&&(e.animation=i),"tree"!==e.mode&&(t&&e._moveDropDownsToMenu(),e._removeContainerFixedHeight()),e._hideMainContainerScrollButtons(),e.$mainContainer.removeClass("jqx-menu-main-container"),e.$mainContainer.addClass("jqx-visibility-hidden"),e.enableShadowDOM&&e.$.mainContainer.removeAttribute("id"),e._edgeMacFF&&(e.$.mainContainer.style.left="",e.$.mainContainer.style.top="",e.$mainContainer.addClass("not-in-view")),e.$hamburgerIcon.removeClass("jqx-hidden"),t&&e._appendMinimizedContainerToExternalElement(e.$.mainContainer),setTimeout(function(){e.$mainContainer.addClass("jqx-menu-minimized-items-container"),a&&!t&&(e.animation=i)},0),e._minimized=!0,e.setAttribute("minimized",""),"tree"!==e.mode)for(var n=e.$.mainContainer.getElementsByClassName("jqx-menu-items-group-arrow"),o=0;o<n.length;o++)e._setArrowDirection(n[o],n[o].parentElement.parentElement.level+1)}}},{key:"open",value:function(e,t){var i=this;if("dropDown"===i.mode){if(i.$.fireEvent("opening").defaultPrevented)return void(i.opened=!1);var a=void 0;if(i.opened=!0,i._positionRelativeTo){var n=i._positionRelativeTo.getBoundingClientRect();e+=n.left,t+=n.top,i._positionedParent?(a=i._positionedParent.getBoundingClientRect(),e-=a.left,t-=a.top):(e+=window.pageXOffset,t+=window.pageYOffset)}var o=e+i.offsetWidth-document.documentElement.clientWidth,r=t+i.offsetHeight-document.documentElement.clientHeight;a?(o+=a.left,r+=a.top):(o-=window.pageXOffset,r-=window.pageYOffset),o>0?e-=o:e=a?Math.max(e,-a.left):Math.max(e,window.pageXOffset),r>0?t-=r:t=a?Math.max(t,-a.top):Math.max(t,window.pageYOffset),isNaN(e)||(i.style.left=e+"px"),isNaN(t)||(i.style.top=t+"px"),i.$.removeClass("jqx-visibility-hidden"),i.$.fireEvent("open"),i.hasAnimation||i._noAutoFocus||i.focus()}}},{key:"removeItem",value:function(e){var t=this;if(void 0!==(e=t.getItem(e))){var i=e.parentElement;if(e instanceof JQX.MenuItemsGroup){var a=e.container;if(t._isContainerOpened(a.level,a)&&t._closeSubContainers(a.level,a),1===e.level){var n=t._containersInBody.indexOf(a);-1!==n&&(t._containersInBody.splice(n,1),null===t.dropDownAppendTo||"tree"===t.mode||t._minimized||t._dropDownParent.removeChild(a))}}i.removeChild(e),t._refreshContainersArrays(),t._menuItems={},t._refreshItemPaths(t.$.mainContainer,!0),t._checkOverflowAddRemove(e.level,i)}}},{key:"uncheckItem",value:function(e){var t=this;void 0===(e=t.getItem(e))||!e.checked||e.disabled||e.templateApplied||t._toggleItem(e)}},{key:"propertyChangedHandler",value:function(e,i,a){function n(){null===r.dropDownAppendTo&&"tree"!==r.mode||r._checkOverflow(r.$.mainContainer,"horizontal"===r.mode,[r.$.scrollButtonNear,r.$.scrollButtonFar])}function o(e,t,i){i?t.setAttribute(e,""):t.removeAttribute(e)}babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var r=this;switch(e){case"animation":r.$.mainContainer.setAttribute("animation",a),r._additionalScrollButtons.forEach(function(e){e[0].animation=a,e[1].animation=a}),null!==r._dropDownParent&&r._containers.forEach(function(e){e.setAttribute("animation",a)});break;case"checkable":"tree"===r.mode||r._minimized?r._minimized&&null!==r.dropDownAppendTo&&o("checkable",r.$.mainContainer,a):r._closeSubContainers(2);break;case"checkboxes":if(r._close(),null!==r.dropDownAppendTo){for(var l=0;l<r._containers.length;l++){o("checkboxes",r._containers[l],a)}r._minimized&&o("checkboxes",r.$.mainContainer,a)}break;case"checkMode":r._changeToRadioButtonMode(a,r.$.mainContainer),r._minimized&&null!==r.dropDownAppendTo&&r.$.mainContainer.setAttribute("check-mode",a);break;case"dataSource":var s=!1;r._minimized&&(r.maximize(),s=!0),r._removeContainersInBody(),r._containersInBody=[],r._menuItems={},r._processDataSource(),r._checkContainersLength(),s?r.minimize():n(),r._expandItemsByDefault(),r._suppressResizeHandler=!0,setTimeout(function(){return delete r._suppressResizeHandler},500);break;case"dropDownAppendTo":var d=r._dropDownParent;if(r._positionDetection.getDropDownParent(),r._dropDownParent===d||"tree"===r.mode&&!r._minimized)return;if(r._close(),r._minimized)return void(null===a?r._appendMinimizedContainerToMenu(r.$.mainContainer,r.$.scrollButtonFar):r._appendMinimizedContainerToExternalElement(r.$.mainContainer));if(null!==r._dropDownParent&&null===d)r._moveDropDownsToExternalContainer();else if(null===r._dropDownParent&&null!==d)r._moveDropDownsToMenu();else if(null!==r._dropDownParent&&null!==d)for(var u=0;u<r._containersInBody.length;u++)r._dropDownParent.appendChild(r._containersInBody[u]);null!==a||r.$mainContainer.hasClass("simple")?r._checkOverflow(r.$.mainContainer,"horizontal"===r.mode,[r.$.scrollButtonNear,r.$.scrollButtonFar]):r._hideMainContainerScrollButtons();for(var c=0;c<r._containersFixedHeight.length;c++)r._containersFixedHeight[c].itemContainer.checkOverflow=!0;"dropDown"===r.mode&&(r.close({trigger:"internal"}),r._reparentMenu(!0,d));break;case"dropDownOverlay":a||r._positionDetection.removeOverlay();break;case"disabled":a&&r._close(),r._setFocusable(),r.$.scrollButtonNear.disabled=a,r.$.scrollButtonFar.disabled=a,a||null===r.dropDownAppendTo&&!r.$mainContainer.hasClass("simple")&&"tree"!==r.mode||r._updateScrollButtonVisibility(r.$.mainContainer,"horizontal"===r.mode,[r.$.scrollButtonNear,r.$.scrollButtonFar]);break;case"dropDownPosition":case"mode":if("mode"===e){if(delete r._dynamicallyReparented,"tree"===i||r._minimized?(r._closeSubContainersTreeMode(2,void 0,void 0,void 0,!0),r._openedContainers=[]):r._closeSubContainersDefaultMode(2),r._discardKeyboardHover(!0),r._minimized&&r._minimizedDropDownOpened&&(r.$mainContainer.addClass("jqx-visibility-hidden"),r.$hamburgerIcon.removeClass("jqx-close-button"),r._minimizedDropDownOpened=!1),"horizontal"!==a&&"horizontal"!==i||r._changeScrollButtonsArrows(),r._minimized)return void("dropDown"===a&&(r.mode=i));!1===r.opened&&("dropDown"===a?r.$.addClass("jqx-visibility-hidden"):"dropDown"===i&&r.$.removeClass("jqx-visibility-hidden")),"tree"===i?(null!==r.dropDownAppendTo&&r._moveDropDownsToExternalContainer(),r.$mainContainer.addClass("jqx-menu-main-container"),r.$mainContainer.removeClass("jqx-menu-minimized-items-container"),r._applyContainerFixedHeight()):"tree"===a&&(null!==r.dropDownAppendTo&&r._moveDropDownsToMenu(),r._applyTreeMode()),"auto"===r.overflow&&r._hideMainContainerScrollButtons(),n()}if("tree"===r.mode||r._minimized)return r._minimizedDropDownOpened&&r._close(),void(r._minimized&&null!==r.dropDownAppendTo&&r.$.mainContainer.setAttribute(r.properties[e].attributeName,a));"dropDownPosition"===e&&r._close();for(var p=r.enableShadowDOM?r.shadowRoot.querySelectorAll("jqx-menu-items-group"):r.getElementsByTagName("jqx-menu-items-group"),m=0;m<p.length;m++){var v=p[m];r._setArrowDirection(v.children[0].children[1],v.level+1)}if(null!==r.dropDownAppendTo)for(var h=0;h<r._containers.length;h++){var f=r._containers[h];f.setAttribute(JQX.Utilities.Core.toDash(e),a),f.level>2&&r._setArrowDirection(f.menuItemsGroup.children[0].children[1],f.level)}break;case"minimizeIconTemplate":r._applyMinimizeIconTemplate(a,i);break;case"minimizeWidth":r._resizeHandler();break;case"opened":a?r.open():r.close({trigger:"internal"});break;case"overflow":r._handleOverflowChange();break;case"theme":if(null===r.dropDownAppendTo||JQX.ListMenu&&r instanceof JQX.ListMenu)return;if(r._minimized)""!==i&&r.$mainContainer.removeClass(i),""!==a&&r.$mainContainer.addClass(a);else for(var g=0;g<r._containers.length;g++){var _=r._containers[g];""!==i&&_.classList.remove(i),""!==a&&_.classList.add(a)}break;case"unfocusable":r._setFocusable()}}},{key:"_addOpenedContainer",value:function(e,t){var i=this;if("tree"===i.mode||i._minimized){i._openedContainers[e]||(i._openedContainers[e]=[]);var a=t.menuItemsGroup;return a.set("expanded",!0),i._updateState&&i._updateState("expanded",a.id,!0),i._openedContainers[e].push(t)}i._openedContainers[e]=t}},{key:"_appendMinimizedContainerToExternalElement",value:function(e){var t=this;e.ownerElement=t,t._dropDownParent.appendChild(e),e.setAttribute("animation",t.animation),""!==t.theme&&e.$.addClass(t.theme),e.$.addClass("jqx-menu-drop-down jqx-drop-down"),e.$.addClass("jqx-drop-down-repositioned"),e.setAttribute("check-mode",t.checkMode),e.setAttribute("drop-down-position",t.dropDownPosition),e.setAttribute("mode",t.mode),e.setAttribute("loading-indicator-position",t.loadingIndicatorPosition),t.checkable&&e.setAttribute("checkable",""),t.checkboxes&&e.setAttribute("checkboxes",""),t.$.view&&t.detachedChildren.indexOf(t.$.view)&&t.detachedChildren.push(t.$.view)}},{key:"_appendMinimizedContainerToMenu",value:function(e,t){var i=this;delete e.ownerElement,i.$.container.insertBefore(e,t),e.removeAttribute("animation"),""!==i.theme&&e.$.removeClass(i.theme),e.$.removeClass("jqx-menu-drop-down jqx-drop-down"),e.$.removeClass("jqx-drop-down-repositioned"),e.removeAttribute("checkable"),e.removeAttribute("checkboxes"),e.removeAttribute("check-mode"),e.removeAttribute("drop-down-position"),e.removeAttribute("mode"),e.removeAttribute("loading-indicator-position"),e.removeAttribute("style")}},{key:"_applyContainerFixedHeight",value:function(){for(var e=this,t=0;t<e._containers.length;t++){var i=e._containers[t];-1!==e._containersFixedHeight.indexOf(i)?(i.style.height=i.menuItemsGroup.dropDownHeight+"px",i.itemContainer.checkOverflow=!0):i.style.height=""}}},{key:"_applyGrouping",value:function(e,t){var i=this,a=void 0;a=e===i.$.mainContainer?Array.from(e.children):Array.from(e.container.firstElementChild.children);for(var n=0;n<a.length;n++){var o=a[n];o.originalIndex=n,o instanceof JQX.MenuItemsGroup&&void 0===t&&i._applyGrouping(o)}i._sortItems(e)}},{key:"_applyMinimizeIconTemplate",value:function(e,t){var i=this;if(null===e){if(null===t)return;i.$customIconContainer.addClass("jqx-hidden"),i.$.customIconContainer.innerHTML="",i.$hamburgerIconLineTop.removeClass("jqx-hidden"),i.$hamburgerIconLineCenter.removeClass("jqx-hidden"),i.$hamburgerIconLineBottom.removeClass("jqx-hidden")}else{var a=document.getElementById(e);if(null!==a&&"template"===a.tagName.toLowerCase()){var n=document.importNode(a.content,!0);i.$hamburgerIconLineTop.addClass("jqx-hidden"),i.$hamburgerIconLineCenter.addClass("jqx-hidden"),i.$hamburgerIconLineBottom.addClass("jqx-hidden"),i.$.customIconContainer.innerHTML="",i.$.customIconContainer.appendChild(n),i.$customIconContainer.removeClass("jqx-hidden")}else i.minimizeIconTemplate=t}}},{key:"_applyTreeMode",value:function(){var e=this,t=e.getElementsByClassName("jqx-menu-items-group-arrow");if(e.$mainContainer.removeClass("jqx-menu-main-container"),e.$mainContainer.addClass("jqx-menu-minimized-items-container"),e.isCompleted)for(var i=0;i<t.length;i++)t[i].className="jqx-menu-items-group-arrow down";e._removeContainerFixedHeight()}},{key:"_arrowLeftHandler",value:function(e,t,i,a){var n=this;1===e?"horizontal"===t&&n._levelOneNavigate("_getLastEnabledChild",i,a):2===e?n._levelOneNavigateFromLowerLevel("_getPreviousEnabledChild",i):n._escapeHandler(i,e,a)}},{key:"_arrowRightHandler",value:function(e,t,i,a){var n=this;1===e?"horizontal"===t?n._levelOneNavigate("_getFirstEnabledChild",i,a):n._levelOneOpenDropDown(i):i instanceof JQX.MenuItemsGroup?n._selectionHandler({target:i,isTrusted:!0}):n._levelOneNavigateFromLowerLevel("_getNextEnabledChild",i)}},{key:"_browserBoundsDetection",value:function(e){var t=this;if(("tree"!==t.mode||t._minimized)&&(e.style.marginTop="",e.style.marginLeft="","auto"===t.dropDownPosition)){var i=1===window.devicePixelRatio?document.documentElement.clientWidth:window.innerWidth,a=1===window.devicePixelRatio?document.documentElement.clientHeight:window.innerHeight,n=e.getBoundingClientRect(),o=i-n.left-e.offsetWidth,r=a-n.top-e.offsetHeight;o<10&&(e.style.marginLeft=Math.min(o-10,-10)+"px"),r<10&&(e.style.marginTop=Math.min(r-10,-10)+"px")}}},{key:"_changeScrollButtonsArrows",value:function(){var e=this;"horizontal"===e.mode?(e.$arrowNear.removeClass("jqx-arrow-up"),e.$arrowNear.addClass("jqx-arrow-left"),e.$arrowFar.removeClass("jqx-arrow-down"),e.$arrowFar.addClass("jqx-arrow-right")):(e.$arrowNear.removeClass("jqx-arrow-left"),e.$arrowNear.addClass("jqx-arrow-up"),e.$arrowFar.removeClass("jqx-arrow-right"),e.$arrowFar.addClass("jqx-arrow-down"))}},{key:"_changeToRadioButtonMode",value:function(e,t,i){if("radioButton"===e){for(var a=[],n=0;n<t.childElementCount;n++){var o=t.children[n];!o.checked||o.disabled||o.templateApplied||a.push(o)}this._validateRadioButtonSelection(i,i?i.level+1:1,a)}}},{key:"_checkContainersLength",value:function(e){var t=this;0===t._containers.length?(t.$mainContainer.addClass("simple"),e||t._checkOverflow(t.$.mainContainer,"horizontal"===t.mode,[t.$.scrollButtonNear,t.$.scrollButtonFar])):e||(t.$mainContainer.removeClass("simple"),null===t.dropDownAppendTo&&"tree"!==t.mode&&t.$mainContainer.removeClass("scroll-buttons-shown one-button-shown"))}},{key:"_checkOverflow",value:function(e,t,i){var a=this,n=e===a.$.mainContainer?a.overflow:"auto";if(!a._minimized&&"hidden"!==n&&(null!==a.dropDownAppendTo||"tree"===a.mode||e!==a.$.mainContainer||a.$mainContainer.hasClass("simple"))){var o=e.scrollTop;"auto"===n&&(e.classList.remove("scroll-buttons-shown"),e.classList.remove("one-button-shown"),i[0].$.addClass("jqx-hidden"),i[1].$.addClass("jqx-hidden"));var r=void 0,l=void 0,s=void 0;t?(r=Math.round(e.scrollWidth)>Math.round(e.offsetWidth),l=Math.round(e.scrollLeft)>0,s=Math.round(e.offsetWidth+e.scrollLeft)<Math.round(e.scrollWidth)):(r=Math.round(e.scrollHeight)>Math.round(e.offsetHeight),l=Math.round(e.scrollTop)>0,s=Math.round(e.offsetHeight+e.scrollTop)<Math.round(e.scrollHeight)),r?"auto"===n?(e.classList.add("scroll-buttons-shown"),l&&i[0].$.removeClass("jqx-hidden"),s&&i[1].$.removeClass("jqx-hidden"),!1===(l&&s)&&e.classList.add("one-button-shown"),a.disabled||(i[0].disabled=!1,i[1].disabled=!1),e.scrollTop=o):(i[0].$.removeClass("jqx-hidden"),i[1].$.removeClass("jqx-hidden"),a.disabled?(i[0].disabled=!0,i[1].disabled=!0):(i[0].disabled=!l,i[1].disabled=!s)):"scroll"===n&&(i[0].disabled=!0,i[1].disabled=!0),e===a.$.mainContainer&&"tree"!==a.mode&&a._close()}}},{key:"_checkOverflowAddRemove",value:function(e,t){var i=this;1===e&&null!==i.dropDownAppendTo||"tree"===i.mode?i._checkOverflow(i.$.mainContainer,"horizontal"===i.mode,[i.$.scrollButtonNear,i.$.scrollButtonFar]):e>1&&t.dropDownHeightSet&&(i._isContainerOpened(e,t.container)?i._checkOverflow(t,!1,[t.container.children[0],t.container.children[2]]):t.checkOverflow=!0)}},{key:"_close",value:function(){var e=this;e._positionDetection.removeOverlay(),e._closeSubContainers(2),e._discardKeyboardHover(!0),e._minimized&&e._minimizedDropDownOpened&&(e.$mainContainer.addClass("jqx-visibility-hidden"),e._edgeMacFF&&(e.$.mainContainer.style.left="",e.$.mainContainer.style.top="",e.$mainContainer.addClass("not-in-view")),e.$hamburgerIcon.removeClass("jqx-close-button"),e._minimizedDropDownOpened=!1)}},{key:"_closeSubContainers",value:function(e,t,i,a){var n=this;"tree"===n.mode||n._minimized?n._closeSubContainersTreeMode(e,t,i,a):n._closeSubContainersDefaultMode(e,t,i)}},{key:"_closeSubContainersDefaultMode",value:function(e,t,i){for(var a=this,n=a._openedContainers,o=n.length-1;o>=e;o--)void 0!==n[o]&&function(t){var o=n[t].menuItemsGroup;i&&t===e||(o.$.removeClass("focus"),o.removeAttribute("focus"),o.$.removeClass("hover"),o.removeAttribute("hover")),o.$.removeClass("jqx-menu-items-group-opened"),n[t].$.addClass("jqx-visibility-hidden"),a._edgeMacFF&&2===t&&!a.hasAnimation&&(n[t].style.left="",n[t].style.top="",n[t].$.addClass("not-in-view")),a._minimized&&a._browserBoundsDetection(a.$.mainContainer),a.$.fireEvent("collapse",{item:o,label:o.label,path:o.path,value:o.value,children:o.itemContainer.children}),n[t]=void 0}(o)}},{key:"_closeSubContainersTreeMode",value:function(e,t,i,a,n){var o=this;if(a){var r=t.menuItemsGroup;if(o.$.fireEvent("collapsing",{item:r,label:r.label,path:r.path,value:r.value,children:t.itemContainer.children}).defaultPrevented)return}if(void 0===t)return void o._collapseAll(!1,n);var l=t.menuItemsGroup;if(l.set("expanded",!1),"menu"===o._element)if(i){var s=o.$.mainContainer.getElementsByClassName("focus")[0];s&&(s.$.removeClass("focus"),s.removeAttribute("focus")),l.$.addClass("focus"),l.setAttribute("focus",""),o._focusedViaKeyboard=l}else l.$.removeClass("focus"),l.removeAttribute("focus");else o._updateState("expanded",l.id,!1);if(l.$.removeClass("jqx-"+o._element+"-items-group-opened"),n||!o.hasAnimation?(l.$.removeClass("jqx-"+o._element+"-items-group-expanded"),t.$.addClass("jqx-visibility-hidden"),o._minimized&&o._browserBoundsDetection(o.$.mainContainer)):o._collapseSection(t),a){var d={item:l,label:l.label,path:l.path,value:l.value,children:l.itemContainer.children};o.toggleCallback?(d.type="collapse",o.toggleCallback(d)):o.$.fireEvent("collapse",d)}if(o._openedContainers[e]){var u=o._openedContainers[e].indexOf(t);-1!==u&&o._openedContainers[e].splice(u,1)}}},{key:"_collapseAll",value:function(e,t){for(var i=this,a=i._openedContainers.length-1;a>=2&&void 0!==i._openedContainers[a];a--)for(var n=i._openedContainers[a].length-1;n>=0;n--)i._closeSubContainersTreeMode(a,i._openedContainers[a][n],void 0,e,t);i.hasAnimation||i._checkOverflow(i.$.mainContainer,!1,[i.$.scrollButtonNear,i.$.scrollButtonFar]);for(var o=i._openedContainers.length-1;o>=2;o--){var r=i._openedContainers[o];if(void 0!==r&&0!==r.length)break;i._openedContainers.splice(o,1)}2===i._openedContainers.length&&(i._openedContainers=[])}},{key:"_collapseSection",value:function(e){var t=this,i=e.scrollHeight+"px";t._treeAnimationInProgress=e,e.style.transition="none",requestAnimationFrame(function(){if("tree"!==t.mode&&!t._minimized)return void(e.style.transition="");e.style.height=i,e.style.transition="",requestAnimationFrame(function(){e.style.height="0px","jqx-tree"===t.tagName.toLowerCase()&&e.$.addClass("jqx-visibility-hidden"),"0px"===i&&t._transitionendHandlerCollapse(t,e)})}),e.addEventListener("transitionend",t._transitionendHandlerCollapse)}},{key:"_createElement",value:function(){var e=this,t=e.mode;e._positionDetection=new JQX.Utilities.PositionDetection(e),e._positionDetection.getDropDownParent(),e._reparentMenu(),e.disabled&&(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0),null===e.dataSource&&e.$.mainContainer.firstElementChild instanceof HTMLUListElement&&e._processUList();var i=e.getElementsByTagName("jqx-menu-item"),a=function(){var i=e.animation;e._changeScrollButtonsArrows(),e._setFocusable(),"dropDown"===t&&!1===e.opened&&(e.hasAnimation?(e.animation="none",e.$.addClass("jqx-visibility-hidden"),e.animation=i):e.$.addClass("jqx-visibility-hidden")),e._menuItems={},e.$.mainContainer.setAttribute("animation",i),null===e.dataSource?e._processHTML(e.$.mainContainer,1):e._processDataSource(),e._checkContainersLength(!0),null===e.dropDownAppendTo&&!e.$mainContainer.hasClass("simple")&&"tree"!==e.mode||"scroll"!==e.overflow||(e.$mainContainer.addClass("scroll-buttons-shown"),e.$scrollButtonNear.removeClass("jqx-hidden"),e.$scrollButtonFar.removeClass("jqx-hidden"),e._updateScrollButtonVisibility(e.$.mainContainer,"horizontal"===t,[e.$.scrollButtonNear,e.$.scrollButtonFar])),e._applyMinimizeIconTemplate(e.minimizeIconTemplate,null),"tree"===t&&e._applyTreeMode(),null!==e.minimizeWidth&&e.offsetWidth<=e.minimizeWidth?e.minimize():e._checkOverflow(e.$.mainContainer,"horizontal"===t,[e.$.scrollButtonNear,e.$.scrollButtonFar]),e._expandItemsByDefault(),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted())};0===i.length?a():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(i,a))}},{key:"_ensureItemsReady",value:function(e,t){var i=this,a=function(){var i=function(t){for(var i=0;i<e.length;i++)e[i].context="node"===t?e[i]:document};i("node"),t(),i()};if(0===e.length)a();else{i._nodesReadyListeners=0;for(var n=0;n<e.length;n++){var o=e[n],r=function(){0===--i._nodesReadyListeners&&(a(),delete i._nodesReadyListeners)}.bind(i);o.isCompleted||(i._nodesReadyListeners++,o.completeHandlers=[],o._onCompleted=r)}0===i._nodesReadyListeners&&a()}}},{key:"_createItemHTMLStructure",value:function(e,t,i,a){var n=this,o=document.createElement("div"),r=document.createElement("div"),l=document.createDocumentFragment(),s=void 0;e.menu=n,t>1?(e.originalIndex=a,s=i.path+"."+e.originalIndex,e.parentItem=i):(e.originalIndex=a,s=""+a),e.path=s,n._menuItems[s]=e,o.className="jqx-"+n._element+"-item-label-container",r.className="jqx-"+n._element+"-item-label-element","tree"===n._element&&n._setIndentation(o,t,n.rightToLeft?"paddingRight":"paddingLeft");for(var d=Array.from(e.childNodes),u=0;u<d.length;u++){var c=d[u];if(c instanceof JQX.MenuItem||c instanceof JQX.MenuItemsGroup)break;r.appendChild(c)}if(""===r.innerHTML.trim()){var p=e.label||e.getAttribute("label");p&&""!==p?n._setLabel(p,r,e,!0):(e.set("label","Item "+a),r.innerHTML="Item "+a)}else e.set("label",r.innerHTML.trim());if(e instanceof JQX.MenuItemsGroup&&void 0===e.titleLabel&&(e.titleLabel=e.label),r.innerHTML="<span>"+r.innerHTML+"</span>",l.appendChild(r),e.set("level",t),e.set("shortcut",e.shortcut||e.getAttribute("shortcut")||""),e.shortcut&&e instanceof JQX.MenuItem){var m=document.createElement("div");m.className="jqx-"+n._element+"-item-shortcut",m.innerHTML=e.shortcut,l.appendChild(m)}o.appendChild(l),e.insertBefore(o,e.children[0]),e.id||(e.id=n.id+"ItemP"+e.path.replace(/\./g,"_")+"L"+e.label.replace(/<|\/|>|"|'|=|\s/g,""))}},{key:"_createMenuItemsGroupContainer",value:function(e,t){var i=this,a=document.createElement("div"),n=document.createElement("div");if(a.className="jqx-"+i._element+"-drop-down jqx-visibility-hidden",i._edgeMacFF&&2===t&&"tree"!==i.mode&&(a.className+=" not-in-view"),a.$=JQX.Utilities.Extend(a),a.level=t,a.setAttribute("level",t),a.menuItemsGroup=e,n.className="jqx-"+i._element+"-item-container",n.$=JQX.Utilities.Extend(n),n.container=a,n.menuItemsGroup=e,e.checkable&&n.setAttribute("checkable",""),n.setAttribute("check-mode",e.checkMode),a.itemContainer=n,a.appendChild(n),null!==e.dropDownHeight){var o=document.createElement("jqx-repeat-button"),r=document.createElement("jqx-repeat-button");o.className="jqx-menu-scroll-button jqx-spin-button jqx-scroll-button-near jqx-hidden",o.innerHTML='<div id="arrowNear" class="jqx-arrow jqx-arrow-up"></div>',o.animation=i.animation,o.unfocusable=!0,r.className="jqx-menu-scroll-button jqx-spin-button jqx-scroll-button-far jqx-hidden",r.innerHTML='<div id="arrowNear" class="jqx-arrow jqx-arrow-down"></div>',r.animation=i.animation,r.unfocusable=!0,a.insertBefore(o,n),a.appendChild(r),a.$.addClass("drop-down-height-set"),n.dropDownHeightSet=!0,n.checkOverflow=!0,a.style.height=e.dropDownHeight+"px",i._containersFixedHeight.push(a),i._additionalScrollButtons.push([o,r])}return a}},{key:"_discardKeyboardHover",value:function(e){var t=this;t._focusedViaKeyboard&&(!e&&t._focusedViaKeyboard instanceof JQX.MenuItemsGroup&&t._isContainerOpened(t._focusedViaKeyboard.level+1,t._focusedViaKeyboard.container)||(t._focusedViaKeyboard.$.removeClass("focus"),t._focusedViaKeyboard.removeAttribute("focus"),t._focusedViaKeyboard.$.removeClass("hover"),t._focusedViaKeyboard.removeAttribute("hover"),t._focusedViaKeyboard=void 0))}},{key:"_documentDownHandler",value:function(e){var t=this;"down"===t.closeAction&&t._closeOnDocumentInteraction(e.originalEvent)}},{key:"_documentUpHandler",value:function(e){var t=this,i=e.originalEvent.target;if(!t.disabled&&!t.displayLoadingIndicator&&i.closest){var a="up"===t.closeAction&&t._closeOnDocumentInteraction(e.originalEvent);if(!a){var n=void 0,o=void 0;if(JQX.EnableShadowDOM?(n=t.isInShadowRoot?t.getRootNode().activeElement:t.shadowRoot?t.shadowRoot.activeElement||document.activeElement:document.activeElement,o=t.$.container.contains(e.originalEvent.composedPath()[0])):(n=document.activeElement,o=t.contains(i)),!a&&t!==n&&null===n.closest("[template-applied]")){if(o||i.closest(".jqx-list-menu-view")===t.$.view)return void t.focus();var r=i.closest(".jqx-drop-down-repositioned");r&&r.ownerElement===t&&t.focus()}}}}},{key:"_closeOnDocumentInteraction",value:function(e){var t=this,i=e.target,a=void 0,n=void 0;if(JQX.EnableShadowDOM?(a=e.composedPath()[0],n=t.$.container.contains(a)):n=t.contains(i),"dropDown"===t.mode&&t.opened){var o=i.closest(".jqx-drop-down-repositioned");if(!(n||o&&o.ownerElement===t))return t.close({trigger:"interaction",target:JQX.EnableShadowDOM?a:i}),!0}if(!n&&null===i.closest(".jqx-menu-drop-down")||a&&a===t.$.mainContainer||i===t.$.mainContainer)return"tree"===t.mode||(t._close(),!0)}},{key:"_endSwiping",value:function(e,t,i){var a=this;if(a._dragStartDetails){var n=a.$.mainContainer,o=Math.abs(a._dragStartDetails.startTime-t),r=300/o,l=(a._dragStartDetails.startY-e.pageY)*r,s=Math.abs(l),d=function(){return!(l>0&&n.scrollTop===n.scrollHeight-n.offsetHeight||l<0&&0===n.scrollTop)},u=.03*Math.abs(l)*r,c=function e(){if(u>5){var t=(s-u)/Math.abs(l);t<.1?u/=1.25:t<.15?u/=1.2:t<.2?u/=1.15:t<.25?u/=1.1:t<.3&&(u/=1.05)}var o=n.scrollTop;n.scrollTop=l>0?Math.min(o+u,n.scrollHeight-n.offsetHeight):Math.max(o-u,0),s-=u,a._updateScrollButtonVisibility(a.$.mainContainer,"horizontal"===a.mode,[a.$.scrollButtonNear,a.$.scrollButtonFar]);var r=d();if(s>0&&r)a._scrollingAnimationFrame=window.requestAnimationFrame(e);else if(a._wheelInProgress=!1,!r&&(a._fireScrollBottomReachedEvent&&a._fireScrollBottomReachedEvent(o),!0!==i)){var c=a.$.mainContainer.scrollTop;0===c?a._bounceTop():a._bounceBottom(c)}};a._scrollingAnimationFrame&&cancelAnimationFrame(a._scrollingAnimationFrame),o<1e3&&d()?a._scrollingAnimationFrame=window.requestAnimationFrame(c):a._wheelInProgress=!1,delete a._dragStartDetails}}},{key:"_ensureVisible",value:function(e){function t(t,i,a){var n=e.firstElementChild[a]+t-o[a];n<0&&(n=t),o["scroll"+i]=n}function i(i,n){var l=e["offset"+i],s=o[n];"Top"!==i||o===a.$.mainContainer||r[0].$.hasClass("jqx-hidden")||(l-=r[0][n]),t(l,i,n),a._updateScrollButtonVisibility(o,"Left"===i,r),s!==o[n]&&t(l,i,n)}var a=this;if(!a._minimized){var n=a.mode,o=void 0,r=void 0;if("tree"!==n&&e.parentElement!==a.$.mainContainer){if(null===e.dropDownHeight)return;o=e.parentElement,r=[o.container.children[0],o.container.children[2]]}else o=a.$.mainContainer,r=[a.$.scrollButtonNear,a.$.scrollButtonFar];if(o!==a.$.mainContainer||(null!==a.dropDownAppendTo||"tree"===a.mode||a.$mainContainer.hasClass("simple"))&&(o.$.hasClass("scroll-buttons-shown")||"hidden"===a.overflow)){var l=o.getBoundingClientRect(),s=e.getBoundingClientRect();if("tree"===n)return void a._ensureVisibleTreeMode(e,s,o,l,0);o===a.$.mainContainer&&"horizontal"===n&&(l.left>s.left||l.right<s.right)?i("Left","offsetWidth"):(l.top>s.top||l.bottom<s.bottom)&&i("Top","offsetHeight")}}}},{key:"_ensureVisibleTreeMode",value:function(e,t,i,a,n){var o=this;if("menu"!==o._element&&"scrollButtons"!==o.scrollMode||i.$.hasClass("scroll-buttons-shown")||"hidden"===o.overflow){var r=i.offsetHeight,l=o.$scrollButtonNear.hasClass("jqx-hidden"),s=void 0;if(a.top>t.top)s=o._getOffsetTop(e);else{var d=e.expanded?e.firstElementChild.offsetHeight+parseInt(window.getComputedStyle(e.children[1]).marginTop,10):e.offsetHeight;if("tree"===o._element&&(d+=parseFloat(getComputedStyle(o).getPropertyValue("--jqx-tree-item-vertical-offset"))||0),!(a.bottom<t.top+d))return;s=o._getOffsetTop(e)-r+d+n}i.scrollTop=s,"menu"!==o._element&&"scrollButtons"!==o.scrollMode||o._updateScrollButtonVisibility(i,!1,[o.$.scrollButtonNear,o.$.scrollButtonFar]),"auto"===o.overflow&&l&&!o.$scrollButtonNear.hasClass("jqx-hidden")&&(i.scrollTop+=r-i.offsetHeight)}}},{key:"_escapeHandler",value:function(e,t,i){var a=this;e&&(e.$.removeClass("focus"),e.removeAttribute("focus")),a._closeSubContainers(t,void 0,void 0,!0),a._hoverViaKeyboard(i.menuItemsGroup)}},{key:"_expandItemsByDefault",value:function(e){var t=this;if((0!==t._menuItemsGroupsToExpand.length||e)&&("tree"===t.mode||t._minimized)){var i=t.hasAnimation,a=t.animation;i&&(t.animation="none"),e&&t._collapseAll(!1);for(var n=0;n<t._menuItemsGroupsToExpand.length;n++)t.expandItem(t._menuItemsGroupsToExpand[n].path,void 0,!1);i&&(t.animation=a),t._menuItemsGroupsToExpand=[]}}},{key:"_expandSection",value:function(e){var t=this,i=e.style.height,a=e.scrollHeight+"px";if(e.style.height=a,t._treeAnimationInProgress=e,i===a||!parseFloat(i)&&!parseFloat(a))return void t._transitionendHandlerExpand(t,e);e.addEventListener("transitionend",t._transitionendHandlerExpand)}},{key:"_filterInputKeyupHandler",value:function(){var e=this;e._filterTimer&&clearTimeout(e._filterTimer),e._filterTimer=setTimeout(function(){var t=e.context;e.context=e,e._applyFilter(e.$.filterInput.value,e._view),e._checkOverflow(),e.context=t},300)}},{key:"_findItem",value:function(e,t){if(""===t)return e;switch(this.filterMode){case"startsWith":if(0===e.label.indexOf(t))return e;break;case"startsWithIgnoreCase":if(0===e.label.toLowerCase().indexOf(t.toLowerCase()))return e;break;case"doesNotContain":if(e.label.indexOf(t)<0)return e;break;case"doesNotContainIgnoreCase":
if(e.label.toLowerCase().indexOf(t.toLowerCase())<0)return e;break;case"contains":if(e.label.indexOf(t)>-1)return e;break;case"containsIgnoreCase":if(e.label.toLowerCase().indexOf(t.toLowerCase())>-1)return e;break;case"equals":if(0===e.label.localeCompare(t))return e;break;case"equalsIgnoreCase":if(0===e.label.toLowerCase().localeCompare(t.toLowerCase()))return e;break;case"endsWith":if(e.label.endsWith(t))return e;break;case"endsWithIgnoreCase":if(e.label.toLowerCase().endsWith(t.toLowerCase()))return e}return null}},{key:"_getFirstEnabledChild",value:function(e){for(var t=e.children,i=0;i<t.length;i++)if(this._isChildEnabled(t[i]))return t[i]}},{key:"_getLastEnabledChild",value:function(e){for(var t=e.children,i=t.length-1;i>=0;i--)if(this._isChildEnabled(t[i]))return t[i]}},{key:"_getNextEnabledChild",value:function(e){if(e)for(;e.nextElementSibling;){var t=e.nextElementSibling;if(this._isChildEnabled(t))return t;e=t}}},{key:"_getOffsetTop",value:function(e){for(var t=e.offsetTop;e.offsetParent!==this.$.mainContainer;)e=e.offsetParent,t+=e.offsetTop;return t}},{key:"_getPreviousEnabledChild",value:function(e){if(e)for(;e.previousElementSibling;){var t=e.previousElementSibling;if(this._isChildEnabled(t))return t;e=t}}},{key:"_hamburgerIconClickHandler",value:function(e,t){e&&e.stopPropagation();var i=this;if(void 0===t&&(t=JQX.ListMenu&&i instanceof JQX.ListMenu?i.$.view:i.$.mainContainer),!i.disabled)if(i._minimizedDropDownOpened)i._close();else{if(i._positionDetection.placeOverlay(),null!==i.dropDownAppendTo){var a=i.dropDownPosition,n=i.getBoundingClientRect(),o=i._positionDetection.getDropDownOffset();-1!==a.indexOf("right")||"auto"===a?(t.style.left=n.left+o.x+"px",t.style.right="initial"):-1!==a.indexOf("left")&&(t.style.left=n.right-t.offsetWidth+o.x+"px",t.style.right="initial"),-1!==a.indexOf("bottom")||-1!==a.indexOf("overlay")||"auto"===a?t.style.top=n.bottom+o.y+"px":-1!==a.indexOf("top")&&(t.style.top=n.top+o.y+"px")}i._edgeMacFF&&t.$.removeClass("not-in-view"),t.$.removeClass("jqx-visibility-hidden"),i.$hamburgerIcon.addClass("jqx-close-button"),i._minimizedDropDownOpened=!0,i._browserBoundsDetection(t)}}},{key:"_handleOverflowChange",value:function(){var e=this;if(!e._minimized&&(null!==e.dropDownAppendTo||e.$mainContainer.hasClass("simple")||"tree"===e.mode)||JQX.ListMenu&&e instanceof JQX.ListMenu){var t=e.overflow,i=void 0;"horizontal"===e.mode?(i=!0,e.$.mainContainer.scrollLeft=0):(i=!1,e.$.mainContainer.scrollTop=0),"hidden"===t?(e.$mainContainer.removeClass("scroll-buttons-shown"),e.$scrollButtonNear.addClass("jqx-hidden"),e.$scrollButtonFar.addClass("jqx-hidden")):(e.$.scrollButtonNear.disabled=e.disabled,e.$.scrollButtonFar.disabled=e.disabled,"auto"===t?(e.$scrollButtonNear.addClass("jqx-hidden"),e.$scrollButtonFar.addClass("jqx-hidden"),e._checkOverflow(e.$.mainContainer,i,[e.$.scrollButtonNear,e.$.scrollButtonFar])):(e.$mainContainer.addClass("scroll-buttons-shown"),e.$mainContainer.removeClass("one-button-shown"),e.$scrollButtonNear.removeClass("jqx-hidden"),e.$scrollButtonFar.removeClass("jqx-hidden"),e._updateScrollButtonVisibility(e.$.mainContainer,i,[e.$.scrollButtonNear,e.$.scrollButtonFar])))}}},{key:"_hideMainContainerScrollButtons",value:function(){var e=this;e.$scrollButtonNear.addClass("jqx-hidden"),e.$scrollButtonFar.addClass("jqx-hidden"),e.$mainContainer.removeClass("scroll-buttons-shown"),e.$mainContainer.removeClass("one-button-shown")}},{key:"_hoverViaKeyboard",value:function(e){if(e){var t=this;e.$.addClass("focus"),e.setAttribute("focus",""),t._focusedViaKeyboard=e,t._ensureVisible(e)}}},{key:"_isBranchExpanded",value:function(e){if("tree"!==this.mode)return!0;for(var t=!0;e.parentItem;)t=t&&e.parentItem.expanded,e=e.parentItem;return t}},{key:"_isChildEnabled",value:function(e){return!(e.disabled||e.templateApplied||e.hidden||e instanceof HTMLDivElement||0===e.offsetHeight)}},{key:"_isContainerOpened",value:function(e,t){var i=this;return"tree"===i.mode||i._minimized?(i._openedContainers[e]||(i._openedContainers[e]=[]),-1!==i._openedContainers[e].indexOf(t)):i._openedContainers[e]===t}},{key:"_keydownHandler",value:function(e){var t=this,i=e.key;if(document.activeElement===t&&-1!==["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Enter","Escape","Home"," "].indexOf(i)&&!t.disabled){e.preventDefault();var a=t.mode;if("tree"===a||t._minimized)return void t._keydownHandlerTreeMode(i);for(var n=t.dropDownPosition,o=-1!==n.indexOf("left"),r="top-left"===n||"top-right"===n,l=t._openedContainers,s=t.$.mainContainer,d=1,u=void 0,c=l.length-1;c>=0;c--)if(void 0!==l[c]){s=l[c],d=s.level,s=s.itemContainer;break}switch(u=s.querySelector('[focus][level="'+d+'"]'),i){case"ArrowDown":1===d?"horizontal"!==a||r?"horizontal"!==a&&t._levelOneNavigate("_getFirstEnabledChild",u,s):t._levelOneOpenDropDown(u):t._navigate("_getNextEnabledChild",u,s);break;case"ArrowLeft":o?1===d?"horizontal"===a?t._levelOneNavigate("_getLastEnabledChild",u,s):t._levelOneOpenDropDown(u):u instanceof JQX.MenuItemsGroup?t._selectionHandler({target:u,isTrusted:!0}):t._levelOneNavigateFromLowerLevel("_getPreviousEnabledChild",u):t._arrowLeftHandler(d,a,u,s);break;case"ArrowRight":o?1===d?"horizontal"===a&&t._levelOneNavigate("_getFirstEnabledChild",u,s):2===d?t._levelOneNavigateFromLowerLevel("_getNextEnabledChild",u):t._escapeHandler(u,d,s):t._arrowRightHandler(d,a,u,s);break;case"ArrowUp":1===d?"horizontal"===a&&r?t._levelOneOpenDropDown(u):"horizontal"!==a&&t._levelOneNavigate("_getLastEnabledChild",u,s):t._navigate("_getPreviousEnabledChild",u,s);break;case"End":case"Home":var p="End"===i?t._getLastEnabledChild(s):t._getFirstEnabledChild(s);if(!p||u===p)return;u&&(u.$.removeClass("focus"),u.removeAttribute("focus")),t._hoverViaKeyboard(p);break;case"Enter":u&&t._selectionHandler({target:u,isTrusted:!0});break;case"Escape":d>1?(2===d&&t._positionDetection.removeOverlay(),t._escapeHandler(u,d,s)):"dropDown"===a&&t.opened&&t.close({trigger:"interaction",target:"Escape"});break;case" ":u&&t._toggleItem(u)}}}},{key:"_keydownHandlerTreeMode",value:function(e){function t(e){var t=e.level;return!1===e.disabled&&!0!==e.templateApplied&&(1===t||t>1&&o._isContainerOpened(t,e.parentElement.container)&&e.getBoundingClientRect().height>0)}function i(e){for(var i=e;i<r.length;i++){var a=r[i];if(t(a)){if(l){if(l===a)break;l.$.removeClass("focus"),l.removeAttribute("focus")}o._hoverViaKeyboard(a);break}}}function a(e){for(var i=e;i>=0;i--){var a=r[i];if(t(a)){if(l){if(l===a)break;l.$.removeClass("focus"),l.removeAttribute("focus")}o._hoverViaKeyboard(a);break}}}function n(){l.level>1&&(l.$.removeClass("focus"),l.removeAttribute("focus"),o._hoverViaKeyboard(l.parentItem))}var o=this,r=Array.from(o.$.mainContainer.querySelectorAll("jqx-menu-item, jqx-menu-items-group")),l=o.$.mainContainer.getElementsByClassName("focus")[0],s=void 0;switch(e){case"ArrowDown":s=l?r.indexOf(l)+1:0,i(s);break;case"ArrowLeft":if(!l)return;if(l instanceof JQX.MenuItem)n();else{if(o._isContainerOpened(l.level+1,l.container))return void o._closeSubContainers(l.level+1,l.container,!0,!0);n()}break;case"ArrowRight":if(!l||l instanceof JQX.MenuItem)return;o._isContainerOpened(l.level+1,l.container)?(l.$.removeClass("focus"),l.removeAttribute("focus"),o._hoverViaKeyboard(o._getFirstEnabledChild(l.itemContainer))):o._selectionHandler({target:l,type:"keydown",isTrusted:!0},l);break;case"ArrowUp":s=l?r.indexOf(l)-1:r.length-1,a(s);break;case"End":a(r.length-1);break;case"Enter":o._minimized&&!o._minimizedDropDownOpened?o._hamburgerIconClickHandler(void 0,o.$.mainContainer):l&&o._selectionHandler({target:l,type:"keydown",isTrusted:!0});break;case"Escape":o._minimized&&o._minimizedDropDownOpened&&o._close();break;case"Home":i(0);break;case" ":l&&o._toggleItem(l)}}},{key:"_levelOneNavigate",value:function(e,t,i){var a=this;if(t)"_getLastEnabledChild"===e?a._navigate("_getPreviousEnabledChild",t,i):a._navigate("_getNextEnabledChild",t,i);else{var n=a[e](i);n&&a._hoverViaKeyboard(n)}}},{key:"_levelOneNavigateFromLowerLevel",value:function(e,t){var i=this,a=i[e](i._openedContainers[2].menuItemsGroup);a&&(t&&(t.$.removeClass("focus"),t.removeAttribute("focus")),i._closeSubContainers(2),a instanceof JQX.MenuItemsGroup?i._selectionHandler({target:a,isTrusted:!0}):i._hoverViaKeyboard(a))}},{key:"_levelOneOpenDropDown",value:function(e){e&&e instanceof JQX.MenuItemsGroup&&this._selectionHandler({target:e,isTrusted:!0})}},{key:"_mainContainerHandler",value:function(e){var t=this;if(t._minimized&&null!==t.dropDownAppendTo)switch(e.type){case"click":t._selectionHandler(e);break;case"mouseleave":t._mouseleaveHandler(e);break;case"mouseout":case"mouseover":t._mouseoutMouseoverHandler(e)}}},{key:"_menuItemSelectionHandler",value:function(e,t){function i(){a.enableShadowDOM&&(a.shadowRoot.activeElement||document.activeElement)!==a&&null!==a.dropDownAppendTo&&"click"===t.type&&!a.shadowRoot.contains(e)?a.focus():document.activeElement===a||null===a.dropDownAppendTo||"click"!==t.type||a.contains(e)||a.focus()}var a=this;return e.disabled||e.templateApplied?void i():a._toggleItem(e)||(a.$.fireEvent("itemClick",{item:e,label:e.label,value:e.value}),"tree"===a.mode||(a._close(),"dropDown"!==a.mode))?(a._ripple(e,t),void i()):(a._ripple(e,t),void a.close({trigger:"interaction",target:e}))}},{key:"_menuItemsGroupSelectionHandler",value:function(e,t,i){var a=this,n=a.mode,o=e.container,r=o.level,l="tree"!==n&&!a._minimized;if(a._treeAnimationInProgress!==o&&(a._discardKeyboardHover(),document.activeElement===a||null===a.dropDownAppendTo||"click"!==t.type||a.contains(t.target)||a.focus(),"click"!==t.type||!(!t.target.classList.contains("jqx-"+a._element+"-items-group-arrow")&&a._toggleItem(e)||"mouseenter"===a.selectionMode&&"tree"!==n&&!a._minimized))){var s=a.hasAnimation;if(a._isContainerOpened(r,o))a._closeSubContainers(r,o,!0,!1!==i),l&&e.hasAttribute("focus")&&(a._focusedViaKeyboard=e);else{if(a.$.fireEvent("expanding",{item:e,label:e.label,path:e.path,value:e.value,children:e.itemContainer.children}).defaultPrevented)return;if(a._positionDetection.placeOverlay(),l&&a._closeSubContainers(r),s&&!l&&("expand"!==t.type&&(a._ensureVisibleOnTransitionend=e),a._expandSection(o)),a._edgeMacFF&&2===r&&l&&o.$.removeClass("not-in-view"),o.$.removeClass("jqx-visibility-hidden"),l||"expand"!==t.type){if(l)"keydown"===t.type&&(a._focusedViaKeyboard=e);else{var d=a.$.mainContainer.getElementsByClassName("focus")[0];d&&(d.$.removeClass("focus"),d.removeAttribute("focus")),a._focusedViaKeyboard=e}e.$.addClass("focus"),e.setAttribute("focus","")}if(e.$.addClass("jqx-"+a._element+"-items-group-opened"),e.$.addClass("jqx-"+a._element+"-items-group-expanded"),a._addOpenedContainer(r,o),l){if(a._ensureVisible(e),e.level>1&&e.parentElement.dropDownHeightSet){var u=a.dropDownPosition,c=e.getBoundingClientRect().top-e.parentElement.container.getBoundingClientRect().top;-1!==u.indexOf("bottom")||"auto"===u?o.style.top=c+"px":-1!==u.indexOf("top")?o.style.top=c+e.offsetHeight+"px":o.style.top=c+e.offsetHeight/2+"px"}o.itemContainer.checkOverflow&&o.itemContainer.dropDownHeightSet&&(a._checkOverflow(o.itemContainer,!1,[o.children[0],o.children[2]]),delete o.itemContainer.checkOverflow)}a._positionExternalContainer(o,e),"tree"===n||a._minimized?s||a._browserBoundsDetection(a.$.mainContainer):a._browserBoundsDetection(o),void 0===t.type&&a._hoverViaKeyboard(a._getFirstEnabledChild(e.itemContainer)),!1!==i&&a.$.fireEvent("expand",{item:e,label:e.label,path:e.path,value:e.value,children:e.itemContainer.children})}l?a._ripple(e,t):"tree"!==n||s||(a._checkOverflow(a.$.mainContainer,!1,[a.$.scrollButtonNear,a.$.scrollButtonFar]),a._minimized||"expand"===t.type||a._ensureVisible(e))}}},{key:"_mouseenterHandler",value:function(){var e=this;e.autoFocusOnMouseenter&&document.activeElement!==e&&e.focus()}},{key:"_mouseleaveHandler",value:function(e){var t=this;if("mouseenter"===t.selectionMode&&"tree"!==t.mode&&!t._minimized){if(null!==t.dropDownAppendTo&&e.relatedTarget)if(t.contains(e.target)){var i=e.relatedTarget.closest(".jqx-menu-drop-down");if(i&&i.ownerElement===t)return}else if(t.contains(e.relatedTarget))return;t._isElementHovered=!1,t._autoCloseTimeout=setTimeout(function(){var e=t.context;clearTimeout(t._autoCloseTimeout),t._isElementHovered||(t.context=t,t._close(),t.context=e)},t.autoCloseDelay)}}},{key:"_mouseoutMouseoverHandler",value:function(e){var t=this;if(!t.disabled&&!t.displayLoadingIndicator){var i=e.target.closest("jqx-menu-item")||e.target.closest("jqx-menu-items-group");if(t.enableShadowDOM&&(i=e.composedPath()[0].closest("jqx-menu-item")||e.composedPath()[0].closest("jqx-menu-items-group")||i),"mouseover"===e.type&&(t._isElementHovered=!0),null!==i&&!i.disabled&&!i.templateApplied&&("tree"!==t.mode&&!t._minimized||!i.hasAttribute("focus")||!e.relatedTarget||e.target.parentElement!==e.relatedTarget&&e.relatedTarget.parentElement!==e.target))if(t._discardKeyboardHover(!1),"mouseover"===e.type){"mouseenter"!==t.selectionMode||"tree"===t.mode||t._minimized||(i instanceof JQX.MenuItemsGroup&&!i.hasAttribute("hover")?t._selectionHandler(e,i):i instanceof JQX.MenuItem&&t._closeSubContainers(i.level+1));var a=e.target.closest(".jqx-menu-drop-down");(!a||a&&!i.contains(a))&&(i.$.addClass("hover"),i.setAttribute("hover",""),t._discardKeyboardHover(!0))}else{if("tree"!==t.mode&&!t._minimized&&("mouseenter"===t.selectionMode&&e.relatedTarget===t.$.mainContainer&&t._close(),i instanceof JQX.MenuItemsGroup&&i.container&&!i.container.$.hasClass("jqx-visibility-hidden")))return;i.$.removeClass("hover"),i.removeAttribute("hover")}}}},{key:"_moveDropDownsToExternalContainer",value:function(){for(var e=this,t=0;t<e._containersInBody.length;t++){var i=e._containersInBody[t];e._dropDownParent.appendChild(i),i.$.listen("click",e._selectionHandler.bind(e)),i.$.listen("mouseleave",e._mouseleaveHandler.bind(e)),i.$.listen("mouseout",e._mouseoutMouseoverHandler.bind(e)),i.$.listen("mouseover",e._mouseoutMouseoverHandler.bind(e))}for(var a=0;a<e._containers.length;a++){var n=e._containers[a];n.ownerElement=e,""!==e.theme&&n.classList.add(e.theme),n.classList.add("jqx-drop-down-repositioned"),n.setAttribute("mode",e.mode),n.setAttribute("drop-down-position",e.dropDownPosition),e.checkboxes&&n.setAttribute("checkboxes","")}}},{key:"_moveDropDownsToMenu",value:function(){for(var e=this,t=0;t<e._containersInBody.length;t++){var i=e._containersInBody[t];i.$.unlisten("click"),i.$.unlisten("mouseleave"),i.$.unlisten("mouseout"),i.$.unlisten("mouseover"),i.style.left="",i.style.right="",i.style.top="",i.style.marginLeft="",i.style.marginTop="",i.menuItemsGroup.appendChild(i)}for(var a=0;a<e._containers.length;a++){var n=e._containers[a];""!==e.theme&&n.classList.remove(e.theme),n.classList.remove("jqx-drop-down-repositioned"),n.removeAttribute("mode"),n.removeAttribute("drop-down-position"),n.removeAttribute("checkboxes")}}},{key:"_navigate",value:function(e,t,i){var a=this;if(!t)return void("_getNextEnabledChild"===e?a._hoverViaKeyboard(a._getFirstEnabledChild(i)):a._hoverViaKeyboard(a._getLastEnabledChild(i)));var n=a[e](t);n&&(t.$.removeClass("focus"),t.removeAttribute("focus"),a._hoverViaKeyboard(n))}},{key:"_positionExternalContainer",value:function(e,t){var i=this;if(null!==i.dropDownAppendTo&&2===e.level){var a=i.dropDownPosition,n=i.mode,o=t.getBoundingClientRect(),r=i._positionDetection.getDropDownOffset(),l=o.top+r.y,s=o.bottom+r.y,d=o.left+r.x;switch(e.style.left="",e.style.right="",e.style.top="",-1!==a.indexOf("left")?(d-=e.offsetWidth,"horizontal"!==n&&"overlay-left"!==a||(d+=o.width),e.style.left=d+"px",e.style.right="initial"):e.style.left="horizontal"===n||"overlay-right"===a?d+"px":d+o.width+"px",a){case"bottom-right":case"bottom-left":case"auto":e.style.top="horizontal"===n?s+"px":l+"px";break;case"top-right":case"top-left":e.style.top="horizontal"===n?l-e.offsetHeight+"px":s-e.offsetHeight+"px";break;case"overlay-right":case"overlay-left":e.style.top=l+o.height/2+"px"}}}},{key:"_processDataSource",value:function(){function e(i,r){var l=void 0;if(Array.isArray(i[n])&&i[n].length>0){l=document.createElement("jqx-"+t._element+"-items-group"),!0===i.checkable&&l.set("checkable",!0),"checkbox"!==i.checkMode&&"radioButton"!==i.checkMode||l.set("checkMode",i.checkMode),i.dropDownHeight&&l.set("dropDownHeight",i.dropDownHeight),!0===i.expanded&&"tree"===t.mode&&l.set("expanded",!0);for(var s=0;s<i[n].length;s++)e(i[n][s],l)}else l=document.createElement("jqx-"+t._element+"-item"),void 0!==i.shortcut&&l.set("shortcut",i.shortcut),i.customAttribute&&l.setAttribute(i.customAttribute,"");!0===i.checked&&l.set("checked",!0),!0===i.disabled&&l.set("disabled",!0),void 0!==i[a]&&l.set("label",i[a]),!0===i.selected&&l.set("selected",!0),!0===i.separator&&l.set("separator",!0),void 0!==i[o]&&l.set("value",i[o]),r.appendChild(l)}var t=this,i=t.dataSource,a=t.displayMember,n=t.itemsMember,o=t.valueMember;t.$.mainContainer.innerHTML="";for(var r=0;r<i.length;r++){e(i[r],t.$.mainContainer)}t._processHTML(t.$.mainContainer,1)}},{key:"_processHTML",value:function(e,t,i){var a=this,n=void 0,o=void 0;t>1&&(n=a._createMenuItemsGroupContainer(e,t),o=n.itemContainer,(e.expanded||e.hasAttribute("expanded"))&&"tree"===a.mode?a._menuItemsGroupsToExpand.push(e):(e.set("expanded",!1),e.removeAttribute("expanded")));for(var r=Array.from(e.children),l=[],s=document.createDocumentFragment(),d=0,u=0;u<r.length;u++)if(t>1&&0===u)d++;else{var c=r[u];c instanceof JQX.MenuItem||c instanceof JQX.MenuItemsGroup?(a._createItemHTMLStructure(c,t,e,u-d),(c.checked||c.hasAttribute("checked"))&&(c.disabled||c.hasAttribute("disabled")||c.templateApplied?(c.set("checked",!1),c.removeAttribute("checked")):l.push(c)),t>1&&s.appendChild(c),c instanceof JQX.MenuItemsGroup&&a._processHTML(c,t+1)):(c.parentElement.removeChild(c),d++)}if(t>1){if(o.appendChild(s),e.container=n,e.itemContainer=o,e instanceof JQX.MenuItemsGroup){var p=document.createElement("div");p.className="jqx-"+a._element+"-items-group-arrow",a._setArrowDirection(p,t),e.firstElementChild.appendChild(p)}a._containers.push(n),2===t&&(a._containersInBody.push(n),a._edgeMacFF&&n.addEventListener("transitionend",function(e){e.target===this&&this.$.hasClass("jqx-visibility-hidden")&&(this.style.left="",this.style.top="",this.$.addClass("not-in-view"))})),null===a.dropDownAppendTo||"tree"===a.mode||a._minimized?e.appendChild(n):(n.ownerElement=a,n.classList.add("jqx-drop-down-repositioned"),n.setAttribute("mode",a.mode),n.setAttribute("drop-down-position",a.dropDownPosition),a.checkboxes&&n.setAttribute("checkboxes",""),""!==a.theme&&n.$.addClass(a.theme),n.setAttribute("animation",a.animation),2===t?(a._dropDownParent.appendChild(n),n.$.listen("click",a._selectionHandler.bind(a)),n.$.listen("mouseleave",a._mouseleaveHandler.bind(a)),n.$.listen("mouseout",a._mouseoutMouseoverHandler.bind(a)),n.$.listen("mouseover",a._mouseoutMouseoverHandler.bind(a))):e.appendChild(n))}a._validateRadioButtonSelection(e,t,l),a._sortItems&&!1!==i&&a._sortItems(e)}},{key:"_processUList",value:function(){var e=this,t=new RegExp(/<li>(.(?!<\/li>)|\n)*?<ul>/),i=new RegExp(/<\/ul>(.|\n)*?<\/li>/),a=e.$.mainContainer.firstElementChild.innerHTML;for(a=a.replace(/\r?\n|\r/g,""),a=a.replace(/<li(.|\n)*?>/g,"<li>"),a=a.replace(/<li><\/li>/g,"<li> </li>"),a=a.replace(/<ul(.|\n)*?>/g,"<ul>");t.test(a);){var n=t.exec(a),o="<jqx-"+e._element+"-items-group>"+n[0].slice(4,n[0].length-4);a=a.replace(n[0],o)}for(;i.test(a);){var r=i.exec(a),l="</jqx-"+e._element+"-items-group>";a=a.replace(r[0],l)}a=a.replace(/li>/g,"jqx-"+e._element+"-item>"),e.$.mainContainer.innerHTML=a}},{key:"_refreshContainersArrays",value:function(){for(var e=this,t=e._containers.length-1;t>=0;t--){var i=e._containers[t];if(!document.body.contains(i)){e._containers.splice(t,1);var a=e._containersFixedHeight.indexOf(i);a>-1&&(e._containersFixedHeight.splice(a,1),e._additionalScrollButtons.splice(a,1))}}e._checkContainersLength()}},{key:"_refreshItemPaths",value:function(e,t,i,a){var n=this,o=void 0;o=t?e:e.container.itemContainer;for(var r=i?i(e):o.children,l=0;l<r.length;l++){var s=r[l],d=void 0;a&&(s.originalIndex=l),d=t?""+l:e.path+"."+l,s.path=d,n._menuItems[d]=s,s instanceof JQX.MenuItemsGroup&&n._refreshItemPaths(s,void 0,i,a)}}},{key:"_removeContainerFixedHeight",value:function(){for(var e=this,t=0;t<e._containersFixedHeight.length;t++){var i=e._containersFixedHeight[t];i.style.height="",i.itemContainer.$.removeClass("scroll-buttons-shown"),i.itemContainer.$.removeClass("one-button-shown"),i.children[0].$.addClass("jqx-hidden"),i.children[2].$.addClass("jqx-hidden"),i.itemContainer.checkOverflow=!0}}},{key:"_removeContainersInBody",value:function(){var e=this;if(null!==e.dropDownAppendTo&&!e._minimized)for(var t=0;t<e._containersInBody.length;t++)e._dropDownParent.removeChild(e._containersInBody[t])}},{key:"_reparentMenu",value:function(e,t){var i=this;if("dropDown"===i.mode&&(null!==i._dropDownParent||e)&&i._dropDownParent!==i.parentElement){if(e&&null!==t){if(null===i._dropDownParent)return i._positionRelativeTo.appendChild(i),void(i._positionRelativeTo=null)}else i._positionRelativeTo=i.parentElement;i._dropDownParent.appendChild(i)}}},{key:"_resizeHandler",value:function(){var e=this;if(e._suppressResizeHandler)return void delete e._suppressResizeHandler;var t=e.minimizeWidth,i=e.mode;if(null!==t&&"dropDown"!==i){if(e.offsetWidth<=t&&!e._minimized)return void e.minimize();e.offsetWidth>t&&e.maximize()}null===e.dropDownAppendTo&&"tree"!==i||e._checkOverflow(e.$.mainContainer,"horizontal"===i,[e.$.scrollButtonNear,e.$.scrollButtonFar])}},{key:"_ripple",value:function(e,t){if(this.hasRippleAnimation&&"click"===t.type)return JQX.Utilities.Animation.Ripple.animate(e,t.pageX,t.pageY),!0}},{key:"_scroll",value:function(e){if(!e.closest("[template-applied]")){var t=this,i=t.mode,a=e.classList.contains("jqx-scroll-button-near")?-1:1;if(e.parentElement===t.$.container){var n=t.$.mainContainer;"tree"!==i&&t._closeSubContainers(2),"horizontal"===t.mode?(n.scrollLeft=n.scrollLeft+10*a,t._updateScrollButtonVisibility(n,!0,[t.$.scrollButtonNear,t.$.scrollButtonFar])):(n.scrollTop=n.scrollTop+10*a,t._updateScrollButtonVisibility(n,!1,[t.$.scrollButtonNear,t.$.scrollButtonFar]))}else{var o=e.parentElement,r=o.itemContainer;t._closeSubContainers(o.level+1),r.scrollTop=r.scrollTop+10*a,t._updateScrollButtonVisibility(r,!1,[o.children[0],o.children[2]])}}}},{key:"_selectionHandler",value:function(e,t){var i=this,a=e.target;if(a.closest("[template-applied]")&&e.stopPropagation(),!i.disabled&&!i.displayLoadingIndicator){if(void 0===t){if("click"===e.type){var n=a.closest("jqx-repeat-button");if(n)return void i._scroll(n,e)}if(!e.isTrusted)return;var o=a.closest("jqx-"+i._element+"-item");if(o)return void i._menuItemSelectionHandler(o,e);if((t=a.closest("jqx-"+i._element+"-items-group"))&&(a===t.container||a===t.container.firstElementChild))return}t&&!t.disabled&&i._menuItemsGroupSelectionHandler(t,e)}}},{key:"_setArrowDirection",value:function(e,t){var i=this,a=i.mode;if("tree"===a||i._minimized)return void(e.className="jqx-"+i._element+"-items-group-arrow down jqx-arrow-down");"overlay"!==i.dropDownPosition.slice(0,7)?2===t&&"horizontal"===a?"top"!==i.dropDownPosition.slice(0,3)?e.className="jqx-menu-items-group-arrow down jqx-arrow-down":e.className="jqx-menu-items-group-arrow up jqx-arrow-up":e.className="jqx-menu-items-group-arrow right jqx-arrow-right":e.className="jqx-menu-items-group-arrow minus"}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");var t=e.getAttribute("tabindex");(null===t||t<0)&&e.setAttribute("tabindex",0)}},{key:"_setLabel",value:function(e,t,i,a){var n=document.getElementById(e);if(null!==n&&"template"===n.tagName.toLowerCase()){var o=document.importNode(n.content,!0);if(i instanceof JQX.MenuItem)t.appendChild(o),a&&(i.setAttribute("template-applied",""),i.templateApplied=!0);else if(JQX.ListMenu&&this instanceof JQX.ListMenu){for(var r=new RegExp(/{{title="(.*)"}}/),l=0;l<o.childNodes.length;l++)r.test(o.childNodes[l].innerHTML)?(i.titleLabel=r.exec(o.childNodes[l].innerHTML)[1],o.childNodes[l].innerHTML=o.childNodes[l].innerHTML.replace(r,"")):r.test(o.childNodes[l].textContent)&&(i.titleLabel=r.exec(o.childNodes[l].textContent)[1],o.childNodes[l].textContent=o.childNodes[l].textContent.replace(r,""));void 0===i.titleLabel&&(i.titleLabel=o.textContent),t.appendChild(o)}else t.innerHTML=e,i.titleLabel=e}else t.innerHTML=e,i instanceof JQX.MenuItemsGroup&&(i.titleLabel=e)}},{key:"_toggleItem",value:function(e){var t=this;if(t.checkboxes){var i=1===e.level?t:e.parentItem;if(i.checkable){var a=!1;return"checkbox"===i.checkMode?(a=!0,e.set("checked",!e.checked),t.$.fireEvent("itemCheckChange",{item:e,label:e.label,value:e.value,checked:e.checked})):e.checked||(a=!0,e.set("checked",!0),t._uncheckSiblings(e),t.$.fireEvent("itemCheckChange",{item:e,label:e.label,value:e.value,checked:!0})),e instanceof JQX.MenuItem&&a&&t.$.fireEvent("itemClick",{item:e,label:e.label,value:e.value}),"tree"!==t.mode&&"ListMenu"!==t.elementName&&(t._close(),t.close()),!0}}return!1}},{key:"_transitionendHandler",value:function(e){var t=this;"dropDown"===t.mode&&t.opened&&e.target===t&&document.activeElement!==t&&!t._noAutoFocus&&t.focus()}},{key:"_transitionendHandlerCollapse",value:function(){var e=void 0,t=void 0;if(1===arguments.length){if("visibility"===arguments[0].propertyName)return;t=this,e=t.menuItemsGroup.menu}else e=arguments[0],t=arguments[1];t.menuItemsGroup.$.removeClass("jqx-"+e._element+"-items-group-expanded"),t.removeEventListener("transitionend",e._transitionendHandlerCollapse),t.style.height=null,t.$.addClass("jqx-visibility-hidden"),e._checkOverflow(e.$.mainContainer,!1,[e.$.scrollButtonNear,e.$.scrollButtonFar]),e._minimized&&e._browserBoundsDetection(e.$.mainContainer),delete e._treeAnimationInProgress}},{key:"_transitionendHandlerExpand",value:function(){var e=void 0,t=void 0;if(1===arguments.length){if("visibility"===arguments[0].propertyName)return;t=this,e=t.menuItemsGroup.menu}else e=arguments[0],t=arguments[1];t.removeEventListener("transitionend",e._transitionendHandlerExpand),t.style.height=null,e._checkOverflow(e.$.mainContainer,!1,[e.$.scrollButtonNear,e.$.scrollButtonFar]),e._minimized&&e._browserBoundsDetection(e.$.mainContainer),e._ensureVisibleOnTransitionend&&(e._ensureVisible(e._ensureVisibleOnTransitionend),delete e._ensureVisibleOnTransitionend),delete e._treeAnimationInProgress}},{key:"_uncheckSiblings",value:function(e){for(var t=0;t<e.parentElement.childElementCount;t++){var i=e.parentElement.children[t];i!==e&&i.checked&&(i.set("checked",!1),this.$.fireEvent("itemCheckChange",{item:i,label:i.label,value:i.value,checked:!1}))}}},{key:"_unsortItems",value:function(e,t){var i=this,a=void 0,n=void 0,o=[];e===i.$.mainContainer?(n=e,a=e.children):(n=e.container.firstElementChild,a=n.children);for(var r=0;r<a.length;r++){var l=a[r];o[l.originalIndex]=l,l instanceof JQX.MenuItemsGroup&&void 0===t&&i._unsortItems(l)}if(!(o.length<2))for(var s=0;s<o.length;s++)n.appendChild(o[s])}},{key:"_updateScrollButtonVisibility",value:function(e,t,i){var a=this,n=a.overflow,o=e===a.$.mainContainer;if(!o||"hidden"!==n){var r=!0,l=!0,s=void 0,d=void 0,u=void 0;if(t?(s="scrollLeft",d="offsetWidth",u="scrollWidth"):(s="scrollTop",d="offsetHeight",u="scrollHeight"),0===Math.round(e[s])&&(r=!1),Math.round(e[d]+e[s])>=Math.round(e[u])&&(l=!1),o&&"auto"!==n)"scroll"!==n||a.disabled||(i[0].disabled=!r,i[1].disabled=!l);else{if(r&&l)return i[0].$.removeClass("jqx-hidden"),i[1].$.removeClass("jqx-hidden"),void e.classList.remove("one-button-shown");r?i[0].$.removeClass("jqx-hidden"):i[0].$.addClass("jqx-hidden"),l?i[1].$.removeClass("jqx-hidden"):i[1].$.addClass("jqx-hidden"),e.classList.add("one-button-shown")}}}},{key:"_validateRadioButtonSelection",value:function(e,t,i){var a=this;if(a.checkboxes){var n=void 0,o=void 0;if(1===t?(n=a,o=a.$.mainContainer):(n=e,o=e.itemContainer),"radioButton"===n.checkMode&&n.checkable)if(i.length>1)for(var r=i.length-2;r>=0;r--)i[r].set("checked",!1);else if(0===i.length){var l=a._getFirstEnabledChild(o);l&&l.set("checked",!0)}}}},{key:"_wheelHandler",value:function(e){var t=this;if(!t.enableMouseWheelAction||t._wheelInProgress||t.disabled||t.displayLoadingIndicator||t.$.mainContainer.offsetHeight===t.$.mainContainer.scrollHeight)return void(t._wheelInProgress&&e.preventDefault());e.preventDefault(),t._dragStartDetails={startY:e.pageY,x:e.pageX,y:e.pageY,startTime:Date.now(),target:e.target},t._wheelInProgress=!0;var i={pageY:e.pageY+50*(e.deltaY>0?-1:1)};t._endSwiping(i,t._dragStartDetails.startTime+100,!0)}},{key:"items",get:function(){return this._menuItems}}],[{key:"properties",get:function(){return{autoCloseDelay:{value:100,type:"number"},autoFocusOnMouseenter:{value:!1,type:"boolean"},checkable:{value:!1,type:"boolean"},checkboxes:{value:!1,type:"boolean"},checkMode:{value:"checkbox",allowedValues:["checkbox","radioButton"],type:"string"},closeAction:{value:"up",allowedValues:["up","down","none"],type:"string"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},displayMember:{value:"label",type:"string"},dropDownAppendTo:{value:null,type:"any?"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPosition:{value:"auto",allowedValues:["top-left","top-right","bottom-left","bottom-right","overlay-left","overlay-right","auto"],type:"string"},enableMouseWheelAction:{value:!1,type:"boolean"},itemsMember:{value:"items",type:"string"},minimizeIconTemplate:{value:null,type:"string?"},minimizeWidth:{value:null,type:"number?"},mode:{value:"horizontal",allowedValues:["horizontal","vertical","dropDown","tree"],type:"string"},opened:{value:!1,type:"boolean"},overflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},selectionMode:{value:"click",allowedValues:["click","mouseenter"],type:"string"},valueMember:{value:"value",type:"string"}}}},{key:"listeners",get:function(){return{"container.click":"_selectionHandler",keydown:"_keydownHandler",mouseenter:"_mouseenterHandler",mouseleave:"_mouseleaveHandler","container.mouseout":"_mouseoutMouseoverHandler","container.mouseover":"_mouseoutMouseoverHandler",resize:"_resizeHandler",transitionend:"_transitionendHandler","hamburgerIcon.click":"_hamburgerIconClickHandler","mainContainer.click":"_mainContainerHandler","mainContainer.mouseleave":"_mainContainerHandler","mainContainer.mouseout":"_mainContainerHandler","mainContainer.mouseover":"_mainContainerHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler"}}},{key:"requires",get:function(){return{"JQX.RepeatButton":"jqxbutton.js"}}},{key:"styleUrls",get:function(){return["jqx.button.css","jqx.menu.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-list-menu",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){
return'<div id="container">\n                    <div id="hamburgerIcon" class="jqx-hamburger-icon jqx-hidden">\n                        <div id="hamburgerIconLineTop" class="jqx-hamburger-icon-line jqx-hamburger-icon-line-top"></div>\n                        <div id="hamburgerIconLineCenter" class="jqx-hamburger-icon-line jqx-hamburger-icon-line-center"></div>\n                        <div id="hamburgerIconLineBottom" class="jqx-hamburger-icon-line jqx-hamburger-icon-line-bottom"></div>\n                        <div id="customIconContainer" class="jqx-hamburger-icon-custom-container jqx-hidden"></div>\n                    </div>\n                    <div id="view" class="jqx-list-menu-view">\n                        <div id="header" class="jqx-header jqx-hidden">\n                            <jqx-button id="backButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable>\n                                <div class="jqx-arrow jqx-arrow-left"></div>\n                            </jqx-button>\n                            <div id="title" class="jqx-title"></div>\n                        </div>\n                        <div class="jqx-list-menu-filter-input-container jqx-hidden" id="filterInputContainer">\n                            <input id="filterInput" class="jqx-filter-input" disabled="[[disabled]]" placeholder="[[filterInputPlaceholder]]" type="text" />\n                        </div>\n                        <jqx-repeat-button id="scrollButtonNear" class="jqx-menu-scroll-button jqx-spin-button jqx-scroll-button-near jqx-hidden" animation="[[animation]]" unfocusable>\n                            <div id="arrowNear" class="jqx-arrow jqx-arrow-up"></div>\n                        </jqx-repeat-button>\n                        <div id="mainContainer" class="jqx-menu-main-container">\n                            <content></content>\n                        </div>\n                        <jqx-repeat-button id="scrollButtonFar" class="jqx-menu-scroll-button jqx-spin-button jqx-scroll-button-far jqx-hidden" animation="[[animation]]" unfocusable>\n                            <div id="arrowFar" class="jqx-arrow jqx-arrow-down"></div>\n                        </jqx-repeat-button>\n                        <div id="loadingIndicatorContainer" class="jqx-loader-container jqx-hidden">\n                            <span id="loadingIndicator" class="jqx-loader"></span>\n                            <span id="loadingIndicatorPlaceHolder" class="jqx-loader-label jqx-hidden">[[loadingIndicatorPlaceholder]]</span>\n                        </div>\n                    </div>\n                </div>'}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.isCompleted&&null!==e.dropDownAppendTo&&e._minimized&&e._dropDownParent.appendChild(e.$.view)}},{key:"detached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e._close(),null!==e.dropDownAppendTo&&e._minimized&&e._dropDownParent.removeChild(e.$.view)}},{key:"addItem",value:function(e,t){var i=this;if(e instanceof JQX.MenuItem||e instanceof JQX.MenuItemsGroup){var a=void 0,n=void 0,o=void 0,r=void 0;if(void 0===t)t=i.$.mainContainer,a=void 0,n=1,o=t,r=i._topLevelFilter;else{if("string"==typeof t&&(t=i.getItem(t)),void 0===t||!(t instanceof JQX.MenuItemsGroup)||!i.contains(t)&&t.closest(".jqx-list-menu-view")!==i.$.view)return;a=t,n=t.level+1,o=t.itemContainer,r=t.filter}if(i._createItemHTMLStructure(e,n,t,i._getCurrentViewItems(a).length,0),e instanceof JQX.MenuItemsGroup&&i._processHTML(e,n+1),i._view!==t&&!t.$.hasClass("jqx-hidden")&&t.offsetHeight>0&&t.offsetWidth>0&&(!i._view&&!i.$.mainContainer.contains(t)||i._view&&!i._view.contains(t))&&e.$.addClass("jqx-hidden"),i.grouped){for(var l=Array.from(o.children),s=l.length-1;s>=0;s--)l[s].$.hasClass("jqx-list-menu-group-label")&&o.removeChild(l[s]);i._unsortItems(t,!0)}if(o.appendChild(e),i.grouped){var d=i._view;i._applyGrouping(t,!0),i._home(),d&&i.changePage(d.path)}i.filterable&&void 0!==r&&""!==r&&null===i._findItem(e,r)&&(e.$.addClass("jqx-hidden"),e.hidden=!0),i._toggleFilterInputGroupLabelVisibility(),i._checkOverflow()}}},{key:"back",value:function(e){var t=this,i=t.animation,a=!1===e&&"none"!==i;a&&(t.animation="none"),t._backButtonClickHandler(),a&&(t.animation=i)}},{key:"changePage",value:function(e){var t=this,i=t.getItem(e);if(!(void 0===i||i instanceof JQX.MenuItem||i.hidden)){var a=[i],n=i.parentItem,o=0;for(t._discardKeyboardHover();n;)a.unshift(n),n=n.parentItem;if(t._view){var r=a.indexOf(t._view);-1===r?t._home():o=r+1}for(var l=o;l<a.length&&(!a[l].disabled&&!a[l].hidden);l++)t._menuItemsGroupSelectionHandler(a[l],{type:"expand"},!0)}}},{key:"maximize",value:function(){var e=this;if(e._minimized){if(e._positionDetection.removeOverlay(),e._minimized=!1,e._minimizedDropDownOpened&&(e.$hamburgerIcon.removeClass("jqx-close-button"),e._minimizedDropDownOpened=!1),null!==e.dropDownAppendTo&&e._appendMinimizedContainerToMenu(e.$.view,null),e.$view.removeClass("jqx-visibility-hidden"),e.$view.removeClass("jqx-list-menu-view-minimized"),e.$hamburgerIcon.addClass("jqx-hidden"),e.removeAttribute("minimized"),e.enableShadowDOM){e.$.view.id=e.$.view.getAttribute("jqx-id");for(var t=e.$.view.querySelectorAll("[jqx-id]"),i=0;i<t.length;i++)t[i].id=t[i].getAttribute("jqx-id")}e.$.mainContainer.scrollTop=0,e._checkOverflow()}}},{key:"minimize",value:function(){var e=this;if(!e._minimized){if(e.$view.addClass("jqx-visibility-hidden"),e.enableShadowDOM){e.$.view.removeAttribute("id");for(var t=e.$.view.querySelectorAll("[jqx-id]"),i=0;i<t.length;i++)t[i].removeAttribute("id")}e._edgeMacFF&&e.$view.addClass("not-in-view"),e.$hamburgerIcon.removeClass("jqx-hidden"),setTimeout(function(){null!==e.dropDownAppendTo&&e._appendMinimizedContainerToExternalElement(e.$.view),e.$view.addClass("jqx-list-menu-view-minimized"),e.$.mainContainer.scrollTop=0,e._checkOverflow()},0),e._minimized=!0,e.setAttribute("minimized","")}}},{key:"removeItem",value:function(e){var t=this;if("string"==typeof e&&(e=t.getItem(e)),void 0!==e&&(e instanceof JQX.MenuItem||e instanceof JQX.MenuItemsGroup)&&(t.contains(e)||e.closest(".jqx-list-menu-view")===t.$.view)){for(var i=e.parentElement;e.contains(t._view);)t._backButtonClickHandler(void 0,!0);var a=t._view;t.grouped&&(t._home(),t._discardGrouping()),i.removeChild(e),t._menuItems={},t._refreshItemPaths(t.$.mainContainer,!0,function(e){return t._getCurrentViewItems(e===t.$.mainContainer?void 0:e)}),t.grouped&&(t._applyGrouping(t.$.mainContainer),a&&t.changePage(a.path)),t._toggleFilterInputGroupLabelVisibility(),t._checkOverflow()}}},{key:"propertyChangedHandler",value:function(e,i,a){if("disabled"===e||"dropDownOverlay"===e||"minimizeIconTemplate"===e||"minimizeWidth"===e||"overflow"===e||"unfocusable"===e)return void babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"animation":n.$.view.setAttribute("animation",a);break;case"checkable":case"checkboxes":n._minimized&&null!==n.dropDownAppendTo&&(a?n.$.view.setAttribute(e,""):n.$.view.removeAttribute(e));break;case"checkMode":n._changeToRadioButtonMode(a,n.$.mainContainer),n._minimized&&null!==n.dropDownAppendTo&&n.$.view.setAttribute("check-mode",a);break;case"dataSource":n.$header.addClass("jqx-hidden"),n.$mainContainer.removeClass("header-shown"),n._view=void 0,n._menuItems={},n._topLevelFilter="",n._processDataSource(),n._toggleFilterInputGroupLabelVisibility(),n._checkOverflow();break;case"displayLoadingIndicator":if(a){var o=n.$.mainContainer.querySelector("[hover]");o&&o.removeAttribute("hover"),n._discardKeyboardHover(),n.$loadingIndicatorContainer.removeClass("jqx-hidden")}else n.$loadingIndicatorContainer.addClass("jqx-hidden");break;case"dropDownAppendTo":var r=n._dropDownParent;if(n._positionDetection.getDropDownParent(),n._dropDownParent===r||!n._minimized)return;n._close(),null===a?n._appendMinimizedContainerToMenu(n.$.view,null):n._appendMinimizedContainerToExternalElement(n.$.view),n.$.mainContainer.scrollTop=0,n._checkOverflow();break;case"dropDownPosition":n._close(),n._minimized&&null!==n.dropDownAppendTo&&n.$.view.setAttribute("drop-down-position",a);break;case"filterable":if(n._toggleFilterInputGroupLabelVisibility(!0),!1===a){""!==n._topLevelFilter&&n._applyFilter("");for(var l=n._filteredLowerLevelGroups.length-1;l>=0;l--)n._applyFilter("",n._filteredLowerLevelGroups[l])}n._checkOverflow();break;case"filterMode":if(!n.filterable)return;""!==n._topLevelFilter&&n._applyFilter(n._topLevelFilter);for(var s=n._filteredLowerLevelGroups.length-1;s>=0;s--)n._applyFilter(n._filteredLowerLevelGroups[s].filter,n._filteredLowerLevelGroups[s]);break;case"grouped":n._home(),a?n._applyGrouping(n.$.mainContainer):n._discardGrouping(),n._toggleFilterInputGroupLabelVisibility(!1,!0),n._checkOverflow();break;case"loadingIndicatorPosition":null!==n.dropDownAppendTo&&n._minimized&&n.$.view.setAttribute("loading-indicator-position",a),"center"===a?n.$loadingIndicatorPlaceHolder.addClass("jqx-hidden"):n.$loadingIndicatorPlaceHolder.removeClass("jqx-hidden");break;case"theme":babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),null!==n.dropDownAppendTo&&n._minimized&&(""!==i&&n.$view.removeClass(i),a&&n.$view.addClass(a))}}},{key:"_appendGroupLabels",value:function(e,t){for(var i=0;i<e.length;i++){var a=document.createElement("div");a.$=JQX.Utilities.Extend(a),a.className="jqx-list-menu-group-label",a.innerHTML=e[i],a.groupChildren=t[i],t[i][0].parentElement.insertBefore(a,t[i][0]);for(var n=0;n<t[i].length;n++)t[i][n].groupLabel=a}}},{key:"_applyFilter",value:function(e,t){for(var i=this,a=i._getCurrentViewItems(t),n=0;n<a.length;n++){var o=i._findItem(a[n],e);o&&o.hidden?(o.hidden=!1,(t===i._view||void 0!==i._view&&void 0!==t&&!t.contains(i._view)||void 0===i._view)&&o.$.removeClass("jqx-hidden")):o||(a[n].hidden=!0,a[n].$.addClass("jqx-hidden"))}if(t){t.filter=e;var r=i._filteredLowerLevelGroups.indexOf(t);""===e?-1!==r&&i._filteredLowerLevelGroups.splice(r,1):-1===r&&i._filteredLowerLevelGroups.push(t)}else i._topLevelFilter=e}},{key:"_backButtonClickHandler",value:function(e,t){var i=this,a=i._view;if(e&&e.stopPropagation(),!(!a||i.disabled&&e||i.displayLoadingIndicator||i._inTransition)){var n=i.hasAnimation,o=i.animation,r=!1;n&&t&&(n=!1,r=!0,i.animation="none"),i._discardKeyboardHover(),i.$scrollButtonNear.addClass("jqx-hidden"),i.$scrollButtonFar.addClass("jqx-hidden"),i.$mainContainer.removeClass("scroll-buttons-shown"),a.firstElementChild.classList.remove("jqx-hidden"),n?(i._inTransition=!0,a.container.$.addClass("no-transition"),a.container.$.addClass("jqx-hidden"),a.$.addClass("right"),a.$.removeClass("right"),a.container.$.removeClass("no-transition")):(a.$.removeClass("jqx-menu-items-group-opened"),a.container.$.addClass("jqx-hidden")),i._showHideMenuItemsGroupSiblings(a,"removeClass",n),n?setTimeout(function(){a.container.style.top=a.parentElement.getBoundingClientRect().top-a.getBoundingClientRect().top+"px"},0):r&&(i.animation=o),1===a.level?(i.$header.addClass("jqx-hidden"),i.$mainContainer.removeClass("header-shown"),i._view=void 0):(i.$.title.innerHTML=a.parentItem.titleLabel,i._view=a.parentItem),i._toggleFilterInputGroupLabelVisibility(),i.$.mainContainer.scrollTop=0,n||i._checkOverflow(),e&&i.focus()}}},{key:"_bounceBottom",value:function(e){function t(){n.scrollTop-=5,n.scrollTop>e?window.requestAnimationFrame(t):a.$mainContainer.removeClass("bounce-bottom")}function i(){n.scrollTop+=5,n.scrollTop!==n.scrollHeight-n.offsetHeight?window.requestAnimationFrame(i):window.requestAnimationFrame(t)}var a=this,n=a.$.mainContainer;a.$mainContainer.addClass("bounce-bottom"),window.requestAnimationFrame(i)}},{key:"_bounceTop",value:function(){function e(){a.scrollTop-=5,a.scrollTop>0?window.requestAnimationFrame(e):window.requestAnimationFrame(t)}function t(){a.scrollTop+=5,50!==a.scrollTop?window.requestAnimationFrame(t):(a.scrollTop=0,i.$mainContainer.removeClass("bounce-top"))}var i=this,a=i.$.mainContainer;i.$mainContainer.addClass("bounce-top"),window.requestAnimationFrame(e)}},{key:"_checkOverflow",value:function(){var e=this,t=e.overflow;if("hidden"!==t){var i=Math.round(e.$.mainContainer.scrollHeight)>Math.round(e.$.mainContainer.offsetHeight),a=Math.round(e.$.mainContainer.scrollTop)>0,n=Math.round(e.$.mainContainer.offsetHeight+e.$.mainContainer.scrollTop)<Math.round(e.$.mainContainer.scrollHeight);i?"auto"===t?(e.$mainContainer.hasClass("scroll-buttons-shown")||e.$mainContainer.addClass("scroll-buttons-shown"),a?e.$scrollButtonNear.removeClass("jqx-hidden"):e.$scrollButtonNear.addClass("jqx-hidden"),n?e.$scrollButtonFar.removeClass("jqx-hidden"):e.$scrollButtonFar.addClass("jqx-hidden"),!1===(a&&n)?e.$mainContainer.addClass("one-button-shown"):e.$mainContainer.removeClass("one-button-shown"),e.disabled||(e.$.scrollButtonNear.disabled=!1,e.$.scrollButtonFar.disabled=!1)):(e.$scrollButtonNear.removeClass("jqx-hidden"),e.$scrollButtonFar.removeClass("jqx-hidden"),e.disabled?(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0):(e.$.scrollButtonNear.disabled=!a,e.$.scrollButtonFar.disabled=!n)):!i&&"auto"===t&&e.$mainContainer.hasClass("scroll-buttons-shown")?(e.$mainContainer.removeClass("scroll-buttons-shown"),e.$mainContainer.removeClass("one-button-shown"),e.$scrollButtonNear.addClass("jqx-hidden"),e.$scrollButtonFar.addClass("jqx-hidden")):i||"scroll"!==t||(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0)}}},{key:"_close",value:function(){var e=this;e._discardKeyboardHover(!0),e._minimized&&e._minimizedDropDownOpened&&(e._positionDetection.removeOverlay(),e.$view.addClass("jqx-visibility-hidden"),e._edgeMacFF&&(e.$.view.style.left="",e.$.view.style.top="",e.$view.addClass("not-in-view")),e.$hamburgerIcon.removeClass("jqx-close-button"),e._minimizedDropDownOpened=!1)}},{key:"_createElement",value:function(){var e=this;e.mode="vertical",e._positionDetection=new JQX.Utilities.PositionDetection(e),e._positionDetection.getDropDownParent(),null===e.dataSource&&e.$.mainContainer.firstElementChild instanceof HTMLUListElement&&e._processUList();var t=e.getElementsByTagName("jqx-menu-item"),i=function(){e._setFocusable(),e._menuItems={},e._topLevelFilter="",e._filteredLowerLevelGroups=[],e.$.view.setAttribute("animation",e.animation),null===e.dataSource?e._processHTML(void 0,1):e._processDataSource(),e._toggleFilterInputGroupLabelVisibility(),"scroll"===e.overflow&&(e.$mainContainer.addClass("scroll-buttons-shown"),e.$scrollButtonNear.removeClass("jqx-hidden"),e.$scrollButtonFar.removeClass("jqx-hidden"),e._updateScrollButtonVisibility(e.$.mainContainer,!1,[e.$.scrollButtonNear,e.$.scrollButtonFar])),e._applyMinimizeIconTemplate(e.minimizeIconTemplate,null),null!==e.minimizeWidth&&e.offsetWidth<=e.minimizeWidth?e.minimize():e._checkOverflow(),e.displayLoadingIndicator&&e.$loadingIndicatorContainer.removeClass("jqx-hidden"),"center"!==e.loadingIndicatorPosition&&e.$loadingIndicatorPlaceHolder.removeClass("jqx-hidden"),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted())};0===t.length?i():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(t,i))}},{key:"_createMenuItemsGroupContainer",value:function(e,t){var i=document.createElement("div"),a=document.createElement("div");return i.className="jqx-menu-drop-down jqx-hidden",i.$=JQX.Utilities.Extend(i),i.level=t,i.setAttribute("level",t),i.menuItemsGroup=e,a.className="jqx-menu-item-container",a.$=JQX.Utilities.Extend(a),a.container=i,a.menuItemsGroup=e,e.checkable&&a.setAttribute("checkable",""),a.setAttribute("check-mode",e.checkMode),i.itemContainer=a,i.appendChild(a),i}},{key:"_discardGrouping",value:function(){for(var e=this,t=Array.from(e.$.view.getElementsByClassName("jqx-list-menu-group-label")),i=0;i<t.length;i++){var a=t[i];a.parentElement.removeChild(a)}e._unsortItems(e.$.mainContainer)}},{key:"_discardKeyboardHover",value:function(){var e=this;e._focusedViaKeyboard&&(e._focusedViaKeyboard===e.$.backButton?(e.$.backButton.removeAttribute("hover"),e.$.backButton.$.button.removeAttribute("hover")):(e._focusedViaKeyboard.removeAttribute("focus"),e._focusedViaKeyboard.removeAttribute("hover")),e._focusedViaKeyboard=void 0)}},{key:"_documentUpHandler",value:function(e){var t=this,i=e.originalEvent.target;if(t._endSwiping(e,Date.now()),t._swipeDetails)return"left"===t._swipeDetails.direction?t._swipeDetails.start>e.pageX&&t._swipeDetails.start-e.pageX>t.offsetWidth/4&&t._selectionHandler({target:t._swipeDetails.target},t._swipeDetails.target,!0):t._swipeDetails.start<e.pageX&&e.pageX-t._swipeDetails.start>t.offsetWidth/4&&t._backButtonClickHandler(),void delete t._swipeDetails;i===t.$.filterInput||t.disabled||t.displayLoadingIndicator||!i.closest||(t.contains(i)||i.closest(".jqx-list-menu-view")===t.$.view?!t.contains(i)&&i.closest(".jqx-list-menu-view")!==t.$.view||t===document.activeElement||t.focus():(t._close(),t._scrolling&&delete t._scrolling))}},{key:"_ensureVisible",value:function(e){var t=this,i=t.$.mainContainer;if(i.$.hasClass("scroll-buttons-shown")||"hidden"===t.overflow){var a=i.getBoundingClientRect(),n=e.getBoundingClientRect(),o=[t.$.scrollButtonNear,t.$.scrollButtonFar],r=i.scrollTop;(a.top>n.top||a.bottom<n.bottom)&&(i.scrollTop=e.offsetTop,t._updateScrollButtonVisibility(i,!1,o)),t._fireScrollBottomReachedEvent(r)}}},{key:"_fireScrollBottomReachedEvent",value:function(e){var t=this,i=t.$.mainContainer,a=i.scrollTop;e!==a&&a===i.scrollHeight-i.offsetHeight&&t.$.fireEvent("scrollBottomReached")}},{key:"_getCurrentViewItems",value:function(e){var t=this;if(t.grouped){if(void 0===e)return t.$.view.querySelectorAll(".jqx-menu-main-container > jqx-menu-item, .jqx-menu-main-container > jqx-menu-items-group");for(var i=e.container.firstElementChild.children,a=[],n=0;n<i.length;n++){var o=i[n];(o instanceof JQX.MenuItem||o instanceof JQX.MenuItemsGroup)&&a.push(o)}return a}return void 0===e?t.$.mainContainer.children:e.container.firstElementChild.children}},{key:"_sortItems",value:function(e){var t=this;if(t.grouped){var i=[],a=[],n=void 0;e instanceof JQX.MenuItemsGroup?n=e.container.firstElementChild:e===t.$.mainContainer&&(n=e);var o=Array.from(n.children);o.sort(function(e,t){return e.label.localeCompare(t.label)});for(var r=o.length-1;r>=0;r--)n.insertBefore(o[r],n.firstElementChild);for(var l=0;l<o.length;l++){var s=o[l],d=s.label.charAt(0),u=i.indexOf(d.toUpperCase());-1===u?(i.push(d.toUpperCase()),a.push([s])):a[u].push(s)}t._appendGroupLabels(i,a)}}},{key:"_home",value:function(){for(var e=this;e._view;)e._backButtonClickHandler(void 0,!0)}},{key:"_keydownHandler",value:function(e){var t=this,i=e.key;if(document.activeElement===t&&-1!==["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Enter","Escape","Home"," "].indexOf(i)&&!t.disabled&&!t.displayLoadingIndicator){e.preventDefault();var a=t._view,n=a?a.itemContainer:t.$.mainContainer,o=t.$.backButton.hasAttribute("hover")?t.$.backButton:n.querySelector("[focus]");switch(i){case"ArrowDown":t._navigate("_getNextEnabledChild",o,n);break;case"ArrowLeft":t._backButtonClickHandler();break;case"ArrowRight":o&&o instanceof JQX.MenuItemsGroup&&t._menuItemsGroupSelectionHandler(o,{type:"keydown"});break;case"ArrowUp":t._navigate("_getPreviousEnabledChild",o,n);break;case"End":case"Home":if(a&&"Home"===i)return t.$.mainContainer.scrollTop=0,t._checkOverflow(),t.$.backButton.setAttribute("hover",""),t.$.backButton.$.button.setAttribute("hover",""),t._focusedViaKeyboard=t.$.backButton,void(o&&o.removeAttribute("focus"));var r="End"===i?t._getLastEnabledChild(n):t._getFirstEnabledChild(n);if(!r||o===r)return;o&&(o===t.$.backButton?(t.$.backButton.removeAttribute("hover"),t.$.backButton.$.button.removeAttribute("hover")):o.removeAttribute("focus")),t._hoverViaKeyboard(r);break;case"Enter":t._minimized&&!t._minimizedDropDownOpened?t._hamburgerIconClickHandler(void 0,t.$.view):o&&(o===t.$.backButton?t._backButtonClickHandler():t._selectionHandler({target:o}));break;case"Escape":t._minimized&&t._minimizedDropDownOpened&&!t._view?t._close():t._backButtonClickHandler();break;case" ":o&&(o===t.$.backButton?t._backButtonClickHandler():t._toggleItem(o))}}}},{key:"_mainContainerDownHandler",value:function(e){var t=this;!JQX.Utilities.Core.isMobile||t.disabled||t.displayLoadingIndicator||(t._dragStartDetails={startY:e.pageY,x:e.pageX,y:e.pageY,startTime:Date.now(),target:e.originalEvent.target})}},{key:"_mainContainerHandler",value:function(){}},{key:"_mainContainerMoveHandler",value:function(e){var t=this;if(t._dragStartDetails){var i=e.pageY,a=t._dragStartDetails.y-i,n=t.$.mainContainer.scrollTop;t.$.mainContainer.scrollTop+=a,n!==t.$.mainContainer.scrollTop&&(t._checkOverflow(),t._fireScrollBottomReachedEvent(n)),t._dragStartDetails={startY:t._dragStartDetails.startY,x:e.pageX,y:i,startTime:t._dragStartDetails.startTime,target:e.originalEvent.target},t._scrolling=!0}}},{key:"_mainContainerSwipeHandler",value:function(e){var t=this;if(JQX.Utilities.Core.isMobile&&!t.disabled&&!t.displayLoadingIndicator){var i=e.originalEvent.target,a=i.closest("jqx-menu-item"),n=i.closest("jqx-menu-items-group");if("swiperight"===e.type){var o=a||n;o&&(delete t._dragStartDetails,delete t._scrolling,t._swipeDetails={direction:"right",start:e.pageX,target:o})}else n&&null===a&&(delete t._dragStartDetails,delete t._scrolling,t._swipeDetails={direction:"left",start:e.pageX,target:n})}}},{key:"_getRootDetails",value:function(e,t){var i=this;if(e){if(!i.enableShadowDOM)return{activeElement:e.activeElement,isInsideElement:i.contains(t.target)};for(var a=void 0,n=void 0;e&&(!a&&e.activeElement&&(a=e.activeElement),e.host===i&&(n=!0),e!==document);)e=e.host?e.host.getRootNode():e.getRootNode();return{activeElement:a,isInsideElement:n}}}},{key:"_menuItemsGroupSelectionHandler",value:function(e,t,i){var a=this,n=e.container,o=n.level,r=a._getRootDetails(t.target?t.target.getRootNode():null,t);if(a._view!==e&&(a._discardKeyboardHover(),r&&r.activeElement!==a&&null!==a.dropDownAppendTo&&"click"===t.type&&!r.isInsideElement&&a.focus(),!a._inTransition)){if("click"===t.type&&!t.target.classList.contains("jqx-menu-items-group-arrow")&&a._toggleItem(e))return void a._ripple(e,t);var l=a.hasAnimation,s=a.animation,d=!1;l&&i&&(l=!1,d=!0,a.animation="none"),2===o&&(a.$header.removeClass("jqx-hidden"),a.$mainContainer.addClass("header-shown")),a.$.title.innerHTML=e.titleLabel,a._view=e,a._toggleFilterInputGroupLabelVisibility(),e.removeAttribute("hover"),e.removeAttribute("focus"),e.$.addClass("jqx-menu-items-group-opened"),a._showHideMenuItemsGroupSiblings(e,"addClass",l),l?(a._inTransition=!0,e.firstElementChild.classList.add("animate"),setTimeout(function(){n.style.top=e.parentElement.getBoundingClientRect().top-e.getBoundingClientRect().top+"px"},0)):e.firstElementChild.classList.add("jqx-hidden"),n.$.removeClass("jqx-hidden"),d&&(a.animation=s),a.$.mainContainer.scrollTop=0,l||a._checkOverflow(),a.$.fireEvent("expand",{item:e,label:e.label,path:e.path,value:e.value})}}},{key:"_mouseoutMouseoverHandler",value:function(e){var t=this;if(!t.disabled&&!t.displayLoadingIndicator){var i=e.target.closest("jqx-menu-item")||e.target.closest("jqx-menu-items-group");null===i||t._view&&i.level<=t._view.level||i.disabled||i.templateApplied||(t._discardKeyboardHover(),"mouseover"===e.type?(i.setAttribute("hover",""),t._discardKeyboardHover(!0)):i.removeAttribute("hover"))}}},{key:"_navigate",value:function(e,t,i){var a=this;if(!t)return void("_getNextEnabledChild"===e?a._view?(a.$.backButton.setAttribute("hover",""),a.$.backButton.$.button.setAttribute("hover",""),a._focusedViaKeyboard=a.$.backButton):a._hoverViaKeyboard(a._getFirstEnabledChild(i)):a._hoverViaKeyboard(a._getLastEnabledChild(i)));var n=void 0;if("_getNextEnabledChild"===e&&t===a.$.backButton){if(!(n=a._getFirstEnabledChild(i)))return;a.$.backButton.removeAttribute("hover"),a.$.backButton.$.button.removeAttribute("hover")}else{if("_getPreviousEnabledChild"===e&&a._view&&t===a._getFirstEnabledChild(i))return a.$.backButton.setAttribute("hover",""),a.$.backButton.$.button.setAttribute("hover",""),a._focusedViaKeyboard=a.$.backButton,void t.removeAttribute("focus");n=a[e](t)}n&&(t.removeAttribute("focus"),a._hoverViaKeyboard(n))}},{key:"_processHTML",value:function(e,t){var i=this,a=void 0,n=void 0;void 0===e&&(e=i.$.mainContainer),t>1&&(a=i._createMenuItemsGroupContainer(e,t),n=a.itemContainer);for(var o=Array.from(e.children),r=[],l=0,s=0;s<o.length;s++)if(t>1&&0===s)l++;else{var d=o[s];d instanceof JQX.MenuItem||d instanceof JQX.MenuItemsGroup?(i._createItemHTMLStructure(d,t,e,s-l),d.checked&&(d.disabled||d.templateApplied?d.checked=!1:r.push(d)),t>1&&n.appendChild(d),d instanceof JQX.MenuItemsGroup&&i._processHTML(d,t+1)):(d.parentElement.removeChild(d),l++)}if(t>1){if(e.container=a,e.itemContainer=n,e instanceof JQX.MenuItemsGroup){var u=document.createElement("div");u.className="jqx-menu-items-group-arrow jqx-arrow-right right",e.children[0].appendChild(u)}e.appendChild(a)}i._validateRadioButtonSelection(e,t,r),i._sortItems(e)}},{key:"_resizeHandler",value:function(){var e=this,t=e.minimizeWidth;if(null!==t){if(!e._minimized&&e.offsetWidth<=t)return void e.minimize();if(e._minimized&&e.offsetWidth>t)return void e.maximize()}e._checkOverflow()}},{key:"_scroll",value:function(e){var t=this,i=t.$.mainContainer,a=e.classList.contains("jqx-scroll-button-near")?-1:1,n=i.scrollTop;i.scrollTop=i.scrollTop+10*a,n!==i.scrollTop&&(t._updateScrollButtonVisibility(i,!1,[t.$.scrollButtonNear,t.$.scrollButtonFar]),t._fireScrollBottomReachedEvent(n))}},{key:"_selectionHandler",value:function(e,t,i){function a(){var t=n._getRootDetails(o.getRootNode(),e);t&&t.activeElement!==n&&null!==n.dropDownAppendTo&&"click"===e.type&&!t.isInsideElement&&n.focus()}var n=this,o=e.target;if(!n.disabled&&!n.displayLoadingIndicator){if(n._scrolling||n._swipeDetails&&!i)return delete n._dragStartDetails,delete n._scrolling,void delete n._swipeDetails;if(void 0===t){if("click"===e.type){var r=o.closest("jqx-repeat-button");if(r)return void n._scroll(r,e)}var l=o.closest("jqx-menu-item");if(l)return l.disabled||l.templateApplied?void a():(n._toggleItem(l)||n.$.fireEvent("itemClick",{item:l,label:l.label,value:l.value}),n._ensureVisible(l),n._ripple(l,e),void a());if((t=o.closest("jqx-menu-items-group"))&&(o===t.container||o===t.container.firstElementChild))return}t&&!t.disabled&&n._menuItemsGroupSelectionHandler(t,e)}}},{key:"_showHideMenuItemsGroupSiblings",value:function(e,t,i){for(var a=e.parentElement,n=a.children,o=0;o<n.length;o++){(function(a){var o=n[a];if(o===e)return"continue";o.hidden||(i?"addClass"===t?o.$.addClass("animate"):(o.$.removeClass("jqx-hidden"),o.$.addClass("right"),setTimeout(function(){o.$.removeClass("right")},0)):o.$[t]("jqx-hidden"))})(o)}}},{key:"_toggleFilterInputGroupLabelVisibility",value:function(e,t){var i=this,a=i._getCurrentViewItems(i._view).length;if(!0!==t){var n=!i.$filterInputContainer.hasClass("jqx-hidden");i.filterable&&a>1?(n||(i.$mainContainer.addClass("filter-input-shown"),i.$filterInputContainer.removeClass("jqx-hidden")),i._view?i.$.filterInput.value=i._view.filter||"":i.$.filterInput.value=i._topLevelFilter):n&&(i.$mainContainer.removeClass("filter-input-shown"),i.$filterInputContainer.addClass("jqx-hidden"))}if(!e&&i.grouped&&a>0){var o=i._view?i._view.container.firstElementChild.firstElementChild.$:i.$.mainContainer.firstElementChild.$;1===a?o.addClass("jqx-hidden"):o.removeClass("jqx-hidden")}}},{key:"_viewHandler",value:function(e){var t=this;if("transitionend"===e.type){var i=e.target;if(i===t.$.view||t.$.backButton.contains(i))return;return i.classList.contains("animate")&&(i.classList.remove("animate"),i.classList.add("jqx-hidden")),i.classList.contains("jqx-menu-drop-down")&&(i.style.top=""),i.classList.contains("jqx-menu-items-group-opened")&&i.classList.remove("jqx-menu-items-group-opened"),t._checkOverflow(),void(t._inTransition=!1)}if(t._minimized&&null!==t.dropDownAppendTo)switch(e.type){case"click":t._selectionHandler(e);break;case"mouseout":case"mouseover":t._mouseoutMouseoverHandler(e)}}}],[{key:"properties",get:function(){return{displayLoadingIndicator:{value:!1,type:"boolean"},dropDownPosition:{value:"auto",allowedValues:["top-left","top-right","bottom-left","bottom-right","auto"],type:"string"},filterable:{value:!1,type:"boolean"},filterInputPlaceholder:{value:"",type:"string"},filterMode:{value:"containsIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},grouped:{value:!1,type:"boolean"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"}}}},{key:"listeners",get:function(){return{resize:"_resizeHandler","backButton.click":"_backButtonClickHandler","filterInput.keyup":"_filterInputKeyupHandler","mainContainer.down":"_mainContainerDownHandler","mainContainer.move":"_mainContainerMoveHandler","mainContainer.swipeleft":"_mainContainerSwipeHandler","mainContainer.swiperight":"_mainContainerSwipeHandler","view.click":"_viewHandler","view.mouseout":"_viewHandler","view.mouseover":"_viewHandler","view.transitionend":"_viewHandler","view.wheel":"_wheelHandler"}}},{key:"styleUrls",get:function(){return["jqx.listmenu.css"]}}]),t}(JQX.Menu)),JQX("jqx-tank",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                    <div id="scaleNear" class="jqx-scale jqx-scale-near"></div>\n                    <div id="track" class="jqx-track">\n                        <div id="fill" class="jqx-value">\n                            <div id="bubbleContainer" class="jqx-bubble-container"></div>\n                            <div id="tooltip" class="jqx-tooltip"><div id="tooltipContent" class="jqx-tooltip-content jqx-unselectable"></div></div>\n                            <div id="thumb" class="jqx-thumb">\n                                <div class="jqx-thumb-label-container">\n                                    <span id="thumbLabel" class="jqx-thumb-label"></span>\n                                </div>\n                            </div>\n                        </div>\n                        <div id="trackTicksContainer" class="jqx-track-ticks-container jqx-hidden"></div>\n                    </div>\n                    <div id="scaleFar" class="jqx-scale jqx-scale-far"></div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this._redefineProperty("customTicks"),this._createElement()}},{key:"_createElement",value:function(){var e=this;if(e.$.fill.style.transition="none","numeric"===e.mode?e._getEventValue=function(){return e.value}:e._handleDateScale(),e._setSettingsObject(),e._setDrawVariables(),e._getLayoutType(),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,!e._isVisible())return void(e._renderingSuspended=!0);e._renderingSuspended=!1,e._setInitialComponentDisplay(),e._measurements={},e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._validateInitialPropertyValues(),e._setTicksAndInterval(),e._validate(!0),
e._updateTooltipValue(e._drawValue),e._setFocusable(),e._setTrackSize(),e._setBubbles(),e.$.fill.style.transition="",e.$.hiddenInput.value=e._getEventValue()}},{key:"val",value:function(e){var t=this;if(void 0===e)return t._getEventValue();if("date"===t.mode){var i=JQX.Utilities.DateTime.validateDate(e);return i=i.getTimeStamp(),0!==i.compare(t.value)?void t._validate(!1,i,void 0,!0):t._valueDate}if(t.value.toString().toUpperCase()===e.toString().toUpperCase())return t.value="string"==typeof e?e:e.toString();e=e.toString().replace(/\s/g,""),t._numericProcessor.regexScientificNotation.test(e)&&(e=t._numericProcessor.scientificToDecimal(e));var a=t._discardDecimalSeparator(e.toString());t._validate(!1,a,void 0,!0),delete t._valueBeforeCoercion}},{key:"_setBubbles",value:function(){var e=this;if(e.hasAnimation){for(var t=document.createDocumentFragment(),i=void 0,a=0;a<5;a++)i=document.createElement("div"),i.classList.add("bubble"),i.classList.add("bubble"+(a+1)),t.appendChild(i);e.$.bubbleContainer.appendChild(t)}}},{key:"_setTrackSize",value:function(){var e=this;"vertical"===e.orientation?e._trackSize=e.$.track.offsetWidth:e._trackSize=e.$.track.offsetHeight}},{key:"getOptimalSize",value:function(){var e=this;if(e._renderingSuspended)return{width:0,height:0};var t=void 0,i=void 0,a=void 0;switch(e.labelsVisibility){case"all":i=e._numericProcessor._longestLabelSize;break;case"endPoints":i=Math.max(e._tickIntervalHandler.labelsSize.minLabelOtherSize,e._tickIntervalHandler.labelsSize.maxLabelOtherSize);break;case"none":i=0}switch(e.orientation){case"horizontal":return t={marginA:"marginBottom",marginB:"marginTop",nearScaleDistance:"bottom",farScaleDistance:"top",paddingA:"paddingBottom",paddingB:"paddingTop",offset:"offsetWidth",distance:"left"},e._orientationChanged&&(t.offset="offsetHeight",e._trackChanged=!0),a=e._getSize(i,t),{width:a.optimalOtherSize,height:a.optimalSize};case"vertical":return t={marginA:"marginLeft",marginB:"marginRight",nearScaleDistance:"right",farScaleDistance:"left",paddingA:"paddingLeft",paddingB:"paddingRight",offset:"offsetHeight",distance:"top"},e._orientationChanged&&(t.offset="offsetWidth",e._trackChanged=!0),a=e._getSize(i,t),{width:a.optimalSize,height:a.optimalOtherSize}}}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;if(!n._isVisible()||n._renderingSuspended)return void(n._renderingSuspended=!0);if(a==i)return void(n[e]=i);switch(e){case"labelsVisibility":case"ticksVisibility":return void n._updateScaleWidth(n._numericProcessor._longestLabelSize);case"coerce":if(a){var o=n.value,r=a=n.logarithmicScale?Math.pow(10,n._numericProcessor.getCoercedValue(Math.log10(o))):n._numericProcessor.getCoercedValue(o);n._validate(!1,r,!0,!0),n._valueBeforeCoercion=o}else void 0!==n._valueBeforeCoercion&&n._validate(!1,n._valueBeforeCoercion,!1,!0);return;case"interval":n._numericProcessor.validateInterval(a);var l=a=n.logarithmicScale?Math.pow(10,n._numericProcessor.getCoercedValue(Math.log10(n.value))):n._numericProcessor.getCoercedValue(n.value);n._validate(!1,l,n.coerce,!0);break;case"min":case"max":"date"===n.mode&&(delete n._dateInterval,n[e]=JQX.Utilities.DateTime.validateDate(a).getTimeStamp()),n._validateMinMax(e,!1,i);var s=n._numericProcessor.createDescriptor(n._discardDecimalSeparator(n.value,n.decimalSeparator),void 0,!0,"strict"===n.validation);n._setTicksAndInterval(),n._numericProcessor.updateValue(s);var d=n.getOptimalSize(),u=n.getBoundingClientRect(),c=n.$.track.getBoundingClientRect();d.width>u.width&&c.width<20&&(n.style.width=d.width+"px",n.style.height=d.height+"px");break;case"inverted":n._getLayoutType(),n._normalLayout&&(n.$.fill.style[n._settings.margin]="0px");var p=n._numericProcessor.createDescriptor(n.value),m=n._numericProcessor.validate(p,n._minObject,n._maxObject);n._setTicksAndInterval(),n._numericProcessor.updateValue(m);break;case"orientation":var v=n.$.fill.style,h=n.$.container.style;switch(!0!==n._orientationChanged&&(n._orientationChanged=!0),n._tankSizeBeforeOrientation={width:n.offsetWidth,height:n.offsetHeight},n._setSettingsObject(),n._getLayoutType(),n.inverted&&(v.marginTop="0",v.marginLeft="0"),n.orientation){case"vertical":n.inverted||(v.marginTop="auto",v.marginLeft="0"),v.width="100%",h.paddingLeft="0",h.paddingRight="0";break;case"horizontal":n.inverted||(v.marginTop="0",v.marginLeft="auto"),v.height="100%",h.paddingTop="0",h.paddingBottom="0"}n._validateMinMax("both");var f=n._numericProcessor.createDescriptor(n.value),g=n._numericProcessor.validate(f,n._minObject,n._maxObject);n._setTicksAndInterval(),n._setTicksAndInterval(),n._numericProcessor.updateValue(g),n._trackChanged=!0;break;case"significantDigits":case"precisionDigits":if("date"===n.mode)return;if("precisionDigits"===e&&"integer"===n.scaleType&&n.error(n.localize("noInteger",{elementType:n.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==n.precisionDigits?n.precisionDigits=null:"precisionDigits"===e&&null!==n.significantDigits&&(n.significantDigits=null),n._validateInitialPropertyValues(),n._setTicksAndInterval(),"horizontal"===n.orientation&&n.inverted){var _=n._numericProcessor.valueToPx(n._numericProcessor.getCoercedValue(n._drawValue));n.updateFillSizeAndPosition(_,n._settings.margin,a,!1)}break;case"decimalSeparator":if("integer"===n.scaleType||"date"===n.mode)return;var b=n._discardDecimalSeparator(n.value,i),y=n._applyDecimalSeparator(b);n.value=b,delete n._valueBeforeCoercion,n._numericProcessor.addTicksAndLabels(),n._updateTooltipValue(y);break;case"value":if(n.value=i,null===a)return;if("date"===n.mode){var w=JQX.Utilities.DateTime.validateDate(a);return w=w.getTimeStamp(),void(0!==w.compare(i)&&n._validate(!1,w,void 0,!0))}if(a.toString().toUpperCase()!==i.toString().toUpperCase()){var x=void 0!==a?a.toString().replace(/\s/g,""):i.toString().replace(/\s/g,"");n._numericProcessor.regexScientificNotation.test(x)&&(x=n._numericProcessor.scientificToDecimal(x)),n._validate(!1,x,void 0,!0),delete n._valueBeforeCoercion}else n.value="string"==typeof a?a:a.toString();break;case"scaleType":if("date"===n.mode)return void(n.scaleType="integer");n._changeScaleType(i,a);break;case"disabled":case"unfocusable":n._setFocusable();break;case"showUnit":case"unit":n._setTicksAndInterval(),n._moveThumbBasedOnValue(n._drawValue);break;case"tooltipPosition":break;case"wordLength":if("date"===n.mode)return void(n.wordLength="uint64");n._wordLengthNumber=n._numericProcessor.getWordLength(a),n._validateMinMax("both");var C=n._numericProcessor.createDescriptor(n.value),k=n._numericProcessor.validate(C,n._minObject,n._maxObject);n._setTicksAndInterval(),n._numericProcessor.updateValue(k);break;case"scalePosition":n._setInitialComponentDisplay(),n._setTicksAndInterval(),n._moveThumbBasedOnValue(n._drawValue);break;case"labelFormatFunction":case"scientificNotation":if("date"===n.mode&&"scientificNotation"===e)return;var D=n._discardDecimalSeparator(n.value,n.decimalSeparator);n._setTicksAndInterval(),n._updateTooltipValue(D);break;case"logarithmicScale":if("date"===n.mode)return void(n.logarithmicScale=!1);n._validateMinMax("both"),n._setTicksAndInterval(),n._validate(!1,n.value,void 0,!0);break;case"ticksPosition":"scale"===a?(n.$trackTicksContainer.addClass("jqx-hidden"),n.$.trackTicksContainer.innerHTML=""):n.$trackTicksContainer.removeClass("jqx-hidden"),n._numericProcessor.addTicksAndLabels();break;case"customInterval":a?(n._customTicks&&(n.customTicks=n._customTicks),n._numericProcessor.validateCustomTicks()):"date"===n.mode&&(n._customTicks=n.customTicks),n._setTicksAndInterval(),n._coerceCustomInterval();break;case"customTicks":if("date"===n.mode&&!n.customInterval)return n._customTicks=a,void(n.customTicks=i);n._numericProcessor.validateCustomTicks(),n.customInterval&&(n._setTicksAndInterval(),n._coerceCustomInterval());break;case"dateLabelFormatString":"date"===n.mode&&n._setTicksAndInterval();break;case"mode":n.mode=i;break;case"showThumbLabel":a&&n.showTooltip&&(n.showTooltip=!1);break;case"showTooltip":a&&n.showThumbLabel&&(n.showThumbLabel=!1);break;case"validation":"strict"===a&&n._validate(!1,n.value)}}},{key:"_setSettingsObject",value:function(){var e=this;"horizontal"===e.orientation?e._settings={clientSize:"clientWidth",dimension:"width",leftOrTop:"left",margin:"marginLeft",offset:"offsetLeft",otherSize:"offsetHeight",size:"offsetWidth",page:"pageX"}:e._settings={clientSize:"clientHeight",dimension:"height",leftOrTop:"top",margin:"marginTop",offset:"offsetTop",otherSize:"offsetWidth",size:"offsetHeight",page:"pageY"}}},{key:"_setInitialComponentDisplay",value:function(){var e=this;switch(e.scalePosition){case"near":e.$scaleNear.removeClass("jqx-hidden"),e.$scaleFar.addClass("jqx-hidden");break;case"far":e.$scaleNear.addClass("jqx-hidden"),e.$scaleFar.removeClass("jqx-hidden");break;case"both":e.$scaleFar.removeClass("jqx-hidden"),e.$scaleNear.removeClass("jqx-hidden");break;case"none":e.$scaleFar.addClass("jqx-hidden"),e.$scaleNear.addClass("jqx-hidden")}e.$tooltip.addClass("jqx-hidden"),"track"===e.ticksPosition&&e.$trackTicksContainer.removeClass("jqx-hidden")}},{key:"_styleChangedHandler",value:function(){var e=this;return e._isVisible()?e._renderingSuspended?void e._createElement():void(e._renderingSuspended||(e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue))):void(e._renderingSuspended=!0)}},{key:"_validateInitialPropertyValues",value:function(){var e=this,t=babelHelpers.typeof(e.value)===String?e.value.replace(/\s/g,""):e.value.toString().replace(/\s/g,"");"numeric"===e.mode&&e._numericProcessor.regexScientificNotation.test(t)&&(e.value=e._numericProcessor.scientificToDecimal(t),delete e._valueBeforeCoercion),e.significantDigits=null!==e.significantDigits?Math.min(Math.max(e.significantDigits,1),21):null,null===e.significantDigits&&null===e.precisionDigits?e.significantDigits=8:null!==e.significantDigits&&null!==e.precisionDigits&&e.error(e.localize("significantPrecisionDigits",{elementType:e.nodeName.toLowerCase()})),e._validateMinMax("both",!0),e.showTooltip&&e.showThumbLabel&&(e.showTooltip=!1)}},{key:"_validateMinMax",value:function(e,t,i){function a(e,i){n._numericProcessor.validateMinMax("min"===e||t,"max"===e||t);var a=n["_"+e+"Object"];("min"===e?n._numericProcessor.compare(n.max,a,!0)<=0:n._numericProcessor.compare(n.min,a,!0)>0)?i?(n._numberRenderer=new JQX.Utilities.NumberRenderer(i),"min"===e?o=!1:r=!1,n[e]=i,n["_"+e+"Object"]=i):n.error(n.localize("invalidMinOrMax",{elementType:n.nodeName.toLowerCase(),property:e})):(n._numberRenderer=new JQX.Utilities.NumberRenderer(a),n[e]=n["_"+e+"Object"])}var n=this,o="min"===e||"both"===e,r="max"===e||"both"===e;void 0===(void 0===t?"undefined":babelHelpers.typeof(t))&&(t=!1),"both"===e?(a("min",i),a("max",i)):a(e,i),n.logarithmicScale?n._validateOnLogarithmicScale(o,r,i):(n._drawMin=n.min,n._drawMax=n.max),n.min=n.min.toString(),n.max=n.max.toString(),n._minObject=n._numericProcessor.createDescriptor(n.min),n._maxObject=n._numericProcessor.createDescriptor(n.max),"date"===n.mode&&(n._minDate=JQX.Utilities.DateTime.fromFullTimeStamp(n.min),n._maxDate=JQX.Utilities.DateTime.fromFullTimeStamp(n.max)),n._numericProcessor.validateInterval(n.interval),n.customInterval&&n._numericProcessor.validateCustomTicks()}},{key:"_calculateTickInterval",value:function(){var e=this,t=e._tickIntervalHandler.getInterval("linear",e._drawMin,e._drawMax,e.$.track,e.logarithmicScale);t.major!==e._majorTicksInterval?(e._intervalHasChanged=!0,e._majorTicksInterval=t.major):e._intervalHasChanged=!0,e._minorTicksInterval=t.minor,"date"===e.mode&&e._calculateDateInterval(t.major)}},{key:"_calculateDateInterval",value:function(e){var t=this,i={month:"2628000000000000000000000000000",day:"86400000000000000000000000000",hour:"3600000000000000000000000000",minute:"60000000000000000000000000",second:"1000000000000000000000000"},a="year",n=new JQX.Utilities.BigNumber("31536000000000000000000000000000"),o=n.subtract(e).abs(),r=new JQX.Utilities.BigNumber(t.min).subtract(t.max).abs(),l=r.divide(e).toString();l<2&&(e=r.divide(3));for(var s in i)if(i.hasOwnProperty(s)){var d=new JQX.Utilities.BigNumber(i[s]),u=d.subtract(e).abs();if(-1!==u.compare(o))break;a=s,n=d,o=u}if("second"===a){if(t._numberRenderer.numericValue=parseFloat(e),t._numberRenderer.numericValue<1e3)return t._dateIncrementMethod="addYoctoseconds",void(t._dateIntervalNumber=1);var c=t._numberRenderer.toScientific(10);return c=c.charAt(c.length-1),t._dateIncrementMethod=t._unitToMethod[c],void(t._dateIntervalNumber=Math.pow(10,t._numericProcessor.prefixesToPowers[c]))}t._dateInterval=!0;var p=!t.customInterval,m=void 0,v=void 0,h=void 0;switch(p&&(m=[new JQX.Utilities.BigNumber(t.min)],v=r.divide(n).toString(),h=Math.max(1,Math.floor(v/l))),a){case"year":if(p)for(var f=t._minDate.year()+h;f<t._maxDate.year();f+=h)m.push(new JQX.Utilities.BigNumber(new JQX.Utilities.DateTime(f,1,1).getTimeStamp()));t._dateIncrementMethod="addYears";break;case"month":if(p)for(var g=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month()+h,1);-1===g.compare(t._maxDate);g.addMonths(h,!1))m.push(new JQX.Utilities.BigNumber(g.getTimeStamp()));t._dateIncrementMethod="addMonths";break;case"day":if(p)for(var _=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day()+h);-1===_.compare(t._maxDate);_.addDays(h,!1))m.push(new JQX.Utilities.BigNumber(_.getTimeStamp()));t._dateIncrementMethod="addDays",t._dateIntervalNumber=8.64e28;break;case"hour":if(p)for(var b=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day(),t._minDate.hour()+h);-1===b.compare(t._maxDate);b.addHours(h,!1))m.push(new JQX.Utilities.BigNumber(b.getTimeStamp()));t._dateIncrementMethod="addHours",t._dateIntervalNumber=3.6e27;break;case"minute":if(p)for(var y=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day(),t._minDate.hour(),t._minDate.minute()+h);-1===y.compare(t._maxDate);y.addMinutes(h,!1))m.push(new JQX.Utilities.BigNumber(y.getTimeStamp()));t._dateIncrementMethod="addMinutes",t._dateIntervalNumber=6e25}p&&(-1===m[m.length-1].compare(t.max)&&m.push(new JQX.Utilities.BigNumber(t.max)),t.customTicks=m)}},{key:"_formatNumber",value:function(e){var t=this;if("date"===t.mode){return JQX.Utilities.DateTime.fromFullTimeStamp(e).toString(t.dateLabelFormatString)}var i=t._numberRenderer,a=parseFloat(e);if(i.numericValue=e,t.scientificNotation)a=t._numberRenderer.toScientific(t.significantDigits,t.precisionDigits);else switch(t.scaleType){case"floatingPoint":a=t._applyDecimalSeparator(i.toDigits(t.significantDigits,t.precisionDigits));break;case"integer":a=i.isENotation(a)?Math.round(i.largeExponentialToDecimal(a)):Math.round(a),a=i.toDigits(t.significantDigits,0)}return a}},{key:"_formatLabel",value:function(e,t){var i=this,a=void 0;return i.labelFormatFunction&&("date"===i.mode&&(e=JQX.Utilities.DateTime.fromFullTimeStamp(e)),void 0!==(a=i.labelFormatFunction(e))&&""!==a)?a:(a=i._formatNumber(e),i._numberRenderer=new JQX.Utilities.NumberRenderer(a),i.showUnit&&(a+=!1!==t?' <span class="jqx-unselectable">'+i.unit+"</span>":" "+i.unit),a)}},{key:"_layout",value:function(){var e=this,t=e.$.container.style,i=e._tickIntervalHandler.labelsSize.minLabelSize/2+"px",a=e._tickIntervalHandler.labelsSize.maxLabelSize/2+"px";switch(e.orientation){case"horizontal":if("none"===e.scalePosition){t.paddingLeft="",t.paddingRight="";break}e.inverted?(t.paddingLeft=a,t.paddingRight=i):(t.paddingLeft=i,t.paddingRight=a);break;case"vertical":if("none"===e.scalePosition){t.paddingTop="",t.paddingBottom="";break}e.inverted?(t.paddingBottom=a,t.paddingTop=i):(t.paddingBottom=i,t.paddingTop=a)}e._measurements.trackLength=e.$.track[this._settings.clientSize]}},{key:"_trackDownHandler",value:function(e){var t=this;t.disabled||t.readonly||!JQX.Utilities.Core.isMobile&&0!==e.button||("switchUntilReleased"===t.mechanicalAction&&(t._cachedValue={},t._cachedValue._number=t._number,t._cachedValue._drawValue=t._drawValue,t._cachedValue.value=t.value,t._valueDate&&(t._cachedValue._valueDate=t._valueDate)),t._getTrackStartAndEnd(),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction),t._thumbDragged=!0,t.$track.addClass("jqx-dragged"),t.showTooltip&&t.$tooltip.removeClass("jqx-hidden"))}},{key:"_trackMoveHandler",value:function(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}},{key:"_documentMoveHandler",value:function(e){var t=this;t._thumbDragged&&(e.originalEvent.preventDefault(),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction),t.$fill.addClass("disable-animation"))}},{key:"_documentUpHandler",value:function(e){var t=this;if(t._thumbDragged){if("switchWhenReleased"===t.mechanicalAction)t._moveThumbBasedOnCoordinates(e,!0,!0);else if("switchUntilReleased"===t.mechanicalAction&&t._numericProcessor.compare(t._number,t._cachedValue._number)){var i=t._getEventValue();t._number=t._cachedValue._number,t._drawValue=t._cachedValue._drawValue,t._cachedValue._valueDate&&(t._valueDate=t._cachedValue._valueDate),t.value=t._cachedValue.value,t._moveThumbBasedOnValue(t._drawValue);var a=t._getEventValue();t.$.fireEvent("change",{value:a,oldValue:i}),t.$.hiddenInput.value=a}t.showTooltip&&t.$tooltip.addClass("jqx-hidden"),t._thumbDragged=!1,t.$track.removeClass("jqx-dragged"),t.$fill.removeClass("disable-animation")}}},{key:"_selectStartHandler",value:function(e){this._thumbDragged&&e.preventDefault()}},{key:"_resizeHandler",value:function(){var e=this;return e._isVisible()?e._renderingSuspended?void e._createElement():void(e._renderingSuspended||(!0!==e._orientationChanged&&(e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue)),e._trackChanged&&(e._measurements.trackLength=e.$.track[this._settings.clientSize],e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue)),e._setTrackSize(),delete e._orientationChanged,delete e._trackChanged)):void(e._renderingSuspended=!0)}},{key:"_moveThumbBasedOnCoordinates",value:function(e,t,i){var a=this,n=t?Math.min(Math.max(e[a._settings.page],a._trackStart),a._trackEnd):e[a._settings.page],o=a._numericProcessor.pxToValue(n);a.logarithmicScale?(a._drawValue=Math.log10(o),o=a._numericProcessor.getCoercedValue(a._drawValue)):(a._drawValue=o,o=a._numericProcessor.getCoercedValue(o)),n=Math.min(Math.max(a._numericProcessor.valueToPx(o)+a._trackStart,a._trackStart),a._trackEnd);var r=n-a._trackStart;a.updateFillSizeAndPosition(r,a._settings.margin,o,!0,i),e.originalEvent&&e.originalEvent.stopPropagation()}},{key:"_moveThumbBasedOnValue",value:function(e){var t=this,i=t._numericProcessor.valueToPx(t._numericProcessor.getCoercedValue(e));t.updateFillSizeAndPosition(i,t._settings.margin,e,!0)}},{key:"updateFillSizeAndPosition",value:function(e,t,i,a,n){var o=this,r=o.$.fill.style;if(o._normalLayout?r[o._settings.dimension]=e+"px":(r[o._settings.dimension]=Math.min(o._measurements.trackLength,Math.max(0,o._measurements.trackLength-e))+"px",r[t]=e+"px"),a){var l=o.value;delete o._valueBeforeCoercion,o._numericProcessor.updateToolTipAndValue(i,l,n)}}},{key:"_updateTooltipValue",value:function(e){var t=this;void 0===e&&(e=t.value),t.logarithmicScale&&(e=Math.pow(10,e.toString())),e=t._formatLabel(e),t.$.tooltipContent.innerHTML=e,t.$.thumbLabel.innerHTML=e}},{key:"_getSize",value:function(e,t){function i(e,t){var i=e.getElementsByClassName("jqx-label");l=i[0],s=i[i.length-1];var a=window.getComputedStyle(i[0])[t];d+=parseFloat(a)}var a=this,n=window.getComputedStyle(a),o=window.getComputedStyle(a.$.track),r=a._trackSize+parseFloat(o[t.marginA])+parseFloat(o[t.marginB]),l=void 0,s=void 0,d=void 0,u=void 0;switch(d=r,a.scalePosition){case"none":return d+=parseFloat(n[t.paddingA])+parseFloat(n[t.paddingB]),u=void 0!==a._tankSizeBeforeOrientation?"horizontal"===a.orientation?a._tankSizeBeforeOrientation.height:a._tankSizeBeforeOrientation.width:"horizontal"===a.orientation?parseFloat(o.width):parseFloat(o.height),!0!==a._trackChanged&&(a._trackChanged=!0),{optimalSize:d,optimalOtherSize:u};case"near":d+=e,i(a.$.scaleNear,t.nearScaleDistance);break;case"far":d+=e,i(a.$.scaleFar,t.farScaleDistance);break;case"both":d+=2*e,i(a.$.scaleNear,t.nearScaleDistance),i(a.$.scaleFar,t.farScaleDistance)}var c=void 0,p=void 0,m=void 0;return d+=parseFloat(n[t.paddingA])+parseFloat(n[t.paddingB]),c=l.getBoundingClientRect(),p=s.getBoundingClientRect(),u=a[t.offset],m=c[t.distance]+l[t.offset]-p[t.distance],m>0&&(u=l[t.offset]+s[t.offset]),{optimalSize:d,optimalOtherSize:u}}},{key:"_getRange",value:function(){var e=this;if(e.logarithmicScale)return void(e._range=e._drawMax-e._drawMin);"floatingPoint"===e.scaleType?e._range=(e._drawMax-e._drawMin).toString():e._range=new JQX.Utilities.BigNumber(e._drawMax).subtract(e._drawMin).toString()}},{key:"_getTrackStartAndEnd",value:function(){var e=this,t=void 0,i=e.$.track.getBoundingClientRect();if("horizontal"===e.orientation){var a=document.body.scrollLeft||document.documentElement.scrollLeft;t=i.left+a}else{var n=document.body.scrollTop||document.documentElement.scrollTop;t=i.top+n}var o=t+e._measurements.trackLength,r=o-t;e._trackStart=t,e._trackEnd=o,e._valuePerPx=e._numericProcessor.getValuePerPx(e._range,r)}},{key:"_updateScaleWidth",value:function(e){var t=this,i="track"===t.ticksPosition?4:12;switch(t.labelsVisibility){case"all":e=t._numericProcessor._longestLabelSize;break;case"endPoints":e=Math.max(t._tickIntervalHandler.labelsSize.minLabelOtherSize,t._tickIntervalHandler.labelsSize.maxLabelOtherSize);break;case"none":e=0}var a=i+e,n=window.getComputedStyle(t.$.track);if(Boolean(n.getPropertyValue("--jqx-tank-scale-size")))t.$.container.style.setProperty("--jqx-tank-scale-size",a+"px");else{var o=window.getComputedStyle(t),r=t.$.scaleNear.style,l=t.$.scaleFar.style,s=t.$.track.style,d=parseFloat(n.getPropertyValue("min-width")),u=void 0,c=void 0,p=void 0,m=void 0,v=parseFloat(n.getPropertyValue("outline-width"))||0,h=parseFloat(n.getPropertyValue("outline-offset"))||0,f=v+h,g=void 0;switch(t.orientation){case"horizontal":u="height",c="width",p=t.offsetHeight,g=parseFloat(o.getPropertyValue("padding-top"))+parseFloat(o.getPropertyValue("padding-bottom")),m=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("margin-bottom"));break;case"vertical":u="width",c="height",p=t.offsetWidth,g=parseFloat(o.getPropertyValue("padding-left"))+parseFloat(o.getPropertyValue("padding-right")),m=parseFloat(n.getPropertyValue("margin-left"))+parseFloat(n.getPropertyValue("margin-right"))}switch(t.scalePosition){case"near":r.setProperty(u,a+"px"),s.setProperty(u,Math.max(isNaN?0:d,p-g-a-4-m-f)+"px");break;case"far":l.setProperty(u,a+"px"),s.setProperty(u,Math.max(isNaN?0:d,p-g-a-4-m-f)+"px");break;case"both":r.setProperty(u,a+"px"),l.setProperty(u,a+"px"),s.setProperty(u,Math.max(isNaN?0:d,p-g-2*a-4-m-f)+"px");break;case"none":s.setProperty(u,"")}s.setProperty(c,"100%"),r.setProperty(c,"100%"),l.setProperty(c,"100%")}}},{key:"_appendTicksAndLabelsToScales",value:function(e,t){function i(i){i.innerHTML=t,"scale"===a.ticksPosition&&(i.innerHTML+=e)}var a=this;switch(a.scalePosition){case"near":i(a.$.scaleNear);break;case"far":i(a.$.scaleFar);break;case"both":i(a.$.scaleNear),i(a.$.scaleFar)}"track"===a.ticksPosition&&(a.$.trackTicksContainer.innerHTML=e)}},{key:"_discardDecimalSeparator",value:function(e,t){var i=this;if(void 0===t&&(t=i.decimalSeparator),"."!==t){var a=new RegExp(t,"g");return"string"==typeof e?e.replace(a,"."):e.toString().replace(a,".")}return e}},{key:"_applyDecimalSeparator",value:function(e){var t=this;return"string"!=typeof e&&(e=e.toString()),"."!==t.decimalSeparator&&(e=e.replace(/\./g,t.decimalSeparator)),e}},{key:"_validate",value:function(e,t,i,a){var n=this,o=void 0;n._programmaticValueIsSet=a&&"interaction"===n.validation,o=e?n.value:t;var r=void 0,l=void 0;!0!==i&&n.coerce?(r=n._numericProcessor.createDescriptor(o,!0,!0,!0),r=n.logarithmicScale?Math.pow(10,n._numericProcessor.getCoercedValue(Math.log10(r))):n._numericProcessor.getCoercedValue(r),l=r):"strict"===n.validation||!e&&!n._programmaticValueIsSet?(r=n._numericProcessor.createDescriptor(o,!0,!0,!0),l=r):(r=n._numericProcessor.createDescriptor(o,!0,!0,!1),l=n._numericProcessor.validate(r,n._minObject,n._maxObject)),n._numericProcessor.regexScientificNotation.test(l)&&(l=n._numericProcessor.scientificToDecimal(l)),l=n._discardDecimalSeparator(l,n.decimalSeparator),e?(n._number=l,n._drawValue=n.logarithmicScale?Math.log10(l):l,"numeric"===n.mode?n.value=r.toString():(n._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(r),n.value=r),delete n._valueBeforeCoercion,n._moveThumbBasedOnValue(n._drawValue)):n._numericProcessor.updateValue(r),n._programmaticValueIsSet=!1}},{key:"_changeScaleType",value:function(){var e=this;e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._validateMinMax("both"),e._setTicksAndInterval(),e._scaleTypeChangedFlag=!0,e._validate(!0,e._number.toString()),e._scaleTypeChangedFlag=!1}},{key:"_setTicksAndInterval",value:function(){var e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);var t=e._formatLabel(e.min),i=e._formatLabel(e.max);e._getRange(),e._tickIntervalHandler=new JQX.Utilities.TickIntervalHandler(e,t,i,"jqx-label",e._settings.size,"integer"===e.scaleType,e.logarithmicScale),e._layout(),e.customInterval?("date"===e.mode&&e._calculateTickInterval(),e._intervalHasChanged=!0,e._numericProcessor.addCustomTicks()):(e._calculateTickInterval(),e._dateInterval?(e._intervalHasChanged=!0,e._numericProcessor.addCustomTicks()):e._numericProcessor.addTicksAndLabels())}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");e.tabIndex=e.tabIndex>0?e.tabIndex:0}},{key:"_keyIncrementDecrement",value:function(e,t){var i=this,a="add"===e?1:-1,n=void 0===t;if(n&&(t=i.logarithmicScale?new JQX.Utilities.BigNumber(i._drawValue):i._drawValue),i.customInterval&&i.coerce){n&&(i.logarithmicScale&&(t=i.value),"numeric"===i.mode&&(t=t.toString()));var o=void 0,r=void 0;"numeric"===i.mode?(o=-1!==i.customTicks.indexOf(i.min)?i.customTicks.slice(0):[i.min].concat(i.customTicks),r=o.indexOf(t)):(o=-1!==i.customTicks.findIndex(function(e){return 0===e.compare(i._drawMin)})?i.customTicks.slice(0):[i._drawMin].concat(i.customTicks),r=o.findIndex(function(e){return 0===e.compare(t)}));var l=o[r+1*a];return void 0!==l?l:t===i.max&&"subtract"===e?o[o.length-2]:t}if("numeric"===i.mode){var s=i._numericProcessor.incrementDecrement(t,e,i._validInterval);return i.logarithmicScale&&(i._drawValue=s,s=Math.pow(10,Math.round(s))),s}return"interaction"!==i.validation||-1!==i._valueDate.compare(i._minDate)&&1!==i._valueDate.compare(i._maxDate)||(i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),i._valueDate[i._dateIncrementMethod](a*parseFloat(i.interval),!1),i._drawValue=new JQX.Utilities.BigNumber(i._valueDate.getTimeStamp()),-1===i._drawValue.compare(i._drawMin)&&(i._drawValue=new JQX.Utilities.BigNumber(i._drawMin),i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),1===i._drawValue.compare(i._drawMax)&&(i._drawValue=new JQX.Utilities.BigNumber(i._drawMax),i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),i._drawValue}},{key:"_keydownHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var i=e.charCode?e.charCode:e.which;if(-1!==[35,36,37,38,39,40].indexOf(i)){var a=[35,38,39].indexOf(i)>-1,n=[36,37,40].indexOf(i)>-1;if(e.preventDefault(),"floatingPoint"===t.scaleType){if(parseFloat(t.value)<=parseFloat(t.min)&&n||parseFloat(t.value)>=parseFloat(t.max)&&a)return}else{var o=new JQX.Utilities.BigNumber(t._drawValue);if(1!==o.compare(t._drawMin)&&n||-1!==o.compare(t._drawMax)&&a)return}var r=void 0;switch(i){case 40:case 37:r=t._keyIncrementDecrement("subtract");break;case 38:case 39:r=t._keyIncrementDecrement("add");break;case 36:t._drawValue=t._drawMin,r=t.min;break;case 35:t._drawValue=t._drawMax,r=t.max}return t._validate(!1,r,i),!1}}}},{key:"_setDrawVariables",value:function(){var e=this;e.logarithmicScale?(e._drawValue=Math.log10(e.value),e._drawMin=Math.log10(e.min),e._drawMax=Math.log10(e.max)):(e._drawValue=e.value,e._drawMin=e.min,e._drawMax=e.max)}},{key:"_validateOnLogarithmicScale",value:function(e,t){function i(e){return Math.pow(10,Math.round(Math.log10(e)-Math.log10(5.5)+.5))}var a=this;if(e)if(a.min<=0)a.min=1,a._drawMin=0;else if(Math.log10(a.min)%1!=0){var n=i(parseFloat(a.min));n>a.min&&(n/=10),a._drawMin=Math.log10(a.min)}else a._drawMin=Math.log10(a.min);if(t)if(a.max<=0)a.max=1,a._drawMax=0;else if(Math.log10(a.max)%1!=0){var o=i(parseFloat(a.max));o<a.max&&(o*=10),a._drawMax=Math.log10(a.max)}else a._drawMax=Math.log10(a.max);"integer"===a.scaleType&&(a._drawMin<0&&(a._drawMin=0,a.min=1),a._drawMax<0&&(a._drawMax=1,a.max=10)),a._drawMax===a._drawMin&&(a._drawMax=a._drawMin+1)}},{key:"_getLayoutType",value:function(){var e=this,t=e.orientation,i=e.inverted;e._normalLayout="horizontal"===t&&!i||"vertical"===t&&i}},{key:"_trackOnMouseEnterHandler",value:function(){var e=this;e.readonly||e.disabled||(e.$track.addClass("track-hovered"),e.$.track.setAttribute("hover",""))}},{key:"_trackOnMouseLeaveHandler",value:function(){var e=this;e.readonly||e.disabled||(e.$track.removeClass("track-hovered"),e.$.track.removeAttribute("hover"))}},{key:"_isVisible",value:function(){var e=this;return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}},{key:"_coerceCustomInterval",value:function(){var e=this;if(e.coerce){var t=e._valueBeforeCoercion,i=e.logarithmicScale?Math.pow(10,e._numericProcessor.getCoercedValue(Math.log10(e.value))):e._numericProcessor.getCoercedValue(e.value);e._validate(!1,i,!0,!0),e._valueBeforeCoercion=t}}},{key:"_handleDateScale",value:function(){var e=this,t=JQX.Utilities.DateTime;t||e.error(e.localize("missingReference",{elementType:e.nodeName.toLowerCase(),files:"jqxdate.js"})),e._customTicks=e.customTicks,e._unitToMethod={Y:"addSeconds",Z:"addMilliseconds",E:"addMicroseconds",P:"addNanoseconds",T:"addPicoseconds",G:"addFemtoseconds",M:"addAttoseconds",k:"addZeptoseconds"},e._minDate=t.validateDate(e.min),e.min=e._minDate.getTimeStamp(),e._maxDate=t.validateDate(e.max),e.max=e._maxDate.getTimeStamp(),e.rangeSlider||(e._valueDate=t.validateDate(e.value),e.value=e._valueDate.getTimeStamp()),e._properties.min.serialize="_serializeMin",e._properties.max.serialize="_serializeMax",e._properties.value.serialize="_serializeValue",e.scaleType="integer",e.logarithmicScale=!1,e.wordLength="uint64";for(var i=["min","max","value"],a=0;a<i.length;a++)!function(t){var a=i[t];Object.defineProperty(e,a,{get:function(){return e.context===e?e.properties[a].value:e["_"+a+"Date"]},set:function(t){e.updateProperty(e,e._properties[a],t)}})}(a);e._getEventValue=function(){return e._valueDate.clone()}}},{key:"_serializeMin",value:function(){return this._minDate.toString()}},{key:"_serializeMax",value:function(){return this._maxDate.toString()}},{key:"_serializeValue",value:function(){return this._valueDate.toString()}},{key:"_redefineProperty",value:function(e){var t=this;Object.defineProperty(t,e,{get:function(){return t.properties[e].value},set:function(i){function a(e,t){return t instanceof JQX.Utilities.BigNumber?t.toString():t}var n=t.properties[e].value;if(JSON.stringify(n,a)!==JSON.stringify(i,a)&&(t.properties[e].value=i,t.isReady&&(!t.ownerElement||t.ownerElement&&t.ownerElement.isReady)&&t.context!==t)){var o=t.context;t.context=t,t.propertyChangedHandler(e,n,i),t.context=o}}})}}],[{key:"properties",get:function(){return{coerce:{value:!1,type:"boolean"},customInterval:{value:!1,type:"boolean"},customTicks:{reflectToAttribute:!1,value:["0","50","100"],type:"array"},dateLabelFormatString:{value:"d",type:"string"},decimalSeparator:{value:".",type:"string"},interval:{value:"1",
type:"any"},inverted:{value:!1,type:"boolean"},labelFormatFunction:{value:null,type:"function?"},labelsVisibility:{value:"all",allowedValues:["all","endPoints","none"],type:"string"},logarithmicScale:{value:!1,type:"boolean"},max:{value:"100",type:"any"},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},messages:{value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}.",significantPrecisionDigits:"{{elementType}}: the properties significantDigits and precisionDigits cannot be set at the same time.",invalidMinOrMax:"{{elementType}}: Invalid {{property}} value. Max cannot be lower than Min.",noInteger:'{{elementType}}: precisionDigits could be set only on "floatingPoint" scaleType.'}},type:"object",extend:!0},min:{value:"0",type:"any"},mode:{value:"numeric",allowedValues:["numeric","date"],type:"string"},name:{value:"",type:"string"},orientation:{value:"vertical",allowedValues:["horizontal","vertical"],type:"string"},precisionDigits:{value:null,type:"number?"},scalePosition:{value:"near",allowedValues:["near","far","both","none"],type:"string"},scaleType:{value:"floatingPoint",allowedValues:["floatingPoint","integer"],type:"string"},scientificNotation:{value:!1,type:"boolean"},showThumbLabel:{value:!1,type:"boolean"},showTooltip:{value:!1,type:"boolean"},showUnit:{value:!1,type:"boolean"},significantDigits:{value:null,type:"number?"},thumbLabelPosition:{value:"near",allowedValues:["near","far"],type:"string"},ticksPosition:{value:"scale",allowedValues:["scale","track"],type:"string"},ticksVisibility:{value:"minor",allowedValues:["major","minor","none"],type:"string"},tooltipPosition:{value:"near",allowedValues:["near","far"],type:"string"},unit:{value:"kg",type:"string"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{value:"0",type:"any"},wordLength:{value:"int32",allowedValues:["int8","uint8","int16","uint16","int32","uint32","int64","uint64"],type:"string"}}}},{key:"listeners",get:function(){return{"track.down":"_trackDownHandler","track.move":"_trackMoveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler",keydown:"_keydownHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler","document.selectstart":"_selectStartHandler","track.mouseenter":"_trackOnMouseEnterHandler","track.mouseleave":"_trackOnMouseLeaveHandler"}}},{key:"requires",get:function(){return{"JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.Utilities.TickIntervalHandler":"jqxtickintervalhandler.js"}}},{key:"styleUrls",get:function(){return["jqx.tank.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-gauge",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                <div id="svgContainer" class="jqx-svg-container"></div>\n                <div class="jqx-digital-display-container">\n                    <jqx-numeric-text-box id="digitalDisplay"\n                                            class="jqx-digital-display"\n                                            decimal-separator="[[decimalSeparator]]"\n                                            max="[[max]]"\n                                            min="[[min]]"\n                                            name="[[name]]"\n                                            readonly\n                                            input-format="[[scaleType]]"\n                                            scientific-notation="[[scientificNotation]]"\n                                            show-unit="[[showUnit]]"\n                                            unit="[[unit]]"\n                                            unfocusable\n                                            validation="interaction"\n                                            word-length="[[wordLength]]">\n                    </jqx-numeric-text-box>\n                </div>\n            </div>'}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.isCompleted&&(e._trackListener&&(e._trackListener=new JQX.Utilities.InputEvents(e._track),e._trackListener.down(function(t){e._SVGElementDownHandler(t)})),e._fillListener&&(e._fillListener=new JQX.Utilities.InputEvents(e._fill),e._fillListener.down(function(t){e._SVGElementDownHandler(t)})),e._lineListener&&(e._lineListener=new JQX.Utilities.InputEvents(e._line),e._lineListener.down(function(t){e._SVGElementDownHandler(t)})))}},{key:"detached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e._unlisten()}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this)}},{key:"getOptimalSize",value:function(){var e=this;return e._renderingSuspended?{width:0,height:0}:"circle"===e.sizeMode?{width:e.offsetWidth,height:e._updateSize(!0)}:{width:e.offsetWidth,height:e.offsetHeight}}},{key:"val",value:function(e){var t=this;if(void 0===e)return t._getEventValue();if("date"===t.mode&&(e=JQX.Utilities.DateTime.validateDate(e),e=e.getTimeStamp()),t._numericProcessor.compare(e,t.value)){var i=t.value;if(t._validateValue(e,t.value),!t._isVisible()||t._renderingSuspended)return void(t._renderingSuspended=!0);t._animate(i)}}},{key:"_createElement",value:function(){var e=this;if("numeric"===e.mode?e._getEventValue=function(){return e.value}:(e._handleDateScale(),e.digitalDisplay=!1),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._draw=new JQX.Utilities.Draw(e.$.svgContainer),!e._isVisible())return void(e._renderingSuspended=!0);e._renderingSuspended=!1,e._setSettingsObject(),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._measurements={},e._validateInitialPropertyValues(),e._getMeasurements(),e._setDrawVariables(),e._getRange(),e._numericProcessor.getAngleRangeCoefficient(),"numeric"!==e.mode&&e.coerce?e._coerceInitialDateValue=!0:e._validateValue(),e._initTickIntervalHandler(),e._renderAnalogItems(),delete e._preventResizeHandler,e._setFocusable(),e._setUpdatePointerMethod()}},{key:"propertyChangedHandler",value:function(e,i,a){function n(t,a,n,r){var l=t&&a?"both":e;o._validateMinMax(l,!1,i),"logarithmicScale"!==e&&"scaleType"!==e&&("wordLength"!==e&&o[e]===i||"wordLength"===e&&o.min===n&&o.max===r)||(o._setDrawVariables(),o._getRange(),o._numericProcessor.getAngleRangeCoefficient(),o._initTickIntervalHandler(),o._renderAnalogItems(),o._validateValue(o.value,o.value),o._updatePointer())}var o=this;if(!o._isVisible()||o._renderingSuspended)return void(o._renderingSuspended=!0);switch(e){case"analogDisplayType":delete o._customSVGElements,o._getMeasurements(),"needle"===a&&"center"===o.digitalDisplayPosition?o.digitalDisplayPosition="bottom":"needle"===i&&"bottom"===o.digitalDisplayPosition&&(o.digitalDisplayPosition="center"),o._renderAnalogItems(),o._setUpdatePointerMethod();break;case"coerce":if(a){var r=o.value;o._validateValue(r),o._updatePointer(),o._valueBeforeCoercion=r}else void 0!==o._valueBeforeCoercion&&(o._validateValue(o._valueBeforeCoercion),o._updatePointer());break;case"customInterval":a?(o._customTicks&&(o.customTicks=o._customTicks),o._numericProcessor.validateCustomTicks()):"date"===o.mode&&(o._customTicks=o.customTicks),o._initTickIntervalHandler(),o._renderAnalogItems(),o._coerceCustomInterval();break;case"customTicks":if("date"===o.mode&&!o.customInterval)return o._customTicks=a,void(o.customTicks=i);o._numericProcessor.validateCustomTicks(),o.customInterval&&(o._initTickIntervalHandler(),o._renderAnalogItems(),o._coerceCustomInterval());break;case"dateLabelFormatString":case"showUnit":case"unit":o._initTickIntervalHandler(),o._renderAnalogItems();break;case"decimalSeparator":case"scientificNotation":if("date"===o.mode)return;o._initTickIntervalHandler(),o._renderAnalogItems();break;case"digitalDisplay":case"digitalDisplayPosition":if("date"===o.mode)return void("digitalDisplay"===e&&(o.digitalDisplay=!1));o._updateSize();break;case"mechanicalAction":case"messages":case"readonly":break;case"disabled":case"unfocusable":o._setFocusable();break;case"drawNeedle":if("needle"!==o.analogDisplayType)return;null===i&&o._draw.removeElement(o._needle),null!==a?o._updatePointer():(o._renderAnalogItems(),delete o._customSVGElements);break;case"endAngle":case"startAngle":o._validateAngles(),o._numericProcessor.getAngleRangeCoefficient(),o._renderAnalogItems();break;case"interval":o._numericProcessor.validateInterval(o.interval),o._validateValue(),o._updatePointer();break;case"inverted":case"labelFormatFunction":case"showRanges":o._renderAnalogItems();break;case"labelsVisibility":if("all"===i&&"endPoints"===a||"endPoints"===i&&"all"===a)return;o._getMeasurements(),o._renderAnalogItems();break;case"logarithmicScale":if("date"===o.mode)return void(o.logarithmicScale=!1);o._initTickIntervalHandler(),n(!0,!0);break;case"max":case"min":"date"===o.mode&&(delete o._dateInterval,o[e]=JQX.Utilities.DateTime.validateDate(a).getTimeStamp()),n("min"===e,"max"===e);break;case"mode":o.mode=i;break;case"needlePosition":"needle"===o.analogDisplayType&&o._updatePointer();break;case"precisionDigits":case"significantDigits":if("date"===o.mode)return;"precisionDigits"===e&&"integer"===o.scaleType&&o.error(o.localize("noInteger",{elementType:o.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==o.precisionDigits?o.precisionDigits=null:"precisionDigits"===e&&null!==o.significantDigits&&(o.significantDigits=null),null!==a&&(o.$.digitalDisplay.precisionDigits=o.precisionDigits,o.$.digitalDisplay.significantDigits=o.significantDigits),o._initTickIntervalHandler(),o._renderAnalogItems();break;case"ranges":if(!o.showRanges)return;o._renderAnalogItems();break;case"scaleType":if("date"===o.mode)return void(o.scaleType="integer");o._numericProcessor=new JQX.Utilities.NumericProcessor(o,"scaleType"),n(!0,!0);break;case"scalePosition":case"ticksPosition":o._getMeasurements(),o._renderAnalogItems();break;case"sizeMode":o._preventResizeHandler=!0,"circle"===a?(o.$.container.removeAttribute("style"),o.style.height=o.offsetWidth+"px",o._measurements.cachedHeight=o.offsetHeight):(o.$.container.style.height=o.offsetWidth+"px",o._updateSize());break;case"theme":babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),o._getMeasurements(),o._renderAnalogItems();break;case"ticksVisibility":if("minor"===i&&"major"===a||"major"===i&&"minor"===a)return;o._getMeasurements(),o._renderAnalogItems();break;case"validation":"strict"===a&&o._validateValue(o.value,o.value);break;case"value":"date"===o.mode&&(a=JQX.Utilities.DateTime.validateDate(a),a=a.getTimeStamp()),o._validateValue(a,i);var l=a.toString();o.value.toString()===l&&(o._drawValue=o.logarithmicScale?Math.log10(l).toString():l),o._animate(i);break;case"wordLength":if("date"===o.mode)return void(o.wordLength="uint64");o._wordLengthNumber=o._numericProcessor.getWordLength(o.wordLength),"integer"===o.scaleType&&n(!0,!0,o.min,o.max)}}},{key:"_addAnalogDisplay",value:function(){var e=this,t=e._measurements,i=t.radius,a=e._draw;if("needle"===e.analogDisplayType){e._drawNeedle(!1);var n=(t.needleWidth+5)/2;e._centralCircle=a.circle(i,i,n,{class:"jqx-needle-central-circle"}),e._minCoordinates.push(i-n),e._maxCoordinates.push(i+n)}else{var o=i-e._distance.trackDistance-t.trackBorderWidth/2-1;e._track=a.pieslice(i,i,o-t.trackWidth,o,e.startAngle,e.endAngle,0,{class:"jqx-track"}),e._trackListener=new JQX.Utilities.InputEvents(e._track),e._trackListener.down(function(t){e._SVGElementDownHandler(t)})}}},{key:"_calculateTickAndLabelDistance",value:function(){var e=this,t=e._measurements;if("none"===e.scalePosition)return e._plotLabels=!1,e._plotTicks=!1,t.innerRadius=t.radius,{majorTickDistance:0,minorTickDistance:0,labelDistance:0,needleDistance:0,trackDistance:0};var i=e._tickIntervalHandler.labelsSize,a=e._largestLabelSize||Math.max(i.minLabelSize,i.minLabelOtherSize,i.maxLabelSize,i.maxLabelOtherSize),n=1,o=void 0,r=void 0,l=void 0,s=0;return e._largestLabelSize=a,"outside"===e.scalePosition&&(n=a,o=n+t.majorTickSize-t.minorTickSize,r=0),"needle"===e.analogDisplayType?(l="outside"===e.scalePosition?n+t.majorTickSize:n+t.majorTickSize+a,"none"===e.ticksVisibility&&(r=0,l-=t.majorTickSize),"none"===e.labelsVisibility&&(l-=a,"outside"===e.scalePosition&&(n-=a,o-=a))):"none"===e.labelsVisibility&&"none"===e.ticksVisibility?s=0:"outside"===e.scalePosition?"scale"===e.ticksPosition?("none"===e.labelsVisibility&&(n=1,o=1+t.majorTickSize-t.minorTickSize),s="none"!==e.ticksVisibility?n+t.majorTickSize+2:a):"none"!==e.labelsVisibility?(o-=(t.trackWidth+t.trackBorderWidth)/4,s=n-1):(n=1,o=(t.trackWidth+t.trackBorderWidth)/4+1,s=0):"scale"===e.ticksPosition?(n=t.trackWidth+1.5*t.trackBorderWidth+2,"none"===e.ticksVisibility&&(r=n)):o=(t.trackWidth+t.trackBorderWidth)/4+1,void 0===o&&(o=n),void 0===r&&(r=n+t.majorTickSize),t.innerRadius=t.radius-r,delete e._plotLabels,delete e._plotTicks,delete e._equalToHalfRadius,"inside"===e.scalePosition?t.innerRadius<a&&(e._plotLabels=!1,"scale"===e.ticksPosition?"needle"!==e.analogDisplayType&&t.innerRadius<t.majorTickSize&&(e._plotTicks=!1):(e._equalToHalfRadius=!0,t.innerRadius=t.radius/2)):t.radius-s-t.trackBorderWidth<t.trackWidth&&(t.trackWidth=t.radius-s-t.trackBorderWidth,t.lineSize=t.trackWidth+t.trackBorderWidth,"track"===e.ticksPosition&&(t.majorTickSize=t.lineSize,t.minorTickSize=t.majorTickSize/2,o=n+(t.majorTickSize-t.minorTickSize)/2)),{majorTickDistance:n,minorTickDistance:o,labelDistance:r,needleDistance:l,trackDistance:s}}},{key:"_calculateTickInterval",value:function(){var e=this,t=e._tickIntervalHandler.getInterval("radial",e._drawMin,e._drawMax,e.$.container,e.logarithmicScale);t.major!==e._majorTicksInterval?(e._intervalHasChanged=!0,e._majorTicksInterval=t.major):e._intervalHasChanged=!0,e._minorTicksInterval=t.minor,"date"===e.mode&&e._calculateDateInterval(t.major)}},{key:"_computeNeedlePointsCenter",value:function(e,t){var i=this,a=i._measurements,n=a.innerRadius,o=a.radius,r=Math.sin(t),l=Math.cos(t),s=void 0;return s="inside"===i.scalePosition?.9*(n-i._largestLabelSize):.9*(n-i._distance.needleDistance),"M "+(o+e*l)+","+(o-e*r)+" L "+(o-e*l)+","+(o+e*r)+" L "+(o+s*r)+","+(o+s*l)+" Z"}},{key:"_computeNeedlePointsEdge",value:function(e,t,i){var a=this,n=a._measurements.radius,o=n-a._distance.needleDistance,r=o-i,l=Math.sin(t),s=Math.cos(t),d=n+r*l,u=n+r*s;return"M "+(d+e*s)+","+(u-e*l)+" L "+(d-e*s)+","+(u+e*l)+" L "+(n+o*l)+","+(n+o*s)+" Z"}},{key:"_documentMoveHandler",value:function(e){if(this._dragging){var t=this,i=t._getAngleByCoordinate(e.pageX,e.pageY),a=t._getQuadrant(i),n=t._getRotationDirection();if(t._normalizedStartAngle===t.endAngle){var o=void 0;t.inverted?t._lockCW&&"cw"===n?(o=t._normalizedStartAngle,t._unlockRotation("_lockCW",i,a,o,{firstCondition:i<o,secondCondition:i>o})):t._lockCCW&&"ccw"===n&&(o=t.endAngle,t._unlockRotation("_lockCCW",i,a,o,{firstCondition:i>o,secondCondition:i<o})):t._lockCW&&"ccw"===n?(o=t.endAngle,t._unlockRotation("_lockCW",i,a,o,{firstCondition:i>o,secondCondition:i<o})):t._lockCCW&&"cw"===n&&(o=t._normalizedStartAngle,t._unlockRotation("_lockCCW",i,a,o,{firstCondition:i<o,secondCondition:i>o}))}else t._lockCW&&"ccw"===n&&!t._outsideRange&&t._numericProcessor._getAngleDifference(i,t._normalizedStartAngle)<10?t._lockCW=!1:t._lockCCW&&"cw"===n&&!t._outsideRange&&t._numericProcessor._getAngleDifference(i,t.endAngle)<10&&(t._lockCCW=!1);if(t._angle=i,t._quadrant=a,e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()),!t._lockCW&&!t._lockCCW){var r=t._numericProcessor.getValueByAngle(i);if(t._normalizedStartAngle===t.endAngle){var l=t._numericProcessor.lockRotation("cw"===n&&!t.inverted||"ccw"===n&&t.inverted,r);void 0!==l&&(r=l)}else"ccw"===n&&t._outsideEnd?t._lockCCW=!0:"cw"===n&&t._outsideStart&&(t._lockCW=!0);void 0!==r&&t._numericProcessor.compare(r,t.value)&&(cancelAnimationFrame(t._animationFrameId),t._updatePointer(r),"switchWhenReleased"!==t.mechanicalAction?t._numericProcessor.updateGaugeValue(r):t._valueAtMoveEnd=r)}}}},{key:"_documentUpHandler",value:function(){var e=this;if(e._dragging&&(e._lockCW=!1,e._lockCCW=!1,e._dragging=!1,e.removeAttribute("dragged"),"switchWhileDragging"!==e.mechanicalAction)){var t="switchUntilReleased"===e.mechanicalAction?e._valueAtDragStart:e._valueAtMoveEnd;e._numericProcessor.compare(t,e.value)&&("switchUntilReleased"===e.mechanicalAction&&e._animate(e.value,t),e._numericProcessor.updateGaugeValue(t))}}},{key:"_downHandler",value:function(e,t){var i=this,a=i.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if("needle"!==i.analogDisplayType&&!t||i.disabled||i.readonly||(i.enableShadowDOM?a.getRootNode().host===i.$.digitalDisplay:i.$.digitalDisplay.contains(a))||!JQX.Utilities.Core.isMobile&&("buttons"in e&&1!==e.buttons||1!==e.which))return void e.stopPropagation();var n=e.pageX,o=e.pageY;if(i._measurements.center=i._getCenterCoordinates(),"needle"===i.analogDisplayType){if(Math.sqrt(Math.pow(i._measurements.center.x-n,2)+Math.pow(i._measurements.center.y-o,2))>i._measurements.radius)return void e.stopPropagation()}"switchUntilReleased"===i.mechanicalAction&&(i._valueAtDragStart=i.value),i._angle=i._getAngleByCoordinate(n,o),i._quadrant=i._getQuadrant(i._angle);var r=i._numericProcessor.getValueByAngle(i._angle);void 0!==r&&i._numericProcessor.compare(r,i.value)&&(i._animate(i.value,r),"switchWhenReleased"!==i.mechanicalAction?i._numericProcessor.updateGaugeValue(r):i._valueAtMoveEnd=r),i._dragging=!0,i.setAttribute("dragged","")}},{key:"_animate",value:function(e,t){function i(){d=u(),o&&(d=Math.pow(10,d))}function a(){if(++s===r)return d=t,void n._updatePointer(d);n._updatePointer(d),i(),n._animationFrameId=requestAnimationFrame(a)}var n=this,o=n.logarithmicScale,r=Math.max(1,Math.round(n.animationDuration/15));if(cancelAnimationFrame(n._animationFrameId),!n.hasAnimation||1===r)return void n._updatePointer(t);var l=n._numericProcessor,s=1,d=void 0,u=void 0,c=void 0,p=void 0;void 0===t&&(t=n.value),e=parseFloat(l.validate(l.createDescriptor(e),n._minObject,n._maxObject)),t=parseFloat(l.validate(l.createDescriptor(t),n._minObject,n._maxObject)),o?(c=Math.log10(e),p=Math.log10(t)):(c=e,p=t);var m=Math.abs(p-c);u=t>e?function(){return Math.min(JQX.Utilities.Animation.Easings.easeInOutSine(s,c,m,r),p)}:function(){return Math.max(2*c-JQX.Utilities.Animation.Easings.easeInOutSine(s,c,m,r),p)},i(),n._animationFrameId=requestAnimationFrame(a)}},{key:"_drawFill",value:function(e,t){var i=this;if("needle"!==i.analogDisplayType){void 0===t&&(t=i._number);var a=i._measurements,n=a.radius,o=n-i._distance.trackDistance-a.trackBorderWidth/2-1;if("fill"===i.analogDisplayType){var r=i._numericProcessor.getAngleByValue(t,!0,!0),l=void 0,s=void 0;i.inverted?(l=i.startAngle,s=r):(l=r,s=i.endAngle),e?i._fill.setAttribute("d",i._draw.pieSlicePath(n,n,o-a.trackWidth,o,l,s,0)):(i._fill=i._draw.pieslice(n,n,o-a.trackWidth,o,l,s,0,{class:"jqx-value"}),i._fillListener=new JQX.Utilities.InputEvents(i._fill),i._fillListener.down(function(e){i._SVGElementDownHandler(e)}))}else{var d=o+a.trackBorderWidth/2,u=d-a.lineSize,c=i._numericProcessor.getAngleByValue(t),p=Math.sin(c),m=Math.cos(c),v=n+d*p,h=n+d*m,f=n+u*p,g=n+u*m;e?(i._line.setAttribute("x1",v),i._line.setAttribute("y1",h),i._line.setAttribute("x2",f),i._line.setAttribute("y2",g)):(i._line=i._draw.line(v,h,f,g,{class:"jqx-line"}),i._lineListener=new JQX.Utilities.InputEvents(i._line),i._lineListener.down(function(e){i._SVGElementDownHandler(e)}))}}}},{key:"_drawLabel",value:function(e,t,i,a){var n=this,o=n._measurements,r=o.radius,l={class:"jqx-label"+(!1!==a?" jqx-label-middle":""),"font-size":o.fontSize,"font-family":o.fontFamily,"font-weight":o.fontWeight,"font-style":o.fontStyle};t=n._formatLabel(t.toString(),!1);var s=n._draw.measureText(t,0,l),d=r-i-n._largestLabelSize/2,u=Math.round(r+d*Math.sin(e))-s.width/2,c=Math.round(r+d*Math.cos(e))-s.height/2,p=n._draw.text(t,u,c,s.width,s.height,0,l);n._minCoordinates.push(c),n._maxCoordinates.push(c+p.getBBox().height)}},{key:"_drawNeedle",value:function(e,t){var i=this,a=i._measurements;void 0===t&&(t=i._number);var n=i._numericProcessor.getAngleByValue(t);if(i.drawNeedle){if(i._customSVGElements=i.drawNeedle(i,i._draw,a.radius,n,i._distance.needleDistance),i._customSVGElements)for(var o=i._customSVGElements[0].parentElement||i._customSVGElements[0].parentNode,r=0;r<i._customSVGElements.length;r++)o.insertBefore(i._customSVGElements[r],i._centralCircle)}else{var l=void 0;l="center"===i.needlePosition?i._computeNeedlePointsCenter(a.needleWidth/2,n):i._computeNeedlePointsEdge(a.needleWidth/2,n,a.needleLength),e?i._needle.setAttribute("d",l):i._needle=i._draw.path(l,{class:"jqx-needle"})}}},{key:"_drawRanges",value:function(){var e=this,t=e._numericProcessor,i=e.ranges;if(e.showRanges&&0!==i.length){var a=e._measurements,n=a.radius,o=void 0,r=void 0,l=void 0,s=void 0;"needle"===e.analogDisplayType?(r=a.rangeSize,"inside"===e.scalePosition?o=n-1:(o=n-e._distance.needleDistance-2,"none"===e.labelsVisibility&&"none"===e.ticksVisibility&&(o+=1))):(o=n-e._distance.trackDistance-a.trackBorderWidth/2-1,r=a.trackWidth),e.inverted?(l="endValue",s="startValue"):(l="startValue",s="endValue");for(var d=0;d<i.length;d+=1){var u=i[d],c=t.validateColorRange(u[l]),p=t.validateColorRange(u[s]),m=e._draw.pieslice(n,n,o-r,o,t.getAngleByValue(p,!0,!0),t.getAngleByValue(c,!0,!0),0,{class:"jqx-range "+u.className});e._ranges.push(m)}}}},{key:"_drawTick",value:function(e,t,i){var a=this,n=a._measurements,o=n.radius,r="jqx-tick",l=void 0;"major"===i?l=n.majorTickSize:(l=n.minorTickSize,r+=" jqx-tick-minor");var s=t-l,d=o+t*Math.sin(e),u=o+t*Math.cos(e),c=o+s*Math.sin(e),p=o+s*Math.cos(e);a._draw.line(d,u,c,p,{class:r}),a._minCoordinates.push(Math.min(u,p)),a._maxCoordinates.push(Math.max(u,p))}},{key:"_getAngleByCoordinate",value:function(e,t){var i=this,a=i._measurements.center,n=Math.atan2(t-a.y,e-a.x),o=-1*n*180/Math.PI;return o<0&&(o+=360),i._actualAngle=o,i._normalizedStartAngle===i.endAngle||function(e,t,i){for(;t<e;)t+=360;for(;i<e;)i+=360;return i>=e&&i<=t}(i._normalizedStartAngle,i.endAngle,o)?(i._outsideRange=!1,i._outsideStart=!1,i._outsideEnd=!1):(i._numericProcessor._getAngleDifference(o,i._normalizedStartAngle)<=i._numericProcessor._getAngleDifference(o,i.endAngle)?(o=i._normalizedStartAngle,i._outsideStart=!0,i._outsideEnd=!1):(o=i.endAngle,i._outsideEnd=!0,i._outsideStart=!1),i._outsideRange=!0),o}},{key:"_getCenterCoordinates",value:function(){var e=this,t=e.$.container.getBoundingClientRect(),i=e._measurements.radius,a=document.body.scrollLeft||document.documentElement.scrollLeft,n=document.body.scrollTop||document.documentElement.scrollTop;return{x:t.left+a+i,y:t.top+n+i}}},{key:"_getInlineColors",value:function(){var e=this,t="",i="",a="";return e._track&&(t=e._track.style.fill),e._fill&&(i=e._fill.style.fill),e._line&&(a=e._line.style.stroke),[t,i,a]}},{key:"_getMeasurements",value:function(){var e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);var t=e._measurements;t.cachedWidth=e.offsetWidth,t.cachedHeight=e.offsetHeight,t.radius=t.cachedWidth/2;var i=document.createElement("div");e.enableShadowDOM?e.shadowRoot.appendChild(i):e.appendChild(i),i.className="jqx-tick",t.majorTickSize=i.offsetWidth,i.className+=" jqx-tick-minor",t.minorTickSize=i.offsetWidth,i.className="jqx-label";var a=window.getComputedStyle(i);t.fontSize=a.fontSize,t.fontFamily=a.fontFamily,t.fontWeight=a.fontWeight,t.fontStyle=a.fontStyle,t.trackWidth=0,t.trackBorderWidth=0,"needle"===e.analogDisplayType?(i.className="jqx-needle",t.needleWidth=i.offsetWidth,t.needleLength=i.offsetHeight,i.className="jqx-range",t.rangeSize=i.offsetWidth):(i.className="jqx-track",t.trackBorderWidth=parseFloat(a.strokeWidth),t.trackWidth=Math.min(i.offsetWidth,t.radius-t.trackBorderWidth),t.lineSize=t.trackWidth+t.trackBorderWidth,"track"===e.ticksPosition&&(t.majorTickSize=t.lineSize,t.minorTickSize=t.majorTickSize/2)),e.enableShadowDOM?e.shadowRoot.removeChild(i):e.removeChild(i)}},{key:"_getQuadrant",value:function(e){return e>270?4:e>180?3:e>90?2:1}},{key:"_getRotationDirection",value:function(){var e=this,t=e._getQuadrant(e._actualAngle);return e._actualAngle<e._angle&&(1!==t||4!==e._quadrant)||e._actualAngle>e._angle&&4===t&&1===e._quadrant?"cw":"ccw"}},{key:"_initTickIntervalHandler",value:function(){var e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);var t=e._formatLabel(e.min,!1),i=e._formatLabel(e.max,!1);e._tickIntervalHandler=new JQX.Utilities.TickIntervalHandler(e,t,i,"jqx-label",e._settings.size,"integer"===e.scaleType,e.logarithmicScale)}},{key:"_keydownHandler",value:function(e){var i=this,a=i._getEventValue(),n=i._number.toString();"numeric"===i.mode?(i.value.toString()!==n&&(i.value=n,i.$.digitalDisplay.value=n),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_keydownHandler",this).call(this,e),i.value.toString()!==a&&i.$.fireEvent("change",{value:i.value,oldValue:a})):(i.value.toString()!==n&&(i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(n),i.value=i._number,i.$.digitalDisplay.$.input.value=i._valueDate),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_keydownHandler",this).call(this,e),0!==i._valueDate.compare(a)&&i.$.fireEvent("change",{value:i._getEventValue(),oldValue:a}))}},{key:"_normalizeAngle",value:function(e){return e%=360,e<0&&(e+=360),e}},{key:"_renderAnalogItems",value:function(e){var t=this;if(!t._isVisible()||t._renderingSuspended)return void(t._renderingSuspended=!0);var i=t._getInlineColors();if(t._unlisten(),t._draw.clear(),delete t._needle,delete t._centralCircle,delete t._track,delete t._trackListener,delete t._fill,delete t._fillListener,delete t._line,delete t._lineListener,t._ranges=[],t._minCoordinates=[],t._maxCoordinates=[],!1!==e&&(delete t._largestLabelSize,t._distance=t._calculateTickAndLabelDistance()),!1!==t._plotTicks||!1!==t._plotLabels){t._calculateTickInterval();var a=t._cachedLabelsSize,n=Math.max(a.minLabelSize,a.minLabelOtherSize,a.maxLabelSize,a.maxLabelOtherSize);!1!==e&&t._largestLabelSize!==n&&(t._largestLabelSize=n,t._distance=t._calculateTickAndLabelDistance(),t._calculateTickInterval())}t._coerceInitialDateValue&&(t._validateValue(),delete t._coerceInitialDateValue),t._drawRanges(),t._addAnalogDisplay(),("none"!==t.ticksVisibility&&!1!==t._plotTicks||"none"!==t.labelsVisibility&&!1!==t._plotLabels)&&(t.customInterval||t._dateInterval?t._numericProcessor.addGaugeCustomTicks():t._numericProcessor.addGaugeTicksAndLabels()),t._drawFill(!1),t._updateSize(),t._restoreInlineColors(i[0],i[1],i[2])}},{key:"_resizeHandler",value:function(){var e=this;if(e._preventResizeHandler)return void delete e._preventResizeHandler;if(!e._isVisible())return void(e._renderingSuspended=!0);if(e._renderingSuspended)return void e._createElement();var t=e._measurements;if(!(e._renderingSuspended||t.cachedWidth===e.offsetWidth&&t.cachedHeight===e.offsetHeight)){if("circle"===e.sizeMode)e.offsetWidth!==e.offsetHeight&&(t.cachedWidth!==e.offsetWidth?(e.style.height=e.offsetWidth+"px",e._preventResizeHandler=!0):t.cachedHeight!==e.offsetHeight&&(e.style.width=e.offsetHeight+"px",e._preventResizeHandler=!0));else{if(t.cachedHeight!==e.offsetHeight&&t.cachedWidth===e.offsetWidth)return e.style.height=t.cachedHeight+"px",void(e._preventResizeHandler=!0);e.$.container.style.height=e.offsetWidth+"px"}t.cachedWidth=e.offsetWidth,t.cachedHeight=e.offsetHeight,t.radius=t.cachedWidth/2,e._equalToHalfRadius?t.innerRadius=t.radius/2:t.innerRadius=t.radius-e._distance.labelDistance,e._renderAnalogItems(!1)}}},{key:"_restoreInlineColors",value:function(e,t,i){var a=this;a._track&&""!==e&&(a._track.style.fill=e),a._fill&&""!==t&&(a._fill.style.fill=t),a._line&&""!==i&&(a._line.style.stroke=i)}},{key:"_selectStartHandler",value:function(e){this._dragging&&e.preventDefault()}},{key:"_setUpdatePointerMethod",value:function(){var e=this;"needle"===e.analogDisplayType?e._updatePointer=function(t){if(e._customSVGElements)for(var i=0;i<e._customSVGElements.length;i++)e._draw.removeElement(e._customSVGElements[i]);e._drawNeedle(!0,t)}:e._updatePointer=function(t){e._drawFill(!0,t)}}},{key:"_styleChangedHandler",value:function(e){var t=this;if(!e.detail.styleProperties||!e.detail.styleProperties["min-height"]){if(!t._isVisible())return void(t._renderingSuspended=!0);if(t._renderingSuspended)return void t._createElement();t._getMeasurements(),t._initTickIntervalHandler(),t._renderAnalogItems()}}},{key:"_SVGElementDownHandler",value:function(e){var t=this,i=t.context;t.context=t,t._downHandler(e,!0),t.context=i}},{key:"_unlockRotation",value:function(e,t,i,a,n){var o=this,r=n.firstCondition,l=n.secondCondition,s=o._getQuadrant(a);(r&&(4!==i||1!==s)||l&&4===i&&1===s)&&o._numericProcessor._getAngleDifference(t,a)<10&&(o[e]=!1)}},{key:"_updateSize",value:function(e){var t=this;if("circle"!==t.sizeMode||void 0!==e){for(var i=t._minCoordinates,a=t._maxCoordinates,n=i[0],o=a[0],r=1;r<i.length;r++)n=Math.min(n,i[r]);for(var l=1;l<a.length;l++)o=Math.max(o,a[l]);var s=t.getBoundingClientRect();if(t.digitalDisplay){var d=t.$.digitalDisplay.getBoundingClientRect();n=Math.min(n,d.top-s.top),o=Math.max(o,d.bottom-s.top)}if("needle"!==t.analogDisplayType){var u=t._track.getBBox();n=Math.min(n,u.y),o=Math.max(o,u.y+u.height)}for(var c=0;c<t._ranges.length;c++){var p=t._ranges[c].getBBox();n=Math.min(n,p.y-s.top),o=Math.max(o,p.y+p.height-s.top)}n-=2;var m=o-n;if(void 0!==e)return Math.round(m);t._preventResizeHandler=!0,t.style.height=m+"px",t.$.container.style.marginTop=-1*n+"px",t._measurements.cachedHeight=m}}},{key:"_updateValue",value:function(e){this._numericProcessor.updateGaugeValue(e)}},{key:"_validate",value:function(e,t,i){var a=this,n=a.value;a._validateValue(t),!i||35!==i&&36!==i?a._updatePointer():a._animate(n)}},{key:"_validateAngles",value:function(){var e=this;e._normalizedStartAngle=e._normalizeAngle(e.startAngle),e.endAngle=e._normalizeAngle(e.endAngle),e._normalizedStartAngle<e.endAngle?e.startAngle=e._normalizedStartAngle:e.startAngle=e._normalizedStartAngle-360,e._angleDifference=e.endAngle-e.startAngle}},{key:"_validateInitialPropertyValues",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_validateInitialPropertyValues",this).call(this);var e=this;"circle"===e.sizeMode?e.offsetWidth<e.offsetHeight?e.style.height=e.offsetWidth+"px":e.offsetWidth>e.offsetHeight&&(e.style.width=e.offsetHeight+"px"):(e.offsetHeight!==e.offsetWidth&&(e.style.height=e.offsetWidth+"px"),e.$.container.style.height=e.offsetWidth+"px"),e._validateAngles(),null!==e.significantDigits?e.$.digitalDisplay.significantDigits=e.significantDigits:null!==e.precisionDigits&&(e.$.digitalDisplay.precisionDigits=e.precisionDigits)}},{key:"_validateValue",value:function(e,t){var i=this,a=i._numericProcessor,n=i.logarithmicScale,o="strict"===i.validation,r=o&&void 0!==t;void 0===e?(r=!1,e=i.value):e=e.toString(),a.regexScientificNotation.test(e)&&(e=a.scientificToDecimal(e)),isNaN(e)&&(e=t||0);var l=void 0,s=void 0,d=void 0;i.coerce?(l=a.getCoercedValue(a.createDescriptor(e,!0,!0,!0),!1,n),i._number=l,s=l.toString(),d=s):o?(l=a.getCoercedValue(a.createDescriptor(e,!0,!0,!0),!1,n),i._number=l,s=l.toString(),d=s):(r=!1,l=a.getCoercedValue(a.createDescriptor(e,!0,!0,!1),!1,n),
i._number=a.validate(l,a.createDescriptor(i._minObject),a.createDescriptor(i._maxObject)),s=l.toString(),d=i._number.toString());var u=void 0,c=void 0;"numeric"===i.mode?(u=t,c=s,i.value=s,i.$.digitalDisplay.value=s):(u=i._valueDate,i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(s),c=i._valueDate,i.value=l,i.$.digitalDisplay.$.input.value=i._valueDate),i._drawValue=n?Math.log10(d).toString():d,r&&a.compare(i._number,t)&&i.$.fireEvent("change",{value:c,oldValue:u}),delete i._valueBeforeCoercion}},{key:"_unlisten",value:function(){var e=this;e._trackListener&&e._trackListener.unlisten(),e._fillListener&&e._fillListener.unlisten(),e._lineListener&&e._lineListener.unlisten()}}],[{key:"properties",get:function(){return{analogDisplayType:{value:"needle",allowedValues:["needle","fill","line"],type:"string"},animationDuration:{value:300,type:"number"},digitalDisplay:{value:!1,type:"boolean"},digitalDisplayPosition:{value:"bottom",allowedValues:["top","bottom","right","left","center"],type:"string"},drawNeedle:{value:null,type:"function?"},endAngle:{value:210,type:"number"},needlePosition:{value:"center",allowedValues:["center","edge"],type:"string"},ranges:{value:[],type:"array"},scalePosition:{value:"inside",allowedValues:["outside","inside","none"],type:"string"},showRanges:{value:!1,type:"boolean"},sizeMode:{value:"circle",allowedValues:["circle","auto"],type:"string"},startAngle:{value:-30,type:"number"}}}},{key:"listeners",get:function(){return{down:"_downHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.selectstart":"_selectStartHandler",keydown:"_keydownHandler",move:"_trackMoveHandler"}}},{key:"requires",get:function(){return{"JQX.Utilities.Draw":"jqxdraw.js","JQX.NumericTextBox":"jqxnumerictextbox.js"}}},{key:"styleUrls",get:function(){return["jqx.gauge.css"]}}]),t}(JQX.Tank)),JQX("jqx-slider",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                <div id="scaleNear" class="jqx-scale jqx-scale-near"></div>\n                <div id="trackContainer" class="jqx-track-container">\n                    <jqx-repeat-button id="leftButton" class="jqx-spin-button" animation="[[animation]]" unfocusable>\n                        <div id="leftArrow" class="jqx-arrow"></div>\n                    </jqx-repeat-button>\n                    <div id="track" class="jqx-track">\n                        <div id="fill" class="jqx-value"></div>\n                        <div id="trackTicksContainer" class="jqx-track-ticks-container jqx-hidden"></div>\n                        <div id="thumb" class="jqx-thumb">\n                            <span id="thumbLabel" class="jqx-thumb-label"></span>\n                            <div id="tooltip" class="jqx-tooltip">\n                                <div id="tooltipContent" class="jqx-tooltip-content jqx-unselectable"></div>\n                            </div>\n                        </div>\n                        <div id="secondThumb" class="jqx-thumb">\n                            <span id="secondThumbLabel" class="jqx-thumb-label"></span>\n                            <div id="secondTooltip" class="jqx-tooltip">\n                                <div id="secondTooltipContent" class="jqx-tooltip-content jqx-unselectable"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <jqx-repeat-button id="rightButton" class="jqx-spin-button" animation="[[animation]]" unfocusable>\n                        <div id="rightArrow" class="jqx-arrow"></div>\n                    </jqx-repeat-button>\n                </div>\n                <div id="scaleFar" class="jqx-scale jqx-scale-far"></div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n            </div>'}},{key:"_createElement",value:function(){var e=this,t="numeric"===e.mode;if(e._renderingSuspended||(t?e._redefineProperty("values"):t||e._handleDateScale()),e._setSettingsObject(),e._setDrawVariables(),e._getLayoutType(),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,!e._isVisible())return void(e._renderingSuspended=!0);e._renderingSuspended=!1,e._setInitialComponentDisplay(),e._measurements={},e._getMeasurements(),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength);var i=e._valuesHandler=e.rangeSlider?new JQX.Utilities.SliderMultipleValueHandler(e):new JQX.Utilities.SliderSingleValueHandler(e);t&&(e._getEventValue=function(){return e._valuesHandler.getValue()}),e._validateInitialPropertyValues(),e._setTicksAndInterval(),i.validate(!0),i.updateTooltipValue(),window.requestAnimationFrame(function(){e.$thumb.addClass("enable-animation"),e.$secondThumb.addClass("enable-animation"),e.$fill.addClass("enable-animation")}),e._setFocusable(),e._makeThumbAccessible(),e.$.hiddenInput.value=e._getEventValue()}},{key:"val",value:function(e){var t=this,i=t._valuesHandler;if(void 0===e)return t._getEventValue();"date"===t.mode&&(t.rangeSlider?(e[0]=JQX.Utilities.DateTime.validateDate(e[0]),e[1]=JQX.Utilities.DateTime.validateDate(e[1]),e[0]=e[0].getTimeStamp(),e[1]=e[1].getTimeStamp()):(e=JQX.Utilities.DateTime.validateDate(e),e=e.getTimeStamp())),i.areDifferent(e)&&i.validate(!1,e,!0)}},{key:"getOptimalSize",value:function(){var e=this;if(e._renderingSuspended)return{width:0,height:0};var t=window.getComputedStyle(e),i=window.getComputedStyle(e.$.trackContainer),a=0,n=void 0,o=void 0,r=void 0,l=void 0,s=void 0,d=void 0,u=void 0;return n="all"===e.labelsVisibility?e._numericProcessor._longestLabelSize:"endPoints"===e.labelsVisibility?Math.max(e._tickIntervalHandler.labelsSize.minLabelOtherSize,e._tickIntervalHandler.labelsSize.maxLabelOtherSize):0,"horizontal"===e.orientation?(a+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)+e.$.track.offsetHeight,"near"!==e.scalePosition&&"both"!==e.scalePosition||(a+=n,r=e.$.scaleNear.getElementsByClassName("jqx-label"),l=r[0],s=r[r.length-1],a+=parseFloat(window.getComputedStyle(l).bottom)),"far"!==e.scalePosition&&"both"!==e.scalePosition||(a+=n,r=e.$.scaleFar.getElementsByClassName("jqx-label"),l=r[0],s=r[r.length-1],a+=parseFloat(window.getComputedStyle(l).top)),a+=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),o=e.offsetWidth,"none"!==e.scalePosition&&(d=l.getBoundingClientRect(),u=s.getBoundingClientRect(),d.left+l.offsetWidth-u.left>0&&(o=l.offsetWidth+s.offsetWidth+Math.max(10,e.$.thumb.offsetWidth))),{width:o,height:a}):(a+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)+e.$.track.offsetWidth,"near"!==e.scalePosition&&"both"!==e.scalePosition||(a+=n,r=e.$.scaleNear.getElementsByClassName("jqx-label"),l=r[0],s=r[r.length-1],a+=parseFloat(window.getComputedStyle(l).right)),"far"!==e.scalePosition&&"both"!==e.scalePosition||(a+=n,r=e.$.scaleFar.getElementsByClassName("jqx-label"),l=r[0],s=r[r.length-1],a+=parseFloat(window.getComputedStyle(l).left)),a+=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),o=e.offsetHeight,"none"!==e.scalePosition&&(d=l.getBoundingClientRect(),u=s.getBoundingClientRect(),d.top+l.offsetHeight-u.top>0&&(o=l.offsetHeight+s.offsetHeight+Math.max(10,e.$.thumb.offsetHeight))),{width:a,height:o})}},{key:"propertyChangedHandler",value:function(e,i,a){function n(){o._setTicksAndInterval(),l.validate(!1,l.getValue(),!0)}var o=this,r=["disabled","mode","readonly","showThumbLabel","tooltipPosition","unfocusable","validation"];if(!o._isVisible()||o._renderingSuspended)return void(o._renderingSuspended=!0);if(-1!==r.indexOf(e))return void babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var l=o._valuesHandler;if("values"!==e&&a!=i||"values"===e&&(a[0]!=i[0]||a[1]!==i[1]))switch(e){case"coerce":if(a){var s=l.getValue();l.validate(!1,s.slice(0),!0),o._valueBeforeCoercion=s}else void 0!==o._valueBeforeCoercion&&l.validate(!1,o._valueBeforeCoercion.slice(0),!0);break;case"customInterval":case"customTicks":babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),o.customInterval&&l.validate(!1,l.getValue(),!0);break;case"dateLabelFormatString":"date"===o.mode&&n();break;case"decimalSeparator":case"scientificNotation":if("date"===o.mode)return;n();break;case"interval":o._numericProcessor.validateInterval(a),l.validate(!1,l.getValue(),!0);break;case"inverted":o._getLayoutType(),o._normalLayout&&(o.$.fill.style[o._settings.margin]="0px"),n();break;case"labelFormatFunction":case"showUnit":case"unit":n();break;case"labelsVisibility":case"ticksVisibility":return;case"logarithmicScale":if("date"===o.mode)return void(o.logarithmicScale=!1);o._validateMinMax("both"),n();break;case"min":case"max":"date"===o.mode&&(delete o._dateInterval,o[e]=JQX.Utilities.DateTime.validateDate(a).getTimeStamp()),o._validateMinMax(e,!1,i),n();break;case"orientation":o.$.container.removeAttribute("style"),o.$.trackContainer.removeAttribute("style"),o.$.fill.removeAttribute("style"),o.$.thumb.removeAttribute("style"),o.$.secondThumb.removeAttribute("style"),o._setSettingsObject(),o._getLayoutType(),o._getMeasurements(),n(),"horizontal"===a?(o.$leftArrow.removeClass("jqx-arrow-up"),o.$rightArrow.removeClass("jqx-arrow-down"),o.$leftArrow.addClass("jqx-arrow-left"),o.$rightArrow.addClass("jqx-arrow-right")):(o.$leftArrow.removeClass("jqx-arrow-left"),o.$rightArrow.removeClass("jqx-arrow-right"),o.$leftArrow.addClass("jqx-arrow-up"),o.$rightArrow.addClass("jqx-arrow-down"));break;case"precisionDigits":case"significantDigits":if("date"===o.mode)return;"precisionDigits"===e&&"integer"===o.scaleType&&o.error(o.localize("noInteger",{elementType:o.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==o.precisionDigits?o.precisionDigits=null:"precisionDigits"===e&&null!==o.significantDigits&&(o.significantDigits=null),n();break;case"rangeSlider":a?(o.values=[o.min,o.value],o._drawValues=[o._drawMin,o._drawValue],"date"===o.mode&&(o._valueDate=[o._minDate.clone(),o._valueDate]),void 0!==o._valueBeforeCoercion&&(o._valueBeforeCoercion=[o.min,o._valueBeforeCoercion]),l=o._valuesHandler=new JQX.Utilities.SliderMultipleValueHandler(o)):(o.value=o.values[1],o._drawValue=o._drawValues[1],"date"===o.mode&&(o._valueDate=o._valueDate[1]),void 0!==o._valueBeforeCoercion&&(o._valueBeforeCoercion=o._valueBeforeCoercion[1]),l=o._valuesHandler=new JQX.Utilities.SliderSingleValueHandler(o),o.$.fill.style.marginTop=0,o.$.fill.style.marginLeft=0),l.validate(!1,l.getValue(),!0);break;case"scalePosition":o._setInitialComponentDisplay(),n();break;case"scaleType":if("date"===o.mode)return void(o.scaleType="integer");o._numericProcessor=new JQX.Utilities.NumericProcessor(o,"scaleType"),o._validateMinMax("both"),o._setTicksAndInterval(),l.validate(!0);break;case"showButtons":a?(o.$leftButton.removeClass("jqx-hidden"),o.$rightButton.removeClass("jqx-hidden")):(o.$leftButton.addClass("jqx-hidden"),o.$rightButton.addClass("jqx-hidden")),o._setTicksAndInterval(),l.moveThumbBasedOnValue(l.getDrawValue(),void 0,!0);break;case"showTooltip":babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),a||(o.$tooltip.addClass("jqx-hidden"),o.$secondTooltip.addClass("jqx-hidden"));break;case"theme":babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),n();break;case"ticksPosition":"scale"===a?(o.$trackTicksContainer.addClass("jqx-hidden"),o.$.trackTicksContainer.innerHTML=""):o.$trackTicksContainer.removeClass("jqx-hidden"),o._setTicksAndInterval();break;case"value":case"values":if("value"===e&&o.rangeSlider||"values"===e&&!o.rangeSlider)return;if(o[e]=i,"date"===o.mode)if("value"===e){if(a=JQX.Utilities.DateTime.validateDate(a),a=a.getTimeStamp(),o.value=a,0===a.compare(i))return}else if(a[0]=JQX.Utilities.DateTime.validateDate(a[0]),a[1]=JQX.Utilities.DateTime.validateDate(a[1]),a[0]=a[0].getTimeStamp(),a[1]=a[1].getTimeStamp(),o.values=a,0===a[0].compare(i[0])&&0===a[1].compare(i[1]))return;l.validate(!1,a,!0);break;case"wordLength":if("date"===o.mode)return void(o.wordLength="uint64");o._wordLengthNumber=o._numericProcessor.getWordLength(a),o._validateMinMax("both"),n()}else"string"!=typeof a&&"string"==typeof i&&(o[e]=i)}},{key:"_addMovedThumbClass",value:function(){var e=this;e.rangeSlider&&(e._movedThumb.$.addClass("jqx-moved-thumb"),e._movedThumb===e.$.thumb?e.$secondThumb.removeClass("jqx-moved-thumb"):e.$thumb.removeClass("jqx-moved-thumb"))}},{key:"_setInitialComponentDisplay",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_setInitialComponentDisplay",this).call(this);var e=this;e.$secondTooltip.addClass("jqx-hidden"),e.showButtons||(e.$leftButton.addClass("jqx-hidden"),e.$rightButton.addClass("jqx-hidden"))}},{key:"_getMeasurements",value:function(){var e=this,t=e._measurements,i=e.$.track,a=e.$.thumb;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);"horizontal"===e.orientation?(t.trackWidth=i.offsetHeight,t.thumbSize=a.offsetWidth,t.borderWidth=parseFloat(window.getComputedStyle(e.$.track).borderLeftWidth)):(t.trackWidth=i.offsetWidth,t.thumbSize=a.offsetHeight,t.borderWidth=parseFloat(window.getComputedStyle(e.$.track).borderTopWidth)),t.halfThumbSize=t.thumbSize/2}},{key:"_layout",value:function(){var e=this,t=e._measurements,i=e.$.container.style,a=t.halfThumbSize,n=e._tickIntervalHandler.labelsSize,o=void 0,r=void 0,l=void 0,s=void 0;if("none"!==e.scalePosition?(o=n.minLabelSize/2,r=n.maxLabelSize/2):(o=0,r=0),e.showButtons){var d=e.$.leftButton[e._settings.size],u=d+a;l=Math.max(o-u,0)+"px",s=Math.max(r-u,0)+"px"}else l=Math.max(a,o)+"px",s=Math.max(a,r)+"px";"horizontal"===e.orientation?(e.inverted?(i.paddingLeft=s,i.paddingRight=l):(i.paddingLeft=l,i.paddingRight=s),t.trackLength=e.$.track.clientWidth,e.$leftArrow.addClass("jqx-arrow-left"),e.$rightArrow.addClass("jqx-arrow-right")):(e.inverted?(i.paddingBottom=s,i.paddingTop=l):(i.paddingBottom=l,i.paddingTop=s),t.trackLength=e.$.track.clientHeight,e.$leftArrow.addClass("jqx-arrow-up"),e.$rightArrow.addClass("jqx-arrow-down"))}},{key:"_trackDownHandler",value:function(e){var t=this,i=t.mechanicalAction;if(!(t.disabled||t.readonly||!t.rangeSlider&&e.target===t.$.thumb)){if(t._stopTrackDownHandler)return void(t._stopTrackDownHandler=!1);"switchWhileDragging"!==i&&(t._valueAtDragStart=t._valuesHandler.getValue()),t._getTrackStartAndEnd(),t._valuesHandler.setActiveThumbOnTrackClick(e),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==i),t._thumbDragged=!0,t.setAttribute("dragged",""),t.showTooltip&&t._movedTooltip.removeClass("jqx-hidden")}}},{key:"_trackMoveHandler",value:function(){}},{key:"_thumbDownHandler",value:function(e){var t=this;t.disabled||t.readonly||(t._getTrackStartAndEnd(),(e[t._settings.page]<t._trackStart||e[t._settings.page]>t._trackEnd)&&(t._stopTrackDownHandler=!0),"switchWhileDragging"!==t.mechanicalAction&&(t._valueAtDragStart=t._valuesHandler.getValue()),window.getSelection().removeAllRanges(),t._thumbDragged=!0,t.setAttribute("dragged",""),t.$track.addClass("jqx-dragged"),t._movedThumb=e.target,t._addMovedThumbClass(),t._movedTooltip=t.$tooltip,t.rangeSlider&&(t._movedThumb===t.$.thumb?(t._staticThumb=t.$.secondThumb,t.$secondTooltip.addClass("jqx-hidden")):(t._staticThumb=t.$.thumb,t._movedTooltip=t.$secondTooltip,t.$tooltip.addClass("jqx-hidden"))),t.showTooltip&&t._movedTooltip.removeClass("jqx-hidden"),e.stopPropagation())}},{key:"_thumbMoveMouseleaveHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var i=e.target;if("move"===e.type){var a=i.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset,r=(a.left+a.right)/2+n,l=(a.top+a.bottom)/2+o,s=Math.pow(a.width/2,2);if(Math.pow(e.pageX-r,2)+Math.pow(e.pageY-l,2)>s)return;i.setAttribute("hover","")}else i.removeAttribute("hover")}}},{key:"_documentMoveHandler",value:function(e){var t=this;t._thumbDragged&&(t.$thumb.removeClass("enable-animation"),t.$secondThumb.removeClass("enable-animation"),t.$fill.removeClass("enable-animation"),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction))}},{key:"_documentUpHandler",value:function(e,t){var i=this;i._thumbDragged&&(i.$thumb.addClass("enable-animation"),i.$secondThumb.addClass("enable-animation"),i.$fill.addClass("enable-animation"),t||("switchUntilReleased"===i.mechanicalAction?i._valuesHandler.validate(!1,i._valueAtDragStart):"switchWhenReleased"===i.mechanicalAction&&i._moveThumbBasedOnCoordinates(e,!0,!0)),i.showTooltip&&i._movedTooltip.addClass("jqx-hidden"),i._thumbDragged=!1,i.removeAttribute("dragged"),i._makeThumbAccessible(),i._movedThumb=void 0,i.$track.removeClass("jqx-dragged"))}},{key:"_spinButtonClickHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var i=void 0;i=t.$.leftButton.contains(e.target)===t._normalLayout?"subtract":"add",t._valuesHandler.incrementOrDecrement(i)}}},{key:"_keydownHandlerSlider",value:function(e){var t=this,i=e.key;if("Escape"===i&&t._thumbDragged&&"switchWhenReleased"===t.mechanicalAction)return t._documentUpHandler(void 0,!0),void t._valuesHandler.validate(!1,t._valueAtDragStart);-1===["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].indexOf(i)||t.coerce||(t.$thumb.removeClass("enable-animation"),t.$secondThumb.removeClass("enable-animation"),t.$fill.removeClass("enable-animation"),t._restoreAnimationClass=!0),this._valuesHandler.keydownHandler(e)}},{key:"_keyupHandlerSlider",value:function(){var e=this;e._restoreAnimationClass&&(e.$thumb.addClass("enable-animation"),e.$secondThumb.addClass("enable-animation"),e.$fill.addClass("enable-animation"))}},{key:"_resizeAndStyleChangedHandler",value:function(e){var t=this,i=t._valuesHandler;if(!t._isVisible())return void(t._renderingSuspended=!0);if(t._renderingSuspended)return void t._createElement();if(!t._renderingSuspended&&(t._getMeasurements(),t._setTicksAndInterval(),i.validate(!1,i.getValue(),!0),"styleChanged"===e.type)){var a=e.detail.styleProperties;if(a["font-size"]||a["font-family"]||a["font-style"]||a["font-weight"]){var n=t.getOptimalSize();t.style.width=n.width+"px",t.style.height=n.height+"px"}}}},{key:"_moveThumbBasedOnCoordinates",value:function(e,t,i){var a=this,n=a._numericProcessor,o=a._trackStart,r=a._settings.margin,l=e[a._settings.page];t&&(l=a._valuesHandler.restrictThumbCoordinates(l,o,a._trackEnd));var s=n.pxToValue(l);a.rangeSlider&&a._movedThumb===a.$.thumb&&1===n.compare(s,a.values[1],!0)&&(s=n.createDescriptor(a.values[1]));var d=s;a.logarithmicScale?(s=n.getCoercedValue(Math.log10(s)),d=parseFloat(Math.pow(10,s).toFixed(11))):(s=n.getCoercedValue(s),d=s),l=n.valueToPx(s)+o;var u=l-o;a._movedThumb.style[r]=u-a._measurements.halfThumbSize+"px",a._valuesHandler.updateFillSizeAndPosition(u,r,d,!0,i),JQX.Utilities.Core.isMobile&&e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}},{key:"_moveThumbBasedOnValue",value:function(e,t,i,a){var n=this,o=n._numericProcessor.valueToPx(t),r=n._settings.margin;e.style[r]=o-n._measurements.halfThumbSize+"px";var l=n._getSingleActualValue(t);a?n.rangeSlider&&(n._firstPassSize=o):n._valuesHandler.updateFillSizeAndPosition(o,r,l,i,i)}},{key:"_validate",value:function(e,t,i,a){this._valuesHandler.validate(e,t,a)}},{key:"_updateValue",value:function(e){var t=this._valuesHandler;t.updateValue(t.getActualValue(e))}},{key:"_makeThumbAccessible",value:function(){var e=this;e.rangeSlider&&(e.$.thumb[e._settings.offset]===e.$.secondThumb[e._settings.offset]&&!1===e._numericProcessor.compare(e.values[1],e.max)?e.$thumb.addClass("accessible"):e.$thumb.removeClass("accessible"))}},{key:"_getSingleActualValue",value:function(e){return this.logarithmicScale?parseFloat(Math.pow(10,e).toFixed(11)):e.toString()}},{key:"_coerceCustomInterval",value:function(){var e=this;if(e.coerce){var t=e._valueBeforeCoercion;e._valuesHandler.validate(!1,e._valuesHandler.getValue()),e._valueBeforeCoercion=t}}},{key:"_wheelHandler",value:function(e){var t=this;document.activeElement===t&&t.enableMouseWheelAction&&(e.stopPropagation(),e.preventDefault(),e.wheelDelta>0?t._keydownHandlerSlider({key:"ArrowRight",which:39,preventDefault:function(){}}):t._keydownHandlerSlider({key:"ArrowLeft",which:37,preventDefault:function(){}}))}},{key:"_handleDateScale",value:function(){var e=this,i=JQX.Utilities.DateTime;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handleDateScale",this).call(this),Object.defineProperty(e,"values",{get:function(){return e.context===e?e.properties.values.value:e._valueDate},set:function(t){function i(e,t){return t instanceof JQX.Utilities.BigNumber?t.toString():t}var a=e.properties.values.value;if(JSON.stringify(a,i)!==JSON.stringify(t,i)&&(e.properties.values.value=t,e.isReady&&(!e.ownerElement||e.ownerElement&&e.ownerElement.isReady)&&e.context!==e)){var n=e.context;e.context=e,e.propertyChangedHandler("values",a,t),e.context=n}}}),e.rangeSlider&&(e._valueDate=[i.validateDate(e.values[0]),i.validateDate(e.values[1])],e.values=[e._valueDate[0].getTimeStamp(),e._valueDate[1].getTimeStamp()]),e._properties.values.serialize="_serializeValue"}},{key:"_setTicksAndInterval",value:function(){var e=this;e._skipTrackReset?delete e._skipTrackReset:e.$.track.style[e._settings.dimension]=null,babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_setTicksAndInterval",this).call(this),e.$.track[e._settings.size]<10&&(e._skipTrackReset=!0,e.$.track.style[e._settings.dimension]=e.getOptimalSize()[e._settings.dimension]+"px",e._getMeasurements(),e._setTicksAndInterval(),e._valuesHandler.validate(!1,e._valuesHandler.getValue()))}}],[{key:"properties",get:function(){return{enableMouseWheelAction:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string",defaultReflectToAttribute:!0},rangeSlider:{value:!1,type:"boolean"},showButtons:{value:!1,type:"boolean"},values:{value:["0","100"],type:"array"}}}},{key:"listeners",get:function(){return{"track.down":"_trackDownHandler","thumb.down":"_thumbDownHandler","secondThumb.down":"_thumbDownHandler","thumb.mouseleave":"_thumbMoveMouseleaveHandler","secondThumb.mouseleave":"_thumbMoveMouseleaveHandler","thumb.move":"_thumbMoveMouseleaveHandler","secondThumb.move":"_thumbMoveMouseleaveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","leftButton.click":"_spinButtonClickHandler","rightButton.click":"_spinButtonClickHandler",keydown:"_keydownHandlerSlider",keyup:"_keyupHandlerSlider",resize:"_resizeAndStyleChangedHandler",styleChanged:"_resizeAndStyleChangedHandler","document.selectstart":"_selectStartHandler",wheel:"_wheelHandler"}}},{key:"requires",get:function(){return{"JQX.RepeatButton":"jqxbutton.js"}}},{key:"styleUrls",get:function(){return["jqx.slider.css","jqx.button.css"]}}]),t}(JQX.Tank)),JQX.Utilities.Assign("SliderSingleValueHandler",function(){function e(t){babelHelpers.classCallCheck(this,e),this.context=t,"date"===t.mode&&(t._getEventValue=function(e){return void 0!==e?JQX.Utilities.DateTime.fromFullTimeStamp(e):t._valueDate.clone()})}return babelHelpers.createClass(e,[{key:"applyFunctionToValue",value:function(e,t){var i=this,a=i.context;return void 0===t&&(t=a.value),e.apply(a,[t])}},{key:"areDifferent",value:function(e){return this.context.value!==e}},{key:"incrementOrDecrement",value:function(e){var t=this.context,i=t._keyIncrementDecrement(e);this.validate(!1,i)}},{key:"setActiveThumbOnTrackClick",value:function(){var e=this.context;e._movedThumb=e.$.thumb,e._addMovedThumbClass(),e._movedTooltip=e.$tooltip}},{key:"getActualValue",value:function(e){return this.context._getSingleActualValue(e)}},{key:"getCoercedLogarithmicValue",value:function(e){var t=this.context;if(t.logarithmicScale){var i=t._numericProcessor.getCoercedValue(Math.log10(e));return this.getActualValue(i)}return e}},{key:"getDrawValue",value:function(){return this.context._drawValue}},{key:"getValue",value:function(){return this.context.value}},{key:"keydownHandler",value:function(e){this.context._keydownHandler(e)}},{key:"moveThumbBasedOnValue",value:function(e,t,i){var a=this.context;if(void 0===e&&(e=a.value),a._moveThumbBasedOnValue(a.$.thumb,e,t),!0!==i){a._drawValue=e;var n=this.getActualValue(e),o=void 0;o=void 0!==a._valueNoRangeValidation?a._valueNoRangeValidation.toString():n.toString(),"date"===a.mode&&(a._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(o)),a.value=o,delete a._valueBeforeCoercion,this.updateTooltipValue(n)}}},{key:"restrictThumbCoordinates",value:function(e,t,i){return e=Math.max(e,t),e=Math.min(e,i)}},{key:"updateFillSizeAndPosition",value:function(e,t,i,a,n){var o=this.context,r=o.$.fill.style,l=o._settings.dimension;if(o._normalLayout?r[l]=e+"px":(r[l]=o._measurements.trackLength-e+"px",r[t]=e+"px"),a){var s=o.value,d=o._getEventValue(s),u=o._numericProcessor;if(u.compare(u.createDescriptor(i),u.createDescriptor(s))&&(this.updateTooltipValue(i),n)){var c=void 0;if(o._drawValue=o.logarithmicScale?Math.log10(i):i,c=void 0!==o._valueNoRangeValidation?o._valueNoRangeValidation.toString():i.toString(),"date"===o.mode&&(o._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(c)),o.value=c,delete o._valueBeforeCoercion,!0!==o._programmaticValueIsSet){var p=o._getEventValue();o.$.hiddenInput.value=p,o.$.fireEvent("change",{value:p,oldValue:d})}}}}},{key:"updateTooltipValue",value:function(e){var t=this.context;void 0===e&&(e=t.value);var i=t._formatLabel(e);t.$.tooltipContent.innerHTML!==i&&(t.$.tooltipContent.innerHTML=i,t.$.thumbLabel.innerHTML=i)}},{key:"updateValue",value:function(e){var t=this.context,i=t._numericProcessor.createDescriptor(e,!0,!1);t._drawValue=t.logarithmicScale?Math.log10(i):i,this.moveThumbBasedOnValue(t._drawValue,!0)}},{key:"validate",value:function(e,t,i){var a=this.context,n=a._numericProcessor,o=void 0;a._programmaticValueIsSet=i&&"interaction"===a.validation,o=e?a.value:t;var r=void 0;a.coerce&&(o=a._numericProcessor.createDescriptor(o,!0,!0,!0)),o=a.logarithmicScale?this.getCoercedLogarithmicValue(o):n.getCoercedValue(o),"strict"===a.validation?(a._valueNoRangeValidation=n.createDescriptor(o,!0,!0,!0),r=a._valueNoRangeValidation):(a._valueNoRangeValidation=n.createDescriptor(o,!0,!0,!1),r=n.validate(a._valueNoRangeValidation,a._minObject,a._maxObject)),e?(a._drawValue=a.logarithmicScale?Math.log10(r):r,o=a._valueNoRangeValidation.toString(),"date"===a.mode&&(a._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(o)),a.value=o,this.moveThumbBasedOnValue(a._drawValue,void 0,!0)):this.updateValue(r),delete a._valueNoRangeValidation,a._programmaticValueIsSet=!1}}]),e}()),JQX.Utilities.Assign("SliderMultipleValueHandler",function(){function e(t){babelHelpers.classCallCheck(this,e),this.context=t,"date"===t.mode&&(t._getEventValue=function(e,i){var a=[t._valueDate[0].clone(),t._valueDate[1].clone()];return void 0!==e&&(a[i]=JQX.Utilities.DateTime.fromFullTimeStamp(e)),a})}return babelHelpers.createClass(e,[{key:"applyFunctionToValue",value:function(e,t){var i=this,a=i.context,n=[];return void 0===t&&(t=a.values),n[0]=e.apply(a,[t[0]]),n[1]=e.apply(a,[t[1]]),n}},{key:"areDifferent",value:function(e){var t=this.context.values;return t[0]!==e[0]||t[1]!==e[1]}},{key:"incrementOrDecrement",value:function(e){var t=this.context,i=t.values.slice(0),a=void 0;a="add"===e?1:0,i[a]=this.keyIncrementDecrement(e,a),this.validate(!1,i)}},{key:"keydownHandler",value:function(e){var t=this.context;if(!t.disabled&&!t.readonly){var i=e.charCode?e.charCode:e.which;if(-1!==[35,36,37,38,39,40].indexOf(i)){e.preventDefault();var a=t.values.slice(0),n=void 0;switch(i){case 40:case 37:n=this.keyIncrementDecrement("subtract",0),a[0]=n,t._movedThumb=t.$.thumb;break;case 38:case 39:n=this.keyIncrementDecrement("add",1),a[1]=n,t._movedThumb=t.$.secondThumb;break;case 36:t._drawValues[0]=t._drawMin,a[0]=t.min,t._movedThumb=t.$.thumb;break;case 35:t._drawValues[1]=t._drawMax,a[1]=t.max,t._movedThumb=t.$.secondThumb}return this.validate(!1,a),!1}}}},{key:"keyIncrementDecrement",value:function(e,t){var i=this.context,a=void 0,n=void 0;if(i.customInterval&&i.coerce)return a=this.getValue()[t],i._keyIncrementDecrement(e,a.toString());if("date"===i.mode)return a=i._valueDate[t],n=a[i._dateIncrementMethod](("add"===e?1:-1)*parseFloat(i.interval),!0),n=n.getTimeStamp(),-1===n.compare(i._drawMin)?new JQX.Utilities.BigNumber(i._drawMin):1===n.compare(i._drawMax)?new JQX.Utilities.BigNumber(i._drawMax):n;var o=i._drawValues[t];return a=i._numericProcessor.createDescriptor(o),n=i._numericProcessor.incrementDecrement(a,e,i._validInterval),i.logarithmicScale&&(i._drawValues[t]=n,n=parseFloat(Math.pow(10,Math.round(n)).toFixed(11))),n}},{key:"setActiveThumbOnTrackClick",value:function(e){var t=this.context,i=t._trackStart+t._measurements.halfThumbSize,a=t._settings.offset,n=t.$.thumb,o=t.$.secondThumb,r=n[a],l=o[a],s=e[t._settings.page],d=t._normalLayout?i+r+(l-r)/2:i+l+(r-l)/2;t._normalLayout&&s<=d||!t._normalLayout&&s>d?(t._movedThumb=n,t._staticThumb=o,t._movedTooltip=t.$tooltip,t.$secondTooltip.addClass("jqx-hidden")):(t._movedThumb=o,t._staticThumb=n,t._movedTooltip=t.$secondTooltip,t.$tooltip.addClass("jqx-hidden")),t._addMovedThumbClass()}},{key:"getActualValue",value:function(e){return this.context.logarithmicScale?[parseFloat(Math.pow(10,e[0].toString()).toFixed(11)),parseFloat(Math.pow(10,e[1].toString()).toFixed(11))]:[e[0].toString(),e[1].toString()]}},{key:"getCoercedLogarithmicValue",value:function(e){var t=this.context;if(t.logarithmicScale){var i=[];return i[0]=t._numericProcessor.getCoercedValue(Math.log10(e[0])),i[1]=t._numericProcessor.getCoercedValue(Math.log10(e[1])),this.getActualValue(i)}return e}},{key:"getDrawValue",value:function(){return this.context._drawValues}},{key:"getValue",value:function(){return this.context.values.slice(0)}},{key:"moveThumbBasedOnValue",value:function(e,t,i){var a=this.context,n=void 0===t;if(void 0===e&&(e=a.values),a._numericProcessor.restrictValue(e),(n||1===t)&&(a._movedThumb=a.$.secondThumb,a._moveThumbBasedOnValue(a.$.secondThumb,e[1],!0,n)),(n||0===t)&&(a._movedThumb=a.$.thumb,a._moveThumbBasedOnValue(a.$.thumb,e[0],!0)),delete a._firstPassSize,!0!==i){a._drawValues=e;var o=this.getActualValue(e),r=void 0;r=a._valuesNoRangeValidation?[a._valuesNoRangeValidation[0].toString(),a._valuesNoRangeValidation[1].toString()]:o,"date"===a.mode&&(a._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(o[0]),JQX.Utilities.DateTime.fromFullTimeStamp(o[1])]),a.values=r,delete a._valueBeforeCoercion,this.updateTooltipValue()}}},{key:"restrictThumbCoordinates",value:function(e,t,i){var a=this.context,n=t+a._staticThumb[a._settings.offset]+a._measurements.halfThumbSize;return a._movedThumb===a.$.thumb&&a._normalLayout||a._movedThumb===a.$.secondThumb&&!a._normalLayout?(e=Math.max(e,t),e=Math.min(e,i,n)):(e=Math.max(e,t,n),e=Math.min(e,i)),e}},{key:"updateFillSizeAndPosition",value:function(e,t,i,a,n){var o=this.context,r=o.$.fill.style,l=o._settings.dimension,s=o._settings.offset,d=o._measurements.halfThumbSize,u=void 0,c=void 0;if(o._movedThumb===o.$.thumb?(u=e-d,c=void 0!==o._firstPassSize?o._firstPassSize-d:o.$.secondThumb[s]):(u=void 0!==o._firstPassSize?o._firstPassSize-d:o.$.thumb[s],c=e-d),o._normalLayout?(r[l]=Math.max(0,c-u)+"px",r[t]=u+d+"px"):(r[l]=Math.max(0,u-c)+"px",r[t]=c+d+"px"),a){var p=o._numericProcessor,m=o._movedThumb===o.$.thumb?0:1,v=o.values[m],h=o._getEventValue(v,m);if(p.compare(p.createDescriptor(i),p.createDescriptor(v))){
var f=o.values.slice(0);if(f[m]=i.toString(),this.updateTooltipValue(i,m),n){var g=void 0;if(this.updateDrawValues(f),g=o._valuesNoRangeValidation?[o._valuesNoRangeValidation[0].toString(),o._valuesNoRangeValidation[1].toString()]:f,"date"===o.mode&&(o._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(f[0]),JQX.Utilities.DateTime.fromFullTimeStamp(f[1])]),o.values=g,delete o._valueBeforeCoercion,!0!==o._programmaticValueIsSet){var _=o._getEventValue();o.$.hiddenInput.value=_,o.$.fireEvent("change",{value:_,oldValue:h})}}}}}},{key:"updateDrawValues",value:function(e){var t=this.context;t.logarithmicScale?(t._drawValues[0]=Math.log10(e[0]),t._drawValues[1]=Math.log10(e[1])):t._drawValues=e.slice(0)}},{key:"updateTooltipValue",value:function(e,t){var i=this.context;if(void 0===e){var a=i.values,n=i._formatLabel(a[0]),o=i._formatLabel(a[1]);i.$.tooltipContent.innerHTML!==n&&(i.$.tooltipContent.innerHTML=n,i.$.thumbLabel.innerHTML=n),i.$.secondTooltipContent.innerHTML!==o&&(i.$.secondTooltipContent.innerHTML=o)}else{var r=i._formatLabel(e);(0===t&&i.$.tooltipContent.innerHTML!==r||void 0===t)&&(i.$.tooltipContent.innerHTML=r,i.$.thumbLabel.innerHTML=r),(1===t&&i.$.secondTooltipContent.innerHTML!==r||void 0===t)&&(i.$.secondTooltipContent.innerHTML=r,i.$.secondThumbLabel.innerHTML=r)}}},{key:"updateValue",value:function(e){var t=this.context,i=[],a=void 0;i[0]=t._numericProcessor.createDescriptor(e[0],!0,!1),i[1]=t._numericProcessor.createDescriptor(e[1],!0,!1),this.updateDrawValues(i),t._movedThumb===t.$.secondThumb&&(a=1),this.moveThumbBasedOnValue(t._drawValues.slice(0),a)}},{key:"validate",value:function(e,t,i){var a=this.context,n=a._numericProcessor,o=[],r=void 0;a._programmaticValueIsSet=i&&"interaction"===a.validation,r=e?a.values.slice(0):t,a.coerce&&(r[0]=n.createDescriptor(r[0],!0,!0,!0),r[1]=n.createDescriptor(r[1],!0,!0,!0)),a.logarithmicScale?r=this.getCoercedLogarithmicValue(r):(r[0]=n.getCoercedValue(r[0]),r[1]=n.getCoercedValue(r[1])),a._valuesNoRangeValidation=[],a._valuesNoRangeValidation[0]=n.createDescriptor(r[0],!0,!0,!1),a._valuesNoRangeValidation[1]=n.createDescriptor(r[1],!0,!0,!1),a._numericProcessor.restrictValue(a._valuesNoRangeValidation),o[0]=n.validate(a._valuesNoRangeValidation[0],a._minObject,a._maxObject),o[1]=n.validate(a._valuesNoRangeValidation[1],a._minObject,a._maxObject),e?(a._drawValues=[],this.updateDrawValues(o),r=[a._valuesNoRangeValidation[0].toString(),a._valuesNoRangeValidation[1].toString()],"date"===a.mode&&(a._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(o[0]),JQX.Utilities.DateTime.fromFullTimeStamp(o[1])]),a.values=r,this.moveThumbBasedOnValue(a._drawValues,void 0,!0)):this.updateValue(o),delete a._valuesNoRangeValidation,a._programmaticValueIsSet=!1}}]),e}()),JQX("jqx-accordion-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="accordionItemHeader" class ="jqx-accordion-item-header jqx-unselectable">\n                        <span id="arrow" class ="jqx-arrow"></span>\n                        <span id="label" class ="jqx-label" inner-h-t-m-l=\'[[label]]\'></span>\n                    </div>\n                    <div id="accordionItemContent" class ="jqx-accordion-item-content">\n                        <div id="contentContainer" class ="jqx-content-container"><content></content></div>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),i=parseInt(i),a=parseInt(a),"index"===e&&!isNaN(i)&&!isNaN(a)){var n=this,o=n.parentElement.parentElement._items.length;a<0?a=0:a>=o&&(a=o-1),a!==i&&n.$.fireEvent("indexChange",{newIndex:a,oldIndex:i}),n.index=a}}},{key:"_headerMouseEnterHandler",value:function(){var e=this;e.disabled||e.setAttribute("hovered","")}},{key:"_headerMouseLeaveHandler",value:function(){var e=this;e.disabled||e.removeAttribute("hovered")}},{key:"_ripple",value:function(e){var t=this;t.disabled||t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t.$.container,e.pageX,e.pageY)}},{key:"_setIndex",value:function(e){var t=this,i=t.context;t.context=t,t.index=e,t.context=i}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{dragged:{value:!1,type:"boolean"},expanded:{value:!1,type:"boolean"},focused:{value:!1,type:"boolean"},index:{value:null,type:"number?"},label:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{"accordionItemHeader.mouseenter":"_headerMouseEnterHandler","accordionItemHeader.mouseleave":"_headerMouseLeaveHandler","accordionItemHeader.down":"_ripple"}}}]),t}(JQX.ContentElement)),JQX("jqx-accordion",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <content></content>\n                </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this._createElement()}},{key:"propertyChangedHandler",value:function(e,i,a){function n(){o._toggleItems("expand",[0]),o.expandedIndexes=[0]}var o=this;if("expandedIndexes"===e){if(i.toString()===a.toString())return;var r=[];if(o._items.length>0)for(var l=0;l<a.length;l++){var s=parseInt(a[l]);if(!isNaN(s)){if(o._expandModeIs(["single","singleFitHeight","toggle"])){r.length<1&&s>=0&&s<o._items.length&&r.push(s);break}s>=0&&s<=o._items.length&&-1===r.indexOf(s)&&r.push(s)}}if(0===r.length&&o._expandModeIs(["single","singleFitHeight"]))return a=i.slice(),void(o.expandedIndexes=a);a=r;var d=o._compareExpandedIndexes(i,a);return o._toggleItems("collapse",d.collapse),o._toggleItems("expand",d.expand),void(o.expandedIndexes=a)}switch(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),e){case"disabled":o._setFocusable(),o._enableDisableHandler();break;case"expandMode":if(0===o._items.length)break;if("multiple"===i&&"none"!==a||"none"===i&&"multiple"!==a){var u=o.expandedIndexes.slice(1);o._toggleItems("collapse",u),0===o.expandedIndexes.length&&o._expandModeIs(["single","singleFitHeight"])&&n()}else"toggle"===i&&o._expandModeIs(["single","singleFitHeight"])&&0===o.expandedIndexes.length&&n();if(!o._supportCSSVariables||!o._usedCSSVariables){var c=o.expandedIndexes[0];"singleFitHeight"===i?o._items[c].$.accordionItemContent.style.height="":"singleFitHeight"===a&&(o._items[c].$.accordionItemContent.style.height=o._expandedItemsContainerHeight-1+"px")}break;case"unfocusable":o._setFocusable()}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&(e.classList.contains("jqx-resize-trigger-container")||e.classList.contains("jqx-measure-element"))){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}e instanceof JQX.AccordionItem||t.error(t.localize("accordionItemRequired",{method:"appendChild"})),t.insert(t._items.length,e)}},{key:"collapse",value:function(e,t){var i=this;if(e=i._validateItemsIndex(e,"collapse"),!isNaN(e)){!i._items[e].expanded||i._expandModeIs(["single","singleFitHeight"])&&i.expandedIndexes.indexOf(e)>-1||i._collapseItem(e,t)}}},{key:"expand",value:function(e,t){var i=this;if(e=i._validateItemsIndex(e,"expand"),!isNaN(e)){i._items[e].expanded||(i._expandModeIs(["single","singleFitHeight","toggle"])&&i._toggleItems("collapse",i.expandedIndexes),i._expandItem(e,t))}}},{key:"insert",value:function(e,t){var i=this,a=0===i._items.length,n=void 0,o=void 0;if(t||("number"==typeof e?t=[{label:"",content:""}]:(t=[{label:e?e.toString():"",content:e?e.toString():""}],e=0)),t instanceof HTMLElement)t instanceof JQX.AccordionItem?n=t:i.error(i.localize("accordionItemRequired",{method:"insert"}));else if(Array.isArray(t)){o=document.createDocumentFragment();for(var r=0;r<t.length;r++){var l=i._createItem(t[r]);o.appendChild(l)}}else n=t instanceof Object?i._createItem(t):"string"==typeof t||"number"==typeof t?i._createItem({label:t.toString(),content:t.toString()}):i._createItem({label:"",content:""});e>i._items.length?n?i.$.container.appendChild(n):i.$.container.appendChild(o):n?i.$.container.insertBefore(n,i._items[e]):i.$.container.insertBefore(o,i._items[e]),n&&(n.tabIndex=i._tabIndex),i._storeItems(),a&&i._expandModeIs(["single","singleFitHeight"])?i._expandItem(0):i.expandedIndexes=i._getExpandedIndexes(),i._updateExpanedContentHeight(),i._updateInlineHeight(),i._storeItemsCoordinates(),i._updateItemsIndexProperty()}},{key:"insertBefore",value:function(e,t){var i=this;if(!i.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,a.concat(Array.prototype.slice.call(arguments)))}void 0!==e&&void 0!==t&&e instanceof JQX.AccordionItem&&t instanceof JQX.AccordionItem||i.error(i.localize("accordionItemRequired",{method:"insertBefore"})),void 0!==t&&null!==t?(i.contains(t)||i.error(i.localize("referenceNodeNotChild",{argument:"referenceNode"})),i.insert(i._items.indexOf(t),e)):i.insert(i._items.indexOf(t),e)}},{key:"remove",value:function(e){var t=this,i=void 0;if(e instanceof HTMLElement)e instanceof JQX.AccordionItem?t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})):t.error(t.localize("accordionItemRequired",{method:"remove"})),i=e,e=i.index;else{if(e=t._validateItemsIndex(e,"remove"),isNaN(e))return;i=t._items[e]}i&&(i.parentNode.removeChild(i),t._storeItems(),t._expandModeIs(["singleFitHeight"])&&(t._preventAnimation=!0),t._expandModeIs(["single","singleFitHeight"])&&e===t.expandedIndexes[0]&&t._items.length>0&&(t._expandItem(0),t._selectedItem=t._items[0],t._selectedItemIndex=0,t._itemIsFocussed=!0),t.expandedIndexes=t._getExpandedIndexes(),t._updateExpanedContentHeight(),t._updateInlineHeight(),t._storeItemsCoordinates(),t._updateItemsIndexProperty())}},{key:"removeChild",value:function(e){var i=this;if(!i.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(i,a.concat(Array.prototype.slice.call(arguments)))}if(e instanceof HTMLElement||i.error(i.localize("accordionItemRequired",{method:"removeChild"})),"jqx-resize-trigger-container"===e.className)return void babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e);e instanceof JQX.AccordionItem||i.error(i.localize("accordionItemRequired",{method:"removeChild"})),i.contains(e)||i.error(i.localize("referenceNodeNotChild",{argument:"node"})),i.remove(e)}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable){e.removeAttribute("tabindex");for(var t=0;t<e._items.length;t++)e._items[t].removeAttribute("tabindex")}else{e.tabIndex=e._tabIndex;for(var i=0;i<e._items.length;i++)e._items[i].tabIndex=e._tabIndex}}},{key:"update",value:function(e,t){var i=this;if(e=i._validateItemsIndex(e,"update"),!isNaN(e)){var a=i._items[e];if(t||i.error(i.localize("invalidSettings",{elementType:i.nodeName.toLowerCase(),method:"update"})),a)if(Array.isArray(t)&&(t=0===t.length?{label:"",content:""}:t[0]),"string"==typeof t)a.content=t;else for(var n in t)a[n]=t[n];var o=i._getItemsHeights(e);i._updateExpanedContentLocalHeight(i._items[e],o),i._updateInlineHeight(),i._storeItemsCoordinates()}}},{key:"_adjustHeightValue",value:function(e){for(var t=this,i=t._items.length,a=void 0,n=void 0,o=0;o<i&&(t._items[o].expanded?a=t._items[o]:n=t._items[o],!a||!n);o++);if(a||(a=t._items[0]),a||n){var r=a.expanded;a.expanded=!0;var l=window.getComputedStyle(a,null),s=!!n&&window.getComputedStyle(n,null),d=parseInt(l.getPropertyValue("margin-top"))+parseInt(l.getPropertyValue("margin-bottom")),u=s?parseInt(s.getPropertyValue("margin-top"))+parseInt(s.getPropertyValue("margin-bottom")):0;return a.expanded=r,e-((i-1)*u+d)}}},{key:"_collapseItem",value:function(e,t){var i=this,a=i._items[e];if(a.expanded&&("none"!==i.expandMode||!t)){if(a.expanded=!1,i.$.fireEvent("collapsing",{index:e,label:a.label,content:a.content.innerHTML}),i.expandedIndexes.indexOf(e)>-1){var n=i.expandedIndexes.indexOf(e),o=i.expandedIndexes.slice();o.splice(n,1),i.expandedIndexes=o}a.$.accordionItemContent.style.height="",i._handleAnimationsDuration(a,e,"collapsed")}}},{key:"_compareExpandedIndexes",value:function(e,t){for(var i=[],a=[],n=[],o=e.length,r=t.length,l=0;l<o;l++)-1===t.indexOf(e[l])?-1===i.indexOf(e[l])&&i.push(e[l]):-1===a.indexOf(e[l])&&a.push(e[l]);for(var s=0;s<r;s++)-1===a.indexOf(t[s])&&n.push(t[s]);return{collapse:i,expand:n}}},{key:"_createElement",value:function(){var e=this;e._reorderItemsByIndex(),e._usedCSSVariables=Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-accordion-animation-duration")),e._supportCSSVariables=JQX.Utilities.Core.CSSVariablesSupport(),e._storeItems(),e._enableDisableHandler(),e._expandedIndexesHandler(),e._updateExpanedContentHeight(),e._tabIndex=e.tabIndex<=0?0:e.tabIndex,e._setFocusable(),e._updateItemsIndexProperty(),e._updateInlineHeight();for(var t=0;t<e._items.length;t++)e._items[t].$.arrow.classList.add("jqx-animate-trigger")}},{key:"_createItem",value:function(e){var t=this,i=document.createElement("jqx-accordion-item");if(e)return i.disabled=t.disabled,t._tabIndex>-1&&(i.tabIndex=t._tabIndex),"string"==typeof e||"number"==typeof e?(i.label=e+"",i.content=e+"",i):(i.label=e.label||"",i.content=e.content||"",i)}},{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||t.readonly||"none"===t.expandMode||t._toggled)){var i=t.enableShadowDOM?t.shadowRoot.elementFromPoint(e.pageX,e.pageY):e.originalEvent.target,a=i.closest(".jqx-accordion-item-header"),n=i.closest("jqx-accordion-item");if(!a)return void(n&&(n.focused=!0));t._selectedItem=n,t._itemIsPressed=t._itemIsFocussed=!0,t._reorderedIndex=t._selectedItemIndex=t._items.indexOf(n),t._storeItemsCoordinates()}}},{key:"_enableDisableHandler",value:function(){var e=this;if(e.disabled)for(var t=0;t<e._items.length;t++)e._items[t].disabled=!0;else for(var i=0;i<e._items.length;i++)e._items[i].disabled=!1}},{key:"_expandedIndexesHandler",value:function(){var e=this,t=e._getExpandedIndexes("initial"),i=t.length,a=e.expandedIndexes.length;if(0!==e._items.length){if(0===a&&i>0&&(e.expandedIndexes=t,a=i),e._expandModeIs(["multiple","none"])||1===a)return void e._toggleItems("expand",e.expandedIndexes);switch(e.expandMode){case"single":case"singleFitHeight":0===a?e._toggleItems("expand",[0]):a>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes));break;case"toggle":a>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes))}}}},{key:"_expandItem",value:function(e,t){var i=this,a=i._items[e];if(!(a.expanded||"none"===i.expandMode&&t)){if(a.$.container.style.getPropertyValue("--jqx-accordion-expanded-content-local-height")||(a.expanded=!0,a.$.container.style.setProperty("--jqx-accordion-expanded-content-local-height",a.$.accordionItemContent.scrollHeight+"px"),a.expanded=!1),a.expanded=!0,i.$.fireEvent("expanding",{index:e,label:a.label,content:a.content.innerHTML}),-1===i.expandedIndexes.indexOf(e)){var n=i.expandedIndexes.slice();n.push(e),i.expandedIndexes=n}i._supportCSSVariables&&i._usedCSSVariables||"singleFitHeight"!==i.expandMode||(a.$.accordionItemContent.style.height=i._expandedItemsContainerHeight-1+"px"),i._handleAnimationsDuration(a,e,"expanded")}}},{key:"_expandModeIs",value:function(e){var t=this;return e.indexOf(t.expandMode)>-1}},{key:"_focusHandler",value:function(){var e=this;e.disabled||0===e._items.length||(e._itemIsFocussed?e._selectedItem.focused=!1:e._items[0].focused=!1)}},{key:"_getExpandedIndexes",value:function(e){for(var t=this,i=[],a=0;a<t._items.length;a++)"initial"===e?t._items[a].hasAttribute("expanded")&&(i.push(a),t._items[a].removeAttribute("expanded")):t._items[a].expanded&&i.push(a);return i.slice()}},{key:"_getItemsHeights",value:function(e){var t=this,i=t._items,a=i.length,n=[];if(0!==a){if(!isNaN(e)&&e>=0&&e<a){var o=i[e],r=0;return o.expanded?r=o.$.accordionItemContent.scrollHeight:(o.expanded=!0,r=o.$.accordionItemContent.scrollHeight,o.expanded=!1),r+"px"}for(var l=0;l<a;l++){var s=i[l],d=0;s.expanded?d=s.$.accordionItemContent.scrollHeight:(s.expanded=!0,d=s.$.accordionItemContent.scrollHeight,s.expanded=!1),n.push(d+"px")}return t._heightCalcAfterInitialization=!0,n}}},{key:"_handleAnimationsDuration",value:function(e,t,i){var a=this;if(!a._animationAfterInitialization)return void(a._animationAfterInitialization=!0);if(1===a._items.length&&"singleFitHeight"===a.expandMode)return void a.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML});if(!1===a.hasAnimation||!a._supportCSSVariables)return void a.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML});if(a._preventAnimation)return a.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML}),void(a._preventAnimation=!1);a._toggled=!0;var n=window.getComputedStyle(a).animationDuration,o=void 0;if(n.indexOf("ms")>-1)n=parseFloat(n.substring(0,n.length-2)),o=isNaN(n)||n<0?0:n-50;else{if(!(n.indexOf("s")>-1))return void a.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML});n=parseFloat(n.substring(0,n.length-1)),o=isNaN(n)||n<0?0:1e3*n-50}e instanceof JQX.AccordionItem&&(e.$.addClass("jqx-toggled-item"),a.$container.addClass("jqx-toggling"),setTimeout(function(){e.$.removeClass("jqx-toggled-item"),a.$container.removeClass("jqx-toggling"),a.$.fireEvent(i,{index:t}),a._toggled=!1},o))}},{key:"_indexChangeHandler",value:function(e){var t=this,i=t._items,a=i.length,n=e.detail;n.newIndex>=a?t.$.container.appendChild(i[n.oldIndex]):n.newIndex>n.oldIndex?t.$.container.insertBefore(i[n.oldIndex],i[n.newIndex+1]):t.$.container.insertBefore(i[n.oldIndex],i[n.newIndex]);var o=t.enableShadowDOM?t.shadowRoot.querySelectorAll("jqx-accordion-item"):t.getElementsByTagName("jqx-accordion-item");t._items=Array.from(o),t._updateItemsIndexProperty()}},{key:"_keyDownHandler",value:function(e){function t(e){e===r||isNaN(e)||(o.focused=!1,r=e,o=a._items[r],o.focused=!0)}function i(e){if("up"===e)return void t(r-1<0?0:r-1);t(r+1>s?s:r+1)}var a=this,n=e.key;if(!("none"===a.expandMode||a.disabled||a.readonly||a._toggled)&&-1!==["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","End","Home"," ","Enter","Tab"].indexOf(n)&&document.activeElement instanceof JQX.AccordionItem){"Tab"!==n&&e.preventDefault();for(var o=void 0,r=void 0,l=a._items.length,s=l-1,d=0;d<l;d++){var u=a._items[d];u.focused&&(o=u,r=d)}switch(n){case"Tab":i(e.shiftKey?"up":"down");break;case"ArrowLeft":a.collapse(r);break;case"ArrowDown":i("down");break;case"ArrowRight":a.expand(r);break;case"ArrowUp":i("up");break;case"End":t(s);break;case"Home":t(0);break;case" ":case"Enter":if(o.expanded)return void a.collapse(r);a.expand(r);break;default:return}}}},{key:"_moveHandler",value:function(e){var t=this;if(t._itemIsPressed&&t.reorder&&!t.readonly&&!(t._items.length<2))if(t._dragStart){if(t.$container.addClass("jqx-reordering"),!t._dragging){var i=t._selectedItem;t.$.fireEvent("dragStart",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:i.label,content:i.content.innerHTML}),t._selectedItem.dragged=t._dragging=!0}for(var a=e.clientY,n=!1,o=0;o<t._itemsCoordinates.length;o++){var r=t._itemsCoordinates[o];if(a>=r.fromY&&a<=r.toY){n=o;break}}if(!0!==t._preventReorder&&!1!==n&&n!==t._reorderedIndex){if(Math.abs(t._reorderedIndex-n)>1){var l=t._reorderedIndex-n<0?-1:1;t._swapItems(t._reorderedIndex,n+l)}t._swapItems(t._reorderedIndex,n),t._reorderedIndex=n,t._storeItemsCoordinates()}a<t._itemsCoordinates[t._reorderedIndex].fromY||a>t._itemsCoordinates[t._reorderedIndex].toY?t._preventReorder=!0:t._preventReorder=!1,Math.abs(t._reorderedIndex-n)>1&&(t._preventReorder=!1)}else t._dragStart=!0}},{key:"_reorderItemsByIndex",value:function(){var e=this,t=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-accordion-item"):e.getElementsByTagName("jqx-accordion-item"),i=Array.from(t),a=!1,n=i.map(function(e){return null!==e.index?a=!0:e.index=0,e.index});if(a){var o=i.length;if(!(o<2)){var r=n.slice();if(r.sort(function(e,t){return parseInt(e)-parseInt(t)}),n.toString()!==r.toString())for(var l=0;l<o;l++){for(var s=void 0,d=0;d<o;d++)t[d].index===r[l]&&(s=t[d]);e.$.container.insertBefore(s,t[l])}}}}},{key:"_resizeHandler",value:function(){var e=this;e._updateExpanedContentHeight(),e._updateInlineHeight(),e._storeItemsCoordinates()}},{key:"_storeItems",value:function(){var e=this,t=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-accordion-item"):e.getElementsByTagName("jqx-accordion-item");if(e._items=Array.from(t),0===e._items.length)return void e.$container.addClass("jqx-empty");e.$container.removeClass("jqx-empty");for(var i=e._getItemsHeights(),a=0;a<e._items.length;a++)e._updateExpanedContentLocalHeight(e._items[a],i[a])}},{key:"_storeItemsCoordinates",value:function(){var e=this;if(!e.disabled&&e.reorder){for(var t=[],i=0;i<e._items.length;i++){var a=e._items[i],n=a.getBoundingClientRect();t.push({fromY:n.top+(window.scrollY||window.pageYOffset),toY:n.bottom+(window.scrollY||window.pageYOffset)})}e._itemsCoordinates=t}}},{key:"_swapItems",value:function(e,t){var i=this,a=Math.min(e,t),n=Math.max(e,t),o=i._items,r=i.expandedIndexes.slice();if(i._items[e].expanded&&!i._items[t].expanded){r[r.indexOf(e)]=t,i.expandedIndexes=r.slice()}else if(i._items[t].expanded&&!i._items[e].expanded){var l=r.indexOf(t);r[l]=e,i.expandedIndexes=r.slice()}i.selectedIndex=i.selectedIndex===e?t:e,i.$.container.insertBefore(o[n],o[a]),function(e,t,i){var a=e[i];e[i]=e[t],e[t]=a}(o,e,t),i._items[e].$.removeClass("hovered"),i._reorderedIndex=t}},{key:"_toggleItems",value:function(e,t){var i=this,a=t.length;if(a>0)for(var n=0;n<a;n++)i["_"+e+"Item"](t[n])}},{key:"_updateExpanedContentHeight",value:function(){var e=this;e.$.container.style.setProperty("--jqx-accordion-item-header-height","");var t=e._items.length,i=e.$.container.offsetHeight,a=e._items[e.expandedIndexes[0]],n=0,o=0,r=0,l=0;if(1===t){var s=e._items[0];s.expanded=!1,n=s.offsetHeight,o=s.$.accordionItemHeader.offsetHeight,s.expanded=!0}else for(;0===n&&l<t;){var d=e._items[l];d instanceof JQX.AccordionItem&&!d.expanded&&(n=d.offsetHeight,o=d.$.accordionItemHeader.offsetHeight),l++}if(t>1&&a instanceof JQX.AccordionItem){r=a.$.accordionItemHeader.offsetHeight-o}var u=getComputedStyle(e.$.root),c=n*t,p=i-c-r-parseFloat(u.paddingBottom)-parseFloat(u.paddingTop);"singleFitHeight"===e.expandMode&&(p=e._adjustHeightValue(p)),p=p>=0?p:0,e.$.container.style.setProperty("--jqx-accordion-expanded-content-height",p+"px"),e.$.container.style.setProperty("--jqx-accordion-item-header-height",o+"px"),e._expandedItemsContainerHeight=p}},{key:"_updateExpanedContentLocalHeight",value:function(e,t){var i=this;i._supportCSSVariables&&i._usedCSSVariables&&e.$.container.style.setProperty("--jqx-accordion-expanded-content-local-height",t)}},{key:"_updateInlineHeight",value:function(){var e=this;e._supportCSSVariables&&e._usedCSSVariables||"singleFitHeight"!==e.expandMode||0===e._items.length||(e._items[e.expandedIndexes[0]].$.accordionItemContent.style.height=e._expandedItemsContainerHeight-1+"px")}},{key:"_updateItemsIndexProperty",value:function(){for(var e=this,t=[],i=0;i<e._items.length;i++)e._items[i]._setIndex(i),e._items[i].expanded&&t.push(i);e.expandedIndexes=t.slice()}},{key:"_upHandler",value:function(e){var t=this;if(t._itemIsPressed&&!t.disabled&&!t.readonly){for(var i=0;i<t._items.length;i++)i!==t._selectedItemIndex&&(t._items[i].focused=!1);if(t._selectedItem.focused=!0,t._dragging){var a=t._selectedItem;t.$container.removeClass("jqx-reordering"),t.$.fireEvent("dragEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:a.label,content:a.content.innerHTML})}else t._selectedItem.expanded?t.collapse(t._selectedItemIndex,!0):t.expand(t._selectedItemIndex,!0);t._reorderedIndex=void 0,t._dragStart=!1,t._dragging=!1,t._itemIsPressed=!1,t._selectedItem.dragged=!1,t._updateItemsIndexProperty()}}},{key:"_validateItemsIndex",value:function(e,t){var i=this;return isNaN(parseInt(e))||e<0||e>i._items.length-1?void i.log(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:t})):parseInt(e)}}],[{key:"properties",get:function(){return{expandedIndexes:{value:[],type:"array"},expandMode:{allowedValues:["single","singleFitHeight","multiple","toggle","none"],value:"singleFitHeight",type:"string"},messages:{extend:!0,value:{en:{accordionItemRequired:'{{elementType}}: "{{method}}" requires an item from type "jqx-accordion-item".',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.',missingReference:"{{elementType}}: Missing reference to {{files}}.",noItems:"{{elementType}}: No child elements found.",overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.'}},type:"object"},reorder:{value:!1,type:"boolean"}}}},{key:"listeners",get:function(){return{down:"_downHandler",focus:"_focusHandler",indexChange:"_indexChangeHandler",keydown:"_keyDownHandler",move:"_moveHandler",resize:"_resizeHandler",styleChanged:"_resizeHandler","document.up":"_upHandler"}}},{key:"styleUrls",get:function(){return["jqx.accordion.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-array",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div>\n                    <div id="indexerContainer" class="jqx-indexer-container jqx-hidden"></div>\n                    <div id="bigContainer" class="jqx-big-container jqx-array-background">\n                        <div id="centralContainer">\n                            <div id="mainContainer" class="jqx-main-container"></div>\n                            <div id="horizontalScrollbarContainer" class="jqx-scrollbar-container-horizontal jqx-hidden">\n                                <jqx-scroll-bar id="horizontalScrollbar" animation="[[animation]]" min="0" max="0" value="0" step="1"></jqx-scroll-bar>\n                            </div>\n                        </div>\n                        <div id="verticalScrollbarContainer" class="jqx-scrollbar-container-vertical jqx-hidden">\n                            <jqx-scroll-bar id="verticalScrollbar" animation="[[animation]]" orientation="vertical" min="0" max="0" value="0" step="1"></jqx-scroll-bar>\n                        </div>\n                    </div>\n                </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._id=e.getAttribute("id")||Math.round(1e4*Math.random()),e._cachedWidth=e.offsetWidth,e._cachedHeight=e.offsetHeight,e._coordinates=[],e._getDefaultCellValue(),e._validateProperties(),e._addInitialDimensions(),"none"!==e.type&&(e._addElementStructure(),e._structureAdded=!0,e._initializeElements(!1)),e._getInitialFill(),e._updateWidgetWidth(),e._updateWidgetHeight(),e._cachedWidth=e.offsetWidth,e._cachedHeight=e.offsetHeight}},{key:"addDimension",value:function(e){var t=this;if(!0===t._suppressDimensionChange||32!==t.dimensions){var i=document.createElement("jqx-numeric-text-box");i.className="jqx-array-indexer",i.style.height=t.indexerHeight+"px",i.inputFormat="integer",i.spinButtons=!0,i.min=0,i.max=4294967295,i.disabled=t.disabled,i.animation=t.animation,i.validation="interaction",i.wordLength="uint64",i.onReady=function(){i.$upButton.addClass("jqx-array-indexer-increment"),i.$downButton.addClass("jqx-array-indexer-decrement")},t.$.indexerContainer.insertBefore(i,t.$.indexerContainer.children?t.$.indexerContainer.children[0]:null),i.$.listen("change",t._indexerChangeHandler.bind(t)),t._dimensions.push({index:t._dimensions.length,indexer:i}),"LabVIEW"===t.arrayIndexingMode?(t._indexers.unshift(i),t._coordinates.unshift(0)):(t._indexers.push(i),t._coordinates.push(0)),i.dimension=t._indexers.length-1,!0!==t._suppressDimensionChange&&(t.dimensions+=1,t.$.fireEvent("dimensionChange",{type:"add"})),!0!==t._initialDimensions&&!1!==e&&(t._validateValueArrayDimensions(),"LabVIEW"===t.arrayIndexingMode?t._filledUpTo.unshift(0):t._filledUpTo.push(0),!0===t._oneDimensionSpecialCase&&(t._oneDimensionSpecialCase=!1,t.$.verticalScrollbar.value=0,t._scroll())),void 0!==t._absoluteSelectionStart&&("LabVIEW"===t.arrayIndexingMode?t._absoluteSelectionStart.unshift(0):t._absoluteSelectionStart.push(0)),void 0!==t._absoluteSelectionEnd&&("LabVIEW"===t.arrayIndexingMode?t._absoluteSelectionEnd.unshift(0):t._absoluteSelectionEnd.push(0)),t._initialDimensions||t._refreshSelection(),!1===t._suppressDimensionChange&&!0===t.showIndexDisplay&&t.dimensions*(t.indexerHeight+4)-2>t._cachedHeight&&t._updateWidgetHeight("dimensions")}}},{key:"clearSelection",value:function(){var e=this;e._absoluteSelectionStart=void 0,e._absoluteSelectionEnd=void 0,e.showSelection&&e._clearSelection()}},{key:"copyElementValueToClipboard",value:function(e,t){var i=this,a=i._getValueInCell(e,t);if(void 0!==a)try{var n=document.createElement("input");n.type="text",n.style.position="absolute",n.value=a,i.appendChild(n),n.focus(),n.setSelectionRange(0,n.value.length),document.execCommand("copy"),i.removeChild(n)}catch(e){}}},{key:"deleteColumn",value:function(e){var t=this,i="LabVIEW"===t.arrayIndexingMode,a=void 0;if(e=Math.max(0,e),a=i?t._filledUpTo[t._filledUpTo.length-1]:t._filledUpTo[0],!(e>a)){if(0===a||t._oneDimensionSpecialCase&&0===e)return void t.emptyArray();var n=JSON.stringify(t.value),o=void 0,r=void 0;if(i){o=t.dimensions-1,r=e+t._coordinates[o];!function e(t,i){if(o!==i)for(var a=0;a<t.length;a++)e(t[a],i+1);else t.splice(r,1)}(t.value,0)}else o=0,r=e+t._coordinates[0],t.value.splice(r,1);JSON.stringify(t.value)!==n&&(t._filledUpTo[o]--,t._scroll(),t.$.fireEvent("change",{value:t.value,oldValue:JSON.parse(n)}),t._setMaxValuesOfScrollBars())}}},{key:"deleteRow",value:function(e){var t=this,i=JSON.stringify(t.value),a="LabVIEW"===t.arrayIndexingMode,n=void 0,o=void 0,r=void 0;if(e=Math.max(0,e),r=a?t._filledUpTo[t._filledUpTo.length-2]:t._filledUpTo[1],!(e>r)){if(0===r)return void t.emptyArray();if(1===t.dimensions){if(!t._oneDimensionSpecialCase)return void(0===e&&t.emptyArray());t.value.splice(e+t._coordinates[0],1),t._filledUpTo[0]--}else{if(a){n=t.dimensions-2,o=e+t._coordinates[n];!function e(t,i){if(n!==i)for(var a=0;a<t.length;a++)e(t[a],i+1);else t.splice(o,1)}(t.value,0)}else{n=1,o=e+t._coordinates[1];for(var l=0;l<t.value.length;l++){t.value[l].splice(o,1)}}t._filledUpTo[n]--}i!==JSON.stringify(t.value)&&(t._scroll(),t.$.fireEvent("change",{value:t.value,oldValue:JSON.parse(i)}),t._setMaxValuesOfScrollBars())}}},{key:"emptyArray",value:function(){var e=this;if("none"!==e.type){var t=e._cells,i=e.value;if(e.value=e._returnEmptyArray(),JSON.stringify(i)!==JSON.stringify(e.value)){for(var a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++){var o=t[a][n].widget,r={x:n,y:a},l=e._getDefaultValue();o.classList.add("jqx-array-element-empty"),e._areDifferent(e._getElementValue(o,r),l)&&(o.supressChange=!0,
e._setElementValue(l,o,r))}e._getInitialFill(),e.clearSelection(),e.$.fireEvent("change",{value:e.value,oldValue:i})}}}},{key:"endSelection",value:function(e,t){var i=this;if(void 0!==i._absoluteSelectionStart){i._absoluteSelectionEnd=i._coordinates.slice(0);var a=i.dimensions;"LabVIEW"===i.arrayIndexingMode?(i._absoluteSelectionEnd[a-1]=Math.min(t,i._filledUpTo[a-1]),a>1&&(i._absoluteSelectionEnd[a-2]=Math.min(e,i._filledUpTo[a-2]))):(i._absoluteSelectionEnd[0]=Math.min(t,i._filledUpTo[0]),a>1&&(i._absoluteSelectionEnd[1]=Math.min(e,i._filledUpTo[1])));for(var n=!0,o=0;o<a;o++)n=n&&i._absoluteSelectionStart[o]<=i._absoluteSelectionEnd[o];n?i._refreshSelection():(i._absoluteSelectionStart=void 0,i._absoluteSelectionEnd=void 0)}}},{key:"getElement",value:function(e,t){var i=this._cells;if(void 0!==i[e]&&void 0!==i[e][t])return i[e][t].widget}},{key:"getElementSize",value:function(){var e=this;return{width:e.elementWidth,height:e.elementHeight}}},{key:"getIndexerValue",value:function(){for(var e=this._indexers,t=[],i=0;i<e.length;i++)t.push(e[i].val());return t}},{key:"hitTest",value:function(e,t){var i=this,a=document.elementFromPoint(e,t);if(i.contains(a)){var n=a.closest(".jqx-array-element"),o=a.closest(".jqx-array-indexer");if(null!==n)return{type:"element",htmlElement:n,row:n.row,column:n.col};if(null!==o){var r=o.dimension;return"LabVIEW"===i.arrayIndexingMode&&(r=i.dimensions-r-1),{type:"indexer",htmlElement:o,dimension:r}}return{type:"array",htmlElement:i}}}},{key:"insertColumnBefore",value:function(e,t){var i=this,a=JSON.stringify(i.value),n="LabVIEW"===i.arrayIndexingMode,o=void 0;if(n&&!0!==t)return void i.insertRowBefore(e,!0);if(1===i.dimensions){if(n!==i._oneDimensionSpecialCase)return;i.value.splice(e+i._coordinates[0],0,i._getDefaultValue()),i._scroll(),i._filledUpTo[0]++}else{var r=i._filledUpTo.slice(0);if(n){o=e+i._coordinates[i.dimensions-2];var l=i.dimensions-2;!function e(t,i){if(l!==i)for(var a=0;a<t.length;a++)e(t[a],i+1);else t.splice(o,0,[])}(i.value,0),r[l]++}else o=e+i._coordinates[0],i.value.splice(o,0,i._returnEmptyArray()[0]),r[0]++;i._fillValueArray(r,!0)}i.$.fireEvent("change",{value:i.value,oldValue:JSON.parse(a)}),i._setMaxValuesOfScrollBars()}},{key:"insertRowBefore",value:function(e,t){var i=this,a=JSON.stringify(i.value),n="LabVIEW"===i.arrayIndexingMode;if(n&&!0!==t)return void i.insertColumnBefore(e,!0);if(1===i.dimensions){if(!(n&&!i._oneDimensionSpecialCase||!n&&i._oneDimensionSpecialCase))return;i.value.splice(e+i._coordinates[0],0,i._getDefaultValue()),i._scroll(),i._filledUpTo[0]++}else{var o=i._filledUpTo.slice(0),r=void 0;if(n){var l=i.dimensions-1;r=e+i._coordinates[l];!function e(t,a){if(l!==a)for(var n=0;n<t.length;n++)e(t[n],a+1);else t.splice(r,0,i._getDefaultValue())}(i.value,0),o[l]++}else{r=e+i._coordinates[1];for(var s=0;s<i.value.length;s++){i.value[s].splice(r,0,void 0)}o[1]++}i._fillValueArray(o,!0)}i.$.fireEvent("change",{value:i.value,oldValue:JSON.parse(a)}),i._setMaxValuesOfScrollBars()}},{key:"reinitializeArray",value:function(){var e=this;if("none"!==e.type){var t=e.dimensions,i=JSON.stringify(e.value);if(1===e.dimensions)e.value.fill(e._getDefaultValue());else{!function i(a,n){for(var o=0;o<a.length;o++)n===t?a[o]=e._getDefaultValue():i(a[o],n+1)}(e.value,1)}i!==JSON.stringify(e.value)&&(e._scroll(),e.$.fireEvent("change",{value:e.value,oldValue:JSON.parse(i)}))}}},{key:"removeDimension",value:function(e,t){var i=this,a=i._dimensions.length-1;if(!(i._dimensions.length<2)){if(2===i._dimensions.length){var n=i.rows;i.rows=1,i._changeRowsColumns("rows",n,1,void 0,!0)}i.$.indexerContainer.removeChild(i._dimensions[a].indexer),i._dimensions.pop();var o=void 0;"LabVIEW"===i.arrayIndexingMode?(o=i._coordinates[0],i._indexers.splice(0,1),i._coordinates.splice(0,1)):(o=i._coordinates[a],i._indexers.pop(),i._coordinates.pop()),!0!==i._suppressDimensionChange&&(i.dimensions-=1,i.$.fireEvent("dimensionChange",{type:"remove"})),!1!==t&&(i._removeDimensionFromJSArray(),"LabVIEW"===i.arrayIndexingMode?i._filledUpTo.splice(0,1):i._filledUpTo.pop()),void 0!==i._absoluteSelectionStart&&("LabVIEW"===i.arrayIndexingMode?i._absoluteSelectionStart.splice(0,1):i._absoluteSelectionStart.pop()),void 0!==i._absoluteSelectionEnd&&("LabVIEW"===i.arrayIndexingMode?i._absoluteSelectionEnd.splice(0,1):i._absoluteSelectionEnd.pop()),o>0&&i._scroll(),(i.dimensions>1&&!1===i._suppressDimensionChange&&!0===i.showIndexDisplay&&(i.dimensions+1)*(i.indexerHeight+4)-2>=i._cachedHeight||1===i.dimensions&&!0!==e)&&(i._updateWidgetHeight("dimensions"),1===i.dimensions&&i.showVerticalScrollbar&&i._showVerticalScrollbar(!1))}}},{key:"reset",value:function(e){var t=this;if("none"!==t.type||!0===e){t.type="none";var i=t.rows;t.rows=1,t._changeRowsColumns("rows",i,1,!0),i=t.columns,t.columns=1,t._changeRowsColumns("columns",i,1);var a=t._cells[0][0];a.widget.$.unlisten("change"),a.widget.$.unlisten("click"),a.td.innerHTML="",t._table.classList.add("jqx-hidden"),t._defaultValue=void 0;var n=t.value;t.value=null,t.$.fireEvent("change",{value:t.value,oldValue:n}),t.$.horizontalScrollbar.max=0,t.$.horizontalScrollbar.value=0,t.$.verticalScrollbar.max=0,t.$.verticalScrollbar.value=0}}},{key:"resizeElement",value:function(e,t){var i=this;if(e=parseInt(e,10),t=parseInt(t,10),e!==i.elementWidth||t!==i.elementHeight){if(e===i.elementWidth)return void i.setRowHeight(t);if(t===i.elementHeight)return void i.setColumnWidth(e);var a=i.getElementsByClassName("jqx-array-element-"+i._id);if(i.elementWidth=e,i.elementHeight=t,"none"!==i.type){if(i._updateWidgetWidth(),i._updateWidgetHeight(),"custom"!==i.type)for(var n=0;n<a.length;n++)a[n].style.width=e+"px",a[n].style.height=t+"px";else if(i.changeProperty)i.changeProperty("width",e,a),i.changeProperty("height",t,a);else try{i.warn(i.localize("callbackFunctionRequired",{callback:"changeProperty"}))}catch(e){}i.$.fireEvent("sizeChange",{width:e,height:t})}}}},{key:"selectAll",value:function(){var e=this;if(!("LabVIEW"===e.arrayIndexingMode&&-1===e._filledUpTo[0]||"JavaScript"===e.arrayIndexingMode&&-1===e._filledUpTo[e._filledUpTo.length-1])){var t=new Array(e.dimensions);t.fill(0),e._absoluteSelectionStart=t,e._absoluteSelectionEnd=e._filledUpTo.slice(0),e._refreshSelection()}}},{key:"selectElement",value:function(e,t){var i=this;i.startSelection(e,t),i.endSelection(e,t)}},{key:"setColumnWidth",value:function(e,t){var i=this;if((e=parseInt(e,10))!==i.elementWidth||!0===t){var a=i.getElementsByClassName("jqx-array-element-"+i._id);if(i.elementWidth=e,"none"!==i.type){if("custom"!==i.type)for(var n=0;n<a.length;n++)a[n].style.width=e+"px";else if(i.changeProperty)i.changeProperty("width",e,a);else try{i.warn(i.localize("callbackFunctionRequired",{callback:"changeProperty"}))}catch(e){}i._updateWidgetWidth(),i.$.fireEvent("sizeChange",{width:e,height:i.elementHeight})}}}},{key:"setDefaultValue",value:function(e){var t=this;t._areDifferent(e,t._defaultValue)&&(t._defaultValue=e,t._scroll())}},{key:"setIndexerValue",value:function(e){for(var t=this,i=!1,a=0;a<e.length;a++){var n=e[a].index,o="LabVIEW"===t.arrayIndexingMode?t.dimensions-n-1:n,r=e[a].value,l=t._indexers[n];void 0!==l&&r!==t._coordinates[n]&&(i=!0,l.val(r),t._coordinates[n]=r,"none"===t.type||0!==o&&1!==o||t._syncScrollbar(o,r))}!0===i&&t._scroll()}},{key:"setRowHeight",value:function(e,t){var i=this;if((e=parseInt(e,10))!==i.elementHeight||!0===t){var a=i.getElementsByClassName("jqx-array-element-"+i._id);if(i.elementHeight=e,"none"!==i.type){if("custom"!==i.type)for(var n=0;n<a.length;n++)a[n].style.height=e+"px";else if(i.changeProperty)i.changeProperty("height",e,a);else try{i.warn(i.localize("callbackFunctionRequired",{callback:"changeProperty"}))}catch(e){}i._updateWidgetHeight(),i.$.fireEvent("sizeChange",{width:i.elementWidth,height:e})}}}},{key:"showLastElement",value:function(){var e=this,t=[],i=void 0,a=void 0;if("none"!==e.type){if(1===e.dimensions){var n=parseFloat(e._indexers[0].value),o=e._oneDimensionSpecialCase?e.rows:e.columns,r=e._filledUpTo[0];return void((n+o<r+1||n>r)&&e.setIndexerValue([{index:0,value:r}]))}"LabVIEW"===e.arrayIndexingMode?(i=e.dimensions-1,a=e.dimensions-2):(i=0,a=1);for(var l=0;l<e.dimensions;l++){var s=e._filledUpTo[l];if(l===i){var d=parseFloat(e._indexers[l].value);d+e.columns<s+1||d>s||(s=d)}else if(l===a){var u=parseFloat(e._indexers[l].value);u+e.rows<s+1||u>s||(s=u)}t.push({index:l,value:s})}e.setIndexerValue(t)}}},{key:"startSelection",value:function(e,t){var i=this;i._absoluteSelectionStart=i._coordinates.slice(0),1===i.dimensions?i._absoluteSelectionStart[0]=t:"LabVIEW"===i.arrayIndexingMode?(i._absoluteSelectionStart[i.dimensions-1]=t,i._absoluteSelectionStart[i.dimensions-2]=e):(i._absoluteSelectionStart[0]=t,i._absoluteSelectionStart[1]=e),i._absoluteSelectionEnd=void 0}},{key:"toggleElementGap",value:function(){var e=this;if("none"!==e.type){var t=void 0;void 0===e._elementGap&&(e._elementGap=!1),e._elementGap?(t="remove",e._elementGap=!1):(t="add",e._elementGap=!0);for(var i=0;i<e.rows;i++)for(var a=0;a<e.columns;a++)e._cells[i][a].td.classList[t]("jqx-array-table-data-gap");e._updateWidgetWidth(),e._updateWidgetHeight()}}},{key:"transposeArray",value:function(){var e=this;if(2===e.dimensions){var t=e.value[0].map(function(t,i){return e.value.map(function(e){return e[i]})}),i=JSON.stringify(e.value);e.value=t,e._scroll(),e.$.fireEvent("change",{value:t,oldValue:JSON.parse(i)}),e._filledUpTo.reverse()}}},{key:"val",value:function(e,t){var i=this,a=void 0;if(2===arguments.length){if("none"===i.type)return;a=JSON.stringify(i.value);var n=i.value,o=void 0;for(o=0;o<i.dimensions-1;o++){var r=t[o];void 0===r&&(r=0,t[o]=0),void 0===n[r]&&(n[r]=[]),n=n[r]}var l=t[o];void 0===l&&(l=0,t[o]=0),i._areDifferent(n[l],e)&&(n[l]=e,i._fillValueArray(t.slice(0)),i.$.fireEvent("change",{value:i.value,oldValue:JSON.parse(a),dimensionIndexes:t}))}else{if(void 0===e||"object"===(void 0===e?"undefined":babelHelpers.typeof(e))&&0===Object.keys(e).length)return i.value;if("none"===i.type)return;var s=JSON.stringify(i.value);s!==JSON.stringify(e)&&(a=i.value,i.value=e,i._validateValue(),s!==JSON.stringify(i.value)&&(i._scroll(),i._getInitialFill(),i.$.fireEvent("change",{value:i.value,oldValue:a})))}}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;if(a!==i)switch(e){case"arrayIndexingMode":n.arrayIndexingMode=i;break;case"columns":case"rows":n._changeRowsColumns(e,i,a);break;case"customWidgetDefaultValue":"custom"===n.type&&(n._defaultValue=a,n._scroll());break;case"dimensions":n._addRemoveMultipleDimensions(i,a);break;case"animation":case"disabled":for(var o=0;o<n._indexers.length;o++)n._indexers[o][e]=a;if("none"!==n.type){var r=n.getElementsByClassName("jqx-array-element-"+n._id);if("custom"!==n.type)for(var l=0;l<r.length;l++)r[l][e]=a;else if(n.changeProperty)n.changeProperty(e,a,r);else try{n.warn(n.localize("callbackFunctionRequired",{callback:"changeProperty"}))}catch(e){}n._scroll()}break;case"elementHeight":n.setRowHeight(a,!0);break;case"elementTemplate":if("none"!==n.type)for(var s=n.getElementsByClassName("jqx-array-element-"+n._id),d=0;d<s.length;d++){var u=s[d];n.elementTemplate(u,{x:u.col,y:u.row})}break;case"elementWidth":n.setColumnWidth(a,!0);break;case"indexerHeight":for(var c=0;c<n._indexers.length;c++)n._indexers[c].style.height=a+"px";n._updateWidgetHeight();break;case"indexerWidth":n.$.indexerContainer.style.width=a+"px",n._updateWidgetWidth();break;case"showHorizontalScrollbar":if(!0===n._oneDimensionSpecialCase)return void(n.showHorizontalScrollbar=!1);n._showHorizontalScrollbar(a);break;case"showIndexDisplay":a?n.$indexerContainer.removeClass("jqx-hidden"):n.$indexerContainer.addClass("jqx-hidden"),n._updateWidgetWidth(),n._updateWidgetHeight("showIndexDisplay");break;case"showSelection":a?n._refreshSelection():n._clearSelection();break;case"showVerticalScrollbar":if(1===n.dimensions&&!1===n._oneDimensionSpecialCase)return void(n.showVerticalScrollbar=!1);n._showVerticalScrollbar(a);break;case"type":n._getDefaultCellValue(),"none"!==i&&"none"!==a?(n._initializeElements(!0),n._updateWidgetWidth(),n._updateWidgetHeight()):"none"===i?(n.value=n._returnEmptyArray(),!0===n._structureAdded?(n._initializeElements(!1),n._table.classList.remove("jqx-hidden")):(n._addElementStructure(),n._structureAdded=!0,n._initializeElements(!1)),n.$.centralContainer.style.width="",n.$.bigContainer.style.width="",n.$.mainContainer.style.height="",n.$.bigContainer.style.height="",n._updateWidgetWidth(),n._updateWidgetHeight(),n._getInitialFill()):"none"===a&&n.reset(!0);break;case"value":JSON.stringify(i)!==JSON.stringify(a)&&(n._validateValue(),JSON.stringify(i)!==JSON.stringify(n.value)&&(n._scroll(),n._getInitialFill(),n.$.fireEvent("change",{value:n.value,oldValue:i})))}}},{key:"_addDimensionToJSArray",value:function(e){var t=this;if("LabVIEW"===t.arrayIndexingMode)t.value=[t.value];else{void 0===e&&(e=t.dimensions-1);!function t(i,a){for(var n=0;n<i.length;n++)a!==e?t(i[n],a+1):i[n]=[i[n]]}(t.value,1)}}},{key:"_addElementHandlers",value:function(e){var t=this;e.$.listen("change",function(i){if(!0!==e.supressChange||e instanceof JQX.NumericTextBox){e.$.removeClass("jqx-array-element-empty");var a=e.col,n=e.row;t._updateValue(n,a,t._getElementValue(e,{x:a,y:n},!0))}else e.supressChange=!1;i.stopPropagation()}),e.$.listen("click",function(){t.$.fireEvent("elementClick",{element:e})})}},{key:"_addElementStructure",value:function(){var e=this;e._cells=[],e._table=document.createElement("table"),e._table.className="jqx-array-element-gap";for(var t=document.createElement("tbody"),i=document.createDocumentFragment(),a=0;a<e.rows;a++){var n=document.createElement("tr"),o=document.createDocumentFragment();n.classList.add("jqx-array-table-row"),e._cells.push([]);for(var r=0;r<e.columns;r++){var l=document.createElement("td");l.classList.add("jqx-array-table-data"),e._elementGap&&l.classList.add("jqx-array-table-data-gap"),e._cells[a].push({td:l}),o.appendChild(l)}n.appendChild(o),i.appendChild(n)}t.appendChild(i),e._table.appendChild(t),e.$.mainContainer.appendChild(e._table),e._tableBody=t}},{key:"_addInitialDimensions",value:function(){var e=this,t=e.dimensions;e._dimensions=[],e._indexers=[],e._suppressDimensionChange=!0,e._initialDimensions=!0;for(var i=0;i<t;i++)e.addDimension();e._suppressDimensionChange=!1,e._initialDimensions=!1}},{key:"_addRemoveColumn",value:function(e){var t=this;if("add"===e){for(var i=t._tableBody.children,a=0;a<t._cells.length;a++){var n=t._cells[a],o=document.createElement("td");o.classList.add("jqx-array-table-data"),t._elementGap&&o.classList.add("jqx-array-table-data-gap"),n.push({td:o}),i[a].appendChild(o),t._initializeWidget(a,n.length-1)}t.columns++,!0!==t._suppressScroll&&t._scroll()}else if("remove"===e&&t.columns>1){for(var r=0;r<t._cells.length;r++){var l=t._cells[r],s=l[l.length-1];s.widget.$.unlisten("change"),s.widget.$.unlisten("click"),s.td.parentElement.removeChild(s.td),l.pop()}t.columns--}}},{key:"_addRemoveMultipleDimensions",value:function(e,t,i){var a=this;if(!(t<1||t>32)||(a.dimensions=1,a.dimensions!==e)){var n=a.dimensions-e;if(a._suppressDimensionChange=!0,n>0){do{a.addDimension(i),n-=1}while(n>0);a.$.fireEvent("dimensionChange",{type:"add"})}else{if(!(n<0))return;if(1===t){var o=a.rows;a.rows=1,a.dimensions=e,a._changeRowsColumns("rows",o,1,void 0,!0),a.dimensions=t}do{a.removeDimension(!0,i),n+=1}while(n<0);a.$.fireEvent("dimensionChange",{type:"remove"}),1===t&&a.showVerticalScrollbar&&a._showVerticalScrollbar(!1)}a._suppressDimensionChange=!1,(!0!==a.showIndexDisplay||1!==t&&(t-e>0&&t*(a.indexerHeight+4)-2<a._cachedHeight||t-e<0&&e*(a.indexerHeight+4)-2<a._cachedHeight))&&1!==t||a._updateWidgetHeight("dimensions")}}},{key:"_addRemoveRow",value:function(e){var t=this;if("add"===e&&(t.dimensions>1||1===t.dimensions&&1===t.columns)){t._cells.push([]);var i=document.createElement("tr"),a=document.createDocumentFragment(),n=t._cells.length-1,o=[];i.classList.add("jqx-array-table-row");for(var r=0;r<t.columns;r++){var l=document.createElement("td");l.classList.add("jqx-array-table-data"),t._elementGap&&l.classList.add("jqx-array-table-data-gap"),t._cells[n].push({td:l}),o.push(l),a.appendChild(l)}i.appendChild(a),t._tableBody.appendChild(i);for(var s=0;s<o.length;s++)t._initializeWidget(n,s);t.rows++,!0!==t._suppressScroll&&t._scroll()}else if("remove"===e&&t.rows>1){for(var d=t._tableBody.children[t._tableBody.children.length-1],u=t._cells[t._cells.length-1],c=0;c<u.length;c++)u[c].widget.$.unlisten("change"),u[c].widget.$.unlisten("click");t._tableBody.removeChild(d),t._cells.pop(),t.rows--}}},{key:"_addSelectionClass",value:function(e,t,i,a){var n=this;n.showSelection&&void 0!==n._absoluteSelectionStart&&void 0!==n._absoluteSelectionEnd&&(!1===a&&n._inSelection(e,t)?i.classList.add("jqx-array-element-selected"):i.classList.remove("jqx-array-element-selected"))}},{key:"_areDifferent",value:function(e,t){if(e instanceof Date){if(t instanceof Date)return e.getTime()!==t.getTime();if("string"==typeof t)try{return e.getTime()!==new Date(t).getTime()}catch(e){}return!0}if(t instanceof Date){if("string"==typeof e)try{return t.getTime()!==new Date(e).getTime()}catch(e){}return!0}return"object"!==(void 0===e?"undefined":babelHelpers.typeof(e))||(void 0===e?"undefined":babelHelpers.typeof(e))!==(void 0===t?"undefined":babelHelpers.typeof(t))?e!==t:JSON.stringify(e)!==JSON.stringify(t)}},{key:"_changeRowsColumns",value:function(e,t,i,a,n){var o=this,r="_addRemove"+e.charAt(0).toUpperCase()+e.slice(1,e.length-1);if(!(i<1&&(o[e]=1,o[e]===t))){if(1===o.dimensions)if(!0===o._oneDimensionSpecialCase){if("columns"===e&&o[e]>1){if(o.rows>1)return void(o.columns=1);o._oneDimensionSpecialCase=!1,o.showVerticalScrollbar&&(o._showVerticalScrollbar(!1),o._showHorizontalScrollbar(!0))}}else if("rows"===e){if(o.columns>1)return void(o.rows=1);o.rows>1&&(o._oneDimensionSpecialCase=!0,!0===o.showHorizontalScrollbar&&(o._showHorizontalScrollbar(!1),o._showVerticalScrollbar(!0)))}var l=o[e]-t;if(o[e]=t,l>0){o._suppressScroll=!0;do{o[r]("add"),l-=1}while(l>0);o._suppressScroll=!1,o._scroll()}else if(l<0)do{o[r]("remove"),l+=1}while(l<0);o.$.fireEvent("arraySizeChange",{type:e,number:o[e],oldNumber:t}),"columns"===e?(o._updateWidgetWidth(),o._setMaxValuesOfScrollBars("horizontal")):"rows"===e&&!0!==n&&(o._updateWidgetHeight(!0===a?"dimensions":void 0),o._setMaxValuesOfScrollBars("vertical"))}}},{key:"_clearSelection",value:function(){for(var e=this,t=0;t<e.rows;t++)for(var i=0;i<e.columns;i++)e._cells[t][i].td.classList.remove("jqx-array-element-selected")}},{key:"_cloneValue",value:function(e){return"object"!==(void 0===e?"undefined":babelHelpers.typeof(e))?e:e instanceof Date?new Date(e.getTime()):Array.isArray(e)||e instanceof Object?JSON.parse(JSON.stringify(e)):void 0}},{key:"_fillValueArray",value:function(e,t){function i(t,o){for(var r=0;r<=e[o];r++)o!==n-1?(void 0===t[r]&&(t[r]=[]),i(t[r],o+1)):void 0===t[r]&&(t[r]=a._getDefaultValue())}var a=this,n=a.dimensions;if(void 0!==a._filledUpTo&&!0!==t){for(var o=!0,r=0;r<e.length;r++)o=o&&a._filledUpTo[r]>=e[r],e[r]=Math.max(e[r],a._filledUpTo[r]);if(!0===o)return void a._scroll()}a._filledUpTo=e.slice(0),i(a.value,0),a._scroll(),a._setMaxValuesOfScrollBars()}},{key:"_getDefaultCellValue",value:function(){var e=this;switch(e.type){case"custom":e._defaultValue=null!==e.customWidgetDefaultValue?e.customWidgetDefaultValue:void 0;break;case"numeric":e._defaultValue=0;break;case"boolean":e._defaultValue=!1;break;case"string":e._defaultValue=""}}},{key:"_getDefaultValue",value:function(){var e=this;return e._cloneValue(e._defaultValue)}},{key:"_getElementValue",value:function(e,t,i){var a=this,n=void 0;return n=a.getElementValue?a.getElementValue(e,t):"boolean"===a.type?e.checked:e.value,!0!==i?n:a._cloneValue(n)}},{key:"_getInitialFill",value:function(){var e=this;if(e._filledUpTo=[],"none"!==e.type){for(var t=e.value,i=0;i<e.dimensions;i++){var a=t.length-1;e._filledUpTo[i]=a,t=t[a]}e._setMaxValuesOfScrollBars()}}},{key:"_getMaxValuesOfScrollBars",value:function(e){var t=this,i=t._filledUpTo.length,a=0,n=void 0,o=void 0,r=void 0;return"horizontal"===e?(r=t.$.horizontalScrollbar.value,n="LabVIEW"===t.arrayIndexingMode?t._filledUpTo[i-1]:t._filledUpTo[0],o=t.columns):(r=t.$.verticalScrollbar.value,n=t._oneDimensionSpecialCase?"LabVIEW"===t.arrayIndexingMode?t._filledUpTo[i-1]:t._filledUpTo[0]:"LabVIEW"===t.arrayIndexingMode?t._filledUpTo[i-2]:t._filledUpTo[1],o=t.rows),void 0===n?0:(a=n-o+2,Math.max(a,r))}},{key:"_getValueInCell",value:function(e,t){var i=this,a=i.value,n=i._coordinates,o=n.length,r=void 0;if(1===o)r=!1===i._oneDimensionSpecialCase?a[t+n[0]]:a[e+n[0]];else{var l=n.slice(0);"LabVIEW"===i.arrayIndexingMode?(l[o-1]+=t,l[o-2]+=e):(l[0]+=t,l[1]+=e);var s=a[l[0]];if(void 0!==s){var d=s[l[1]];if(void 0!==d&&(r=d,o>2))for(var u=2;u<o&&void 0!==r;u++)r=r[l[u]]}}return r}},{key:"_indexerChangeHandler",value:function(e){var t=this,i=t.context;t.context=t;var a=e.target.dimension,n="LabVIEW"===t.arrayIndexingMode?t.dimensions-a-1:a,o=parseFloat(e.detail.value);t._coordinates[n]=o,t._scroll(),"none"===t.type||0!==a&&1!==a||t._syncScrollbar(a,o),e.stopPropagation(),t.context=i}},{key:"_initializeElements",value:function(e){function t(e){i.elementTemplate&&i.elementTemplate(e,{x:e.col,y:e.row})}var i=this,a=i._cells;if(i._initializeElement=function(){},"custom"!==i.type)switch(i.type){case"numeric":i._initializeElement=function(e,a){e.style.width=i.elementWidth+"px",e.style.height=i.elementHeight+"px",e.disabled=i.disabled,e.animation=i.animation,e.inputFormat="floatingPoint",e.spinButtons=!0,e.value=a,t(e)};break;case"boolean":i._initializeElement=function(e,a){e.style.width=i.elementWidth+"px",e.style.height=i.elementHeight+"px",e.disabled=i.disabled,e.animation=i.animation,e.checked=a,t(e)};break;case"string":i._initializeElement=function(e,a){e.style.width=i.elementWidth+"px",e.style.height=i.elementHeight+"px",e.disabled=i.disabled,e.animation=i.animation,e.value=a,t(e)}}else i._initializeElement=function(e,t){if(i.elementTemplate){var a={x:e.col,y:e.row};i.elementTemplate(e,a),void 0!==t&&i._setElementValue(t,e,a)}else i.error(i.localize("callbackFunctionRequired",{callback:"elementTemplate"}))};for(var n=0;n<a.length;n++)for(var o=0;o<a[n].length;o++){if(!0===e){var r=a[n][o];r.widget.$.unlisten("change"),r.widget.$.unlisten("click"),r.td.innerHTML=""}i._initializeWidget(n,o)}}},{key:"_initializeWidget",value:function(e,t){var i=this,a=i._cells[e][t],n=i._getValueInCell(e,t),o=void 0;switch(i.type){case"boolean":o=document.createElement("jqx-switch-button");break;case"numeric":o=document.createElement("jqx-numeric-text-box"),o.validation="interaction";break;case"string":o=document.createElement("jqx-text-box");break;case"custom":o=document.createElement("div"),o.$=JQX.Utilities.Extend(o)}o.row=e,o.col=t,a.widget=o,i._initializeElement(o,void 0===n?i._getDefaultValue():n,a),a.td.appendChild(o),o.classList.add("jqx-array-element"),o.classList.add("jqx-array-element-"+i._id),void 0===n&&o.classList.add("jqx-array-element-empty"),i._addElementHandlers(o)}},{key:"_inSelection",value:function(e,t){var i=this,a=i._coordinates,n=!0,o=void 0,r=void 0,l=void 0,s=void 0;if("LabVIEW"===i.arrayIndexingMode?(o=i.dimensions-1,r=i.dimensions-2):(o=0,r=1),i._oneDimensionSpecialCase?l=t+a[o]:(l=e+a[o],s=t+a[r]),1===i.dimensions)return l>=i._absoluteSelectionStart[o]&&l<=i._absoluteSelectionEnd[o];if(n=l>=i._absoluteSelectionStart[o]&&l<=i._absoluteSelectionEnd[o]&&s>=i._absoluteSelectionStart[r]&&s<=i._absoluteSelectionEnd[r],"LabVIEW"===i.arrayIndexingMode)for(var d=0;d<r;d++)n=n&&a[d]>=i._absoluteSelectionStart[d]&&a[d]<=i._absoluteSelectionEnd[d];else for(var u=2;u<i.dimensions;u++)n=n&&a[u]>=i._absoluteSelectionStart[u]&&a[u]<=i._absoluteSelectionEnd[u];return n}},{key:"_moveScrollbar",value:function(e,t,i,a){if(!isNaN(a)){var n=this,o=n._getMaxValuesOfScrollBars(t),r=e.max,l=void 0;l="LabVIEW"===n.arrayIndexingMode?n.dimensions-i-1:i,n._indexers[l].val(a),n._coordinates[l]=a,a<=o?e.max=o:a<=r&&(e.max=a),n._scroll(),n.$.fireEvent("scroll",{direction:t})}}},{key:"_refreshSelection",value:function(){var e=this;if(e.showSelection)for(var t=0;t<e.rows;t++)for(var i=0;i<e.columns;i++){var a=e._getValueInCell(t,i),n=void 0===a;e._addSelectionClass(i,t,e._cells[t][i].td,n)}}},{key:"_removeDimensionFromJSArray",value:function(){var e=this;if("LabVIEW"===e.arrayIndexingMode)e.value=e.value[0];else{var t=e.dimensions+1;!function i(a,n,o,r){for(var l=0;l<a.length;l++)n!==t&&a[l].length>0?i(a[l],n+1,a,l):void 0!==o?o[r]=a[0]:e.value=e.value[0]}(e.value,1)}}},{key:"_resizeHandler",value:function(){var e=this;if(e.offsetWidth!==e._cachedWidth)if("none"!==e.type){var t=e.offsetWidth-e._cachedWidth,i=e.elementWidth;if(Math.abs(t)<i)return void(e.style.width=e._cachedWidth+"px");var a=Math.round(t/i),n=e.columns,o=n+a;e.columns=o,e._changeRowsColumns("columns",n,o)}else e._updateWidgetWidth();if(e._cachedWidth=e.offsetWidth,e.offsetHeight!==e._cachedHeight){if("none"!==e.type)return void(e.style.height=e._cachedHeight+"px");e._updateWidgetHeight()}e._cachedHeight=e.offsetHeight}},{key:"_returnEmptyArray",value:function(){var e=this,t=[],i=t;if(e.dimensions>1)for(var a=1;a<e.dimensions;a++)i[0]=[],i=i[0];return t}},{key:"_scroll",value:function(){var e=this;if("none"!==e.type)for(var t=0;t<e._cells.length;t++)for(var i=0;i<e._cells[t].length;i++){var a=e._getValueInCell(t,i),n=e._cells[t][i].widget,o={x:i,y:t},r=e._getElementValue(n,o),l=void 0;void 0!==a?(n.classList.remove("jqx-array-element-empty"),e._areDifferent(r,a)?(n.supressChange=!0,e._setElementValue(a,n,o)):n.supressChange=!1,l=!1):(n.classList.add("jqx-array-element-empty"),e._areDifferent(r,e._defaultValue)?(n.supressChange=!0,e._setElementValue(e._getDefaultValue(),n,o)):n.supressChange=!1,l=!0),e._addSelectionClass(i,t,e._cells[t][i].td,l)}}},{key:"_scrollbarChangeHandler",value:function(e){var t=this,i=void 0,a=void 0;e.stopPropagation(),"none"!==t.type&&(e.target===t.$.horizontalScrollbar?(i="horizontal",a=0):(i="vertical",a=t._oneDimensionSpecialCase?0:1),!0!==t._suppressScrollbarEvent?t._moveScrollbar(e.target,i,a,Math.round(e.detail.value)):t._suppressScrollbarEvent=!1,t._clickTriggered||(t._changeTriggered=!0,setTimeout(function(){t._changeTriggered=!1},50)))}},{key:"_scrollbarClickHandler",value:function(e){var t=e.target.closest(".jqx-scroll-button");if(null!==t){var i=this,a=t.parentElement.parentElement;if(t===a.$.farButton){if(i._changeTriggered)return;i._clickTriggered=!0,setTimeout(function(){i._clickTriggered=!1},50);var n=a.max,o=a.value;!0===isNaN(o)&&(o=0),n===o&&(a.max=n+1,a.value=n+1)}}}},{key:"_setElementValue",value:function(e,t,i){var a=this;e=a._cloneValue(e),a.setElementValue?(a.setElementValue(e,t,i),!0===t.supressChange&&(t.supressChange=!1)):"boolean"===a.type?t.checked=e:t.value=e}},{key:"_setMaxValuesOfScrollBars",value:function(e){var t=this;!t.showHorizontalScrollbar||void 0!==e&&"horizontal"!==e||(t.$.horizontalScrollbar.max=t._getMaxValuesOfScrollBars("horizontal")),!t.showVerticalScrollbar||void 0!==e&&"vertical"!==e||(t.$.verticalScrollbar.max=t._getMaxValuesOfScrollBars("vertical"))}},{key:"_showHorizontalScrollbar",value:function(e){var t=this;if(t.showHorizontalScrollbar=e,t._updateWidgetHeight("showHorizontalScrollbar"),!0===e){if(t.$horizontalScrollbarContainer.removeClass("jqx-hidden"),"none"!==t.type){var i=void 0;i="LabVIEW"===t.arrayIndexingMode?t.dimensions-1:0,t._syncScrollbar(0,t._coordinates[i])}}else t.$horizontalScrollbarContainer.addClass("jqx-hidden")}},{key:"_showVerticalScrollbar",value:function(e){var t=this;if(t.showVerticalScrollbar=e,t._updateWidgetWidth(!0),!0===e){if(t.$verticalScrollbarContainer.removeClass("jqx-hidden"),"none"!==t.type){var i=void 0;i=t._oneDimensionSpecialCase?0:"LabVIEW"===t.arrayIndexingMode?t.dimensions-2:1,t._syncScrollbar(1,t._coordinates[i])}}else t.$verticalScrollbarContainer.addClass("jqx-hidden")}},{key:"_syncScrollbar",value:function(e,t){var i=this,a=void 0,n=void 0;if(0===e&&!1===i._oneDimensionSpecialCase){if(!i.showHorizontalScrollbar)return;a=i._getMaxValuesOfScrollBars("horizontal"),n=i.$.horizontalScrollbar}else{if(!i.showVerticalScrollbar)return;a=i._getMaxValuesOfScrollBars("vertical"),n=i.$.verticalScrollbar}t>a&&(a=t);var o=n.max;o!==a&&(o>a&&(i._suppressScrollbarEvent=!0),n.max=a),n.value!==t&&(i._suppressScrollbarEvent=!0,n.value=t)}},{key:"_updateValue",value:function(e,t,i){var a=this,n=a._getValueInCell(e,t);if(a._areDifferent(i,n)){var o=a._coordinates,r=o.slice(0),l=[];"LabVIEW"===a.arrayIndexingMode?(r[r.length-1]+=t,r[r.length-2]+=e):(r[0]+=t,r[1]+=e);for(var s=0;s<a.dimensions;s++)0===s?!1===a._oneDimensionSpecialCase?l.push(r[0]):l.push(e+o[0]):1===s?l.push(r[1]):l.push(r[s]);for(var d=a.value,u=0;u<l.length;u++)void 0!==d[l[u]]&&d[l[u]]!==n||(u!==l.length-1?d[l[u]]=[]:d[l[u]]=i),d=d[l[u]];a._fillValueArray(l.slice(0)),a.$.fireEvent("change",{value:i,oldValue:n,dimensionIndexes:l})}}},{key:"_updateWidgetHeight",value:function(e){var t=this,i=t.showHorizontalScrollbar?20:0,a=void 0,n=void 0;if(t.showIndexDisplay){var o=parseInt(window.getComputedStyle(t._indexers[0]).marginBottom,10);n=t.dimensions*(t.indexerHeight+o)-o}else n=0;if("none"!==t.type)a=t.$.mainContainer.offsetHeight+i;else{if("showHorizontalScrollbar"===e){var r=t.$.bigContainer.offsetHeight;a=!0===t.showHorizontalScrollbar?r+20:r-20}else a="showIndexDisplay"===e&&!1===t.showIndexDisplay||"dimensions"===e?t.$.bigContainer.offsetHeight:t.offsetHeight;var l=18+i;a<l&&(a=l),t.$.mainContainer.style.height=a-i+"px"}t.$.verticalScrollbarContainer.style.height=a-i+"px",t.$.bigContainer.style.height=a+"px";var s=window.getComputedStyle(t);t._cachedHeight=Math.max(n,a)+parseInt(s.borderTopWidth,10)+parseInt(s.borderBottomWidth,10),"none"!==t.type&&(t.style.minHeight=t._cachedHeight+"px",t.style.maxHeight=t._cachedHeight+"px"),t.style.height=t._cachedHeight+"px"}},{key:"_updateWidgetWidth",value:function(e){var t=this,i=t.showVerticalScrollbar?20:0,a=t.showIndexDisplay?t.indexerWidth:0,n=parseInt(window.getComputedStyle(t.$.bigContainer).marginLeft,10),o=void 0,r=void 0,l=void 0;if("none"!==t.type)o=t.$.centralContainer.offsetWidth,r=o+i,l=r+a+n;else{l=t.offsetWidth,!0===e&&(!0===t.showVerticalScrollbar?l+=20:l-=20);var s=a+18+i;l<s&&(l=s),r=l-a-n,o=r-i,t.$.centralContainer.style.width=o+"px"}t.$.bigContainer.style.width=r+"px";var d=window.getComputedStyle(t);l+=parseInt(d.borderLeftWidth,10)+parseInt(d.borderRightWidth,10),t.style.width=l+"px",t._cachedWidth=l}},{key:"_validateProperties",value:function(){var e=this;e._oneDimensionSpecialCase=!1,"none"===e.type?(e.rows=1,e.columns=1):(e.rows<1&&(e.rows=1),e.columns<1&&(e.columns=1)),(e.dimensions<1||e.dimensions>32)&&(e.dimensions=1),1===e.dimensions&&(e.columns>1?(e.rows=1,!0===e.showVerticalScrollbar&&(e.showVerticalScrollbar=!1)):1!==e.rows?(e._oneDimensionSpecialCase=!0,!0===e.showHorizontalScrollbar&&(e.showHorizontalScrollbar=!1)):1===e.columns&&1===e.rows&&!0===e.showVerticalScrollbar&&(e.showVerticalScrollbar=!1)),e._validateValue(),e.showIndexDisplay&&e.$indexerContainer.removeClass("jqx-hidden"),e.$.indexerContainer.style.width=e.indexerWidth+"px",e.showHorizontalScrollbar&&e.$horizontalScrollbarContainer.removeClass("jqx-hidden"),e.showVerticalScrollbar&&e.$verticalScrollbarContainer.removeClass("jqx-hidden")}},{key:"_validateValue",value:function(){var e=this;"none"===e.type?e.value=null:null===e.value||void 0===e.value?e.value=e._returnEmptyArray():e._validateValueArrayDimensions()}},{key:"_validateValueArrayDimensions",value:function(){for(var e=this,t=0,i=e.value,a=!1;i.constructor===Array;)if(t++,void 0===(i=i[0])){a=!0;break}if(e.dimensions>t){if(a)return void(e.value=e._returnEmptyArray());for(;e.dimensions>t;)e._addDimensionToJSArray(t),t++}}}],[{
key:"properties",get:function(){return{arrayIndexingMode:{value:"LabVIEW",allowedValues:["LabVIEW","JavaScript"],type:"string"},changeProperty:{value:null,type:"function?"},columns:{value:1,type:"number"},customWidgetDefaultValue:{value:null,type:"any?"},dimensions:{value:1,type:"number"},elementHeight:{value:25,type:"number"},elementTemplate:{value:null,type:"function?"},elementWidth:{value:75,type:"number"},getElementValue:{value:null,type:"function?"},indexerHeight:{value:25,type:"number"},indexerWidth:{value:50,type:"number"},messages:{value:{en:{callbackFunctionRequired:"jqx-array: When \"type\" is 'custom', the {{callback}} callback function has to be implemented."}},type:"object",extend:!0},rows:{value:1,type:"number"},setElementValue:{value:null,type:"function?"},showHorizontalScrollbar:{value:!1,type:"boolean"},showIndexDisplay:{value:!1,type:"boolean"},showSelection:{value:!1,type:"boolean"},showVerticalScrollbar:{value:!1,type:"boolean"},type:{value:"none",allowedValues:["none","boolean","numeric","string","custom"],type:"string"},value:{value:null,type:"array?",reflectToAttribute:!1}}}},{key:"listeners",get:function(){return{resize:"_resizeHandler","horizontalScrollbar.change":"_scrollbarChangeHandler","horizontalScrollbar.click":"_scrollbarClickHandler","verticalScrollbar.change":"_scrollbarChangeHandler","verticalScrollbar.click":"_scrollbarClickHandler"}}},{key:"requires",get:function(){return{"JQX.NumericTextBox":"jqxnumerictextbox.js","JQX.ScrollBar":"jqxscrollbar.js","JQX.SwitchButton":"jqxswitchbutton.js","JQX.TextBox":"jqxtextbox.js"}}}]),t}(JQX.BaseElement)),JQX("jqx-calendar",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="title" class="jqx-calendar-title">\n                        <div id="yearContainer" class="jqx-calendar-year-container"></div>\n                        <div id="dateContainer" class="jqx-calendar-date-container jqx-calendar-selected"></div>\n                    </div>\n                    <div id="calendarContainer" class="jqx-calendar-container">\n                        <div id="header" class="jqx-calendar-header">\n                            <jqx-repeat-button prev-month class="jqx-calendar-button" id="previousMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]">\n                                <div class="jqx-arrow">&#xe809</div>\n                            </jqx-repeat-button>\n                            <div id="dateElement" class="jqx-calendar-date-element">\n                                <div id="defaultHeaderDate"></div>\n                                <div id="classicHeaderDate">\n                                    <jqx-drop-down-list class="jqx-calendar-month-element" id="monthElement" drop-down-position="bottom" selection-mode="one" disabled="[[disabled]]" readonly="[[readonly]]" drop-down-width="[[dropDownWidth]]" drop-down-height="[[dropDownHeight]]" theme="[[theme]]">\n                                    </jqx-drop-down-list>\n                                    <input class="jqx-calendar-year-element" id="yearElement" disabled="[[disabled]]" readonly="[[readonly]]"/>\n                                    <span class="jqx-calendar-year-elements">\n                                        <jqx-repeat-button next-year class="jqx-calendar-button" id="nextYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]">\n                                            <span class="jqx-arrow">&#xe801</span>\n                                        </jqx-repeat-button>\n                                        <jqx-repeat-button prev-year class="jqx-calendar-button" id="previousYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]">\n                                            <span class="jqx-arrow">&#xe804</span>\n                                        </jqx-repeat-button>\n                                    </span>\n                                </div>\n                            </div>\n                            <jqx-repeat-button next-month class="jqx-calendar-button" id="nextMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]">\n                                <div class="jqx-arrow">&#xe810</div>\n                            </jqx-repeat-button>\n                        </div>\n                        <div id="body" class="jqx-content jqx-calendar-body">\n                           <div id="monthsContainer" class="jqx-calendar-months-container">\n                              <div id="month" class="jqx-calendar-month">\n                                   <div id="monthName" class="jqx-calendar-month-name"></div>\n                                   <div id="weekTitles" class="jqx-calendar-week-titles">\n                                       <div class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                   </div>\n                                   <div id="weeks" class="jqx-calendar-weeks">\n                                        <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                        </div>\n                                        <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                   </div>\n                                </div>\n                            </div>\n                            <div id="dateViewContainer" class="jqx-calendar-date-view-container jqx-hidden">\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                            </div>\n                            <div id="monthsSeparator" class="jqx-calendar-month-separator"></div>\n                            <div id="nextMonthsContainer" class="jqx-calendar-next-months-container"></div>\n                            <jqx-list-box item-height="30" unfocusable id="listViewContainer" selection-mode="one" class="jqx-calendar-list-view jqx-hidden" animation="simple"></jqx-list-box>\n                            <div id="animationPanel" class="jqx-calendar-animation-panel jqx-hidden"></div>\n                        </div>\n                        <div id="footer" class="jqx-calendar-footer jqx-hidden">\n                            <div id="selectedDatesRange"></div>\n                        </div>\n                        <jqx-tooltip id="tooltip" open-mode="manual" arrow\n                                   tooltip-template="[[tooltipTemplate]]"\n                                   position="[[tooltipPosition]]"\n                                   delay="[[tooltipDelay]]"\n                                   disabled="[[disabled]]">\n                         </jqx-tooltip>\n                        <input id="hiddenInput" type="hidden" name="[[name]]">\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"animationSettings":n._applyAnimationSettings();break;case"disabled":case"unfocusable":n._setFocusable();break;case"calendarMode":n.displayMode="month",n._refreshCalendarMode(),n._setDisplayModeContent();break;case"dayNameFormat":n._refreshDayOfWeekTitles(n.$.month);break;case"dateFormatFunction":for(var o=n.$.monthsContainer.children,r=0;r<o.length;r++)o[r].firstElementChild.innerHTML=a?a(o[r]._date):n._monthsNames[o[r]._date.getMonth()]+" "+o[r]._date.toLocaleDateString(n.locale,{year:n.yearFormat});n._refreshHeaderTitle();break;case"displayMode":n._setDisplayMode(i,a);break;case"displayModeView":n._applyAnimationSettings(!0),"month"!==n.displayMode&&n._setDisplayModeContent();break;case"firstDayOfWeek":n._handleMonths(),n._refreshDayOfWeekTitles();break;case"hideTooltipArrow":n.$.tooltip.arrow=!a;break;case"titleTemplate":case"headerTemplate":case"footerTemplate":n._handleLayoutTemplate(n.$[e.split(/[T]/)[0]],a),"titleTemplate"===e?n._refreshTitle():"headerTemplate"===e?n._refreshHeaderTitle():n._refreshFooter();break;case"importantDates":n.importantDates=n._getValidDates(a),n._refreshImportantDates();break;case"importantDatesTemplate":n._handleImportantDateTemplate(),n._refreshImportantDates();break;case"locale":n._refreshMonthNames(),n._refreshDayOfWeekTitles(),n._refreshHeaderTitle(),n._refreshTitle(),n._refreshFooter(),n.displayMode&&"month"!==n.displayMode&&n._setDisplayModeContent();break;case"max":case"min":n._validateMinMax(e,a,i),n._validateSelectedDates(),n._noFocusingRequired=!1,n._refreshHeaderElements();break;case"months":n._handleMonths();break;case"monthNameFormat":n._refreshCalendarMode(),n._refreshHeaderTitle();break;case"restrictedDates":n._setRestrictedDates(n.restrictedDates=n._getValidDates(a));break;case"rightToLeft":n._refreshDayOfWeekTitles(),n._handleMonths();break;case"scrollButtonsNavigationMode":n._setScrollButtonsNavigationMode();break;case"selectedDates":if(n._clearSelection(!0),n._validateSelectedDates(n._getValidDates(a)),n._applySelectionMode(!0),n._viewDates){var l=n.selectedDates[n.selectedDates.length-1];n._isDateInView(l)?n.selectedDates.map(function(e){return n._selectDate(e,!0,!0)}):n._handleMonths(l)}n._refreshFooter(),n._setWeeksVisibility(n.$.monthsContainer),n.$.hiddenInput.value=n.selectedDates.toString(),n.$.fireEvent("change",{value:n.selectedDates}),n._refreshTitle();break;case"selectionMode":n._applySelectionMode(),n._refreshTitle();break;case"view":n._refreshTitle();break;case"viewSections":a.indexOf("title")>-1?n.$title.removeClass("jqx-hidden"):n.$title.addClass("jqx-hidden"),n._refreshTitle(),a.indexOf("header")>-1?n.$header.removeClass("jqx-hidden"):n.$header.addClass("jqx-hidden"),n._refreshHeaderTitle(),a.indexOf("footer")>-1?n.$footer.removeClass("jqx-hidden"):n.$footer.addClass("jqx-hidden"),n._refreshFooter(),n._setFocusable();break;case"weeks":n._setWeeksVisibility(n.$.monthsContainer);break;case"yearFormat":if(n._refreshCalendarMode(),n._refreshFooter(),n.months>1&&"month"===n.displayMode)for(var s=n._animationStarted?n.$.nextMonthsContainer.children:n.$.monthsContainer.children,d=0;d<s.length;d++)s[d].firstElementChild.innerHTML=n.dateFormatFunction?n.dateFormatFunction(s[d]._date):n._monthsNames[s[d]._date.getMonth()]+" "+s[d]._date.toLocaleDateString(n.locale,{year:a});n._refreshTitle(),n._refreshHeaderTitle()}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._keysPressed={},e._applyAnimationSettings(),e.importantDates=e._getValidDates(e.importantDates),e.restrictedDates=e._getValidDates(e.restrictedDates),e._refreshMonthNames(),e._validateMinMax(),e._validateSelectedDates(e._getValidDates(e.selectedDates)),e._handleLayoutTemplate(e.$.title,e.titleTemplate),e._handleLayoutTemplate(e.$.header,e.headerTemplate),e._handleLayoutTemplate(e.$.footer,e.footerTemplate),e._handleImportantDateTemplate(),e._setFocusable(),e._refreshDayOfWeekTitles(),e._applySelectionMode(!0),e._handleMonths(0===e.selectedDates.length?new Date((new Date).setHours(0,0,0,0)):e.selectedDates[e.selectedDates.length-1]),e._updateViewSectionsVisibility(),e._setScrollButtonsNavigationMode(),e._refreshCalendarMode(),e._setDisplayMode(),e._refreshTitle(),e._refreshFooter(),e._refreshImportantDates(),e.$.monthElement&&e.$.monthElement._setDropDownSize(),e._changeEventFired=0}},{key:"_updateViewSectionsVisibility",value:function(){var e=this;e.viewSections.indexOf("title")>-1?e.$title.removeClass("jqx-hidden"):e.$title.addClass("jqx-hidden"),e.viewSections.indexOf("header")>-1?e.$header.removeClass("jqx-hidden"):e.$header.addClass("jqx-hidden"),e.viewSections.indexOf("footer")>-1?e.$footer.removeClass("jqx-hidden"):e.$footer.addClass("jqx-hidden")}},{key:"clearSelection",value:function(){this._clearSelection()}},{key:"_setFocusable",value:function(){function e(e,t){if(t)return e&&e instanceof t?("function"==typeof e._setFocusable&&e.isCompleted?e.unfocusable=i<=-1:e.setAttribute("tabindex",i),e):void 0}var t=this,i=t.tabIndex>0?t.tabIndex:0;(t.disabled||t.unfocusable)&&(i=-1),t.$.previousMonthButton=e(t.$.previousMonthButton,JQX.Button),t.$.nextMonthButton=e(t.$.nextMonthButton,JQX.Button),t.$.nextYearButton=e(t.$.nextYearButton,JQX.Button),t.$.previousYearButton=e(t.$.previousYearButton,JQX.Button),t.$.monthElement=e(t.$.monthElement,JQX.DropDownList),t.$.yearElement=e(t.$.yearElement,HTMLInputElement),t.viewSections.indexOf("title")>-1&&(t.$.dateContainer.setAttribute("tabindex",i),t.$.yearContainer.setAttribute("tabindex",i)),t.$.body.setAttribute("tabindex",i),"default"===t.calendarMode?t.$.dateElement.setAttribute("tabindex",i):t.$.dateElement.removeAttribute("tabindex"),t.tabIndex=t.readonly&&!t.disabled?t.tabIndex>0?t.tabIndex:0:i}},{key:"navigate",value:function(e){var t=this;if(e=parseInt(e),isNaN(e)||0===e)return!1;var i=t._getNextDate(e);return!!i&&("month"!==t.displayMode?(t.hasAnimation?(t.$nextMonthsContainer.addClass("jqx-calendar-date-view-container"),"list"===t.displayModeView?t._setDisplayModeContent(i):t._navigationDate&&t._navigationDate.getTime()===i.getTime()||t._animateNavigation(i,e)):t._setDisplayModeContent(i),!0):(t.hasAnimation?(t._animateNavigation(i,e),t.$nextMonthsContainer.hasClass("jqx-date-view-container")&&t.$nextMonthsContainer.removeClass("jqx-date-view-container")):(t._handleMonths(i),t._refreshHeaderElements(),t._refreshHeaderTitle()),!0))}},{key:"select",value:function(e){var t=this;void 0!==t._viewDates[0]&&"none"!==t.selectionMode&&e&&(e=t._getValidDate(e))instanceof Date&&("one"===t.selectionMode&&t.selectedDates.map(Number).indexOf(e.getTime())>-1||e.getTime()<t.min.getTime()||e.getTime()>t.max.getTime()||("one"!==t.selectionMode&&"default"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._clearSelection(!0),t._selectDate(e),1!==t.selectedDates.length||t._isDateInView(t.selectedDates[0])||t._handleMonths(t.selectedDates[0])))}},{key:"today",value:function(){var e=this,t=new Date;return t.setHours(0,0,0,0),t.getTime()<e.min.getTime()||t.getTime()>e.max.getTime()?t=new Date(e.max):e.selectedDates=[t],e._handleMonths(t),t}},{key:"_animateNavigation",value:function(e,t,i){function a(){var e=t>0?n.$.body[n._animationSettings.scrollSize]>=r:0===n.$.body[n._animationSettings.scrollSize],i=n._scrollStep/2;if(e)return void n._animateNavigationCompleted();t>0&&n.$.body[n._animationSettings.scrollSize]>r*n._animationSettings.easeThreshold?(i=Math.max(n.$.body[n._animationSettings.scrollSize]/n._animationSettings.stepEaseSize,Math.abs(i-(r-n.$.body[n._animationSettings.scrollSize])*n._animationSettings.step)),n._scrollStep=n._scrollStep*n._animationSettings.step+i):t<0&&n.$.body[n._animationSettings.scrollSize]<r*n._animationSettings.easeThreshold&&(i=Math.max(n.$.body[n._animationSettings.scrollMax]/n._animationSettings.stepEaseSize,Math.abs(i-n.$.body[n._animationSettings.scrollSize]*n._animationSettings.step)),n._scrollStep=n._scrollStep*n._animationSettings.step+i),n.$.body[n._animationSettings.scrollSize]+=t>0?n._scrollStep:-n._scrollStep,n._animationId=requestAnimationFrame(a)}var n=this;n._navigationDate=e,n._animationSettings||n._applyAnimationSettings(),n.$animationPanel.addClass("jqx-hidden"),n.$.dateViewContainer.style.transform="",n.$.dateViewContainer.style.opacity="",n.$.monthsContainer.style.transform="",n.$.monthsContainer.style.opacity="";var o="month"!==n.displayMode?n.$.dateViewContainer:n.$.monthsContainer,r=n.$.body[n._animationSettings.scrollMax]-n.$.body[n._animationSettings.size];n._scrollStep=n.$.body[n._animationSettings.size]*n._animationSettings.startSpeed,n._animationStarted=!0,"month"!==n.displayMode?(n._setCellState(n._focusedCell,"focus",!1),n._setDisplayModeContent(e,n.$.nextMonthsContainer)):n._handleMonths(e,n.$.nextMonthsContainer),i||(t>0?(o.style.order=1,n.$.nextMonthsContainer.style.order=3,(!n._animationStarted||n._animationStarted&&n.$.body[n._animationSettings.scrollSize]>n.$.body[n._animationSettings.scrollMax]*n._animationSettings.resetThreshold*2)&&(n.$.body[n._animationSettings.scrollSize]=0)):(o.style.order=3,n.$.nextMonthsContainer.style.order=1,(!n._animationStarted||n._animationStarted&&n.$.body[n._animationSettings.scrollSize]<n.$.body[n._animationSettings.scrollMax]*n._animationSettings.resetThreshold)&&(n.$.body[n._animationSettings.scrollSize]=n.$.body[n._animationSettings.scrollMax]))),cancelAnimationFrame(n._animationId),n._animationId=requestAnimationFrame(a)}},{key:"_animateNavigationCompleted",value:function(){var e=this,t="month"!==e.displayMode?e.$.dateViewContainer:e.$.monthsContainer,i=void 0,a=void 0,n=void 0;if(cancelAnimationFrame(e._animationId),"month"!==e.displayMode){var o=[].slice.call(t.children).indexOf(e._focusedCell);t.innerHTML=e.$.nextMonthsContainer.innerHTML;var r=t.children[o],l=void 0;a=t.children,n=e.$.nextMonthsContainer.children;for(var s=0;s<a.length;s++)a[s].value=n[s].value,a[s].restricted=n[s].restricted,a[s].important=n[s].important,a[s].otherMonth=n[s].otherMonth,a[s].value.getTime()<=e.max.getTime()&&(l=a[s]);i=r&&r.value.getTime()>=e.max.getTime()?l.value:e._focusedCell?e._focusedCell.value:void 0}else{for(var d=t.children,u=e.$.nextMonthsContainer.children,c=0;c<d.length;c++){d[c]._date=u[c]._date,d[c].innerHTML=u[c].innerHTML,a=e._getMonthCells(d[c]),n=e._getMonthCells(u[c]);for(var p=0;p<a.length;p++)a[p].value=n[p].value,a[p].restricted=n[p].restricted,a[p].important=n[p].important,a[p].otherMonth=n[p].otherMonth}e._selectedCells.length>0&&(e._selectedCells=e._selectedCells.map(function(t){return t=e._getCellByDate(t.value)}).filter(function(e){return void 0!==e}))}e._focusCell(e._getCellByDate(i)),t.style.order=1,e.$.nextMonthsContainer.style.order=3,e.$.body[e._animationSettings.scrollSize]=0,e._animationStarted=!1,delete e._navigationDate}},{key:"_applyAnimationSettings",value:function(e){var t=this;if(!t.hasAnimation)return void delete t._animationSettings;t._animationSettings=t.animationSettings?t.animationSettings:t._animationSettings?t._animationSettings:{},"portrait"===t.scrollButtonsNavigationMode?(t._animationSettings.scrollMax="scrollHeight",t._animationSettings.size="offsetHeight",t._animationSettings.scrollSize="scrollTop"):(t._animationSettings.scrollMax="scrollWidth",t._animationSettings.size="offsetWidth",t._animationSettings.scrollSize="scrollLeft"),e||(t._animationSettings.startSpeed=t._animationSettings.startSpeed?t._animationSettings.startSpeed:.2,t._animationSettings.easeThreshold=t._animationSettings.easeThreshold?t._animationSettings.easeThreshold:.5,t._animationSettings.step=t._animationSettings.step?t._animationSettings.step:.25,t._animationSettings.stepEaseSize=t._animationSettings.stepEaseSize?t._animationSettings.stepEaseSize:200,t._animationSettings.resetThreshold=t._animationSettings.resetThreshold?t._animationSettings.resetThreshold:.2)}},{key:"_applySelectionMode",value:function(e){var t=this,i=[],a=!!e;switch(t.selectionMode){case"none":return void t._clearSelection(a);case"many":case"default":case"oneOrMany":if(0===t.selectedDates.length){i.push(new Date(Math.min(Math.max(t.min.getTime(),(new Date).setHours(0,0,0,0)),t.max.getTime())));break}return;case"one":if(1===t.selectedDates.length)return;t.selectedDates.length>1?(i.push(t.selectedDates[t.selectedDates.length-1]),t._clearSelection(a)):i.push(new Date(Math.min(Math.max(t.min.getTime(),(new Date).setHours(0,0,0,0)),t.max.getTime())));break;case"zeroOrOne":if(t.selectedDates.length>1){i.push(t.selectedDates[t.selectedDates.length-1]),t._clearSelection(a);break}return;case"zeroOrMany":return;case"week":if(t.selectedDates.length>=1){for(var n=t.selectedDates[t.selectedDates.length-1],o=0;o<8;o++)i.push(new Date(n)),n.setDate(n.getDate()+1);t._clearSelection(a)}}if(t.selectedDates=[],e)return void(t.selectedDates=i);for(var r=i.length,l=0;l<r;l++)t._selectDate(i[l],l<r-1)}},{key:"_clearSelection",value:function(e){var t=this;if(t._selectedCells&&t._selectedCells.map(function(e){t._setCellState(e,"selected",!1)}),t.selectedDates=[],t._selectedCells=[],"many"===t.selectionMode)for(var i=t.$.monthsContainer.children,a=0;a<i.length;a++)t._getMonthCells(i[a]).map(function(e){t._setCellState(e,"hover",!1)});t._refreshFooter(),t.$.hiddenInput.value=t.selectedDates.toString(),e||t.$.fireEvent("change",{value:[]}),t._refreshTitle()}},{key:"_bodyBlurStateHandler",value:function(e){this._bodyStateHandler(e)}},{key:"_bodyFocusStateHandler",value:function(e){this._bodyStateHandler(e)}},{key:"_bodyStateHandler",value:function(e){var t=this;if(t._focusedCell){if("blur"===e.type||"focus"===e.type&&t._noFocusingRequired)return t._noFocusingRequired=!1,void t._setCellState(t._focusedCell,"focus",!1);if("month"!==t.displayMode)return void("focus"!==e.type||t.$.dateViewContainer.querySelector("jqx-calendar-cell[focus]")||t._setCellState(t._focusedCell||t.$.dateViewContainer.querySelector(".jqx-calendar-cell"),"focus",!0))}"focus"===e.type&&t._focusCell()}},{key:"_containerWheelHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var i=void 0,a=void 0,n=void 0;n=a=document.activeElement,t.enableShadowDOM&&(n=t.shadowRoot.activeElement,n?a=n?t.shadowRoot.getRootNode().host:void 0:(n=function(){for(var e=t.shadowRoot;e&&e.host;){if(e.activeElement)return e.activeElement;e=e.host.getRootNode()}}(),a=n?n.closest("jqx-calendar"):void 0)),t.$.yearElement===n&&(i=12),a&&a.closest("jqx-calendar")===t&&(i=e.target===t.$.yearElement?12:1),i&&(e.preventDefault(),i=12===i?i:i*t.months,e.deltaY>0?t.navigate(-i):t.navigate(i))}}},{key:"_downHandler",value:function(e){var t=this,i=e.originalEvent.target;if(t._dragStartDetails=void 0,!t.disabled&&!t.readonly){if(t.hasRippleAnimation&&(i.value instanceof Date||i.parentElement&&i.parentElement.classList.contains("jqx-calendar-title")||i.parentElement===t.$.dateElement)&&JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i=e.originalEvent.target.closest(".jqx-calendar-header"),e.originalEvent.target.closest(".jqx-calendar-year-container")&&"decade"!==t.displayMode){if("classic"===t.calendarMode)return;return void t._showDateView("year")}if(e.originalEvent.target.closest(".jqx-calendar-date-container")&&"month"!==t.displayMode){if("classic"===t.calendarMode)return;return void t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell,"month")}if(t._animationStarted&&t._animateNavigationCompleted(),JQX.Utilities.Core.isMobile&&(!i||i!==t.$.header))return void(t._dragStartDetails={x:e.pageX,y:e.pageY,startTime:Date.now(),target:e.originalEvent.target});if(i=e.originalEvent.target,i.closest(".jqx-calendar-week")||i.parentElement===t.$.dateViewContainer){for(;i&&!(i.value instanceof Date);)i=i.parentElement;return void(i&&("month"!==t.displayMode?t._displayModeHandler(i):t._weeksDownHandler(e,i)))}if(!i.closest(".jqx-calendar-month-element")){if(e.originalEvent.stopPropagation(),"list"===t.displayModeView&&"month"!==t.displayMode)return void((i=(t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target).closest("jqx-list-item"))&&t._displayModeHandler(i));var a=document.scrollingElement||document.documentElement,n=a.scrollLeft,o=a.scrollTop;t.focus(),window.scrollTo(n,o)}}}},{key:"_displayModeHandler",value:function(e,t){var i=this;if(i._animationStarted&&i._animateNavigationCompleted(),e instanceof HTMLElement&&e.parentElement.classList.contains("jqx-calendar-week")&&e.otherMonth){if("decade"===i.displayMode&&(e.value.getFullYear()<i.min.getFullYear()||e.value.getFullYear()>i.max.getFullYear()))return;if("year"===i.displayMode&&(e.value.getFullYear()<i.min.getFullYear()||e.value.getFullYear()===i.min.getFullYear()&&e.value.getMonth()<i.min.getMonth()||e.value.getFullYear()>i.max.getFullYear()||e.value.getFullYear()===i.max.getFullYear()&&e.value.getMonth()>i.max.getMonth()))return}switch(t=t||i.displayMode){case"year":t="month";break;case"decade":t="year"}if(i.displayMode!==t){i.$.fireEvent("displayModeChanging",{oldDisplayMode:i.displayMode,newDisplayMode:t}).defaultPrevented||(i.displayMode=t,i.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),e.parentElement!==i.$.dateViewContainer||e.disabled||e.restricted||i._focusCell(e),i.hasAnimation?(e instanceof JQX.ListItem||e.ownerListBox===i.$.listViewContainer?e.offsetHeight?i.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.dataItem.top>0?e.offsetTop-e.offsetHeight/2:e.offsetTop+e.offsetHeight/2)+"px":i.$.animationPanel.style.transformOrigin=i.$.listViewContainer.offsetLeft+i.$.listViewContainer.offsetWidth/2+"px "+(i.$.listViewContainer.offsetTop+i.$.listViewContainer.offsetHeight/2)+"px":(e=i._focusedCell,i.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.offsetTop+e.offsetHeight/2)+"px"),i._animateView(1,e)):i._setDisplayModeContent(e.value instanceof Date?e.value:new Date(e.value)))}}},{key:"_animateView",value:function(e,t){function i(){if((e>0&&r>=3.5||e<0&&r<=0)&&(o=!0),o)return cancelAnimationFrame(a._animationId),a.$animationPanel.addClass("jqx-hidden"),a.$.animationPanel.style.transform="",a.$.animationPanel.style.opacity="",d.style.transform="",d.style.opacity="",void("month"===a.displayMode?a.$.body.focus():"list"===a.displayModeView&&a.focus());a.$.animationPanel.style.opacity=l,d.style.opacity=1-l,l-=.05,e>0?(a.$.animationPanel.style.transform="scale("+r+")",d.style.transform="scale("+Math.min((r-1)/2,1)+")",r+=.125):(a.$.animationPanel.style.transform="scale("+Math.max(r,0)+")",
d.style.transform="scale("+Math.max(1+r,1)+")",r-=.06),a._animationId=requestAnimationFrame(i)}var a=this,n=t instanceof Date?t:new Date(t.value),o=!1,r=1,l=1,s=void 0,d=void 0;if("list"===a.displayModeView?(s=t instanceof JQX.ListItem||t.ownerListBox===a.$.listViewContainer?a.$.listViewContainer:"month"!==a.displayMode?a.$.monthsContainer:a.$.listViewContainer,d="month"===a.displayMode?a.$.monthsContainer:a.$.listViewContainer):t.value instanceof Date||(t=a._focusedCell?a._focusedCell:a._selectedCells.length>0?a._selectedCells[a._selectedCells.length-1]:a._getCellByDate(new Date)),s||(s=t.parentElement===a.$.dateViewContainer?a.$.dateViewContainer:a.$.monthsContainer),d||(d="month"===a.displayMode?a.$.monthsContainer:a.$.dateViewContainer),d.style.transformOrigin=a.$.animationPanel.style.transformOrigin,s instanceof JQX.ListBox)for(a.$.animationPanel.innerHTML="",a.$.animationPanel.appendChild(s.cloneNode(!1));s.$.itemsInnerContainer.firstElementChild;)a.$.animationPanel.children[0].appendChild(s.$.itemsInnerContainer.firstElementChild);else a.$.animationPanel.innerHTML=s.innerHTML;if(a._setDisplayModeContent(n),a.$.animationPanel.style.width=a.$.body.offsetWidth+"px",a.$.animationPanel.style.height=a.$.body.offsetHeight+"px",a.$.animationPanel.style.transform="scale(1)",a.$.animationPanel.style.opacity=1,a.$animationPanel.removeClass("jqx-hidden"),d.style.opacity="0",d.style.transform="scale(3.5)",s.$.hasClass("jqx-calendar-date-view-container")?a.$animationPanel.addClass("jqx-calendar-date-view-container"):a.$animationPanel.removeClass("jqx-calendar-date-view-container"),s instanceof JQX.ListBox){var u=a.$.animationPanel.children[0];u.whenReady(function(){u._refreshLayout(),u.ensureVisible(u.selectedValues[0])})}cancelAnimationFrame(a._animationId),a._animationId=requestAnimationFrame(i)}},{key:"_documentUpHandler",value:function(e){var t=this;if(JQX.Utilities.Core.isMobile&&t._dragStartDetails){var i=Date.now(),a=e.originalEvent.target,n={};if("portrait"===t.scrollButtonsNavigationMode?(n.coordinate="y",n.direction="pageY"):(n.coordinate="x",n.direction="pageX"),Math.abs(t._dragStartDetails[n.coordinate]-e[n.direction])<=10){if(!(a="list"===t.displayModeView&&"month"!==t.displayMode?a.closest("jqx-list-item"):a))return void(t._dragStartDetails=void 0);if("month"!==t.displayMode)return t._displayModeHandler(a),"portrait"===t.scrollButtonsNavigationMode?t.$.body.scrollTop=0:t.$.body.scrollLeft=0,void(t._dragStartDetails=void 0);if(t._weeksDownHandler(e,a),!t.disableAutoNavigation&&a.otherMonth)return}else{var o=Math.abs((e[n.direction]-t._dragStartDetails[n.coordinate])/(i-t._dragStartDetails.startTime));if(o>1){for(var r=parseInt(o),l=0;l<r;l++)t.navigate(t._dragStartDetails.step);return void(t._dragStartDetails=void 0)}}if(!t.hasAnimation)return void(t._dragStartDetails=void 0);var s=("month"!==t.displayMode?t.$.dateViewContainer[t._animationSettings.scrollMax]:t.$.monthsContainer[t._animationSettings.scrollMax])+t.$.monthsSeparator[t._animationSettings.size];if(t._dragStartDetails.step>0&&t.$.body[t._animationSettings.scrollSize]>s*t._animationSettings.easeThreshold||t._dragStartDetails.step<0&&t.$.body[t._animationSettings.scrollSize]<s*t._animationSettings.easeThreshold)return t._animateNavigation(t._dragStartDetails.navigationDate,t._dragStartDetails.step,!0),void(t._dragStartDetails=void 0);t._animateMonthRepositioning(void 0,t._dragStartDetails.step),t._dragStartDetails=void 0}}},{key:"_animateMonthRepositioning",value:function(e,t){function i(){var e=t<0?a.$.body[a._animationSettings.scrollSize]>=o:0===a.$.body[a._animationSettings.scrollSize],r=a._scrollStep/2;if(e)return cancelAnimationFrame(a._animationId),n.style.order=1,a.$.nextMonthsContainer.style.order=3,a.$.body[a._animationSettings.scrollSize]=0,void(a._animationStarted=!1);t>0?(r=Math.max(a.$.body[a._animationSettings.scrollMax]/a._animationSettings.stepEaseSize,Math.abs(r-a.$.body[a._animationSettings.scrollSize]*a._animationSettings.step)),a._scrollStep=a._scrollStep*a._animationSettings.step+r):(r=Math.max(a.$.body[a._animationSettings.scrollMax]/a._animationSettings.stepEaseSize,Math.abs(r-(o-a.$.body[a._animationSettings.scrollSize])*a._animationSettings.step)),a._scrollStep=a._scrollStep*a._animationSettings.step+r),a.$.body[a._animationSettings.scrollSize]+=t<0?a._scrollStep:-a._scrollStep,a._animationId=requestAnimationFrame(i)}var a=this,n="month"!==a.displayMode?a.$.dateViewContainer:a.$.monthsContainer;a._animationSettings||a._applyAnimationSettings();var o=n[a._animationSettings.scrollMax]+a.$.monthsSeparator[a._animationSettings.size];a._scrollStep=a.$.body[a._animationSettings.size]*a._animationSettings.startSpeed,cancelAnimationFrame(a._animationId),a._animationId=requestAnimationFrame(i),a._animationStarted=!0}},{key:"_focusCell",value:function(e){var t=this;if(t._focusedCell&&t._setCellState(t._focusedCell,"focus",!1),!t.disabled&&!t.readonly){if(e){if("month"!==t.displayMode)return t._setCellState(e,"focus",!0),void(t._focusedCell=e);if(e.disabled||e.restricted)return;return t._setCellState(e,"focus",!0),t._focusedCell=e,void t._updateWeeksVisibility()}if("month"===t.displayMode||0!==t.$.monthsContainer.offsetHeight){if(t._selectedCells.length>0){var i=t._selectedCells[t._selectedCells.length-1];t._setCellState(i,"focus",!0),t._focusedCell=i}else{var a=t.$.monthsContainer.children;if(t.min.getTime<a[0]._date.getTime())return;for(var n=t._getMonthCells(a[0],t.rightToLeft),o=0;o<n.length;o++){var r=n[o];if(!r.otherMonth){if(r.disabled||r.restricted)continue;t._focusedCell=r;break}}}t._focusedCell&&(t._setCellState(t._focusedCell,"focus",!0),t._updateWeeksVisibility())}}}},{key:"_getDays",value:function(e,t){var i=t.length,a=[];if(i>0)for(var n=0;n<i;n++)t[n].getFullYear()===e.getFullYear()&&t[n].getMonth()===e.getMonth()&&a.push(t[n].getDate());return a}},{key:"_getCellByDate",value:function(e,t){var i=this;if(e instanceof Date)if(t||(t=i.$.monthsContainer),"month"===i.displayMode){for(var a=void 0,n=void 0,o=t.children,r=0;r<o.length;r++)if(e.getFullYear()===o[r]._date.getFullYear()&&e.getMonth()===o[r]._date.getMonth()){a=o[r];break}if(a){n=i._getMonthCells(a);for(var l=0;l<n.length;l++)if((!n[l].otherMonth||n[l].hover)&&n[l].value.getMonth()===e.getMonth()&&n[l].value.getDate()===e.getDate())return n[l]}}else{if("list"===i.displayModeView)return;for(var s=arguments[1]?i.$.nextMonthsContainer.children:i.$.dateViewContainer.children,d=0;d<s.length;d++)if("year"!==i.displayMode){if(s[d].value.getFullYear()===e.getFullYear())return s[d]}else if(s[d].value.getMonth()===e.getMonth())return s[d]}}},{key:"_getMonthCells",value:function(e,t){var i=e.getElementsByClassName("jqx-calendar-week"),a=[];if(t)for(var n=0;n<i.length;n++)for(var o=i[n].children,r=o.length-1;r>0;r--)a.push(o[r]);else for(var l=0;l<i.length;l++)for(var s=i[l].children,d=1;d<s.length;d++)a.push(s[d]);return a}},{key:"_getWeekNumber",value:function(e){var t=this,i=new Date(e.getFullYear(),0,1),a=Math.round((e.getTime()-i.getTime()-6e4*(e.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1,n=i.getDay()-t.firstDayOfWeek,o=void 0;return n=n>=0?n:n+7,n<4?(o=Math.floor((a+n-1)/7)+1)>52&&(i=new Date(e.getFullYear()+1,0,1),n=i.getDay()-t.firstDayOfWeek,n=n>=0?n:n+7,o=n<4?1:53):o=Math.round((a+n-1)/7),o}},{key:"_handleDateSelection",value:function(e){function t(e,t){if(i._clearSelection(!0),e.getTime()<t.value.getTime())for(;e.getTime()<=t.value.getTime();)i._selectDate(e,!0),e.setDate(e.getDate()+1);else if(e.getTime()>t.value.getTime())for(;e.getTime()>=t.value.getTime();)i._selectDate(e,!0),e.setDate(e.getDate()-1);else i._selectDate(t,!0);i.$.hiddenInput.value=i.selectedDates.toString(),i._refreshFooter(),i.$.fireEvent("change",{value:i.selectedDates}),i._refreshTitle()}var i=this;if(void 0!==e&&!e.disabled&&!e.restricted)switch(i.selectionMode){case"none":i._focusCell(e);break;case"one":case"default":if(i._keysPressed.Control)return i.selectedDates.length>1||1===i.selectedDates.length&&!e.selected?void i._selectDate(e.value):void i._focusCell(e);if(i._keysPressed.Shift)return void t(new Date(i.selectedDates[0]),e);i._clearSelection(!0),i._selectDate(e.value,i._selectedCells.indexOf(e.value)>-1);break;case"many":if(0===i.selectedDates.length)return void i._selectDate(e.value);var a=i.selectedDates[i.selectedDates.length-1],n=new Date(i.selectedDates[0]);if(e.value.getTime()===n.getTime()||e.value.getTime()===a.getTime())return i._clearSelection(),void i._focusCell(e);i.selectedDates.length>0&&t(n,e);break;case"zeroOrMany":i._selectDate(e.value);break;case"oneOrMany":if(1===i.selectedDates.length&&e.selected)return void i._focusCell(e);i._selectDate(e.value);break;case"zeroOrOne":if(1===i.selectedDates.length&&e.selected)return void i._selectDate(e.value);i._clearSelection(!0),i._selectDate(e.value);break;case"week":if(e.selected&&(e.value.getTime()===i.selectedDates[0].getTime()||e.value.getTime()===i.selectedDates[i.selectedDates.length-1].getTime()))return i._clearSelection(),void i._focusCell(e);i._clearSelection(!0);var o=new Date(e.value);i._selectDate(o);for(var r=1;r<8;r++)o.setDate(o.getDate()+1,r<7),i._selectDate(o);i._isDateInView(o)||i.navigate(1)}}},{key:"_handleImportantDateTemplate",value:function(){var e=this;if(e._importantDatesTemplate=e._validateTemplate("importantDatesTemplate",e.importantDatesTemplate),e._importantDatesTemplate&&e._importantDatesTemplate.content){var t=e._importantDatesTemplate.content,i=t.childNodes.length,a=/{{\w+}}/g,n=void 0;e._bindingDetails=[];for(var o=0;o<i;o++)if(n=a.exec(t.childNodes[o].innerHTML))return void e._bindingDetails.push({childNodeIndex:o,bindingString:n[0]})}}},{key:"_handleLayoutTemplate",value:function(e,t){var i=this,a=i._validateTemplate(e.$.hasClass("jqx-header")?"headerTemplate":e.$.hasClass("jqx-calendar-footer")?"footerTemplate":"titleTemplate",t);if(!a||!a.content)return void("function"==typeof t&&t(e,{}));i._layoutTemplates||(i._layoutTemplates=[]);var n=document.importNode(a.content,!0);e.innerHTML="";for(var o=n.childNodes.length,r=/{{\w+}}/g,l=void 0,s=[],d=0;d<o;d++)(l=r.exec(n.childNodes[d].innerHTML))&&s.push({childNodeIndex:d,bindingString:l[0]});if(i._layoutTemplates=i._layoutTemplates.filter(function(t){return t.selector!==e}),i._layoutTemplates.push({selector:e,template:a,bindings:s}),i.enableShadowDOM)return e.innerHTML="<slot></slot>",void i.appendChild(n);e.appendChild(n)}},{key:"_handleCalendarCellHover",value:function(e,t){var i=this;if(!i._animationStarted){if("month"===i.displayMode)if("mouseover"===e.type&&"many"===i.selectionMode&&i.selectedDates.length>0){for(var a=i.$.monthsContainer.children,n=0;n<a.length;n++)i._getMonthCells(a[n]).map(function(e){i._setCellState(e,"hover",!1)});var o=new Date(i.selectedDates[0]),r=new Date(t.value),l=t,s=o.getTime()>r.getTime()?-1:1,d=function(){!(l=i._getCellByDate(o,i.$.monthsContainer))||l.selected||l.restricted||i._setCellState(l,"hover",!0)};if(o.getTime()!==r.getTime()){for(o.setDate(o.getDate()+s);o.getTime()!==r.getTime();)d(),o.setDate(o.getDate()+s);d()}}else i._setCellState(t,"hover",!1);"mouseover"!==e.type||t.otherMonth?i._setCellState(t,"hover",!1):i._setCellState(t,"hover",!0)}}},{key:"_handleMonths",value:function(e,t){function i(e){var t=void 0,i=e.children.length,a=document.createDocumentFragment();for(i;i<n.months;i++)t=n.$.month.cloneNode(!1),t.innerHTML=n.$.month.innerHTML,a.appendChild(t);return a}function a(t){for(var i=t.children,a=0;a<i.length;a++)n._setMonth(e,i[a]),e.setMonth(e.getMonth()+1);n._setWeeksVisibility(t),n._refreshHeaderElements(),n._refreshHeaderTitle(),n.tooltip&&n.$.tooltip.close(),n.$.body===document.activeElement&&n._focusCell()}var n=this,o=void 0;if(e||(e=n._viewDates&&n._viewDates.length>0?n._viewDates[0]:new Date),e=new Date(Math.min(Math.max(n.min.getTime(),e.getTime()),n.max.getTime())),t||(t=n.$.monthsContainer),n._selectedCells=[],n.hasAnimation){for(o=n.$.nextMonthsContainer.children,o.length>0&&o[0].value instanceof Date&&(n.$.nextMonthsContainer.innerHTML="");n.$.nextMonthsContainer.childElementCount<n.months;)n.$.nextMonthsContainer.appendChild(i(n.$.nextMonthsContainer));for(;n.$.nextMonthsContainer.childElementCount>n.months;)n.$.nextMonthsContainer.removeChild(o[n.$.nextMonthsContainer.childElementCount-1]);if(arguments[1]===n.$.nextMonthsContainer)return void a(n.$.nextMonthsContainer)}if(o=n.$.monthsContainer.children,o.length>n.months){for(;n.$.monthsContainer.childElementCount>n.months;)n.$.monthsContainer.removeChild(o[n.$.monthsContainer.childElementCount-1]),n._viewDates.pop();return void a(n.$.monthsContainer)}if(n.$.monthsContainer.children.length===n.months)return void a(n.$.monthsContainer);n._viewDates=[],n.$.monthsContainer.appendChild(i(n.$.monthsContainer)),a(n.$.monthsContainer)}},{key:"_headerChangeHandler",value:function(e){var t=this;if(e.stopPropagation(),!t.disabled&&!t.readonly){if(e.target.ownerElement===t.$.monthElement&&0!==t._changeEventFired)return void t._changeEventFired--;e.target===t.$.yearElement&&(t._viewDates[0].setFullYear(Math.min(Math.max(t.min.getFullYear(),isNaN(parseInt(t.$.yearElement.value))?0:parseInt(t.$.yearElement.value)),t.max.getFullYear())),t._handleMonths(t._viewDates[0])),!t.$.monthElement||e.target!==t.$.monthElement&&e.target.ownerElement!==t.$.monthElement||t._handleMonths(new Date(t.$.monthsContainer.children[0]._date.getFullYear(),t.$.monthElement.selectedIndexes[0],1))}}},{key:"_headerClickHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var i=e.target.closest("jqx-repeat-button");if(!i||!i.disabled){switch(i){case t.$.previousMonthButton:return t._isInteractiveNavigation=!0,void t.navigate(-1*t.months);case t.$.nextMonthButton:return t._isInteractiveNavigation=!0,void t.navigate(1*t.months);case t.$.previousYearButton:return void t.navigate(-12);case t.$.nextYearButton:return void t.navigate(12)}if("classic"===t.calendarMode)return void(t.displayMode="month");e.target.closest(".jqx-calendar-date-element")&&(t._animationStarted&&t._animateNavigationCompleted(),t._isInteractiveNavigation=!0,t._showDateView())}}}},{key:"_setDisplayMode",value:function(e,t,i){var a=this;if(a.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),0===arguments.length||!a.hasAnimation){if("classic"===a.calendarMode)return void(a.displayMode="month");if("month"!==a.displayMode&&(a.$monthsContainer.addClass("jqx-hidden"),a.$dateViewContainer.hasClass("jqx-hidden")&&a.$dateViewContainer.removeClass("jqx-hidden")),!a.isCompleted&&"month"===a.displayMode)return;return void a._setDisplayModeContent()}if(a._animationStarted&&(a.displayMode=e,a._animateNavigationCompleted(),a.displayMode=t),"month"===e&&"year"===t||"year"===e&&"decade"===t)a.displayMode=e,a._showDateView(i?void 0:a.displayMode);else if("month"===e&&"decade"===t)a._showDateView(a.displayMode="year");else{var n=void 0;"list"===a.displayModeView?(n=(a.$.listViewContainer.enableShadowDOM?a.$.listViewContainer.shadowRoot:a.$.listViewContainer).querySelector("jqx-list-item[selected]"),a.$.animationPanel.style.transformOrigin=n.offsetLeft+n.offsetWidth/2+"px "+(n.dataItem.top>0?n.offsetTop-n.offsetHeight/2:n.offsetTop+n.offsetHeight/2)+"px"):(n=a._focusedCell,a.$.animationPanel.style.transformOrigin=n.offsetLeft+n.offsetWidth/2+"px "+(n.offsetTop+n.offsetHeight/2)+"px"),a._animateView(1,n)}}},{key:"_setDisplayModeContent",value:function(e,t){var i=this,a=e&&"Invalid Date"!==e.toString()?e:i.selectedDates.length>0?i.selectedDates[i.selectedDates.length-1]:new Date;a.setTime(Math.min(Math.max(a.getTime(),i.min.getTime()),i.max.getTime())),a.setHours(0,0,0,0);var n=i._prepareView(a);if(n){var o=void 0;t?(i.$.nextMonthsContainer.innerHTML=i.$.dateViewContainer.innerHTML,o=i.$.nextMonthsContainer):o=i.$.dateViewContainer;for(var r=o.children,l=void 0,s=0;s<r.length;s++){var d=r[s];d.innerHTML=n.viewContent[s],d.value=n.dates[s],"year"===i.displayMode?(d.value.getFullYear()<i.min.getFullYear()||d.value.getFullYear()===i.min.getFullYear()&&d.value.getMonth()<i.min.getMonth()||d.value.getFullYear()>i.max.getFullYear()||d.value.getFullYear()===i.max.getFullYear()&&d.value.getMonth()>i.max.getMonth()?i._setCellState(d,"otherMonth",!0):i._setCellState(d,"otherMonth",!1),a.getFullYear()===d.value.getFullYear()&&a.getMonth()===d.value.getMonth()&&(l=d)):"decade"===i.displayMode&&(0===s||s===r.length-1||d.value.getFullYear()<i.min.getFullYear()||d.value.getFullYear()>i.max.getFullYear()?i._setCellState(d,"otherMonth",!0):i._setCellState(d,"otherMonth",!1),a.getFullYear()===d.value.getFullYear()&&(l=d)),i._setCellState(d,"hover",!1)}if(l.otherMonth)for(var u=0;u<r.length;u++)if(!r[u].otherMonth){l=r[u];break}if(i._focusedCell&&i._setCellState(i._focusedCell,"focus",!1),i._focusedCell=l,i._focusCell(i._focusedCell),i._refreshHeaderTitle(),i._refreshHeaderElements(),i.$.fireEvent("displayModeChange"),i._isInteractiveNavigation)return void(i._isInteractiveNavigation=void 0);i._setCellState(l,"focus",!0),setTimeout(function(){i.$.body.focus(),i._focusCell(i._focusedCell)},0)}}},{key:"_prepareView",value:function(e){function t(e,t,i){var a=new Date(e,t+1,0),n=a.getDate();return i>n?a.setDate(n):a.setDate(i),a}var i=this,a=[],n=[],o=void 0,r=void 0;if("month"===i.displayMode)return i.$nextMonthsContainer.hasClass("jqx-date-view-container")&&i.$nextMonthsContainer.removeClass("jqx-date-view-container"),i.$listViewContainer.addClass("jqx-hidden"),i.$dateViewContainer.hasClass("jqx-visibility-hidden")&&i.$dateViewContainer.removeClass("jqx-visibility-hidden"),i._isDateInView(e)||i._handleMonths(e),i.$header.hasClass("jqx-hidden")&&i.$header.removeClass("jqx-hidden"),i.$body.hasClass("jqx-calendar-list-view")&&i.$body.removeClass("jqx-calendar-list-view"),i.$dateContainer.addClass("jqx-calendar-selected"),i.$yearContainer.removeClass("jqx-calendar-selected"),i.$dateViewContainer.addClass("jqx-hidden"),i.$monthsContainer.removeClass("jqx-hidden"),i._refreshHeaderTitle(),i.$.body.setAttribute("tabindex",i.tabIndex>0?i.tabIndex:0),i._refreshHeaderElements(),i.$.body.focus(),i._focusCell(i._getCellByDate(e)),void i.$.fireEvent("displayModeChange");if("list"===i.displayModeView)return i._setDisplayModeListContent(e),void i.$.fireEvent("displayModeChange");if(i.$header.hasClass("jqx-hidden")&&i.$header.removeClass("jqx-hidden"),i.$dateViewContainer.hasClass("jqx-visibility-hidden")&&i.$dateViewContainer.removeClass("jqx-visibility-hidden"),i.$listViewContainer.addClass("jqx-hidden"),i.$.body.setAttribute("tabindex",i.tabIndex>0?i.tabIndex:0),"year"===i.displayMode)for(var l=new Date,s=0;s<12;s++)l=t(l.getFullYear(),s,l.getDate()),a.push(l.toLocaleDateString(i.locale,{month:"short"})),n.push(t(e.getFullYear(),s,e.getDate()));else{o=e?e.getFullYear():i._viewDates[0].getFullYear(),r=o%10,0!==r&&(o-=r),o-=1;for(var d=0;d<12;d++)a.push(o+""),n.push(new Date(o,e.getMonth(),e.getDate())),++o}return{viewContent:a,dates:n}}},{key:"_setDisplayModeListContent",value:function(e){function t(e,t,i){var a=new Date(e,t+1,0),n=a.getDate();return i>n?a.setDate(n):a.setDate(i),a}var i=this,a=[];if(i.$dateViewContainer.addClass("jqx-visibility-hidden"),i.$listViewContainer.hasClass("jqx-hidden")&&(i.$body.addClass("jqx-calendar-list-view"),i.$listViewContainer.removeClass("jqx-hidden"),i.$.listViewContainer._setFocusable(),i.$.body.removeAttribute("tabindex")),"year"===i.displayMode){for(var n=new Date,o=0;o<12;o++)n=t(n.getFullYear(),o,n.getDate()),a.push({label:n.toLocaleDateString(i.locale,{month:"short"}),value:t(e.getFullYear(),o,e.getDate()).toDateString()});i.$yearContainer.removeClass("jqx-calendar-selected"),i.$dateContainer.addClass("jqx-calendar-selected")}else{var r=i.min.getFullYear(),l=i.max.getFullYear();l=Math.min(i.max.getFullYear(),e.getFullYear()+10),r=Math.max(i.min.getFullYear(),l-10);for(var s=r;s<l;s++)a.push({label:s.toString(),value:new Date(s,e.getMonth(),e.getDate()).toDateString()});i.$yearContainer.addClass("jqx-calendar-selected"),i.$dateContainer.removeClass("jqx-calendar-selected")}i.$.listViewContainer.dataSource=a,i.$.listViewContainer.selectedValues=[e.toDateString()],i.$.listViewContainer.ensureVisible(i.$.listViewContainer.selectedValues[0]),i._refreshHeaderTitle(),i._refreshHeaderElements(),i.focus()}},{key:"_isDateInView",value:function(e){var t=this;if(!e)return!1;for(var i=0;i<t._viewDates.length;i++)if(e.getFullYear()===t._viewDates[i].getFullYear()&&e.getMonth()===t._viewDates[i].getMonth()){var a=t._getCellByDate(e,t._animationStarted?t.$.nextMonthsContainer:t.$.monthsContainer);if(!a)return;return!a.otherMonth&&!a.classList.contains("jqx-visibility-hidden")}return!1}},{key:"_keyDownHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly)switch(t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement){case t.$.yearElement:"Escape"===e.key&&t._refreshHeaderElements();break;case t.$.dateElement:if("default"===t.calendarMode&&" "===e.key||"Enter"===e.key)return e.preventDefault(),t._isInteractiveNavigation=!0,void t._showDateView();t._focusedCell||t._focusCell(),e.key.indexOf("Arrow")>-1&&t.$.dateElement===document.activeElement&&t.$.body.focus(),t._navigateDays(e);break;case t.$.body:" "===e.key&&e.preventDefault(),t._navigateDays(e);break;case t.$.yearContainer:if(" "!==e.key&&"Enter"!==e.key||"decade"===t.displayMode||(e.preventDefault(),t._isInteractiveNavigation=!0,t._showDateView("year")),e.key.indexOf("Arrow")>-1){if(e.preventDefault(),t._focusedCell||t._focusCell(),"month"!==t.displayMode&&"list"===t.displayModeView)return t.focus(),void t.$.listViewContainer._handleKeyStrokes(e.key);t._navigateDays(e)}break;case t.$.dateContainer:if(" "!==e.key&&"Enter"!==e.key||"month"===t.displayMode||(e.preventDefault(),t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell,"month")),e.key.indexOf("Arrow")>-1){if(t._focusedCell||t._focusCell(),"month"!==t.displayMode&&"list"===t.displayModeView)return t.focus(),void t.$.listViewContainer._handleKeyStrokes(e.key);t._navigateDays(e)}break;default:if("month"!==t.displayMode&&"list"===t.displayModeView)return["Arrow","End","Home","Page"].indexOf(e.key)&&e.preventDefault()," "===e.key||"Enter"===e.key||e.ctrlKey&&("ArrowUp"===e.key||"ArrowDown"===e.key)?void t._navigateDays(e):void t.$.listViewContainer._handleKeyStrokes(e.key);e.key.indexOf("Arrow")>-1&&(t._focusedCell||t._focusCell(),t._navigateDays(e))}}},{key:"_listViewContainerChangeEventHandler",value:function(e){e.stopPropagation()}},{key:"_listViewContainerKeyDownHandler",value:function(e){var t=this;"list"===t.displayModeView&&(" "!==e.key&&"Enter"!==e.key||t._navigateDays(e))}},{key:"_showDateView",value:function(e){var t=this;switch(e=e||t.displayMode){case"month":e="year";break;case"year":e="decade"}if(t.displayMode!==e){if(!t.$.fireEvent("displayModeChanging",{oldDisplayMode:t.displayMode,newDisplayMode:e}).defaultPrevented){t.displayMode=e;var i=void 0;if(arguments[0]&&"list"===t.displayModeView&&"month"!==t.displayMode&&t.$.listViewContainer.items.length>0?(i=t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]),i.offsetHeight?t.$.animationPanel.style.transformOrigin=i.offsetLeft+i.offsetWidth/2+"px "+(i.dataItem.top>0?i.offsetTop-i.offsetHeight/2:i.offsetTop+i.offsetHeight/2)+"px":t.$.animationPanel.style.transformOrigin=t.$.listViewContainer.offsetLeft+t.$.listViewContainer.offsetWidth/2+"px "+(i.dataItem.top>0?i.offsetTop-i.offsetHeight/2:t.$.listViewContainer.offsetTop+t.$.listViewContainer.offsetHeight/2)+"px"):(t._focusedCell||t._focusCell(),i=t._focusedCell,t.$.animationPanel.style.transformOrigin=i.offsetLeft+i.offsetWidth/2+"px "+(i.offsetTop+i.offsetHeight/2)+"px"),t.$monthsContainer.addClass("jqx-hidden"),t.$dateViewContainer.hasClass("jqx-hidden")&&t.$dateViewContainer.removeClass("jqx-hidden"),"decade"===t.displayMode&&(t.$yearContainer.addClass("jqx-calendar-selected"),t.$dateContainer.removeClass("jqx-calendar-selected")),t.hasAnimation)return void t._animateView(-1,i);t._setDisplayModeContent(t._focusedCell?t._focusedCell.value:t._viewDates[0])}}}},{key:"_keyUpHandler",value:function(e){var t=this;t.disabled||t.readonly||"default"!==t.selectionMode||"Shift"!==e.key&&"Control"!==e.key||(t._keysPressed[e.key]=!1)}},{key:"_mouseEventsHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){if("mouseenter"===e.type)return void t.$.setAttributeValue("hover",!0);if("mouseleave"===e.type)return t.$.setAttributeValue("hover",!1),void(t.tooltip&&t.$.tooltip.close());var i=t.enableShadowDOM?e.composedPath()[0]:e.target;if(!i.closest(".jqx-calendar-week"))return void(t.tooltip&&t.$.tooltip.close());for(var a=i,n=void 0;a&&!(a.value instanceof Date);)a=a.parentElement,n=!0;if(a&&(JQX.Utilities.Core.isMobile||t._handleCalendarCellHover(e,a),t.tooltip)){if(a.hasAttribute("important")&&"mouseover"===e.type)return t.$.tooltip.open(),t.tooltipTemplate?t.$.tooltip.value=a.value+"":t.$.tooltip.innerHTML=0===t.$.tooltip.innerHTML.trim().length?"Important day!":t.$.tooltip.innerHTML,t.$.tooltip.selector=a,void(t.$.tooltip.selector!==a&&t.$.tooltip.close());if(n||t.$.tooltip.selector===a)return;t.$.tooltip.close()}}}},{key:"_moveHandler",value:function(e){var t=this;if(JQX.Utilities.Core.isMobile&&t._dragStartDetails&&("list"!==t.displayModeView||"month"===t.displayMode)){e.originalEvent.preventDefault(),e.preventDefault(),e.stopPropagation();var i={x:Math.round(e.pageX),y:Math.round(e.pageY)},a=void 0;a="portrait"===t.scrollButtonsNavigationMode?i.y>t._dragStartDetails.y?-1*t.months:1*t.months:i.x<t._dragStartDetails.x?1*t.months:-1*t.months;var n=t._getNextDate(a);if(n&&(t._dragStartDetails.step=a,t._dragStartDetails.navigationDate=new Date(n),t.hasAnimation)){var o=void 0;if("month"!==t.displayMode)t.$nextMonthsContainer.addClass("jqx-calendar-date-view-container"),o=t.$.dateViewContainer,t.$.nextMonthsContainer.children[0].value instanceof Date&&t.$.nextMonthsContainer.children[1].value.getFullYear()===n.getFullYear()||t._setDisplayModeContent(n,t.$.nextMonthsContainer);else if(t.$nextMonthsContainer.hasClass("jqx-calendar-date-view-container")&&t.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),o=t.$.monthsContainer,!t.$.nextMonthsContainer.children[0]._date||t.$.nextMonthsContainer.children[0]._date.getTime()!==n.getTime())for(var r=t.$.nextMonthsContainer.children,l=0;l<r.length;l++)n.setMonth(t._dragStartDetails.navigationDate.getMonth()+l),t._setMonth(n,r[l],!0);a<0?(o.style.order=3,t.$.nextMonthsContainer.style.order=1,t.$.body[t._animationSettings.scrollSize]=t.$.body[t._animationSettings.scrollMax]):(o.style.order=1,t.$.nextMonthsContainer.style.order=3,t.$.body[t._animationSettings.scrollSize]=0);var s="portrait"===t.scrollButtonsNavigationMode?"y":"x";Math.abs(t._dragStartDetails[s]-i[s])>10&&(t.$.body[t._animationSettings.scrollSize]+=2*-(i[s]-t._dragStartDetails[s]))}}}},{key:"_getNextDate",value:function(e){var t=this,i=void 0;if("month"!==t.displayMode){var a=void 0,n=t._focusedCell&&t._focusedCell.value.getFullYear();if("list"===t.displayModeView)i=new Date(t.$.listViewContainer.items[0].value);else{var o=t._animationStarted?t.$.nextMonthsContainer:t.$.dateViewContainer;i=new Date("year"===t.displayMode?o.children[0].value:o.children[1].value)}if(a="year"===t.displayMode?1:0!==e?10:1,i.setFullYear(i.getFullYear()+(e>0?a:-a)),i.getTime()<t.min.getTime()&&(i=t.min),i.getTime()>t.max.getTime()&&(i=t.max),"year"===t.displayMode){if(i.getFullYear()<t.min.getFullYear()||i.getFullYear()>t.max.getFullYear()||n===i.getFullYear())return}else if(i.getFullYear()<t.min.getFullYear()||i.getFullYear()>t.max.getFullYear()||n===i.getFullYear())return}else{var r=t._viewDates[0];if(i=new Date(r),i.setDate(1),i.setMonth(i.getMonth()+e),i.setTime(Math.min(Math.max(i.getTime(),t.min.getTime()),t.max.getTime())),r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear())return}return i}},{key:"_navigateDays",value:function(e){var t=this,i="ArrowUp"===e.key||"ArrowDown"===e.key?7:1,a="ArrowUp"===e.key||"ArrowLeft"===e.key||"PageUp"===e.key?-1:1;switch(e.key){case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":if(!t._handleArrowKeys(e,i,a))return;break;case" ":case"Enter":if("month"!==t.displayMode)return void t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell);break;case"Control":case"Shift":return void("default"===t.selectionMode&&(t._keysPressed[e.key]=!0));case"Home":case"End":e.preventDefault();var n=void 0,o=function(t){if("Home"===e.key){for(var i=0;i<t.length;i++)if(!(t[i].otherMonth||t[i].disabled&&t[i].restricted))return t[i]}else for(var a=t.length-1;a>=0;a--)if(!(t[a].otherMonth||t[a].disabled&&t[a].restricted))return t[a]};if(!(n=o("month"!==t.displayMode?t.$.dateViewContainer.children:t._getMonthCells(t._focusedCell.closest(".jqx-calendar-month"),t.rightToLeft))))return;if(t._focusCell(n),"month"!==t.displayMode)return;break;case"PageUp":case"PageDown":if(!t._handlePageUpDownKeys(e,a))return;break;default:return}t._focusedCell&&t._handleDateSelection(t._focusedCell)}},{key:"_handleArrowKeys",value:function(e,t,i){var a=this,n=void 0;if("month"!==a.displayMode||a._animationStarted||a.$.body.focus(),a._focusedCell||a._focusCell(a._getCellByDate(new Date)),!e.altKey)if(e.ctrlKey){if("ArrowDown"===e.key||"ArrowUp"===e.key){var o=void 0;switch(a.displayMode){case"month":o="ArrowDown"===e.key?"month":"year";break;case"year":o="ArrowDown"===e.key?"month":"decade";break;case"decade":o="ArrowDown"===e.key?"year":"decade"}if(o!==a.displayMode){var r=a.displayMode;a.displayMode=o,a._setDisplayMode(r,o,"month"===r),a._keysPressed&&delete a._keysPressed.Control}}}else{if(e.preventDefault(),!a.rightToLeft||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(i*=-1),"month"!==a.displayMode){var l=a._animationStarted?a.$.nextMonthsContainer.children:a.$.dateViewContainer.children;if(t="ArrowUp"===e.key||"ArrowDown"===e.key?4:1,"year"===a.displayMode){var s=a._focusedCell.value.getMonth()+i*t,d=new Date(a._focusedCell.value.getFullYear(),s+1,0);a._focusedCell.value.getDate()<=d.getDate()&&(d=a._focusedCell.value),n=new Date(a._focusedCell.value.getFullYear(),s,d.getDate())}else n=new Date(a._focusedCell.value.getFullYear()+i*t,a._focusedCell.value.getMonth(),a._focusedCell.value.getDate());if("year"===a.displayMode){if(n.getFullYear()<a.min.getFullYear()||n.getFullYear()===a.min.getFullYear()&&n.getMonth()<a.min.getMonth()||n.getFullYear()>a.max.getFullYear()||n.getFullYear()===a.max.getFullYear()&&n.getMonth()>a.max.getMonth())return;n.getTime()>l[l.length-1].value.getTime()?a.navigate(1):n.getTime()<l[0].value.getTime()&&a.navigate(-1)}else{if(n.getFullYear()<a.min.getFullYear()||n.getFullYear()>a.max.getFullYear())return;if(n.getFullYear()<l[1].value.getFullYear()||n.getFullYear()>l[10].value.getFullYear()){var u=a._focusedCell;a.navigate(i),"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(u===l[3]||u===l[4]||u===l[7]||u===l[8]?n.setFullYear(n.getFullYear()+2*i):n.setFullYear(n.getFullYear()-2*i))}}return void a._focusCell(a._getCellByDate(n,a._animationStarted?a.$.nextMonthsContainer:void 0))}var c=a.restrictedDates.map(Number);for(n=new Date(a._focusedCell.value.getFullYear(),a._focusedCell.value.getMonth(),a._focusedCell.value.getDate()+i*t,0,0,0,0);c.indexOf(n.getTime())>-1;)n.setDate(n.getDate()+i);if(!(n.getTime()<a.min.getTime()||n.getTime()>a.max.getTime())){a._isDateInView(n)||a.navigate(i*a.months);var p=a._getCellByDate(n,a._animationStarted?a.$.nextMonthsContainer:void 0);if(a._focusCell(p),!(["zeroOrMany","oneOrMany","none","many","week"].indexOf(a.selectionMode)>-1))return!0}}}},{key:"_handlePageUpDownKeys",value:function(e,t){var i=this;e.preventDefault();var a=void 0;if("month"!==i.displayMode){if(a=i._focusedCell,!i.navigate(t))return;for(;a&&a.classList.contains("jqx-visibility-hidden");)a=null===a.previousElementSibling?a.nextElementSibling:a.previousElementSibling
;return i._focusCell(a),void(i.hasAnimation&&"decade"===i.displayMode&&i._focusedCell.value.setFullYear(i._focusedCell.value.getFullYear()+10*t))}a=new Date(i._focusedCell.value.getFullYear(),i._focusedCell.value.getMonth()+t,1,0,0,0,0);var n=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();return i._focusedCell.value.getDate()>n?a.setDate(n):a.setDate(i._focusedCell.value.getDate()),i._isDateInView(a)||i.navigate(t*i.months),i._animationStarted?i._focusCell(i._getCellByDate(a,i.$.nextMonthsContainer)):i._focusCell(i._getCellByDate(a)),!0}},{key:"_selectDate",value:function(e,t,i){var a=this;if(void 0!==a._viewDates&&"none"!==a.selectionMode){var n=a.selectedDates.slice(0),o=a._getCellByDate(e,a._animationStarted?a.$.nextMonthsContainer:a.$.monthsContainer);o&&a._selectCell(o);var r=void 0;e=new Date(e),e.setHours(0,0,0,0),r=n.map(Number).indexOf(e.getTime()),a.restrictedDates.map(Number).indexOf(e.getTime())>-1||e.getTime()<a.min.getTime()||e.getTime()>a.max.getTime()||(r>-1?n.splice(r,1):n.push(e),i||(a.selectedDates=n),a._refreshFooter(),a.$.hiddenInput.value=a.selectedDates.toString(),t||a.$.fireEvent("change",{value:[e]}),a._refreshTitle())}}},{key:"_selectCell",value:function(e){var t=this;if(!(!e||t.restrictedDates.map(Number).indexOf(e.value.getTime())>-1||t.disableAutoNavigation&&!1===e.otherMonth||e.value.getTime()<t.min.getTime()||e.value.getTime()>t.max.getTime())){var i=t._selectedCells.indexOf(e);i>-1?(t._setCellState(e,"selected",!1),t._selectedCells.splice(i,1)):(t._setCellState(e,"selected",!0),t._selectedCells.push(e)),t._focusCell(e)}}},{key:"_refreshDayOfWeekTitles",value:function(){for(var e=this,t=[],i=new Date,a=void 0,n=1;n<8;n++)i.setDate(n),a={number:i.getDay(),name:function(t){var i=void 0;return"firstTwoLetters"===e.dayNameFormat?(i=new Intl.DateTimeFormat(e.locale,{weekday:"long"}).format(t),i=8206===i.charCodeAt(0)?i.substring(1,3):i.substring(0,2)):i=new Intl.DateTimeFormat(e.locale,{weekday:e.dayNameFormat}).format(t),i}(i)},t.push(a);t.sort(function(e,t){return e.number>t.number?1:-1});for(var o=e.$.monthsContainer.children,r=void 0,l=void 0,s=0;s<o.length;s++)if(r=o[s].getElementsByClassName("jqx-calendar-week-titles")[0].children,l=e.firstDayOfWeek>6?0:e.firstDayOfWeek,e.rightToLeft)for(var d=r.length-1;d>=0;d--)r[d].textContent=t[l++].name,l=l>6?0:l;else for(var u=1;u<r.length;u++)r[u].textContent=t[l++].name,l=l>6?0:l;if(e.hasAnimation)for(var c=e.$.monthsContainer.getElementsByClassName("jqx-calendar-week-titles")[0].innerHTML,p=e.$.nextMonthsContainer.getElementsByClassName("jqx-calendar-week-titles"),m=0;m<p.length;m++)p[m].innerHTML=c}},{key:"_refreshCalendarMode",value:function(){var e=this;if(!e.headerTemplate)if(e._refreshMonthNames(),"default"===e.calendarMode){e.$classicHeaderDate.addClass("jqx-hidden"),e.$defaultHeaderDate.removeClass("jqx-hidden");var t=e._viewDates.slice(0).sort(function(e,t){return e.getTime()-t.getTime()}),i=t[0],a=t[t.length-1];i.setDate(2);var n=i.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat});e.months>1&&(a.setDate(2),n+=" - "+a.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat})),e.$.defaultHeaderDate.innerHTML=n,e.unfocusable||e.$.dateElement.setAttribute("tabindex",e.tabIndex>0?e.tabIndex:0)}else e.$defaultHeaderDate.addClass("jqx-hidden"),e.$classicHeaderDate.removeClass("jqx-hidden"),e.$.dateElement.removeAttribute("tabindex")}},{key:"_refreshFooter",value:function(){function e(){if(0===t.selectedDates.length)return"";if(1===t.selectedDates.length)return t.selectedDates[0].toLocaleDateString(t.locale,{year:t.yearFormat,weekday:"short",month:"short",day:"numeric"});var e=t.selectedDates.slice(0).sort(function(e,t){return e.getTime()-t.getTime()});return e[0].toLocaleDateString(t.locale,{year:t.yearFormat,weekday:"short",month:"short",day:"numeric"})+" - "+e[e.length-1].toLocaleDateString(t.locale,{year:t.yearFormat,weekday:"short",month:"short",day:"numeric"})}var t=this;if(!(t.viewSections.indexOf("footer")<0||0===t.$.footer.offsetHeight))if(t.footerTemplate){if("function"==typeof t.footerTemplate)return;var i=t._layoutTemplates.filter(function(e){return e.selector===t.$.footer})[0],a=document.importNode(i.template.content,!0);if(i.bindings.length>0){var n=a.childNodes[i.bindings[0].childNodeIndex];i.selector.childNodes[i.bindings[0].childNodeIndex].innerHTML=n.innerHTML.replace(i.bindings[0].bindingString,e())}}else t.$.selectedDatesRange.innerHTML=e()}},{key:"_refreshImportantDates",value:function(){var e=this;if("month"===e.displayMode){e._clearImportantDates();for(var t=0;t<e.importantDates.length;t++)e._setImportantDate(e.importantDates[t])}}},{key:"_clearImportantDates",value:function(){for(var e=this,t=e.$.monthsContainer.children,i=0;i<t.length;i++)e._getMonthCells(t[i]).map(function(t){e._setCellState(t,"important",!1)})}},{key:"_setImportantDate",value:function(e,t){var i=this,a=i._getCellByDate(e);t||(t=a),t&&(i._setCellState(t,"important",!0),i._applyImportantDateTemplate(t))}},{key:"_applyImportantDateTemplate",value:function(e){var t=this;if(!t._importantDatesTemplate)return"function"==typeof t.importantDatesTemplate?void t.importantDatesTemplate(e,{value:e.value}):void(e.innerHTML=e.value.getDate()+"");var i=document.importNode(t._importantDatesTemplate.content,!0);if(t._bindingDetails&&t._bindingDetails.length>0){var a=i.childNodes[t._bindingDetails[0].childNodeIndex];a.innerHTML=a.innerHTML.replace(t._bindingDetails[0].bindingString,e.value.getDate())}e.innerHTML="";for(var n=0;n<i.childNodes.length;n++)i.childNodes[n].outerHTML&&(e.innerHTML+=i.childNodes[n].outerHTML)}},{key:"_setMonth",value:function(e,t,i){var a=this,n=a._getDays(e,a.selectedDates),o=a._getDays(e,a.importantDates),r=a._getDays(e,a.restrictedDates);e.setDate(1),t||(t=a.$.month),t._date=new Date(e),i||((!a._viewDates||a._viewDates.length>=a.months)&&(a._viewDates=[]),a._viewDates.push(new Date(e))),e=new Date(e);var l=(e.getDay()-a.firstDayOfWeek+7)%7;e.setDate(0);var s=e.getDate();if(e.setDate(32),e.setDate(1),e.setDate(32),a._selectedCells)for(var d=0;d<a._selectedCells.length;d++)a._selectedCells[d].closest(".jqx-calendar-month")===t&&a._setCellState(a._selectedCells[d],"selected",!1);a._setMonthContent(e,t,{previusMonthDays:s,firstDayOfWeek:l,selectedDates:n,importantDates:o,restrictedDates:r})}},{key:"_setMonthContent",value:function(e,t,i){var a=this,n=32-e.getDate(),o=a._getMonthCells(t,a.rightToLeft),r=t._date.getMonth(),l=t._date.getFullYear(),s=new Date,d=1,u=1,c=void 0;s.setHours(0,0,0,0),o.map(function(e){a._setCellState(e,"restricted",!1),a._setCellState(e,"selected",!1),a._setCellState(e,"otherMonth",!1),a._setCellState(e,"focus",!1),a._setCellState(e,"important",!1),a._setCellState(e,"today",!1),a._setCellState(e,"disabled",!1),a._setCellState(e,"hover",!1)});for(var p=0;p<o.length;p++){var m=o[p];p===i.firstDayOfWeek&&u<=n?(m.className="jqx-calendar-cell",m.value=new Date(l,r,u),m.innerHTML=m.value.getDate().toString(),i.restrictedDates.indexOf(u)>-1||m.value.getTime()<a.min.getTime()||m.value.getTime()>a.max.getTime()?a._setCellState(m,"restricted",!0):i.selectedDates.indexOf(u)>-1&&(a._setCellState(m,"selected",!0),a._selectedCells.indexOf(m)<0&&a._selectedCells.push(m)),i.importantDates.indexOf(u)>-1&&(a._setImportantDate(m.value,m),i.importantDates.splice(i.importantDates.indexOf(u),1)),m.value.getTime()===s.getTime()&&a._setCellState(m,"today",!0),i.firstDayOfWeek++,u++):(1===u?(m.value=new Date(l,r-1,++i.previusMonthDays-i.firstDayOfWeek),c=!!(m.value.getTime()<a.min.getTime()||t.previousElementSibling)):(m.value=new Date(l,r+1,d++),c=!!(m.value.getTime()>a.max.getTime()||t.nextElementSibling)),m.innerHTML=m.value.getDate().toString(),c?m.classList.add("jqx-visibility-hidden"):(a._setCellState(m,"otherMonth",!0),m.classList.remove("jqx-visibility-hidden")))}a.months>1&&(t.firstElementChild.innerHTML=a.dateFormatFunction?a.dateFormatFunction(t._date):a._monthsNames[r]+" "+t._date.toLocaleDateString(a.locale,{year:a.yearFormat})),a._setMonthWeekNumbers(t)}},{key:"_refreshMonthNames",value:function(){var e=this,t=new Date,i=void 0;t.setDate(1),e._monthsNames=[];for(var a=0;a<12;a++)t.setMonth(a),i=function(t){var i=new Intl.DateTimeFormat(e.locale,{month:e.monthNameFormat}).format(t);return"firstTwoLetters"===e.monthNameFormat&&(i=8206===i.charCodeAt(0)?i.substring(0,2):i.substring(1,3)),i}(t),e._monthsNames.push(i);if("classic"===e.calendarMode&&e.$.monthElement){var n=e.$.monthsContainer.children;if(e.$.monthElement.dataSource&&(e._changeEventFired=1),e.enableShadowDOM?e._setMonthElementPropertyInShadowDOM("dataSource",e._monthsNames):e.$.monthElement.dataSource=e._monthsNames,e._viewDates){for(var o=0;o<n.length;o++)n[o].firstElementChild.textContent=e._monthsNames[n[o]._date.getMonth()]+" "+n[o]._date.getFullYear();e._changeEventFired=1,e.enableShadowDOM?e._setMonthElementPropertyInShadowDOM("selectedIndexes",e._viewDates.map(function(e){return e.getMonth()})):e.$.monthElement.selectedIndexes=e._viewDates.map(function(e){return e.getMonth()})}}}},{key:"_setMonthWeekNumbers",value:function(e){var t=this,i=e.getElementsByClassName("jqx-calendar-week");i=[].slice.call(i);for(var a=0;a<i.length;a++)if(function(e){for(var t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!0}(i[a])){var n=i[a].children[1],o=n.otherMonth?n.value.getTime()>e._date.getTime()?1:-1:0;i[a].children[0].innerHTML=t._getWeekNumber(new Date(e._date.getFullYear(),e._date.getMonth()+o,n.value.getDate()))}else i[a].children[0].innerHTML=""}},{key:"_setRestrictedDates",value:function(e){for(var t=this,i=t.$.monthsContainer.children,a=0;a<i.length;a++)t._getMonthCells(i[a]).map(function(e){t._setCellState(e,"restricted",!1)});if(t._viewDates)for(var n=0;n<e.length;n++)if(function(e){for(var i=0;i<t._viewDates.length;i++)if(t._viewDates[i].getFullYear()===e.getFullYear()&&t._viewDates[i].getMonth()===e.getMonth())return!0}(e[n])){var o=t._getCellByDate(e[n]);t._setCellState(o,"restricted",!0)}}},{key:"_setScrollButtonsNavigationMode",value:function(){var e=this;"landscape"===e.scrollButtonsNavigationMode?(e.$.previousMonthButton&&(e.$.previousMonthButton.$.button.firstElementChild.innerHTML="&#xe809"),e.$.nextMonthButton&&(e.$.nextMonthButton.$.button.firstElementChild.innerHTML="&#xe810")):(e.$.previousMonthButton&&(e.$.previousMonthButton.$.button.firstElementChild.innerHTML="&#xe80b"),e.$.nextMonthButton&&(e.$.nextMonthButton.$.button.firstElementChild.innerHTML="&#xe80d")),e._applyAnimationSettings(!0)}},{key:"_tooltipEventHandler",value:function(e){var t=this;t.enableShadowDOM&&t.$.fireEvent(e.type,e.detail)}},{key:"_refreshTitle",value:function(){var e=this,t=e.selectedDates.length>0?e.selectedDates[e.selectedDates.length-1]:new Date;if(e.titleTemplate){if("function"==typeof e.titleTemplate)return;var i=e._layoutTemplates.filter(function(t){return t.selector===e.$.title})[0],a=document.importNode(i.template.content,!0);if(i.bindings.length>0){var n=a.childNodes[i.bindings[0].childNodeIndex];return t=t.toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"}),void(i.selector.childNodes[i.bindings[0].childNodeIndex].innerHTML=n.innerHTML.replace(i.bindings[0].bindingString,t))}}e.$.title.children[0].innerHTML=t.toLocaleDateString(e.locale,{year:e.yearFormat}),e.$.title.children[1].innerHTML="landscape"===e.view?t.toLocaleDateString(e.locale,{weekday:"short"})+",</br>"+t.toLocaleDateString(e.locale,{month:"short",day:"numeric"}):t.toLocaleDateString(e.locale,{weekday:"short"})+", "+t.toLocaleDateString(e.locale,{month:"short",day:"numeric"})}},{key:"_setWeeksVisibility",value:function(e){function t(e){if(function(e){for(var t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!1;return!0}(e)||n>=i.weeks)return void e.classList.add("jqx-hidden");n<i.weeks&&(e.classList.remove("jqx-hidden"),n++)}for(var i=this,a=e.children,n=void 0,o=0;o<a.length;o++){(function(e){var o=a[e],r=o.getElementsByClassName("jqx-calendar-week");r=[].slice.call(r);var l=i._selectedCells.filter(function(t){return t.closest(".jqx-calendar-month")===a[e]});if(6===i.weeks)return r.map(function(e){return e.classList.remove("jqx-hidden")}),"continue";if(n=0,l.length>0){for(var s=l[l.length-1],d=r.indexOf(s.parentElement),u=d;u<r.length;u++)t(r[u]);for(var c=d-1;c>=0;c--)t(r[c])}else for(var p=0;p<r.length;p++)t(r[p])})(o)}}},{key:"_refreshHeaderElements",value:function(){var e=this,t=document.activeElement.closest("jqx-calendar")===e,i=e._animationStarted?e.$.nextMonthsContainer:e.$.dateViewContainer,a=e._viewDates[e._viewDates.length-1],n=e._viewDates.map(function(e){return e.getFullYear()}),o=void 0,r=void 0;if("month"===e.displayMode||"list"!==e.displayModeView){if(e.$.previousMonthButton&&!e.disabled&&("month"!==e.displayMode&&e.$.dateViewContainer.children[0].value?r="year"===e.displayMode?i.children[0].value.getFullYear()-1:i.children[1].value.getFullYear()-1:e._viewDates[0].getMonth()-1<0?(o=11,r=e._viewDates[0].getFullYear()-1):(o=e._viewDates[0].getMonth()-1,r=e._viewDates[0].getFullYear()),e.$.previousMonthButton.disabled=r<e.min.getFullYear()||r===e.min.getFullYear()&&o<e.min.getMonth(),e.$.previousMonthButton.disabled&&t&&e.$.body.focus()),e.$.nextMonthButton&&!e.disabled&&("month"!==e.displayMode&&e.$.dateViewContainer.children[0].value?r="year"===e.displayMode?i.children[0].value.getFullYear()+1:i.children[1].value.getFullYear()+11:a.getMonth()+1>11?(o=0,r=a.getFullYear()+1):(o=a.getMonth()+1,r=a.getFullYear()),e.$.nextMonthButton.disabled=r>e.max.getFullYear()||r===e.max.getFullYear()&&o>e.max.getMonth(),e.$.nextMonthButton.disabled&&t&&e.$.body.focus()),"classic"===e.calendarMode&&e.$.monthElement){var l=e.$.monthElement.items;if(l.map(function(e){return e.disabled=!1}),n.indexOf(e.min.getFullYear())>-1)for(var s=0;s<e.min.getMonth();s++)l[s].disabled=!0;if(n.indexOf(e.max.getFullYear())>-1)for(var d=e.max.getMonth()+1;d<l.length;d++)l[d].disabled=!0;e._changeEventFired=e.$.monthElement.selectedIndexes.length,e.enableShadowDOM?e._setMonthElementPropertyInShadowDOM("selectedIndexes",[e._viewDates[0].getMonth()]):e.$.monthElement.selectedIndexes=[e._viewDates[0].getMonth()],e._changeEventFired=0}e.$.previousYearButton&&!e.disabled&&(r=e._viewDates[0].getFullYear()-1,e.$.previousYearButton.disabled=r<e.min.getFullYear(),e.$.previousYearButton.disabled&&t&&e.$.body.focus()),e.$.nextYearButton&&!e.disabled&&(r=a.getFullYear()+1,e.$.nextYearButton.disabled=r>e.max.getFullYear(),e.$.nextYearButton.disabled&&t&&e.$.body.focus()),e.$.yearElement&&(e.$.yearElement.value=n[0],e.$.yearElement.disabled=a.getFullYear()+1>e.max.getFullYear()&&e._viewDates[0].getFullYear()-1<e.min.getFullYear())}}},{key:"_setMonthElementPropertyInShadowDOM",value:function(e,t){var i=this,a=i.$.monthElement,n=i.$.monthElement.$?i.$.monthElement.$.listBox:void 0,o=a.context,r=void 0;a.context=document,n&&(r=n.context,n.context=document),i.$.monthElement[e]=t,a.context=o,n&&(n.context=r)}},{key:"_refreshHeaderTitle",value:function(){function e(){if("month"!==t.displayMode){if("list"===t.displayModeView&&t.$.listViewContainer.selectedValues[0]){var e=t.$.listViewContainer.items;i="year"===t.displayMode?new Date(t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]).value).getFullYear():new Date(e[0].value).getFullYear()+" - "+new Date(e[e.length-1].value).getFullYear()}else if(t.$.dateViewContainer.children[0].value){var a=t._animationStarted?t.$.nextMonthsContainer.children:t.$.dateViewContainer.children;i="year"===t.displayMode?a[0].value.getFullYear():a[1].value.getFullYear()+" - "+a[a.length-2].value.getFullYear()}if(i)return i}var n=t._viewDates.slice(0).sort(function(e,t){return e.getTime()-t.getTime()}),o=n[0],r=n[n.length-1];return o.setDate(2),i=o.toLocaleDateString(t.locale,{year:t.yearFormat,month:t.monthNameFormat}),t.months>1&&(r.setDate(2),i+=" - "+r.toLocaleDateString(t.locale,{year:t.yearFormat,month:t.monthNameFormat})),i}var t=this,i=void 0;if("default"===t.calendarMode&&(t.$.defaultHeaderDate.innerHTML=e()),"function"!=typeof t.headerTemplate&&t._layoutTemplates){var a=t._layoutTemplates.filter(function(e){return e.selector===t.$.header})[0];if(a){var n=document.importNode(a.template.content,!0);if(a.bindings.length>0){var o=n.childNodes[a.bindings[0].childNodeIndex];a.selector.childNodes[a.bindings[0].childNodeIndex].innerHTML=o.innerHTML.replace(a.bindings[0].bindingString,t.dateFormatFunction?t.dateFormatFunction(t._viewDates):e())}}}}},{key:"_updateWeeksVisibility",value:function(){var e=this,t=e._focusedCell.parentElement;if(t.classList.contains("jqx-hidden")){var i=[].slice.call(t.parentElement.children),a=i.indexOf(t),n=0;i.map(function(e){return e.classList.add("jqx-hidden")});for(var o=a;o<i.length;o++)if(!function(e){for(var t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!1;return!0}(i[o])&&(i[o].classList.remove("jqx-hidden"),++n===e.weeks))return;if(n<e.weeks)for(var r=a-1;r>=0;--r)if(i[r].classList.remove("jqx-hidden"),++n===e.weeks)return}}},{key:"_getValidDates",value:function(e){function t(e){if(e instanceof Date)return e;if(JQX.Utilities.DateTime&&e instanceof JQX.Utilities.DateTime)return e.toDate();if("string"==typeof e){if("new Date()"===e.trim()||"new JQX.Utilities.DateTime()"===e.trim())return new Date;var t=/(\d+[,-.\/]{1}\s*\d+[,-.\/]{1}\s*\d+)/,i=function(){return e=e.replace(/[,-.\/]/g,",").split(","),e.length>2?e=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2])):new Date};return t.test(e)?(e=t.exec(e)[0].replace(/[,-.\/]/g,",").split(","),e?new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2])):i()):i()}}var i=[];if(void 0===e)return null;if(Array.isArray(e))for(var a=0;a<e.length;a++)i.push(t(e[a]));else i.push(t(e));return i=i.filter(function(e){return e&&"Invalid Date"!==e.toDateString()}),i.map(function(e){return e.setHours(0,0,0,0)}),i}},{key:"_getValidDate",value:function(e){var t=this,i=t._getValidDates(e);return i.length>0?i[0]:null}},{key:"_validateSelectedDates",value:function(e){var t=this,i=[];e||(e=t.selectedDates);var a=e.slice(0),n=function(e){if(e.getTime()>=t.min.getTime()&&e.getTime()<=t.max.getTime()&&!o(e))return!0;i.push(e)},o=function(e){for(var i=0;i<t.restrictedDates.length;i++)if(t.restrictedDates[i].getTime()===e.getTime())return!0};t.selectedDates=a.filter(n),t._viewDates&&(i.map(function(e){return t._selectDate(e)}),t._focusCell())}},{key:"_validateMinMax",value:function(e,t,i){var a=this;switch(e){case"min":t=a._getValidDate(a[e]),a.min=t||(i||a.properties.min.defaultValue);break;case"max":t=a._getValidDate(a[e]),a.max=t||(i||a.properties.max.defaultValue);break;default:t=a._getValidDate(a.min),a.min=t||(i||a.properties.min.defaultValue),t=a._getValidDate(a.max),a.max=t||(i||a.properties.max.defaultValue)}a.min=a.min.getTime()>a.max.getTime()?a.max:a.min,a.min.setHours(0,0,0,0),a.max.setHours(0,0,0,0);var n=a.$.monthsContainer.children,o=void 0;if(a._viewDates){if(a._viewDates[0].getTime()>a.max.getTime()||a._viewDates[0].getTime()<a.min.getTime())return void a._handleMonths();for(var r=0;r<n.length;r++){o=a._getMonthCells(n[r]);for(var l=0;l<o.length;l++){var s=o[l];if(s.value.getTime()>=a.min.getTime()&&s.value.getTime()<=a.max.getTime())a._setCellState(s,"restricted",!1),s.value.getMonth()===n[r]._date.getMonth()?s.classList.remove("jqx-visibility-hidden"):a.hideOtherMonthDays||(a._setCellState(s,"otherMonth",!0),s.classList.remove("jqx-visibility-hidden")),"month"!==a.displayMode&&a._setCellState(s,"otherMonth",!1);else{if(s.otherMonth){if(s.classList.contains("jqx-visibility-hidden")){a._setCellState(s,"restricted",!1);continue}}else a._setCellState(s,"restricted",!0);"month"!==a.displayMode&&(s.classList.remove("jqx-visibility-hidden"),a._setCellState(s,"otherMonth",!0))}}}}}},{key:"_setCellState",value:function(e,t,i){e[t]=i;var a=JQX.Utilities.Core.toDash(t);i?e.setAttribute(a,""):e.removeAttribute(a)}},{key:"_validateTemplate",value:function(e,t){if(null!==t&&t&&"function"!=typeof t){var i=this;return"content"in document.createElement("template")?("string"==typeof t&&(t=document.getElementById(t)),null!==t&&"content"in t?t:void i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:e}))):void i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()}))}}},{key:"_weeksDownHandler",value:function(e,t){var i=this,a=t.value,n=void 0;if(t.otherMonth&&(n=t.value.getTime()>t.closest(".jqx-calendar-month")._date.getTime()?1:-1),i.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),n){if(i._isDateInView(t.value))return;return void(i.disableAutoNavigation||i.navigate(n*i.months))}(t=i._getCellByDate(a))&&(t.disabled||t.restricted)||i._handleDateSelection(t)}},{key:"_firstDayOfWeekValidator",value:function(e,t){return Math.min(Math.max(0,isNaN(t)?6:t),6)}},{key:"_weeksValidator",value:function(e,t){return Math.min(Math.max(1,isNaN(t)?6:t),6)}},{key:"_monthsValidator",value:function(e,t){return Math.min(Math.max(1,isNaN(t)?1:t),12)}}],[{key:"properties",get:function(){return{animationSettings:{value:null,type:"object"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},dateFormatFunction:{value:null,type:"function"},disableAutoNavigation:{value:!1,type:"boolean"},displayMode:{value:"month",allowedValues:["month","year","decade"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},dropDownHeight:{value:"200",type:"string"},dropDownWidth:{value:"initial",type:"string"},firstDayOfWeek:{value:0,type:"number",defaultValue:0,validator:"_firstDayOfWeekValidator"},footerTemplate:{value:null,type:"any"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},importantDates:{value:[],type:"array",defaultValue:[]},importantDatesTemplate:{value:null,type:"any"},max:{value:new Date(2100,1,1),type:"any",defaultValue:new Date(2100,1,1)},min:{value:new Date(1900,1,1),type:"any",defaultValue:new Date(1900,1,1)},months:{value:1,type:"number",defaultValue:1,validator:"_monthsValidator"},monthNameFormat:{value:"long",allowedValues:["narrow","firstTwoLetters","long","short","2-digit","numeric"],type:"string"},name:{value:"",type:"string"},restrictedDates:{value:[],type:"array",defaultValue:[]},scrollButtonsNavigationMode:{value:"landscape",allowedValues:["portrait","landscape"],type:"string"},scrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedDates:{value:[],type:"array"},selectionMode:{value:"default",allowedValues:["none","default","one","many","zeroOrMany","oneOrMany","zeroOrOne","week"],type:"string"},spinButtonsDelay:{value:80,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},titleTemplate:{value:null,type:"any"},tooltip:{value:!1,type:"boolean"},tooltipDelay:{value:100,type:"number"},tooltipPosition:{value:"top",allowedValues:["bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"},viewSections:{value:["header"],type:"array"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number",defaultValue:6,validator:"_weeksValidator"},yearFormat:{value:"numeric",allowedValues:["2-digit","numeric"],type:"string"}}}},{key:"listeners",get:function(){return{"container.down":"_downHandler","document.up":"_documentUpHandler","container.move":"_moveHandler","container.wheel":"_containerWheelHandler","body.focus":"_bodyFocusStateHandler","body.blur":"_bodyBlurStateHandler","header.click":"_headerClickHandler","header.change":"_headerChangeHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler","listViewContainer.keydown":"_listViewContainerKeyDownHandler","listViewContainer.change":"_listViewContainerChangeEventHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","container.mouseover":"_mouseEventsHandler","container.mouseout":"_mouseEventsHandler","tooltip.open":"_tooltipEventHandler","tooltip.close":"_tooltipEventHandler"}}},{key:"methods",get:function(){return{select:"select(date=new Date(): date|string): void",clearSelection:"clearSelection(): void",today:"today(): date",navigate:"navigate(step: int): bool"}}},{key:"styleUrls",get:function(){return["jqx.button.css","jqx.dropdownlist.css","jqx.dropdown.css","jqx.tooltip.css","jqx.calendar.css"]}},{key:"requires",get:function(){return{"JQX.DropDownList":"jqxdropdownlist.js","JQX.ListBox":"jqxlistbox.js","JQX.RepeatButton":"jqxbutton.js","JQX.Tooltip":"jqxtooltip.js"}}}]),t}(JQX.BaseElement)),JQX("jqx-card",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" inner-h-t-m-l="[[innerHTML]]">\n                <content></content>\n            </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"itemTemplate":n._template=n._handleTemplate(),n.innerHTML=n._processTemplate(),n.contentHandler&&n.contentHandler(n);break;case"dataSource":n.innerHTML=n._processTemplate(),n.contentHandler&&n.contentHandler(n);break;case"contentHandler":n.contentHandler&&n.contentHandler(n)}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._template=e._handleTemplate(),e._template.hasBindings?e.innerHTML=e._processTemplate():e.itemTemplate&&(e.innerHTML=e._template.content),e.contentHandler&&e.contentHandler(e)}},{key:"_handleTemplate",value:function(){var e=this,t=e.itemTemplate,i="",a=!1,n=/{{\w+}}/g;return e.itemTemplate?t instanceof HTMLElement?i=t.innerHTML:(t=document.getElementById(t),i=t?t.innerHTML:""):i=e.innerHTML,n.exec(i)&&(a=!0),{content:i,hasBindings:a}}},{key:"_processTemplate",value:function(){var e=this,t=/{{\w+}}/g,i=e._template.content.match(t),a=e.dataSource||{},n=e._template.content;return i&&0!==i.length?(i.forEach(function(e){var t=e.replace("{{","").replace("}}",""),i=a[t];void 0===i&&(i=""),n=n.replace(e,i)}),n):n}},{key:"_swipeHandler",value:function(){}}],[{key:"properties",get:function(){return{dataSource:{value:null,type:"object?",reflectToAttribute:!1},itemTemplate:{value:null,type:"any?",reflectToAttribute:!1},contentHandler:{value:null,type:"function?",reflectToAttribute:!1}}}},{key:"listeners",get:function(){return{mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler","container.swipeleft":"_swipeHandler","container.swiperight":"_swipeHandler","container.swipetop":"_swipeHandler","container.swipebottom":"_swipeHandler"}}},{key:"styleUrls",get:function(){return["jqx.card.css"]}}]),t}(JQX.ContentElement)),JQX("jqx-carousel",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="itemsContainer" inner-h-t-m-l="[[innerHTML]]" class="jqx-items-container"><content></content></div>\n                    <jqx-repeat-button initial-delay="0" delay="[[delay]]" id="arrowLeft" animation="[[animation]]" unfocusable class="jqx-arrow jqx-arrow-left"></jqx-repeat-button>\n                    <jqx-repeat-button initial-delay="0" delay="[[delay]]" id="arrowRight" animation="[[animation]]" unfocusable class="jqx-arrow jqx-arrow-right"></jqx-repeat-button>\n                    <div id="indicatorsContainer" class="jqx-indicators-container"></div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),e){case"disabled":n._setFocusable();break;case"dataSource":if(n._generateIndicators(),n._generateItems(),n._handleIndicatorsState(0,0),n._handleItemsState(0,0),n._handle3dMode(0),!1!==n.autoPlay){var o=parseInt(n.autoPlay);o?setTimeout(function(){n.play()},o):n.play()}n._animationTrigger(n._currentIndex);break;case"itemTemplate":n._generateItems(),n._handleItemsState(n._currentIndex,n._currentIndex+1);break;case"indicatorTemplate":n._generateIndicators(),n._handleIndicatorsState(n._currentIndex,n._currentIndex+1);break;case"interval":n.pause(),n.play();break;case"loop":n._handleArrowsActiveState(n._currentIndex,n._currentIndex);break;case"hideArrows":a||n._handleArrowsActiveState(n._currentIndex,n._currentIndex);break;case"displayMode":"multiple"===i&&n.$.itemsContainer.removeAttribute("style")}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;if(e._setInitialState(),e._generateIndicators(),e._generateItems(),e._handleIndicatorsState(0,0),e._handleItemsState(0,0),e._handle3dMode(0),!1!==e.autoPlay){var i=parseInt(e.autoPlay);i?setTimeout(function(){e.play()},i):e.play()}e._setFocusable(),e._animationTrigger(e._currentIndex)}},{key:"next",value:function(){var e=this,t=e.dataSource.length;if(!e.disabled&&0!==t){var i=e._currentIndex;i=e.loop?i>=t-1?0:i+1:i>=t-1?i:i+1,e._goToItem(i)}}},{key:"pause",value:function(){var e=this;e._handleRotation(),e._rotate=!1}},{key:"slideTo",value:function(e){var t=this;e=e?parseInt(e):0,t.disabled||e<0||e>t._items.length||t._goToItem(e)}},{key:"prev",value:function(){var e=this,t=e.dataSource.length;if(!e.disabled&&0!==t){var i=e._currentIndex;i=e.loop?i<=0?t-1:i-1:i<=0?0:i-1,e._goToItem(i)}}},{key:"play",value:function(){var e=this;!e.disabled&&e.slideShow&&(e._rotationInterval&&clearInterval(e._rotationInterval),e._handleRotation(!0),e._rotate=!0)}},{key:"_animationTrigger",value:function(e){for(var t=this,i=0;i<t._items.length;i++)i!==e&&t._items[i].classList.add("jqx-animate-trigger")}},{key:"_handle3dMode",value:function(e){var t=this,i=t.dataSource.length;if(!t.disabled&&i&&"3d"===t.displayMode){e=e||0;for(var a=0;a<i;a++){var n=a-e;n?t._items[a].setAttribute("position",n):t._items[a].removeAttribute("position")}}}},{key:"_handleArrowsActiveState",value:function(e,t){var i=this,a=i.dataSource.length;i.loop?i.$.arrowLeft.disabled=i.$.arrowRight.disabled=!1:(0===t&&(i.$.arrowLeft.disabled=!1),t===a-1&&(i.$.arrowRight.disabled=!1),0===e&&(i.$.arrowLeft.disabled=!0),e===a-1&&(i.$.arrowRight.disabled=!0))}},{key:"_handleArrowClick",value:function(e){var t=this,i=t._currentIndex;t.disabled||(t.$.arrowLeft.contains(e.target)?t.prev():t.next(),t._changeEvent(i,t._currentIndex))}},{key:"_handleDefaultInnerHTML",value:function(){var e=this;if(!(e.dataSource&&e.dataSource.length>0)&&e.$.itemsContainer.innerHTML.indexOf("<ul")>=0)for(var t=e.$.itemsContainer.getElementsByTagName("ul")[0],i=t.getElementsByTagName("li"),a=0;a<i.length;a++){var n={HTMLcontent:i[a].innerHTML};e.dataSource.push(n)}}},{key:"_handleIndicatorsState",value:function(e,t){var i=this;i.disabled||0===i._indicators.length||!e&&0!==e||!t&&0!==t||(e!==t&&i._indicators[e].classList.remove("jqx-active"),i._indicators[t].classList.add("jqx-active"))}},{key:"_handleItemClick",value:function(e){var t=this,i=e.target.closest(".jqx-carousel-item");if(!t.disabled&&i&&"3d"===t.displayMode&&!t.disableItemClick){var a=parseInt(i.getAttribute("item-id")),n=parseInt(i.getAttribute("position"));Math.abs(n)>3||t._goToItem(a)}}},{key:"_handleItemsState",value:function(e,t){var i=this
;i.disabled||0===i._items.length||!e&&0!==e||!t&&0!==t||(e!==t&&(i._items[e].classList.remove("jqx-active"),i._items[e].classList.add("jqx-out")),i._items[t].classList.add("jqx-active"))}},{key:"_handleIndicatorsContainerClick",value:function(e){var t=this,i=e.target.closest(".jqx-indicator"),a=t._currentIndex;if(!t.disabled&&i){var n=parseInt(i.getAttribute("indicator-id"));a!==n&&(t._goToItem(n),t._changeEvent(a,t._currentIndex))}}},{key:"_handleMultipleMode",value:function(e){var t=this;if("multiple"===t.displayMode){var i=t._items[e],a=i.offsetWidth,n=t.$.container.offsetWidth,o=t.$.itemsContainer.offsetWidth,r=0;if(0===e)return void(t.$.itemsContainer.style.marginLeft="0px");if(e===t._items.length-1)return void(t.$.itemsContainer.style.marginLeft="-"+(o-n)+"px");for(var l=0;l<e;l++)r+=t._items[e].offsetWidth;r+a/2>=n/2&&r+a<o&&(t.$.itemsContainer.style.marginLeft="-"+(r+a/2-n/2)+"px")}}},{key:"_changeEvent",value:function(e,t){if(e!==t){var i=this;i.$.fireEvent("changing",{index:t,previousIndex:e}),i.hasAnimation||i.$.fireEvent("change",{index:t,previousIndex:e})}}},{key:"_handleKeyDown",value:function(e){var t=this,i=e.key,a=t._currentIndex,n=["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","Home","End"," ","Enter"];if(!t.disabled&&t.keyboard&&-1!==n.indexOf(i)){switch(i){case"ArrowLeft":case"ArrowDown":t.prev();break;case"ArrowUp":case"ArrowRight":t.next();break;case"Home":t._goToItem(0);break;case"End":t._goToItem(t.dataSource.length-1);break;case" ":t._rotate?t.pause():t.play();break;case"Enter":t.play()}t._changeEvent(a,t._currentIndex)}}},{key:"_handleMouseWheel",value:function(e){var t=this,i=t._currentIndex;!t.disabled&&t.wheel&&document.activeElement===t&&(e.stopPropagation(),e.preventDefault(),e.deltaY>0?t.next():t.prev(),t._changeEvent(i,t._currentIndex))}},{key:"_handleRotation",value:function(e){var t=this;e?t._rotationInterval=setInterval(function(){t.slideShow&&t.next()},t.interval):clearInterval(t._rotationInterval)}},{key:"_handleSwipe",value:function(e){var t=this;!t.disabled&&t.swipe&&(e.stopPropagation(),e.preventDefault(),"swipeleft"===e.type?t.prev():t.next())}},{key:"_generateIndicator",value:function(e){var t=this,i=document.createElement("span"),a=e||0;if(t.indicatorTemplate){var n=t._validateTemplate(t.indicatorTemplate);i.innerHTML=t._processItemTemplate(n.content,t.dataSource[a])}return i.classList.add("jqx-indicator"),i.setAttribute("indicator-id",a),i}},{key:"_generateIndicators",value:function(){for(var e=this,t=e.dataSource.length,i=[],a=document.createDocumentFragment(),n=0;n<t;n++){var o=e._generateIndicator(n);i.push(o),a.appendChild(o)}e._indicators=i;for(var r=e.$.indicatorsContainer;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(a)}},{key:"_generateItem",value:function(e){var t=this,i=document.createElement("div"),a=e||0;if(t.itemTemplate){var n=t._validateTemplate(t.itemTemplate);i.innerHTML=t._processItemTemplate(n.content,t.dataSource[a])}else{var o=t.dataSource[a];"string"==typeof o?i.style.backgroundImage='url("'+o+'")':i.innerHTML='<div class="jqx-carousel-item-container" style="background-image:url(\''+(o.image||"")+'\')">\n                        <h2 class="jqx-carousel-item-label">'+(o.label||"")+'</h2>\n                        <p class="jqx-carousel-item-content">'+(o.content||"")+'</p>\n                    </div>\n                    <div class="jqx-carousel-html-content">'+(o.HTMLcontent||"")+"</div>\n                </div>"}return i.classList.add("jqx-carousel-item"),i.setAttribute("item-id",a),i}},{key:"_processItemTemplate",value:function(e,t){var i=/{{\w+}}/g,a=e.match(i),n=e;return a&&0!==a.length?(a.forEach(function(e){var i=e.replace("{{","").replace("}}","");n=n.replace(e,t[i]||"")}),n):n}},{key:"_generateItems",value:function(){for(var e=this,t=e.dataSource.length,i=[],a=document.createDocumentFragment(),n=0;n<t;n++){var o=e._generateItem(n);i.push(o),a.appendChild(o)}e._items=i;for(var r=e.$.itemsContainer;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(a)}},{key:"_goToItem",value:function(e,t){var i=this,a=i.dataSource.length,n=i._currentIndex,o=e;e<0?o=0:e>a-1&&(o=a-1),i._removeFadeOut(),i._animationTrigger(),i._handleIndicatorsState(n,o),i._handleItemsState(n,o),i._currentIndex=o,t&&i._changeEvent(n,o),i._handle3dMode(o),i._handleMultipleMode(o),i._handleArrowsActiveState(o,n)}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1);var t=e.tabIndex>0?e.tabIndex:0;e.setAttribute("tabindex",t),e.tabIndex=t}},{key:"_setInitialState",value:function(){var e=this;e._currentIndex=0,e._indicators=[],e._items=[],e._rotate=!1,e._handleDefaultInnerHTML()}},{key:"_validateTemplate",value:function(e){var t=this,i="",a=!1,n=/{{\w+}}/g;return"function"==typeof e&&(i=e()),"content"in document.createElement("template")?(e instanceof HTMLElement?i=e.innerHTML:(e=document.getElementById(e),i=e?e.innerHTML:""),n.exec(i)&&(a=!0),{content:i,hasBindings:a}):(t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()})),void(t.itemTemplate=null))}},{key:"_handleTransitionEnd",value:function(e){if(e.target.classList.contains("jqx-carousel-item")&&!e.target.getAttribute("position")){var t=this,i=e.target.getAttribute("item-id");t._lastTransitionEndId!==i&&(t._removeFadeOut(),this.$.fireEvent("change",{index:i,previousIndex:t._lastTransitionEndId}),t._lastTransitionEndId=i)}}},{key:"_removeFadeOut",value:function(){var e=this,t=e.$.itemsContainer.getElementsByClassName("jqx-out");if(t.length)for(var i=0;i<t.length;i++)t[i].classList.remove("jqx-out")}}],[{key:"properties",get:function(){return{autoPlay:{value:!1,type:"any"},dataSource:{value:[],type:"array",reflectToAttribute:!1},delay:{value:200,type:"number"},displayMode:{allowedValues:["default","multiple","3d"],value:"default",type:"string"},disableItemClick:{value:!1,type:"boolean"},hideArrows:{value:!1,type:"boolean"},hideIndicators:{value:!1,type:"boolean"},indicatorTemplate:{value:null,type:"any"},interval:{value:5e3,type:"number"},itemTemplate:{value:null,type:"any"},keyboard:{value:!1,type:"boolean"},loop:{value:!1,type:"boolean"},messages:{value:{en:{htmlTemplateNotSuported:"{{elementType}}:  Browser doesn't support HTMLTemplate elements."}},type:"object",extend:!0},slideShow:{value:!1,type:"boolean"},swipe:{value:!1,type:"boolean"},wheel:{value:!1,type:"boolean"}}}},{key:"listeners",get:function(){return{"arrowLeft.click":"_handleArrowClick","arrowRight.click":"_handleArrowClick","indicatorsContainer.click":"_handleIndicatorsContainerClick",keydown:"_handleKeyDown",swipeleft:"_handleSwipe",swiperight:"_handleSwipe",wheel:"_handleMouseWheel","itemsContainer.click":"_handleItemClick","itemsContainer.transitionend":"_handleTransitionEnd"}}},{key:"requires",get:function(){return{"JQX.RepeatButton":"jqxbutton.js"}}},{key:"styleUrls",get:function(){return["jqx.button.css","jqx.carousel.css"]}}]),t}(JQX.ContentElement)),JQX("jqx-chip",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span id="avatar" class ="jqx-avatar">[[avatar]]</span>\x3c!--\n                --\x3e<span id="value" class ="jqx-value" inner-h-t-m-l="[[innerHTML]]"><content></content></span>\x3c!--\n                --\x3e<span id="closeButton" class ="jqx-close-button"></span>\n            </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"disabled":case"unfocusable":n._setFocusable();break;case"avatar":n.itemTemplate?n._setAvatar(n._customAvatar):n._setAvatar(n.$.avatar);break;case"itemTemplate":n._applyTemplate();break;case"value":n.itemTemplate?n._applyTemplate():n.$.value.innerHTML=a||""}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e.value=e.value?e.value:e.innerHTML,e._applyTemplate(),e._setFocusable()}},{key:"close",value:function(){var e=this;e.$.fireEvent("close",{value:e.value}),e.parentElement.removeChild(e)}},{key:"_applyTemplate",value:function(){var e=this,t=e.itemTemplate;if(!t)return e.$.value.innerHTML=e.value,void e._setAvatar(e.$.avatar);if(!("content"in document.createElement("template")))return void e.error(e.localize("htmlTemplateNotSuported",{elementType:e.nodeName.toLowerCase()}));if(t instanceof HTMLTemplateElement||(t=document.getElementById(t)),null===t||!("content"in t))return void e.error(e.localize("invalidTemplate",{elementType:e.nodeName.toLowerCase()}));var i=t.innerHTML;e.$.container.innerHTML=i.replace(/{{\s*value\s*}}/g,e.value),e._customAvatar=e.$.container.querySelector(".jqx-avatar"),e._setAvatar(e._customAvatar)}},{key:"_clickHandler",value:function(e){var t=this;if(!t.disabled){var i=t.enableShadowDOM?t.shadowRoot.elementFromPoint(e.pageX,e.pageY):e.target;i.closest&&i.closest(".jqx-close-button")&&t.close()}}},{key:"_keyDownHandler",value:function(e){var t=this,i=e.key;t.disabled||t.readonly||"Delete"!==i||t.close()}},{key:"_setAvatar",value:function(e){if(e){var t=this,i=/\.(gif|jpg|jpeg|tiff|png)$/i.test(t.avatar);e.innerHTML=i?'<img src="'+t.avatar+'" />':t.avatar||""}}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");e.tabIndex=e.tabIndex>0?e.tabIndex:0}}],[{key:"properties",get:function(){return{avatar:{value:null,type:"string?"},closeButton:{value:!1,type:"boolean"},itemTemplate:{value:null,type:"any?",reflectToAttribute:!1},value:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{click:"_clickHandler",keydown:"_keyDownHandler"}}},{key:"styleUrls",get:function(){return["jqx.chip.css"]}}]),t}(JQX.ContentElement)),JQX("jqx-date-time-picker",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <span id="label" class="jqx-label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <input id="input" class="jqx-input jqx-date-time-input" type="text" readonly="[[readonly]]" disabled="[[disabled]]" placeholder="[[placeholder]]" name="[[name]]">\n                        <div id="spinButtonsContainer" class="jqx-spin-buttons-container">\n                            <jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" animation="[[animation]]" delay="[[spinButtonsDelay]]" readonly="[[readonly]]" unfocusable id="upButton" class="jqx-spin-button">\n                                <div class="jqx-arrow jqx-arrow-up"></div>\n                            </jqx-repeat-button>\n                            <jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" animation="[[animation]]" delay="[[spinButtonsDelay]]" readonly="[[readonly]]" unfocusable id="downButton" class="jqx-spin-button">\n                                <div class="jqx-arrow jqx-arrow-down"></div>\n                            </jqx-repeat-button>\n                        </div>\n                        <div id="calendarButton" class="jqx-drop-down-button jqx-calendar-button"></div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-date-time-drop-down jqx-visibility-hidden">\n                            <div id="dropDownHeader" class="jqx-drop-down-header jqx-hidden">\n                                <div id="selectDate" class="jqx-selected"></div>\n                                <div id="selectTime"></div>\n                            </div>\n                            <div id="dropDownContent" class="jqx-drop-down-content">\n                                <jqx-calendar id="calendarDropDown" class="jqx-hidden"\n                                              animation="[[animation]]"\n                                              animation-settings="[[animationSettings]]"\n                                              calendar-mode="[[calendarMode]]"\n                                              day-name-format="[[dayNameFormat]]"\n                                              disable-auto-navigation="[[disableAutoNavigation]]"\n                                              display-mode-view="[[displayModeView]]"\n                                              first-day-of-week="[[firstDayOfWeek]]"\n                                              header-template="[[headerTemplate]]"\n                                              hide-day-names="[[hideDayNames]]"\n                                              hide-other-month-days="[[hideOtherMonthDays]]"\n                                              hide-tooltip-arrow="[[hideTooltipArrow]]"\n                                              important-dates="[[importantDates]]"\n                                              important-dates-template="[[importantDatesTemplate]]"\n                                              locale="[[locale]]"\n                                              selection-mode="one"\n                                              spin-buttons-delay="[[spinButtonsDelay]]"\n                                              spin-buttons-initial-delay="[[spinButtonsInitialDelay]]"\n                                              theme="[[theme]]"\n                                              tooltip="[[tooltip]]"\n                                              tooltip-delay="[[tooltipDelay]]"\n                                              tooltip-position="[[tooltipPosition]]"\n                                              tooltip-template="[[tooltipTemplate]]"\n                                              unfocusable="[[unfocusable]]"\n                                              view-sections=\'["header", "footer"]\'\n                                              week-numbers="[[weekNumbers]]"\n                                              weeks="[[weeks]]"></jqx-calendar>\n                            </div>\n                        </div>\n                    </div>\n                    <span id="hint" class="jqx-hint">[[hint]]</span>\n                </div>'}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.isCompleted&&(e._defaultFooterTemplateApplied&&e._addCalendarFooterListeners(),e.$.timePickerDropDown&&e._addTimePickerListener(),e._positionDetection.dropDownAttached())}},{key:"detached",value:function(){var e=this;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e.close(),e._defaultFooterTemplateApplied){var i=e.$.calendarDropDown.$footer;i.unlisten("change"),i.unlisten("click"),i.unlisten("wheel")}e.$.timePickerDropDown&&e.$.timePickerDropDown.$.unlisten("change"),e._positionDetection.dropDownDetached()}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),e._edgeMacFF&&e.$dropDownContainer.addClass("not-in-view"),e._defaultFooterTemplate=document.createElement("template"),e._defaultFooterTemplate.innerHTML='<div class="jqx-date-time-picker-footer">\n                <div class="jqx-footer-component jqx-footer-component-hour">\n                    <input type="text" class="jqx-hour-element" />\n                    <span>\n                        <jqx-repeat-button initial-delay="0" delay="75">\n                            <span class="jqx-arrow jqx-arrow-up"></span>\n                        </jqx-repeat-button>\n                        <jqx-repeat-button  initial-delay="0" delay="75">\n                            <span class="jqx-arrow jqx-arrow-down"></span>\n                        </jqx-repeat-button>\n                    </span>\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-minute">\n                    <input class="jqx-minute-element" />\n                    <span>\n                        <jqx-repeat-button initial-delay="0" delay="75">\n                            <span class="jqx-arrow jqx-arrow-up"></span>\n                        </jqx-repeat-button>\n                        <jqx-repeat-button initial-delay="0" delay="75">\n                            <span class="jqx-arrow jqx-arrow-down"></span>\n                        </jqx-repeat-button>\n                    </span>\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-ampm">\n                    <input type="text" class="jqx-am-pm-element" />\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-today">\n                    <div tabindex="-1" class="jqx-today-element" title="Now"></div>\n                </div>\n            </div>',e._codeToMethod={y:"addYears",yy:"addYears",yyyy:"addYears",yyyyy:"addYears",M:"addMonths",MM:"addMonths",MMM:"addMonths",MMMM:"addMonths",d:"addDays",dd:"addDays",ddd:"addDays",dddd:"addDays",H:"addHours",HH:"addHours",h:"addHours",hh:"addHours",m:"addMinutes",mm:"addMinutes",s:"addSeconds",ss:"addSeconds",f:"addDeciseconds",ff:"addCentiseconds",fff:"addMilliseconds",u:"addMicroseconds",uu:"addMicroseconds",n:"addNanoseconds",nn:"addNanoseconds",p:"addPicoseconds",pp:"addPicoseconds",e:"addFemtoseconds",ee:"addFemtoseconds",a:"addAttoseconds",aa:"addAttoseconds",x:"addZeptoseconds",xx:"addZeptoseconds",o:"addYoctoseconds",oo:"addYoctoseconds"},e._codeToIndex={y:0,yy:0,yyyy:0,yyyyy:0,M:1,MM:1,MMM:1,MMMM:1,d:2,dd:2,ddd:2,dddd:2,H:3,HH:3,h:3,hh:3,m:4,mm:4,s:5,ss:5,f:6,ff:6,fff:6,u:7,uu:7,n:8,nn:8,p:9,pp:9,e:10,ee:10,a:11,aa:11,x:12,xx:12,o:13,oo:13},e._getLocalizedNames(),e._validateInitialPropertyValues(),e._setFocusable(),e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.content,"close"),e._positionDetection.customPositionDropDown=e._positionExternalDropDown,e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._positionDetection.handleAutoPositioning(),e.$.dropDownContainer.setAttribute("animation",e.animation),e.$.dropDownContainer.setAttribute("drop-down-display-mode",e.dropDownDisplayMode)}},{key:"close",value:function(){var e=this;e.opened&&e._close()}},{key:"focus",value:function(){this.$.input.focus()}},{key:"select",value:function(){this.$.input.select()}},{key:"open",value:function(){var e=this;e.opened||e._open()}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"animation":case"theme":n.$.timePickerDropDown&&(n.$.timePickerDropDown[e]=a),"animation"===e&&(n.$.dropDownContainer.setAttribute("animation",n.animation),n._defaultFooterTemplateApplied&&Array.from(n.$.calendarDropDown.$.footer.getElementsByTagName("jqx-repeat-button")).forEach(function(e){e.animation=a}));break;case"calendarButton":n.$.dropDownContainer.style.transition="none",a||n.close();break;case"calendarButtonPosition":n.$.dropDownContainer.style.transition="none",n.close(),"left"===a?n.$.content.insertBefore(n.$.calendarButton,n.$.content.firstElementChild):null===n._dropDownParent?n.$.content.insertBefore(n.$.calendarButton,n.$.dropDownContainer):n.$.content.appendChild(n.$.calendarButton);break;case"disabled":a?(n.close(),n.$.upButton.disabled=!0,n.$.downButton.disabled=!0):n._disableSpinButtons(),n._setFocusable(),n._positionDetection.handleAutoPositioning();break;case"displayKind":var o=n._outputTimeZone;switch(a){case"unspecified":n._outputTimeZone=n._inputTimeZone;break;case"UTC":n._outputTimeZone="UTC";break;case"local":n._outputTimeZone="Local"}if(n._outputTimeZone===o)return;null!==n._value&&(n.close(),n._toSync=!0,n._value=n._value.toTimeZone(n._outputTimeZone),n._applyFormatString()),n.min=n.min.toTimeZone(n._outputTimeZone),n.max=n.max.toTimeZone(n._outputTimeZone);for(var r=0;r<n.restrictedDates.length;r++){var l=n.restrictedDates[r];l=l.toTimeZone(n._outputTimeZone)}break;case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownDisplayMode":n._changeDropDownDisplayMode();break;case"dropDownOverlay":a||n._positionDetection.removeOverlay();break;case"dropDownPosition":n._positionDetection.dropDownPositionChangedHandler();break;case"footerTemplate":if(null!==a){n._defaultFooterTemplateApplied=!1;var s=n.$.calendarDropDown.$footer;s.unlisten("change"),s.unlisten("click"),s.unlisten("wheel"),n.$.calendarDropDown.footerTemplate=a}else{n._setDefaultFooterTemplate();var d=n._value;n._hourElement.value=d.toString("hh"),n._minuteElement.value=d.toString("mm"),n._ampmElement.value=d.toString("tt")}break;case"formatString":""===a&&(n.formatString="dd-MMM-yy HH:mm:ss.fff"),n._getFormatStringRegExp(),n._applyFormatString(),"auto"===n.dropDownDisplayMode&&n._changeDropDownDisplayMode();break;case"interval":n._validateInterval(i);break;case"locale":case"messages":if(n.$.selectDate.innerHTML=n.localize("dateTabLabel"),n.$.selectTime.innerHTML=n.localize("timeTabLabel"),n._defaultFooterTemplateApplied&&(n._todayElement.title=n.localize("now")),"messages"===e)return;n._getLocalizedNames(),n.min.calendar.days=n._localizedDays,n.min.calendar.months=n._localizedMonths,n.min.calendar.locale=n.locale,n.max.calendar.days=n._localizedDays,n.max.calendar.months=n._localizedMonths,n.max.calendar.locale=n.locale,null!==n.value&&(n._value.calendar.days=n._localizedDays,n._value.calendar.months=n._localizedMonths,n._value.calendar.locale=n.locale,n.value.calendar.days=n._localizedDays,n.value.calendar.months=n._localizedMonths,n.value.calendar.locale=n.locale),JQX.Utilities.DateTime.cache=[],n._applyFormatString();break;case"max":case"min":n._validateMinMax(e,i),"strict"===n.validation?n._validateValue():n._minMaxChanged=!0;break;case"nullable":!0===i&&null===n._value&&n._validateValue(n._now(),null);break;case"opened":a?n._open():n._close();break;case"readonly":case"unfocusable":a&&n.close(),"unfocusable"===e&&n._setFocusable();break;case"restrictedDates":n._validateRestrictedDates(),n._validateValue();break;case"spinButtonsPosition":"right"===a?n.$.content.insertBefore(n.$.spinButtonsContainer,n.$.input.nextElementSibling):n.$.content.insertBefore(n.$.spinButtonsContainer,n.$.input);break;case"validation":"strict"===a&&(delete n._minMaxChanged,n._validateValue());break;case"value":var u=void 0;null!==a?(u=JQX.Utilities.DateTime.validateDate(a,n._now(),n.formatString),u=u.toTimeZone(n._outputTimeZone)):u=null,n._validateValue(u,n._value,void 0,!0)}}},{key:"_addCalendarFooterListeners",value:function(){var e=this,t=e.$.calendarDropDown.$footer;t.listen("change",e._footerChangeHandler.bind(e)),t.listen("click",e._footerClickHandler.bind(e)),t.listen("wheel",e._footerWheelHandler.bind(e))}},{key:"_addTimePickerListener",value:function(){var e=this;e.$.timePickerDropDown.$.listen("change",function(t){var i=e.context,a=t.detail.value,n=JQX.Utilities.DateTime.getConstructorParameters(null!==e._value?e._value:e._now());e.context=e,n[3]=a.getHours(),n[4]=a.getMinutes(),e._timePickerInitiatedChange=!0,n.unshift(null),e._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,n))),e._timePickerInitiatedChange=!1,e.context=i})}},{key:"_applyFormatString",value:function(){var e=this;null!==e.value&&(e.$.input.value=e._value.toString(e.formatString))}},{key:"_calendarButtonMouseEnterHandler",value:function(){this.$.calendarButton.setAttribute("hover","")}},{key:"_calendarButtonMouseLeaveHandler",value:function(){this.$.calendarButton.removeAttribute("hover")}},{key:"_calendarButtonClickHandler",value:function(e){var t=this;t._highlightedTimePart=void 0,t.disabled||t.readonly||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t.$.calendarButton,e.pageX,e.pageY),t.opened?t._close():t._open())}},{key:"_calendarDropDownChangeHandler",value:function(e){var t=this;if(e.stopPropagation(),t._disregardCalendarChangeEvent)return void(t._disregardCalendarChangeEvent=!1);if(this.$.calendarDropDown.selectedDates.length>0){var i=e.detail.value[0],a=null!==t._value?t._value:t._now(),n=JQX.Utilities.DateTime.getConstructorParameters(a);if(n[0]=i.getFullYear(),n[1]=i.getMonth()+1,n[2]=i.getDate(),t._calendarInitiatedChange=!0,n.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,n))),t._defaultFooterTemplateApplied){var o=t._value;""===t._hourElement.value&&(t._hourElement.value=o.toString("hh")),""===t._ampmElement.value&&(t._ampmElement.value=o.toString("tt")),""===t._minuteElement.value&&(t._minuteElement.value=o.toString("mm"))}t._calendarInitiatedChange=!1}else t._setNullValue()}},{key:"_calendarDropDownClickHandler",value:function(e){var t=this;t.autoClose&&e.target.closest(".jqx-calendar-cell")&&(clearTimeout(t._autoCloseTimeout),t._autoCloseTimeout=setTimeout(function(){t.close()},t.autoCloseDelay))}},{key:"_changeDropDownDisplayMode",value:function(){function e(e,i,a,n){t.$dropDownHeader[e]("jqx-hidden"),t.$calendarDropDown[i]("jqx-hidden"),t._timePickerInitialized&&t.$.timePickerDropDown.$[a]("jqx-hidden"),n&&(t.opened?t.$.calendarDropDown._refreshTitle():t._toSync=!0)}var t=this,i=t._dropDownDisplayMode;t._detectDisplayMode(),t._dropDownDisplayMode!==i&&("default"===t._dropDownDisplayMode?(t.$.calendarDropDown.viewSections=["title","header"],t.$selectDate.addClass("jqx-selected"),t.$selectTime.removeClass("jqx-selected"),e("removeClass","removeClass","addClass",!0)):"classic"===t._dropDownDisplayMode?(t.$.calendarDropDown.viewSections=["header","footer"],e("addClass","removeClass","addClass")):"calendar"===t._dropDownDisplayMode?(t.$.calendarDropDown.viewSections=["title","header"],e("addClass","removeClass","addClass",!0)):(e("addClass","addClass","removeClass"),t._timePickerInitialized||t._initializeTimePicker()),t.$.dropDownContainer.setAttribute("drop-down-display-mode",t.dropDownDisplayMode))}},{key:"_cloneValue",value:function(){var e=this;return null!==e._value?e._value.clone():null}},{key:"_close",value:function(){var e=this;e.$.fireEvent("closing").defaultPrevented?e.opened=!0:(e.$.calendarDropDown.disabled=!0,e.$calendarButton.removeClass("jqx-calendar-button-pressed"),e.$.calendarButton.removeAttribute("active"),e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.opened=!1,e._positionDetection.removeOverlay(!0),e.$.fireEvent("close"),e._edgeMacFF&&!e.hasAnimation&&(e.$.dropDownContainer.style.top=null,e.$.dropDownContainer.style.left=null,e.$dropDownContainer.addClass("not-in-view")))}},{key:"_detectDisplayMode",value:function(){var e=this;"auto"!==e.dropDownDisplayMode?e._dropDownDisplayMode=e.dropDownDisplayMode:e._dropDownDisplayMode=JQX.Utilities.DateTime.detectDisplayMode(e.value||e.min,e.formatString,e._formatStringRegExp),"timePicker"===e._dropDownDisplayMode?(e.$calendarButton.addClass("time"),"Enter date"===e.placeholder&&(e.placeholder="Enter time")):(e.$calendarButton.removeClass("time"),"Enter time"===e.placeholder&&(e.placeholder="Enter date")),"default"===e._dropDownDisplayMode?e.$dropDownContent.removeClass("partial"):e.$dropDownContent.addClass("partial")}},{key:"_disableSpinButtons",value:function(){var e=this;if(!e.disabled){var t=null===e._value;e.$.upButton.disabled=t,e.$.downButton.disabled=t}}},{key:"_documentUpHandler",value:function(e){var t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement,a=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;JQX.Utilities.Core.isMobile||i!==t.$.input||"partial"!==t.editMode||null===t._value||a===t.$.input&&t.$.input.selectionStart!==t.$.input.selectionEnd?a===t.$.calendarButton||t.$.dropDownContainer.contains(a)||t.$.dropDownContainer.contains(t._getRootShadowHost(a))||(t.close(),i===t.$.input||t.contains(a)||(t._highlightedTimePart=void 0)):(t._highlightedTimePartEdit=!1,t._validateValue(t.$.input.value,t._cloneValue(),!1),t._highlightTimePartBasedOnCursor()),t._mouseFocus=!1}},{key:"_getRootShadowHost",value:function(e){var t=this;if(t.enableShadowDOM){for(var i=e.getRootNode().host,a=void 0;i&&i!==t&&i!==document;)a=i,i=i.getRootNode().host;return a}}},{key:"_dropDownHeaderClickHandler",value:function(e){var t=this;if(e.target===t.$.selectDate){if(t.$selectDate.hasClass("jqx-selected"))return;t.$selectDate.addClass("jqx-selected"),t.$selectTime.removeClass("jqx-selected"),t.$.timePickerDropDown.$.addClass("jqx-hidden"),t.$calendarDropDown.removeClass("jqx-hidden")}else{if(t.$selectTime.hasClass("jqx-selected"))return;t.$selectDate.removeClass("jqx-selected"),t.$selectTime.addClass("jqx-selected"),t.$calendarDropDown.addClass("jqx-hidden"),t._timePickerInitialized?t.$.timePickerDropDown.$.removeClass("jqx-hidden"):t._initializeTimePicker()}}},{key:"_dropDownKeydownHandler",value:function(e){var t=this,i=e.key,a=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;!t.$.dropDownHeader.contains(a)||"Enter"!==i&&" "!==i?"Escape"===i||e.altKey&&"ArrowUp"===i?(e.preventDefault(),t.close(),t.$.input.focus()):"Enter"!==i&&" "!==i||!a.classList.contains("jqx-footer-component-today")?"Enter"===i&&(a===t.$.calendarDropDown.$.body&&t.$.calendarDropDown.querySelectorAll(".jqx-calendar-cell[selected][focus]").length>0||t._timePickerInitialized&&a===t.$.timePickerDropDown.$.picker)&&(e.preventDefault(),t.close()):(e.preventDefault(),t._validateValue(t._now()),t.close()):(e.preventDefault(),t._dropDownHeaderClickHandler({target:a}))}},{key:"_dropDownTransitionendHandler",value:function(){var e=this;if(e.hasAnimation)return e.opened&&e._toFocus?(e._toFocus.focus(),delete e._toFocus,void(e._timePickerInitialized&&!e.$.timePickerDropDown.classList.contains("jqx-hidden")&&requestAnimationFrame(function(){return e.$.timePickerDropDown._highlightLabel()}))):e._edgeMacFF&&!e.opened?(e.$.dropDownContainer.style.top=null,e.$.dropDownContainer.style.left=null,void e.$dropDownContainer.addClass("not-in-view")):void 0}},{key:"_footerChangeHandler",value:function(e){var t=this,i=t.context,a=e.target,n=null!==t._value?t._value:t._now(),o=a.value,r=void 0;if(t.context=t,e.stopPropagation(),a.classList.contains("jqx-hour-element")){if(o=parseInt(o,10),isNaN(o)||o<0||o>12)return void(a.value=n.toString("hh"));o>0&&o<12&&"PM"===n.toString("tt")&&(o+=12),r="hh"}else{if(!a.classList.contains("jqx-minute-element")){if(null===t._value)return void(a.value="");var l=n.toString("tt");return o=o.toLowerCase(),void("PM"===l&&("a"===o||"am"===o)||"AM"===l&&("p"===o||"pm"===o)?(t._incrementDecrement(void 0,"tt"),a.value=t._value.toString("tt")):a.value=l)}if(o=parseInt(o,10),isNaN(o)||o<0||o>59)return void(a.value=n.toString("mm"));r="mm"}var s=JQX.Utilities.DateTime.getConstructorParameters(n);s[t._codeToIndex[r]]=o,s.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,s))),a.value=t._value.toString(r),t.context=i}},{key:"_footerClickHandler",value:function(e){var t=this,i=t.context,a=e.target;if(t.context=t,a.classList.contains("jqx-today-element"))t._validateValue(t._now()),t.autoClose&&(clearTimeout(t._autoCloseTimeout),t._autoCloseTimeout=setTimeout(function(){t.close()},t.autoCloseDelay));else{var n=a.closest("jqx-repeat-button");if(null!==n){var o=n===n.parentElement.children[1],r=n.closest(".jqx-footer-component").classList.contains("jqx-footer-component-hour")?"hh":"mm"
;t._incrementDecrement(o,r)}}t.context=i}},{key:"_footerWheelHandler",value:function(e){var t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if(t.enableMouseWheelAction&&e.target instanceof HTMLInputElement&&i===e.target){var a=t.context,n=e.target;t.context=t,n.classList.contains("jqx-hour-element")?t._incrementDecrement(e.deltaY>0,"hh"):n.classList.contains("jqx-minute-element")?t._incrementDecrement(e.deltaY>0,"mm"):t._incrementDecrement(void 0,"tt"),t.context=a,e.stopPropagation()}}},{key:"_getAndHighlightTimePart",value:function(e,t,i){var a=this;a._programmaticSelection=!0,a.$.input.selectionStart!==e||a.$.input.selectionEnd!==t?a.$.input.setSelectionRange(e,t):setTimeout(function(){a.$.input.setSelectionRange(e,t)},200),a._highlightedTimePart={code:a._formatStringRegExp.groups[i],index:i,from:e,to:t}}},{key:"_getFormatStringRegExp",value:function(){var e=this;e._formatStringRegExp=e.min.getParseRegExp(e.min.calendar,e.formatString.replace(/y+/g,"yyyyy")),e._formatStringRegExp.regExp=new RegExp(e._formatStringRegExp.regExp)}},{key:"_getLocalizedNames",value:function(){var e=this,t=JQX.Utilities.DateTime.getLocalizedNames(e.locale);e._localizedDays=t.days,e._localizedMonths=t.months,e.$.selectDate.innerHTML=e.localize("dateTabLabel"),e.$.selectTime.innerHTML=e.localize("timeTabLabel")}},{key:"_handleManualTimePartEdit",value:function(e){var t=this,i=JQX.Utilities.DateTime.getConstructorParameters(t._value);if(e=e[t._highlightedTimePart.index+1],isNaN(e)){if(1===t._codeToIndex[t._highlightedTimePart.code]){var a=-1;if(e.length>1&&t._localizedMonths.names.some(function(t,i){if(-1!==t.toLowerCase().indexOf(e.toLowerCase()))return a=i,!0}),-1===a)return void t._applyFormatString();i[1]=a+1}}else{if("f"===t._highlightedTimePart.code)e=100*parseInt(e,10);else if("ff"===t._highlightedTimePart.code)e=10*parseInt(e,10);else if(-1!==t._highlightedTimePart.code.indexOf("y")&&e.length<3){var n=t.yearCutoff.toString(),o=parseInt(n.slice(2),10),r=parseInt(n.slice(0,2),10);e=parseInt(e,10),e<o&&r++,e=e.toString(),e=r+""+"0".repeat(2-e.length)+e}else if(-1!==t._highlightedTimePart.code.indexOf("h")){var l=t._value.hour();e=parseInt(e,10),l>11&&e<=11&&(e+=12)}i[t._codeToIndex[t._highlightedTimePart.code]]=parseInt(e,10)}try{i.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,i)))}catch(e){t._applyFormatString()}}},{key:"_highlightTimePartBasedOnCursor",value:function(e){function t(){return void 0===e?i.$.input.selectionStart:e}var i=this,a=i.$.input.value,n=i._formatStringRegExp.regExp.exec(a);if(null===n)return void(i._highlightedTimePart=void 0);i._iOS||void 0!==e||(e=i.$.input.selectionStart);for(var o=n.index,r=void 0,l=1;l<n.length;l++){var s=n[l];if(r=a.indexOf(s,o),o=r+s.length,1===l&&t()<r){i._getAndHighlightTimePart(r,o,0);break}if(t()>=r&&t()<=o){i._getAndHighlightTimePart(r,o,l-1);break}var d=n[l+1];if(!d){i._programmaticSelection=!0,i.$.input.setSelectionRange(r,o),i._highlightedTimePart={code:i._formatStringRegExp.groups[l-1],index:l-1,from:r,to:o};break}var u=a.indexOf(d,o);if(t()>o&&t()<u){t()-o<=u-t()?i._getAndHighlightTimePart(r,o,l-1):(i._formatStringRegExp.groups[l],i._programmaticSelection=!0,i.$.input.setSelectionRange(u,u+d.length));break}}}},{key:"_highlightTimePartBasedOnIndex",value:function(e){var t=this,i=t.$.input.value,a=t._formatStringRegExp.regExp.exec(i);if(null===a)return t._validateValue(void 0,t._cloneValue(),!1),void t._highlightTimePartBasedOnIndex(e);var n=a.index,o=void 0,r=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if(!(e<0||e>=a.length)){t.$.input!==r&&t.$.input.focus();for(var l=1;l<a.length;l++){var s=a[l];if(o=i.indexOf(s,n),n=o+s.length,e===l-1){t._getAndHighlightTimePart(o,n,e);break}}}}},{key:"_incrementDecrement",value:function(e,t){var i=this,a=i._cloneValue();if(i._minMaxChanged&&(i._value=i._rangeValidation(i._value),delete i._minMaxChanged),void 0===t&&i._highlightedTimePart&&(t=i._highlightedTimePart.code),void 0!==t){if("z"===t||"zz"===t||"zzz"===t)return void i._highlightTimePartBasedOnIndex(i._highlightedTimePart.index);i._value="t"===t||"tt"===t?i._value.addHours(i._value.hour()<12?12:-12,!0):i._value[i._codeToMethod[t]](e?-1:1,!0),i._validateValue(void 0,a,!1),i._highlightedTimePart&&i._highlightTimePartBasedOnIndex(i._highlightedTimePart.index)}else i._value=i._value.add(e?i.interval.negate():i.interval,void 0,!0),i._validateValue(void 0,a,!1);0!==a.compare(i._value)&&i.$.fireEvent("change",{oldValue:a.toTimeZone(i._inputTimeZone),value:i.value})}},{key:"_initializeTimePicker",value:function(){var e=this,t=document.createElement("jqx-time-picker");t.animation=e.animation,t.theme=e.theme,t.value=null!==e._value?e._value.toDate():e._now(),e.$.timePickerDropDown=t,t.$=JQX.Utilities.Extend(t),e.$.dropDownContent.appendChild(t),e._timePickerInitialized=!0,e._addTimePickerListener()}},{key:"_inputBlurHandler",value:function(){var e=this;e.removeAttribute("focus"),e._fullEdit=!1,e._highlightedTimePartEdit=!1}},{key:"_inputChangeHandler",value:function(e){var t=this;if(e&&e.stopPropagation(),""===t.$.input.value)return void t._setNullValue();if(t._fullEdit||null===t._value)t._fullEdit=!1,t._validateValue(t.$.input.value),t._highlightTimePartBasedOnCursor();else if(t._highlightedTimePartEdit){t._highlightedTimePartEdit=!1;var i=t._formatStringRegExp.regExp.exec(t.$.input.value);null!==i?t._handleManualTimePartEdit(i):t._applyFormatString()}}},{key:"_inputDragstartHandler",value:function(e){e.preventDefault()}},{key:"_inputFocusHandler",value:function(){var e=this;if(e.setAttribute("focus",""),"full"!==e.editMode){var t=JQX.Utilities.Core.isMobile?10:0;setTimeout(function(){e._iOS?e._highlightTimePartBasedOnCursor():!0!==e._mouseFocus&&(void 0===e._highlightedTimePart?e._highlightTimePartBasedOnCursor(e._iOS?void 0:0):e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index))},t)}}},{key:"_inputKeydownHandler",value:function(e){var t=this,i=t.editMode,a=e.key;if("Tab"!==a){if(e.altKey&&"ArrowDown"===a)return e.preventDefault(),void t.open();if("Escape"===a||e.altKey&&"ArrowUp"===a)return e.preventDefault(),void t.close();if("full"===i)return void(t._fullEdit=!0);if("partial"===i){if("Delete"===a)return void(null!==t._value&&(t._setNullValue(),e.preventDefault()));if(null===t._value&&(t._validateValue(t._now(),null,!1),t._highlightTimePartBasedOnIndex(0)),-1!==["/",".","-",","," "].indexOf(a))return t._inputChangeHandler(),t._navigateToNextTimePart(),void e.preventDefault();if("Backspace"===a)return t._resetTimePart(),t._highlightedTimePart.index>0?t._navigateToPreviousTimePart():t._highlightTimePartBasedOnIndex(0),void e.preventDefault()}else if(t._fullEdit||t._highlightedTimePartEdit||t.readonly||-1!==["Alt","Control","Shift"].indexOf(a)||e.altKey||e.ctrlKey)return;if(-1!==["End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].indexOf(a)){if(e.preventDefault(),"partial"===i&&t._highlightedTimePartEdit&&t._inputChangeHandler(),null!==t._value)switch(a){case"End":t._highlightTimePartBasedOnIndex(t._formatStringRegExp.groups.length-1);break;case"Home":t._highlightTimePartBasedOnIndex(0);break;case"ArrowLeft":t._navigateToPreviousTimePart();break;case"ArrowUp":t._incrementDecrement();break;case"ArrowRight":t._navigateToNextTimePart();break;case"ArrowDown":t._incrementDecrement(!0)}}else if(t._highlightedTimePart){if("partial"!==i&&t._highlightedTimePart.to-t._highlightedTimePart.from!=t.$.input.selectionEnd-t.$.input.selectionStart)return void(t._fullEdit=!0);var n=t._highlightedTimePart.code;if("ddd"===n||"dddd"===n||"z"===n||"zz"===n||"zzz"===n||"t"===n||"tt"===n)return void e.preventDefault();if("partial"===i&&"MMM"!==n&&"MMMM"!==n&&!1===new RegExp(/^\d+$/).test(a))return void((a.length<2||"F"!==a.charAt(0))&&e.preventDefault());t._highlightedTimePartEdit=!0}}}},{key:"_inputDownHandler",value:function(){var e=this;e._fullEdit||e._highlightedTimePartEdit||"full"===e.editMode||JQX.Utilities.Core.isMobile||setTimeout(function(){e._mouseFocus=!0,e._highlightTimePartBasedOnCursor()},0)}},{key:"_inputPasteHandler",value:function(e){"partial"===this.editMode?e.preventDefault():this._fullEdit=!0}},{key:"_inputSelectHandler",value:function(){var e=this,t=e.enableShadowDOM?e.shadowRoot.activeElement:document.activeElement;"partial"===e.editMode&&t===e.$.input&&(!0===e._programmaticSelection?e._programmaticSelection=!1:e._highlightedTimePart?e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index):e._highlightTimePartBasedOnIndex(0))}},{key:"_inputUpHandler",value:function(){var e=this;JQX.Utilities.Core.isMobile&&(e._iOS?(e._mouseFocus=!0,setTimeout(function(){document.activeElement===e.$.input&&e._highlightTimePartBasedOnCursor()},50)):setTimeout(function(){e._mouseFocus=!0,e._highlightTimePartBasedOnCursor()},10))}},{key:"_inputWheelHandler",value:function(e){var t=this;(t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement)!==t.$.input||!t.enableMouseWheelAction||t.disabled||t.readonly||(e.preventDefault(),t._incrementDecrement(e.deltaY>0))}},{key:"_isRestricted",value:function(e){for(var t=this.restrictedDates,i=!1,a=0;a<t.length;a++)if(e.equalDateParts(t[a])){i=!0;break}return i}},{key:"_mouseoutHandler",value:function(e){var t=this,i=e.target;t.disabled||i!==t.$.input&&i!==t.$.calendarButton||(i.removeAttribute("hover"),t.removeAttribute("hover"))}},{key:"_mouseoverHandler",value:function(e){var t=this,i=e.target;t.disabled||i!==t.$.input&&i!==t.$.calendarButton||(i.setAttribute("hover",""),t.setAttribute("hover",""))}},{key:"_navigateToNextTimePart",value:function(){var e=this;e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index+1)}},{key:"_navigateToPreviousTimePart",value:function(){var e=this;e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index-1)}},{key:"_now",value:function(){var e=this,t=new JQX.Utilities.DateTime("today","Local");return"Local"!==e._outputTimeZone?t.toTimeZone(e._outputTimeZone):t}},{key:"_open",value:function(){var e=this;if(e.disabled||e.readonly)return void(e.opened=!1);if(e.$.fireEvent("opening").defaultPrevented)return void(e.opened=!1);if(e._edgeMacFF&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition="",e.$.calendarDropDown.disabled=!1,e.$calendarButton.addClass("jqx-calendar-button-pressed"),e.$.calendarButton.setAttribute("active",""),("default"!==e._dropDownDisplayMode&&"timePicker"!==e._dropDownDisplayMode||!e._timePickerInitialized||e._timePickerInitialized&&e.$.timePickerDropDown.$.hasClass("jqx-hidden"))&&e.$calendarDropDown.removeClass("jqx-hidden"),e.opened=!0,e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e._toSync){var t=e._value;if(null!==t)e._disregardCalendarChangeEvent=!0,e.$.calendarDropDown.selectedDates=[t.toDate()],e._defaultFooterTemplateApplied&&(e._hourElement.value=t.toString("hh"),e._minuteElement.value=t.toString("mm"),e._ampmElement.value=t.toString("tt")),e._timePickerInitialized&&(e.$.timePickerDropDown.value=t.toDate());else{var i=e.$.calendarDropDown.context;e.$.calendarDropDown.context=e.$.calendarDropDown,e.$.calendarDropDown._clearSelection(!0),e.$.calendarDropDown.context=i,e._defaultFooterTemplateApplied&&(e._hourElement.value="",e._minuteElement.value="",e._ampmElement.value="")}e._toSync=!1}var a=void 0;switch(e._dropDownDisplayMode){case"default":a=e.$selectDate.hasClass("jqx-selected")?e.$.calendarDropDown:e.$.timePickerDropDown.$.picker;break;case"classic":case"calendar":a=e.$.calendarDropDown;break;case"timePicker":a=e.$.timePickerDropDown.$.picker}e.hasAnimation?e._toFocus=a:a.focus()}},{key:"_positionExternalDropDown",value:function(e){var t=this.context,i=!t.calendarButton||"right"===t.calendarButtonPosition,a=t._dropDownListPosition,n=t.$.dropDownContainer,o=i?e.right-n.offsetWidth:e.left,r=void 0;switch(a){case"bottom":r=e.bottom;break;case"overlay-top":r=e.bottom-n.offsetHeight;break;case"overlay-center":r=e.top+e.height/2-n.offsetHeight/2;break;case"overlay-bottom":r=e.top;break;case"top":r=e.top-n.offsetHeight;break;case"center-bottom":case"center-top":r="center-bottom"===a?e.bottom+5:e.top-5-n.offsetHeight,o=i?e.right-n.offsetWidth/2-t.$.calendarButton.offsetWidth/2:e.left-n.offsetWidth/2+t.$.calendarButton.offsetWidth/2}return{left:o,top:r}}},{key:"_rangeValidation",value:function(e){var t=this;return-1===e.compare(t.min)?t.min.clone():1===e.compare(t.max)?t.max.clone():e}},{key:"_resetTimePart",value:function(){var e=this,t=e._highlightedTimePart.code,i=e._codeToIndex[t],a=JQX.Utilities.DateTime.getConstructorParameters(e._value),n=void 0;n=i>2?0:i>0?1:e.min.year(),a[i]=n,a.unshift(null),e._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,a)))}},{key:"_setDefaultFooterTemplate",value:function(e){var t=this;t.$.calendarDropDown.footerTemplate=t._defaultFooterTemplate,e&&t.$.calendarDropDown._handleLayoutTemplate(t.$.calendarDropDown.$.footer,t._defaultFooterTemplate),t._hourElement=t.$.calendarDropDown.getElementsByClassName("jqx-hour-element")[0],t._minuteElement=t.$.calendarDropDown.getElementsByClassName("jqx-minute-element")[0],t._ampmElement=t.$.calendarDropDown.getElementsByClassName("jqx-am-pm-element")[0],t._todayElement=t.$.calendarDropDown.getElementsByClassName("jqx-today-element")[0],t._todayElement.title=t.localize("now"),Array.from(t.$.calendarDropDown.$.footer.getElementsByTagName("jqx-repeat-button")).forEach(function(e){e.animation=t.animation}),t._addCalendarFooterListeners(),t._defaultFooterTemplateApplied=!0}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return e.$.input.tabIndex=-1,e.$.selectDate.removeAttribute("tabindex"),e.$.selectTime.removeAttribute("tabindex"),void(e._defaultFooterTemplateApplied&&(e._hourElement.tabIndex=-1,e._ampmElement.tabIndex=-1,e._minuteElement.tabIndex=-1));var t=e.tabIndex>0?e.tabIndex:0;e.$.input.removeAttribute("tabindex"),e.$.selectDate.tabIndex=t,e.$.selectTime.tabIndex=t,e._defaultFooterTemplateApplied&&(e._hourElement.removeAttribute("tabindex"),e._ampmElement.removeAttribute("tabindex"),e._minuteElement.removeAttribute("tabindex"),e.$.calendarDropDown.getElementsByClassName("jqx-footer-component-today")[0].tabIndex=t)}},{key:"_setNullValue",value:function(e){var t=this;if(void 0===e&&(e=t._cloneValue()),t.nullable){if(t._value=null,t.value=null,t._highlightedTimePart=void 0,t.$.input.value="",null!==e){if(t.opened){if(!t._calendarInitiatedChange){var i=t.$.calendarDropDown.context;t.$.calendarDropDown.context=t.$.calendarDropDown,t.$.calendarDropDown._clearSelection(!0),t.$.calendarDropDown.context=i}t._defaultFooterTemplateApplied&&(t._hourElement.value="",t._ampmElement.value="",t._minuteElement.value=""),t._toSync=!1}else t._toSync=!0;t.$.fireEvent("change",{oldValue:e.toTimeZone(t._inputTimeZone),value:null})}t._disableSpinButtons()}else t._validateValue(t._now(),e)}},{key:"_spinButtonsClickHandler",value:function(e){var t=this;null===t._value||t.disabled||t.readonly||t._incrementDecrement(t.$.downButton.contains(e.target))}},{key:"_validateInitialPropertyValues",value:function(){var e=this,t=e.$.calendarDropDown;"left"===e.calendarButtonPosition&&e.$.content.insertBefore(e.$.calendarButton,e.$.input),"left"===e.spinButtonsPosition&&e.$.content.insertBefore(e.$.spinButtonsContainer,e.$.input),e.disabled&&(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0),e.opened&&(e.disabled||e.readonly?e.opened=!1:(t.disabled=!1,e.$calendarButton.addClass("jqx-calendar-button-pressed"),e.$.calendarButton.setAttribute("active",""),e.$calendarDropDown.removeClass("jqx-hidden"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"))),null===e.footerTemplate?e._setDefaultFooterTemplate(!0):(t.footerTemplate=e.footerTemplate,t._handleLayoutTemplate(t.$.footer,e.footerTemplate)),""===e.formatString&&(e.formatString="dd-MMM-yy HH:mm:ss.fff");var i=e.displayKind;"UTC"===i?e._outputTimeZone="UTC":"local"===i&&(e._outputTimeZone="Local");var a=void 0;if(null!==e.value?(a=JQX.Utilities.DateTime.validateDate(e.value,new JQX.Utilities.DateTime,e.formatString),e._inputTimeZone=a.timeZone,"unspecified"!==i&&e._inputTimeZone!==e._outputTimeZone?a=a.toTimeZone(e._outputTimeZone):"unspecified"===i&&(e._outputTimeZone=e._inputTimeZone)):(a=null,e._inputTimeZone="Local"),e._validateRestrictedDates(),e._validateMinMax("both"),e._validateValue(a,e._now(),!1,!0),e._validateInterval(new JQX.Utilities.TimeSpan(0,0,1)),e._getFormatStringRegExp(),e._defaultFooterTemplateApplied&&""===e._hourElement.value&&null!==e.value){var n=e.value;e._hourElement.value=n.toString("hh"),e._ampmElement.value=n.toString("tt"),e._minuteElement.value=n.toString("mm")}e._detectDisplayMode();var o=e._dropDownDisplayMode;"default"===o||"calendar"===o?(t.viewSections=["title","header"],t.$title.hasClass("jqx-hidden")&&t.propertyChangedHandler("viewSections",["header","footer"],["title","header"]),"default"===o&&e.$dropDownHeader.removeClass("jqx-hidden")):"timePicker"===o&&(e.$calendarDropDown.addClass("jqx-hidden"),e._initializeTimePicker())}},{key:"_validateInterval",value:function(e){var t=this,i=t.interval,a=i;if(i instanceof JQX.Utilities.TimeSpan)a=i;else if("string"==typeof i){var n=i.indexOf("TimeSpan("),o=i.indexOf(")");if(-1!==n&&-1!==o&&(a=i.slice(n+9,o),a=a.replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),new RegExp(/(^(\d+)(,\s*\d+)*$)/g).test(a)&&(a=a.replace(/\s/g,""),a=a.split(","),a.map(function(e,t){a[t]=parseInt(e)}),a.unshift(null),a=new(Function.prototype.bind.apply(JQX.Utilities.TimeSpan,a)))),a instanceof JQX.Utilities.TimeSpan==!1){if(""===a.trim())return void(t.interval=e);isNaN(a)||(a=1e4*parseInt(a,10));try{a=new JQX.Utilities.TimeSpan(a)}catch(i){return void(t.interval=e)}}}else{if("number"!=typeof i)return void(t.interval=e);a=new JQX.Utilities.TimeSpan(i)}0===a._ticks?t.interval=e:t.interval=a}},{key:"_validateMinMax",value:function(e,t){var i=this,a=!1;"max"!==e&&(i.min=JQX.Utilities.DateTime.validateDate(i.min,t||new JQX.Utilities.DateTime(1600,1,1),i.formatString),i.min=i.min.toTimeZone(i._outputTimeZone),a=!0),"min"!==e&&(i.max=JQX.Utilities.DateTime.validateDate(i.max,t||new JQX.Utilities.DateTime(3001,1,1),i.formatString),i.max=i.max.toTimeZone(i._outputTimeZone),i.max.calendar.days=i._localizedDays,i.max.calendar.months=i._localizedMonths,i.max.calendar.locale=i.locale,i.$.calendarDropDown.max=i.max.toDate()),i.min.compare(i.max)>0&&(i.min=i.max.clone(),a=!0),a&&(i.min.calendar.days=i._localizedDays,i.min.calendar.months=i._localizedMonths,i.min.calendar.locale=i.locale,i.$.calendarDropDown.min=i.min.toDate())}},{key:"_validateRestrictedDates",value:function(){for(var e=this,t=[],i=[],a=0;a<e.restrictedDates.length;a++){var n=e.restrictedDates[a],o=JQX.Utilities.DateTime.validateDate(n,"invalid",e.formatString);"invalid"!==o&&(o=o.toTimeZone(e._outputTimeZone),t.push(o),i.push(o.toDate()))}e.restrictedDates=t,e.$.calendarDropDown.restrictedDates=i}},{key:"_validateValue",value:function(e,t,i,a){var n=this,o=void 0!==t?t:n._cloneValue();if(null===e||""===e)return void n._setNullValue(o);if(void 0!==e&&(n._value=JQX.Utilities.DateTime.validateDate(e,o,n.formatString)),null===n._value)return void n._setNullValue(o);for(var r=n._value;!0===n._isRestricted(r);)r.addDays(1,!1);var l=n._rangeValidation(r);a&&"strict"!==n.validation?!1===r.equals(l)&&(n._minMaxChanged=!0):(n._value=l,delete n._minMaxChanged),n.value=n._value.toTimeZone(n._inputTimeZone);var s=n._value;if(s.calendar.days=n._localizedDays,s.calendar.months=n._localizedMonths,s.calendar.locale=n.locale,n._applyFormatString(),n._disableSpinButtons(),(null===o||null===s)&&o!==s||null!==o&&null!==s&&0!==o.compare(s)){if(!1!==i&&n.$.fireEvent("change",{oldValue:null!==o?o.toTimeZone(n._inputTimeZone):null,value:n.value}),n._calendarInitiatedChange)return;n.opened?(null!==o&&0!==n.$.calendarDropDown.selectedDates.length&&o.year()===s.year()&&o.month()===s.month()&&o.day()===s.day()&&n.$.calendarDropDown._isDateInView(s.toDate())||(n._disregardCalendarChangeEvent=!0,n.$.calendarDropDown.selectedDates=[s.toDate()]),n._defaultFooterTemplateApplied&&(null!==o&&o.hour()===s.hour()||(n._hourElement.value=s.toString("hh"),n._ampmElement.value=s.toString("tt")),null!==o&&o.minute()===s.minute()||(n._minuteElement.value=s.toString("mm"))),n._timePickerInitialized&&!n._timePickerInitiatedChange&&(n.$.timePickerDropDown.value=s.toDate()),n._toSync=!1):n._toSync=!0}}}],[{key:"properties",get:function(){return{animationSettings:{value:null,type:"object"},autoClose:{value:!1,type:"boolean"},autoCloseDelay:{value:0,type:"number"},calendarButton:{value:!1,type:"boolean"},calendarButtonPosition:{value:"right",allowedValues:["left","right"],type:"string"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},disableAutoNavigation:{value:!1,type:"boolean"},displayKind:{value:"unspecified",allowedValues:["UTC","local","unspecified"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownDisplayMode:{value:"default",allowedValues:["default","classic","calendar","timePicker","auto"],type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPosition:{value:"auto",allowedValues:["auto","bottom","overlay-top","overlay-center","overlay-bottom","top","center-bottom","center-top"],type:"string"},editMode:{value:"default",allowedValues:["default","full","partial"],type:"string"},enableMouseWheelAction:{value:!1,type:"boolean"},firstDayOfWeek:{value:0,type:"number"},footerTemplate:{value:null,type:"any"},formatString:{value:"dd-MMM-yy HH:mm:ss.fff",type:"string"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},hint:{value:"",type:"string"},importantDates:{value:[],type:"array"},importantDatesTemplate:{value:null,type:"any"},interval:{value:new JQX.Utilities.TimeSpan(0,0,1),type:"any"},label:{value:"",type:"string"},max:{value:new JQX.Utilities.DateTime(3001,1,1),type:"any"},messages:{value:{en:{now:"Now",dateTabLabel:"DATE",timeTabLabel:"TIME"}},type:"object",extend:!0},min:{value:new JQX.Utilities.DateTime(1600,1,1),type:"any"},name:{value:"",type:"string"},nullable:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},placeholder:{value:"Enter date",type:"string"},renderMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},restrictedDates:{value:[],type:"array"},spinButtons:{value:!1,type:"boolean"},spinButtonsDelay:{value:75,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},spinButtonsPosition:{value:"right",allowedValues:["left","right"],type:"string"},tooltip:{value:!1,type:"boolean"},tooltipDelay:{value:100,type:"number"},tooltipPosition:{value:"top",allowedValues:["bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{defaultReflectToAttribute:!0,value:new JQX.Utilities.DateTime,type:"any"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number"},yearCutoff:{value:1926,type:"number"}}}},{key:"listeners",get:function(){return{"container.mouseout":"_mouseoutHandler","container.mouseover":"_mouseoverHandler","calendarButton.click":"_calendarButtonClickHandler","calendarDropDown.change":"_calendarDropDownChangeHandler","calendarDropDown.click":"_calendarDropDownClickHandler","downButton.click":"_spinButtonsClickHandler","input.blur":"_inputBlurHandler","input.change":"_inputChangeHandler","input.dragstart":"_inputDragstartHandler","input.focus":"_inputFocusHandler","input.keydown":"_inputKeydownHandler","input.down":"_inputDownHandler","input.paste":"_inputPasteHandler","input.select":"_inputSelectHandler","input.up":"_inputUpHandler","input.wheel":"_inputWheelHandler","dropDownContainer.keydown":"_dropDownKeydownHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","dropDownHeader.click":"_dropDownHeaderClickHandler","upButton.click":"_spinButtonsClickHandler","document.up":"_documentUpHandler"}}},{key:"requires",get:function(){return{"JQX.Utilities.DateTime":"jqxdate.js","JQX.Utilities.Draw":"jqxdraw.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.RepeatButton":"jqxbutton.js","JQX.Calendar":"jqxcalendar.js","JQX.TimePicker":"jqxtimepicker.js"}}},{key:"styleUrls",get:function(){return["jqx.button.css","jqx.timepicker.css","jqx.dropdown.css","jqx.calendar.css","jqx.datetimepicker.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-docking-layout",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_moveHandler",value:function(){this.hasAttribute("dragged")&&"touchmove"===event.originalEvent.type&&event.originalEvent.preventDefault()}},{key:"template",value:function(){return'<div id="container">\n                    <jqx-splitter id="horizontalHiddenItemsContainer" class="jqx-horizontal-hidden-items-container" orientation="horizontal">\n                        <jqx-splitter-item class="jqx-docking-layout-item-holder">\n                            <jqx-splitter id="verticalHiddenItemsContainer" class="jqx-vertical-hidden-items-container">\n                                <jqx-splitter-item class="jqx-docking-layout-item-holder">\n                                    <jqx-splitter id="itemsContainer" class="jqx-items-container">\n                                        <content></content>\n                                        <jqx-splitter-item id="placeholderItem" class="jqx-placeholder" pinned>\n                                            <jqx-tabs-window tab-position="hidden" opened header-buttons=\'[]\'>\n                                                <jqx-tab-item></jqx-tab-item>\n                                            </jqx-tabs-window>\n                                        </jqx-splitter-item>\n                                    </jqx-splitter>\n                                </jqx-splitter-item>\n                            </jqx-splitter>\n                        </jqx-splitter-item>\n                    </jqx-splitter>\n                    <jqx-tabs-window id="tabsWindowFeedback" class="jqx-tabs-window-feedback jqx-hidden"></jqx-tabs-window>\n                    <jqx-tabs-window id="autoHideWindow" class="jqx-docking-layout-auto-hide-window" pinned header-buttons=\'["close", "dock"]\' tab-position="hidden">\n                        <jqx-tab-item></jqx-tab-item>\n                    </jqx-tabs-window>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"autoSaveState":n._handleAutoSave();break;case"layout":n._handleLayout();break;case"liveResize":case"resizeStep":for(var o=n.getElementsByTagName("jqx-splitter"),r=0;r<o.length;r++)o[r][e]=a;"liveResize"===e&&(n.$.autoHideWindow[e]=a);break;case"snapMode":n._handleSnapping(),n._snapFeedback=void 0;break;case"hideSplitterBars":n._setSplitterBarVisibility();break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;if(e.autoLoadState){var i=e.loadState();i&&(e.layout=i)}e.$.itemsContainer.liveResize=e.liveResize,e.$.itemsContainer.resizeStep=e.resizeStep,e._handleLayout(),e.$tabsWindowFeedback.removeClass("jqx-hidden"),e._setFocusable()}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}return e?e instanceof JQX.TabsWindow?void t.insertBefore(e,null):void t.error(t.localize("invalidNodeType",{elementType:t.nodeName.toLowerCase(),method:"appendChild"})):void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild"}))}},{key:"autoHideBottom",value:function(e){this._autoHide(e,"bottom")}},{key:"autoHideLeft",value:function(e){this._autoHide(e,"left")}},{key:"autoHideRight",value:function(e){this._autoHide(e,"right")}},{key:"autoHideTop",value:function(e){this._autoHide(e,"top")}},{key:"clearState",value:function(){var e=this;if(!e.id)return void e.warn(e.localize("noId"));window.localStorage.removeItem("jqxDockingLayout"+e.id)}},{key:"dock",value:function(e){this._dock(e)}},{key:"undock",value:function(e){var t=this;if("number"==typeof e?e=t._items[e]:"string"==typeof e&&(e=document.getElementById(e)),e&&t.contains(e)){var i=e.closest("jqx-splitter-item");if(i){var a=i.getBoundingClientRect(),n=void 0;if(e instanceof JQX.TabsWindow){e.autoHide?(t.$.autoHideWindow.close(),e._autoHideWindow&&(e.style.width=e._autoHideWindow.offsetWidth+"px",e.style.height=e._autoHideWindow.offsetHeight+"px"),"left"===e.tabPosition||"right"===e.tabPosition?e.style.height=t.offsetHeight+"px":e.style.width=t.offsetWidth+"px"):(e.style.width=e.offsetWidth+"px",e.style.height=e.offsetHeight+"px"),e.windowParent="body",e.opened=!0,e.autoHide&&(e.tabPosition="top"),e.autoHide=e.allowToggle=e.pinned=!1,e.style.maxWidth=e.style.maxHeight="",n=e;var o=i.closest("jqx-splitter");o.removeChild(i),t._removeUnneccessaryItems(o)}else{if(!(e instanceof JQX.TabItem))return;var r=e.closest("jqx-tabs-window"),l=void 0;1===r.items.length?(l=r,i.closest("jqx-splitter").removeChild(i)):(l=t._createTabsWindowFromObject({label:e.label}),l.appendChild(e)),"body"!==l.windowParent?l.windowParent="body":l.parentElement!==document.body&&document.body.appendChild(l),l.allowToggle=l.autoHide=l.pinned=!1,l.label=e.label,l.opened=!0,l._parentInfo={closestItem:r,position:e.index},n=l,e=r}e._originalTabPosition?n.tabPosition=e._originalTabPosition:e.autoHide&&(n.tabPosition="top"),n.tabTextOrientation=e._originalTextOrientation||"horizontal",n===e&&(delete n._originalTabPosition,delete n._originalTextOrientation),t._setFloatingItemsHeaderButtons(n),n.style.left=a.left+"px",n.style.top=a.top+"px",n.resizeMode="both";var s=t._items.indexOf(e);if(n.layout=t,s>-1&&(t._items.splice(s,1),n.position&&(n.style.top=n.position.top,n.style.left=n.position.left,delete n.position)),0!==t._items.filter(function(e){return e.opened}).length||t.$.placeholderItem.parentElement||t.$.itemsContainer.appendChild(t.$.placeholderItem),t._validateWindowPosition(n),t._setAutoHidePaddings(),t._noStateChangeFiring||(t._handleAutoSave(),t.$.fireEvent("stateChange",{type:"float",item:n})),document.activeElement!==n){var d=document.scrollingElement||document.documentElement,u=d.scrollLeft,c=d.scrollTop;n.focus(),n.bringToFront(),window.scrollTo(u,c)}}}}},{key:"insertBefore",value:function(e,t,i){var a=this;if(!a.isCompleted){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(a,n.concat(Array.prototype.slice.call(arguments)))}var o=e;o instanceof JQX.TabsWindow?(e=document.createElement("jqx-splitter-item"),e.size=o.size||"",e.max=o.max||"",e.min=o.min||"",e.locked=o.locked||!1,e.collapsible=o.collapsible||!1,e.collapsed=o.collapsed||!1,e.appendChild(o)):o instanceof JQX.SplitterItem?o=o.querySelector("jqx-tabs-window"):a.error(a.localize("invalidNodeType",{elementType:a.nodeName.toLowerCase(),method:"insertBefore"})),o.opened=o.pinned=!0,o.style.width=o.style.height="",o.style.top=o.style.left="",o.style.paddingTop=o.style.paddingBottom="",
o.style.paddingLeft=o.style.paddingRight="",e.style.top=e.style.left="";var r=void 0;if(t){if(r=t.closest("jqx-splitter"),r===a.$.verticalHiddenItemsContainer||r===a.$.horizontalHiddenItemsContainer?(r=a.$.itemsContainer,t=0===a._items.length?null:"top"===t.tabPosition||"left"===t.tabPosition?a._items[0]:a._items[a._items.length-1]):i&&(r=a.$.itemsContainer),!(t instanceof JQX.TabsWindow))return void a.error(a.localize("invalidNodeType",{elementType:a.nodeName.toLowerCase(),method:"insertBefore"}));r.autoFitMode="end",r.insertBefore(e,r._items.filter(function(e){return e.contains(t)})[0]),a._items.splice(a._items.indexOf(t),0,o)}else r=a.$.itemsContainer,a._dockingAutoHideTabItem&&(r.autoFitMode="end"),a._items.push(o),a.$.itemsContainer.insertBefore(e);if(r.autoFitMode="proportional",o.autoHide)a._autoHide(o,o.autoHidePosition);else{o.autoHide=o.allowToggle=!1,o._originalTabPosition&&(o.tabPosition=o._originalTabPosition,delete o._originalTabPosition),o._originalTextOrientation&&(o.tabTextOrientation=o._originalTextOrientation,delete o._originalTextOrientation),a._setDockedItemsHeaderButtons(o);var l=document.scrollingElement||document.documentElement,s=l.scrollLeft,d=l.scrollTop;o.focus(),window.scrollTo(s,d)}a._items.filter(function(e){return e.opened}).length>0&&a.$.placeholderItem.parentElement&&a.$.itemsContainer.removeChild(a.$.placeholderItem),o.layout=a,o.minimized=!1,o.maximized=!1,o.locked=!1,o.resizeMode="none",a._handleAutoHiddenSplitterBars(),a._setSplitterBarVisibility(),a._handleAutoSave(),a.$.fireEvent("stateChange",{type:"dock",item:o})}},{key:"insertBeforeItem",value:function(e,t){this._insert(e,t,"top","insertBeforeItem")}},{key:"insertAfterItem",value:function(e,t){this._insert(e,t,"bottom","insertAfterItem")}},{key:"insertIntoLeft",value:function(e,t){this._insert(e,t,"inside-left","insertIntoLeft")}},{key:"insertIntoRight",value:function(e,t){this._insert(e,t,"inside-right","insertIntoRight")}},{key:"insertIntoTop",value:function(e,t){this._insert(e,t,"inside-top","insertIntoTop")}},{key:"insertIntoBottom",value:function(e,t){this._insert(e,t,"inside-bottom","insertIntoBottom")}},{key:"insertLayoutTop",value:function(e){this._insert(0,e,"layout-top","insertLayoutTop")}},{key:"insertLayoutBottom",value:function(e){this._insert(0,e,"layout-bottom","insertLayoutBottom")}},{key:"insertLayoutLeft",value:function(e){this._insert(0,e,"layout-left","insertLayoutLeft")}},{key:"insertLayoutRight",value:function(e){this._insert(0,e,"layout-right","insertLayoutRight")}},{key:"insertOutsideTargetGroupTop",value:function(e,t){this._insert(e,t,"outside-top","insertOutsideTargetGroupTop")}},{key:"insertOutsideTargetGroupBottom",value:function(e,t){this._insert(e,t,"outside-bottom","insertOutsideTargetGroupBottom")}},{key:"insertOutsideTargetGroupLeft",value:function(e,t){this._insert(e,t,"outside-left","insertOutsideTargetGroupLeft")}},{key:"insertOutsideTargetGroupRight",value:function(e,t){this._insert(e,t,"outside-right","insertOutsideTargetGroupRight")}},{key:"getAutoHideItems",value:function(e){function t(e){var t=[];if(!e._items)return t;for(var i=0;i<e._items.length;i++)e._items[i].$.hasClass("jqx-docking-layout-item-holder")||t.push(e._items[i].getElementsByTagName("jqx-tabs-window")[0]);return t}var i=this;return e?t("horizontal"===e?i.$.horizontalHiddenItemsContainer:i.$.verticalHiddenItemsContainer):t(i.$.horizontalHiddenItemsContainer).concat(t(i.$.verticalHiddenItemsContainer))}},{key:"getIndex",value:function(e){var t=this;if(t.isReady&&t._items.length)return t._items.indexOf(e)}},{key:"getItemGroupElement",value:function(e){var t=this;if(t.isReady&&e&&e instanceof JQX.TabsWindow&&t.contains(e))return e.closest("jqx-splitter")}},{key:"getState",value:function(e){for(var t=this,i=t.getAutoHideItems(),a=t.undockedItems,n=[],o=0;o<i.length;o++)n.push(t._createTabsWindowStructure(i[o],e));for(var r=0;r<a.length;r++)n.push(t._createTabsWindowStructure(a[r],e));return[{type:"LayoutGroup",items:n.concat(t._createLayoutStructure(t.$.itemsContainer,e)),orientation:t.$.itemsContainer.orientation}]}},{key:"getClosestSplitterBars",value:function(e){var t=this;if(t._items&&t._items.length&&("string"==typeof e?e=document.getElementById(e):"number"==typeof e&&(e=t._items[parseInt(e)]),e instanceof JQX.TabsWindow&&t._items.find(function(t){return t===e}))){for(var i=e.closest("jqx-splitter");i&&!i.bars.length;)i=i.closest("jqx-splitter");return i?i.bars:void 0}}},{key:"getJSONStructure",value:function(){return this.getState(!0)}},{key:"loadState",value:function(e){var t=this;if(!e){if(!t.id)return void t.warn(t.localize("noId"));e=JSON.parse(window.localStorage.getItem("jqxDockingLayout"+t.id))}if(e)return t._loadState(e),e}},{key:"remove",value:function(e){var t=this;return"number"==typeof e?e=t._items[e]:"string"==typeof e&&(e=document.getElementById(e)),e instanceof JQX.TabsWindow?e.closest("jqx-docking-layout")!==t?void t.error(t.localize("invalidNodeRemove",{elementType:t.nodeName.toLowerCase(),method:"remove"})):void t.removeChild(e):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"remove"}))}},{key:"removeAll",value:function(){this._removeAll()}},{key:"removeChild",value:function(e){var t=this;if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild"}));if(!(e instanceof JQX.TabsWindow))return void t.error(t.localize("invalidNodeType",{elementType:t.nodeName.toLowerCase(),method:"removeChild"}));if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}var a=e.closest("jqx-splitter-item");if(a){var n=a.closest("jqx-splitter");n&&(a.closest("jqx-splitter").removeChild(a),t._items.splice(t._items.indexOf(e),1),t._removeUnneccessaryItems(n),0!==t._items.filter(function(e){return e.opened}).length||t.$.placeholderItem.parentElement||t.$.itemsContainer.appendChild(t.$.placeholderItem),e.layout=t,t._handleAutoSave(),t.$.fireEvent("stateChange",{type:"remove",item:e}))}}},{key:"saveState",value:function(){var e=this;if(!e.id)return void e.warn(e.localize("noId"));window.localStorage.setItem("jqxDockingLayout"+e.id,JSON.stringify(e.getJSONStructure()))}},{key:"update",value:function(e,t){var i=this;if("number"==typeof e?e=i._items[parseInt(e)]:"string"==typeof e&&(e=document.getElementById(e)),!(e&&e instanceof JQX.TabsWindow))return void i.error(i.localize("invalidNodeType",{elementType:i.nodeName.toLowerCase(),method:"update"}));if(i.contains(e)&&t&&"object"===(void 0===t?"undefined":babelHelpers.typeof(t))){if(t.items)for(var a=0;a<t.items.length;a++)e.update(t.items[a].index,t.items[a].label,t.items[a].content);t.id&&(e.id=t.id),t.label&&(e.label=t.label),e.tabCloseButtons=t.tabCloseButtons||!1,t.headerButtons&&Array.isArray(t.headerButtons)&&(e.headerButtons=0===t.headerButtons.length?["close","autoHide"]:t.headerButtons);var n=e.closest("jqx-splitter-item");n&&(e.autoHide?i._autoHide(e):(n.size=void 0!==t.size?t.size:n.size,n.min=void 0!==t.min?t.min:n.min,n.max=void 0!==t.max?t.max:n.max,n.locked=void 0!==t.locked?t.locked:n.locked,n.collapsible=void 0!==t.collapsible?t.collapsible:n.collapsible,n.collapsed=void 0!==t.collapsed?t.collapsed:n.collapsed))}}},{key:"_autoHide",value:function(e,t){var i=this;if("number"==typeof e?e=i._items[e]:"string"==typeof e&&(e=document.getElementById(e)),e){if(e instanceof JQX.TabItem){var a=e.closest("jqx-tabs-window");if(a&&a.items.length<2)e=a;else{var n=e;if(a){if(a.autoHide&&a.tabPosition===t)return;a.removeChild(e)}e=i._createTabsWindowFromObject({label:e.label}),e.appendChild(n)}}if(!(e instanceof JQX.TabsWindow))return void i.error(i.localize("invalidNodeType",{elementType:i.nodeName.toLowerCase(),method:"appendChild"}));var o=e.closest("jqx-splitter-item"),r=void 0,l=e.closest("jqx-splitter")||i.$.itemsContainer,s=i._getAutoHidePositionDetails(t,e,o),d=s.autoHideSplitter;t=s.position,e.offsetHeight&&(r="left"===t||"right"===t?e.offsetWidth:e.offsetHeight),o||(o=document.createElement("jqx-splitter-item"),o.appendChild(e)),o.min=30;var u="auto-hide-"+t;if(!e.autoHide||!o.$.hasClass(u)){var c=i._items.indexOf(e);i._items.splice(c,c>-1?1:0),0!==i._items.filter(function(e){return e.opened}).length||i.$.placeholderItem.parentElement||("left"===t?i.$.itemsContainer.insert(1,i.$.placeholderItem):i.$.itemsContainer.appendChild(i.$.placeholderItem)),i._handleAutoHideWindow({position:t,tabsWindow:e,splitterItem:o,autoHideName:u,splitterContainer:l,autoHideSplitter:d}),d.bars.map(function(e){return e.hide()}),i._setAutoHidePaddings();var p=e.items;if(p)for(var m=0;m<p.length;m++)p[m]._autoHideWindowSize||(p[m]._autoHideWindowSize=r);i.$.autoHideWindow.opened&&i.$.autoHideWindow._tabsWindow&&i.$.autoHideWindow._tabsWindow._setAutoHideWindowSize(i.$.autoHideWindow._tabsWindow.selectedIndex),i.isCompleted&&(i._handleAutoSave(),i.$.fireEvent("stateChange",{type:"autoHide",item:e}))}}}},{key:"_getAutoHidePositionDetails",value:function(e,t,i){var a=this,n=t.closest("jqx-splitter")||a.$.itemsContainer,o=n?n._items.indexOf(i):0,r=void 0;switch(e){case"top":case"bottom":r=a.$.horizontalHiddenItemsContainer;break;case"left":case"right":r=a.$.verticalHiddenItemsContainer;break;default:if("vertical"===n.orientation){r=a.$.verticalHiddenItemsContainer;var l=r.items.filter(function(e){return e.className.indexOf("auto-hide-")>-1});e=1===l.length&&1===a._items.length?l[0].$.hasClass("auto-hide-right")?"right":"left":o>=n.items.length/2?"right":"left"}else{r=a.$.horizontalHiddenItemsContainer;var s=r.items.filter(function(e){return e.className.indexOf("auto-hide-")>-1});e=1===s.length&&1===a._items.length?s[0].$.hasClass("auto-hide-bottom")?"bottom":"top":o>=n.items.length/2?"bottom":"top"}}return{autoHideSplitter:r,position:e}}},{key:"_handleAutoHideWindow",value:function(e){var t=this,i=e.autoHideName,a=e.splitterItem,n=e.splitterContainer,o=e.position,r=e.autoHideSplitter,l=e.tabsWindow,s=t.getElementsByClassName(i)[0],d="offset"+("left"===o||"right"===o?"Width":"Height");if(a.locked=!1,s){for(var u=[].slice.call(l.isCompleted?l.items:l.children),c=s.querySelector("jqx-tabs-window"),p=c.items.length,m=0;m<u.length;m++)c.insert(p,{node:u[m]}),u[m]._autoHideWindowSize=l[d];a.parentElement&&n.removeChild(a),t._removeUnneccessaryItems(n),l=c}else{n&&n.contains(a)&&n.removeChild(a),!t._initializingItems&&l.autoHide||(l._originalTabPosition=l.tabPosition,l._originalTextOrientation=l.tabTextOrientation,l._originalLocked=l.locked),l.autoHideWindow=t.$.autoHideWindow,l.autoHide=l.allowToggle=!0,l.selectedIndex=null,l.$.tabsElement&&l.$.tabsElement.selectedIndex!==l.selectedIndex&&(l.$.tabsElement.selectedIndex=l.selectedIndex),l.tabTextOrientation="right"===o||"left"===o?"vertical":"horizontal",l.tabPosition=o,l.style.top=l.style.left="",l.style.width=l.style.height="",l.opened=!0,l.resizeMode="none";for(var v=0;v<a.classList.length;v++)a.classList[v].indexOf("auto-hide-")>-1&&a.$.removeClass(a.classList[v]);if(a.$.addClass(i),a.style.paddingLeft=a.style.paddingRight=a.style.paddingTop=a.style.paddingBottom="",a.min&&(a.min=""),t._removeUnneccessaryItems(n),"top"===o||"left"===o?r.insert(0,a):r.appendChild(a),r.autoFitMode="proportional",!JQX.Utilities.Core.Browser.Safari||"left"!==o&&"right"!==o){if(JQX.Utilities.Core.Browser.Firefox&&("top"===o||"bottom"===o)){var h=l.querySelector(".jqx-tab-strip");l.size=h.offsetHeight}l.size="auto"}else{var f=l.querySelector(".jqx-tab-strip");l.size=f.offsetWidth}l.min&&(l.min=""),l.min=30,l.locked=!0,r.autoFitMode="end"}}},{key:"_autoHideWindowCloseHandler",value:function(){var e=this,t=e.$.autoHideWindow._tabsWindow,i=document.scrollingElement||document.documentElement,a=i.scrollLeft,n=i.scrollTop;if(t._moveContent(t._autoHideWindow.items[0],t._autoHideWindow._tab),!e.$.autoHideWindow.opened)return t.selectedIndex=null,void(document.activeElement!==t.$.tabsElement&&(t.$.tabsElement.focus(),window.scrollTo(a,n)));t.allowToggle&&null!==t.$.tabsElement.selectedIndex&&(t.select(t.$.tabsElement.selectedIndex),document.activeElement!==t.$.tabsElement&&(t.$.tabsElement.focus(),window.scrollTo(a,n)))}},{key:"_autoHideWindowResizeEndHandler",value:function(e){var t=e.target,i="left"===t.resizeMode||"right"===t.resizeMode?"width":"height";t._tab&&(t._tab._autoHideWindowSize=e.detail[i])}},{key:"_cancelDragOperation",value:function(e){var t=this;t.removeAttribute("dragged"),t._dragDetails.windowFeedback.removeAttribute("tabs-window-dragged"),t._dragDetails.windowFeedback.removeAttribute("ontop"),t._returnItemToOrigin(t._dragDetails.windowFeedback),t._noStateChangeFiring=!0,e||t._endDrag()}},{key:"_createTabsWindowFromObject",value:function(e,t){var i=document.createElement("jqx-tabs-window"),a=void 0,n=["close","autoHide"];if(i.layout=this,e.id&&(i.id=e.id),e.disabled&&(i.disabled=e.disabled),e.label&&(i.label=e.label),e.headerPosition&&(i.headerPosition=e.headerPosition),e.tabCloseButtons&&(i.tabCloseButtons=e.tabCloseButtons),e.dropPosition&&(i.dropPosition=e.dropPosition),e.resizeMode&&(i.resizeMode=e.resizeMode),this.hasAnimation||(i.animation="none"),i.draggable=void 0===e.draggable||e.draggable,i.floatable=void 0===e.floatable||e.floatable,i.tabCloseButtons=e.tabCloseButtons?e.tabCloseButtons:i.tabCloseButtons,e.autoHide?(i.autoHideWindow=this.$.autoHideWindow,i.autoHide=i.allowToggle=e.autoHide,i.autoHidePosition=e.autoHidePosition):e.undocked&&(n=["close","maximize","minimize"],i.undocked=e.undocked,i.position={top:e.top?(e.top+"").indexOf("%")>-1?e.top:parseFloat(e.top)+"px":void 0,left:e.left?(e.left+"").indexOf("%")>-1?e.left:parseFloat(e.left)+"px":void 0,width:e.width,height:e.height}),i.tabPosition=e.tabPosition||i.tabPosition,i.opened=i.pinned=!0,e.headerButtons&&(n=e.headerButtons),(!e.headerButtons||Array.isArray(e.headerButtons)&&0===e.headerButtons.length)&&(n=["close","autoHide"]),i.headerButtons=n,i.size=e.size||"",i.max=e.max||"",i.min=e.min?e.min:30,i.locked=e.locked||!1,i.collapsible=e.collapsible||!1,i.collapsed=e.collapsed||!1,e.items&&Array.isArray(e.items))for(var o=0;o<e.items.length;o++)t&&e.items[o].instance?(a=e.items[o].instance,a.index=null,a.id=e.items[o].id||""):(a=document.createElement("jqx-tab-item"),a.label=e.items[o].label?e.items[o].label:"",a.id=e.items[o].id||"",a.content=e.items[o].content?e.items[o].content:"",a.selected=!!e.items[o].selected&&e.items[o].selected,i._isItemSelected=!0),a.draggable=void 0===e.items[o].draggable||e.items[o].draggable,a.floatable=void 0===e.items[o].floatable||e.items[o].floatable,e.items[o].id&&(a.id=e.items[o].id),i.appendChild(a);return i}},{key:"_createItemsFromArray",value:function(e,t){var i=this,a=e,n=a.length;i._removeAll(!0),i._initializingItems=!0;for(var o=i.undockedItems,r=0;r<o.length;r++)o[r].layout=null,o[r].parentElement.removeChild(o[r]);1===n&&a[0].type&&"layoutgroup"===a[0].type.toLowerCase()&&(i.$.itemsContainer.orientation=a[0].orientation||i.$.itemsContainer.orientation,i.$.itemsContainer.liveResize=a[0].liveResize||i.$.itemsContainer.liveResize,i.$.itemsContainer.resizeMode=a[0].resizeMode||i.$.itemsContainer.resizeMode,a=a[0].items);var l=void 0;i.$.itemsContainer.autoFitMode="end";for(var s=0;s<a.length;s++)(l=i._createLayoutItem(a[s],t))&&(i.$.placeholderItem.parentElement&&i.$.itemsContainer.removeChild(i.$.placeholderItem),i.$.itemsContainer.appendChild(l));0===i._items.filter(function(e){return e.opened}).length?i.$.placeholderItem.parentElement||i.$.itemsContainer.appendChild(i.$.placeholderItem):i.$.placeholderItem.parentElement&&i.$.itemsContainer.removeChild(i.$.placeholderItem),i.$.itemsContainer.autoFitMode="proportional",delete i._initializingItems}},{key:"_createLayoutItem",value:function(e,t){if(e){var i=this,a=document.createElement("jqx-splitter-item"),n=void 0;if(e.type&&"layoutgroup"===e.type.toLowerCase()){n=document.createElement("jqx-splitter"),n.autoFitMode="proportional",e.id&&(n.id=e.id),e.orientation&&(n.orientation=e.orientation),e.resizeMode&&(n.resizeMode=e.resizeMode),n.liveResize=i.liveResize,n.resizeStep=i.resizeStep;for(var o=void 0,r=0;r<e.items.length;r++)(o=i._createLayoutItem(e.items[r],t))&&n.appendChild(o);if(!n.querySelector("jqx-splitter-item"))return}else{if(n=i._createTabsWindowFromObject(e.type&&"layoutgroup"===e.type.toLowerCase()?e.items[0]:e,t),n.autoHide)return i._autoHide(n,n.autoHidePosition),void delete n.autoHidePosition;if(n.undocked)return i.undock(n),document.body.appendChild(n),n.opened=!0,n.pinned=!1,n.layout=i,n.position&&(n.style.left=n.position.left,n.style.top=n.position.top,n.style.width=n.position.width,n.style.height=n.position.height,delete n.position),void(n.size&&(n.style.left=n.position.left,n.style.top=n.position.top));i._items.push(n)}return a.size=e.size||"",a.max=e.max||"",a.min=e.min||30,a.locked=e.locked||!1,a.collapsible=e.collapsible||!1,a.collapsed=e.collapsed||!1,a.appendChild(n),a}}},{key:"_createLayoutStructure",value:function(e,t){var i=this,a=[],n=e._items,o=void 0,r=void 0,l=n[0].$.content.children[0];1===n.length&&l instanceof JQX.Splitter&&(n=l._items,e===i.$.itemsContainer&&(i.$.itemsContainer.orientation=l.orientation));for(var s=0;s<n.length;s++)if(n[s]!==i.$.placeholderItem){if((r=function(e){for(var t=e.firstElementChild;t;){if(t instanceof JQX.Splitter)return t;if(t instanceof JQX.TabsWindow)return t;t=t.nextElementSibling}}(n[s].$.content))instanceof JQX.TabsWindow)o=i._createTabsWindowStructure(r,t);else if(r instanceof JQX.Splitter){for(;1===r._items.length&&r._items[0].$.content.children[0]instanceof JQX.Splitter;)r=r._items[0].$.content.children[0];o=1===r._items.length?i._createTabsWindowStructure(r._items[0].$.content.children[0],t):{type:"LayoutGroup",items:i._createLayoutStructure(r,t),orientation:r.orientation},r.id&&(o.id=r.id),"adjacent"!==r.resizeMode&&(o.resizeMode=r.resizeMode),5!==r.resizeStep&&(o.resizeStep=r.resizeStep),r.liveResize&&(o.resizeStep=r.liveResize)}o.size=n[s][e._measurements.size],n[s].locked&&(o.locked=!0),n[s].min&&(o.min=n[s].min),n[s].max&&(o.max=n[s].max),a.push(o)}return a}},{key:"_createTabsWindowStructure",value:function(e,t){var i={type:"LayoutPanel"};if(e.id&&(i.id=e.id),e.disabled&&(i.disabled=e.disabled),e.label&&(i.label=e.label),e.autoHide?(i.autoHide=e.autoHide,i.autoHidePosition=e.tabPosition):"top"!==e.tabPosition&&(i.tabPosition=e.tabPosition),e.closest("jqx-docking-layout")||(i.undocked=!0,i.top=e.style.top,i.left=e.style.left,i.width=e.style.width,i.height=e.style.height),e.dropPosition&&"all"!==e.dropPosition[0]&&(i.dropPosition=e.dropPosition),i.draggable=void 0===e.draggable||e.draggable,i.floatable=void 0===e.floatable||e.floatable,void 0!==e.floatable&&(i.floatable=e.floatable),"none"!==e.resizeMode&&(i.resizeMode=e.resizeMode),e.items){i.items=[];for(var a=0;a<e.items.length;a++)i.items.push(function(e){var i={};return i.type="LayoutPanelItem",i.label=e.label||"",e.selected&&(i.selected=e.selected),e.disabled&&(i.disabled=e.disabled),i.draggable=void 0===e.draggable||e.draggable,i.floatable=void 0===e.floatable||e.floatable,t||(i.instance=e),e.id&&(i.id=e.id),i}(e.items[a]))}return i}},{key:"_containerTabStripResizeHandler",value:function(e){var t=this,i=e.target.closest("jqx-splitter");i!==t.$.horizontalHiddenItemsContainer&&i!==t.$.verticalHiddenItemsContainer||(i._resizeEventHandler(),t._setAutoHidePaddings())}},{key:"_dock",value:function(e,t){var i=this;if("number"==typeof e?e=i._items[e]:"string"==typeof e&&(e=document.getElementById(e)),e){var a=void 0;if(e instanceof JQX.TabItem){var n=i._handleTabItemDocking(e);e=n.tabsWindow,a=n.newTabsWindow}else"object"!==(void 0===e?"undefined":babelHelpers.typeof(e))||e instanceof HTMLElement||(e=i._createTabsWindowFromObject(e));if(!(e instanceof JQX.TabsWindow&&e.autoHide))return void(i._items.indexOf(e)<0&&(a.autoHide=!1,0===e.items.length&&"simple"===i.snapMode&&e.parentElement.removeChild(e),t?i._insert(-1,a,t?"layout-"+t:void 0):i.appendChild(a)));if(i.contains(e)){var o=e.closest("jqx-splitter-item"),r=e.closest("jqx-splitter"),l=!o.nextElementSibling;t||(t="horizontal"===r.orientation?l?"bottom":"top":l?"right":"left"),0===e.items.length&&o.closest("jqx-splitter").removeChild(o),a&&(e=a),e.autoHide&&(i.$.verticalHiddenItemsContainer.contains(e)?i.$.verticalHiddenItemsContainer.removeChild(e.closest("jqx-splitter-item")):i.$.horizontalHiddenItemsContainer.contains(e)&&i.$.horizontalHiddenItemsContainer.removeChild(e.closest("jqx-splitter-item")),e.tabPosition=e._originalTabPosition||"top",delete e._originalTabPosition),i._setDockedItemsHeaderButtons(e),e.autoHide=e.allowToggle=e.maximized=e.minimized=e.collapsed=e.locked=!1,e.tabTextOrientation="horizontal",i.$.autoHideWindow.close(),i._insert(-1,e,"layout-"+t),i._setAutoHidePaddings(),delete i._dockingAutoHideTabItem}}}},{key:"_handleTabItemDocking",value:function(e){var t=this,i=e.closest("jqx-tabs-window"),a=void 0;if(i){var n=t.$.autoHideWindow;if(!i.autoHide)return{tabsWindow:i,newTabsWindow:i};t._dockingAutoHideTabItem=!0,a=1===i.items.length?i:document.createElement("jqx-tabs-window"),delete e._autoHideWindowSize,a.size="left"===n.resizeMode||"right"===n.resizeMode?n.offsetWidth:n.offsetHeight,i.removeChild(e),0!==i.items.length||a.id||t.contains(i)||i.parentElement.removeChild(i),a.tabCloseButtons=i.tabCloseButtons,a.dropPosition=i.dropPosition,a.draggable=a.draggable,a.floatable=a.floatable}return a||(a=document.createElement("jqx-tabs-window")),t.hasAnimation||(a.animation="none"),a.min=30,a.opened=a.pinned=a.autoHide=!0,a.style.maxWidth=a.style.maxHeight="",a._originalTabPosition=i._originalTabPosition||void 0,a._originalTextOrientation=i._originalTextOrientation||void 0,a!==i&&(delete i._originalTabPosition,delete i._originalTextOrientation),a.label=e.label,a.appendChild(e),e=i,{tabsWindow:e,newTabsWindow:a}}},{key:"_dockEventHandler",value:function(e){var t=this,i=e.target;i._tabsWindow&&(i=i._tabsWindow),i.autoHide?t._dock(i.items[i.selectedIndex]):t._autoHide(i,t._items.indexOf(i)<(t._items.length-1)/2)}},{key:"_documentDownHandler",value:function(e){var t=this,i=void 0;if(i=e.originalEvent.target.closest(".jqx-window"),t.$.autoHideWindow._tabsWindow&&(!i||i!==t.$.autoHideWindow&&i!==t.$.autoHideWindow._tabsWindow)&&(t.$.autoHideWindow._tabsWindow.selectedIndex=null),t._dragDetails)return void t._cancelDragOperation();if(i instanceof JQX.TabsWindow&&t.draggable&&!t.disabled&&!(t._dragDetails||i.maximized||i.minimized||!JQX.Utilities.Core.isMobile&&1!==e.which||i._dragDetails&&"resize"===i._dragDetails.type&&i._dragDetails.started)){if(t._dragDetails={},i=e.originalEvent.target.closest(".jqx-header-section")||e.originalEvent.target.closest(".jqx-tab-label-container"),i&&"simple"===t.snapMode&&i.classList.contains("jqx-header-section")&&(i=void 0),t._dragDetails.windowFeedback=t.$.tabsWindowFeedback,i){if(t._dragDetails.selectedTabsWindow=i.closest("jqx-tabs-window"),t._dragDetails.selectedTabsWindow===t.$.autoHideWindow?t._dragDetails.selectedItem=t.$.autoHideWindow._tabsWindow.closest("jqx-splitter-item"):t._dragDetails.selectedItem=i.closest("jqx-splitter-item"),!t._dragDetails.selectedTabsWindow||!t._dragDetails.selectedTabsWindow.draggable||t._dragDetails.selectedTabsWindow.layout!==t)return void(t._dragDetails=void 0);if(t._dragDetails.offset={x:0,y:0},t._dragDetails.selectedTabLabel=i,t._dragDetails.x=e.pageX,t._dragDetails.y=e.pageY,t._dragDetails.selectedTabLabel.$.hasClass("jqx-header-section")){if(!t._dragDetails.selectedItem&&t._dragDetails.selectedTabsWindow.pinned)return void(t._dragDetails=void 0);t._dragDetails.windowFeedback=t._dragDetails.selectedTabsWindow;var a=i.getBoundingClientRect();t._dragDetails.offset.x=e.clientX-a.left,t._dragDetails.offset.y=e.clientY-a.top}else{if(!t._dragDetails.selectedTabLabel.tab||void 0!==t._dragDetails.selectedTabLabel.tab.draggable&&!t._dragDetails.selectedTabLabel.tab.draggable)return void(t._dragDetails=void 0);1===t._dragDetails.selectedTabsWindow.items.length&&(t._dragDetails.windowFeedback=t._dragDetails.selectedTabsWindow,t._dragDetails.windowFeedback.floatable=t._dragDetails.selectedTabsWindow.items[0].floatable)}}t._items.map(function(e){return e.removeAttribute("ontop")}),t._dragDetails.windowFeedback!==t.$.autoHideWindow&&t._dragDetails.windowFeedback.setAttribute("ontop","")}}},{key:"_documentMoveHandler",value:function(e){var t=this,i=JQX.Utilities.Core.isMobile?document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target;if(!t.disabled&&t._dragDetails&&(!t._dragDetails||t._dragDetails.selectedTabsWindow)&&i&&!(Math.abs(e.pageX-t._dragDetails.x)<=5&&Math.abs(e.pageY-t._dragDetails.y)<=5)){var a=document.scrollingElement||document.documentElement,n=a.scrollLeft,o=a.scrollTop,r=t._dragDetails.selectedTabsWindow;if(t._dragDetails.isInsideTheLayout=i.closest&&i.closest("jqx-docking-layout")===t,t._dragDetails.started=!0,t._dragDetails.windowFeedback===t.$.autoHideWindow){var l=t._dragDetails.selectedTabsWindow.getBoundingClientRect(),s=void 0;1===t.$.autoHideWindow._tabsWindow.items.length?s=t.$.autoHideWindow._tabsWindow:(s=document.createElement("jqx-tabs-window"),s.min=30,s.layout=t),s.style.width=l.width+"px",s.style.height=l.height+"px",s.style.left=l.left+"px",s.style.top=l.top+"px",s.setAttribute("ontop",""),t._dragDetails.windowFeedback=s,t.$.autoHideWindow.$.addClass("no-transition"),t.$.autoHideWindow.close(),t.$.autoHideWindow.$.removeClass("no-transition")}if(t._setDragDetailsOnMove(i),t.$.autoHideWindow.close(),t._dragDetails.windowFeedback.classList.contains("jqx-tabs-window-feedback")){if(t._dragDetails._parentInfo||(t._dragDetails._parentInfo={closestItem:r,position:t._originalTabIndex||t._dragDetails.selectedTabLabel.tab.index},t._originalTabIndex=void 0),t._dragDetails.windowFeedback.parentElement!==document.body&&document.body.appendChild(t._dragDetails.windowFeedback),t._dragDetails.selectedItem){var d=t._dragDetails.selectedItem.closest("jqx-splitter");!t._dragDetails.windowFeedback.size&&d&&(t._dragDetails.windowFeedback.size=t._dragDetails.selectedTabsWindow[d._measurements.size])}}else t._handleWindowOnDrag();t._dragDetails.selectedTabLabel.classList.contains("jqx-header-section")||t._dragDetails.windowFeedback.setAttribute("tabs-window-dragged",""),(t._dragDetails.windowFeedback.hasAttribute("tabs-window-dragged")||t._dragDetails.selectedTabsWindow===t.$.autoHideWindow||t._dragDetails._parentInfo&&"string"==typeof t._dragDetails._parentInfo.position)&&(t._dragDetails.windowFeedback.style.left=e.pageX-t._dragDetails.offset.x+"px",t._dragDetails.windowFeedback.style.top=e.pageY-t._dragDetails.offset.y+"px",t._setWindowFeedbackSize()),t._dragDetails.windowFeedback.opened=!0,document.activeElement!==t&&(t.focus(),window.scrollTo(n,o));var u=t._dragDetails.hoveredTabsWindow?i.closest(".jqx-tabs-header-section"):void 0;t._dragDetails.hoveredTabArea=u||(t._dragDetails.hoveredTabsWindow&&i.closest(".jqx-tabs-content-section")?t._dragDetails.hoveredTabsWindow.$.tabsElement.$.tabContentSection:t._dragDetails.hoveredTabsWindow),t._setSnappingMarkers(e,u)}}},{key:"_setDragDetailsOnMove",value:function(e){var t=this;if(!t.hasAttribute("dragged")){t._originalBodyOverflow={overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY,overflow:document.body.style.overflow};var i=(document.scrollingElement||document.documentElement).scrollHeight>document.documentElement.clientHeight,a=(document.scrollingElement||document.documentElement).scrollWidth>document.documentElement.clientWidth,n=t._dragDetails.selectedTabsWindow;if(document.body.style.overflow=document.body.style.overflowX=document.body.style.overflowY="",i&&!a?document.body.style.overflowX="hidden":a&&!i?document.body.style.overflowY="hidden":a||i||(document.body.style.overflow="hidden"),t._dragDetails.windowFeedback.$.hasClass("jqx-tabs-window-feedback")||n===t.$.autoHideWindow){var o=t._dragDetails.selectedTabLabel.tab||t.$.autoHideWindow._tab,r=t.$.tabsWindowFeedback;n===t.$.autoHideWindow&&(n=t.$.autoHideWindow._tabsWindow,r=t._dragDetails.windowFeedback,r.label=o.label,r.floatable=o.floatable),JQX.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&(t._dragDetails.selectedTabLabel._lazyRemove=!0),o.parentElement&&n.removeChild(o),t._originalTabIndex=o.index,r.appendChild(o);var l=t._dragDetails.selectedTabsWindow;if(l===t.$.autoHideWindow)l._tabsWindow.items.length>1&&(r.tabPosition=l.tabPosition,r.tabTextOrientation=l._originalTextOrientation||l.tabTextOrientation);else{var s=l.autoHide;r.tabPosition=l._originalTabPosition||(s?"top":l.tabPosition),r.tabTextOrientation=l._originalTextOrientation||(s?"horizontal":l.tabTextOrientation)}if(o._autoHideWindowSize)r.size=o._autoHideWindowSize;else if(n.autoHide){var d="offset"+("top"===n.tabPosition||"bottom"===n.tabPosition?"Height":"Width");r.size=(n._autoHideWindow||n)[d]}}t._dragDetails.selectedTabsWindow.closest("jqx-docking-layout")||t._dragDetails.windowFeedback._originalPinnedState||(t._dragDetails.windowFeedback._originalPinnedState=t._dragDetails.windowFeedback.pinned),t._dragDetails.windowFeedback.pinned=!1,t.setAttribute("dragged","")}if(t._dragDetails.hoveredItem=e.closest("jqx-splitter-item"),t._dragDetails.hoveredItem){var u=t._dragDetails.hoveredItem.closest("jqx-docking-layout");u&&u===t?t._dragDetails.hoveredTabsWindow=t._dragDetails.hoveredItem.getElementsByTagName("jqx-tabs-window")[0]:t._dragDetails.hoveredItem=t._dragDetails.hoveredTabsWindow=void 0}else t._dragDetails.hoveredTabsWindow=e.closest("jqx-tabs-window");if(t._dragDetails.hoveredTabsWindow){var c=t._dragDetails.hoveredTabsWindow.closest("jqx-docking-layout");c&&c!==t?t._dragDetails.hoveredTabsWindow=void 0:t._dragDetails.hoveredTabsWindow.bringToFront()}}},{key:"_documentDragStartHandler",value:function(e){this._dragDetails&&e.preventDefault()}},{key:"_documentSelectStartHandler",value:function(e){var t=this;t._dragDetails&&t._dragDetails.started&&e.preventDefault()}},{key:"_documentUpHandler",value:function(e){var t=this,i=(e.originalEvent||e).target;if(!t._dragDetails||t._dragDetails&&!t._dragDetails.started||t.disabled)return void delete t._dragDetails;t._noStateChangeFiring=!0,t.removeAttribute("dragged"),t._dragDetails.windowFeedback.removeAttribute("tabs-window-dragged"),t._dragDetails.windowFeedback.removeAttribute("ontop");var a=i.closest&&i.closest("jqx-docking-layout");e.ctrlKey&&(t._snapFeedback._position=a=void 0);var n=t._snapFeedback?t._snapFeedback._position:void 0;if(!a&&!n||a&&!t._dragDetails.hoveredTabArea&&!n)t._dropWindowOutsideLayout(e,n,a);else if(t._dragDetails.hoveredTabsWindow&&n){if(t._dragDetails.hoveredTabArea&&t._dragDetails.hoveredTabArea.classList.contains("jqx-tabs-header-section")){var o=t._dragDetails.hoveredTabsWindow.itemLabels.length,r=i.closest(".jqx-tab-label-container"),l=void 0;r&&!r.$.hasClass("jqx-add-new-tab")&&r.tab||(r=t._dragDetails.hoveredTabsWindow.itemLabels[o-1],l=!0);var s=void 0;s=t._dragDetails.selectedTabLabel.$.hasClass("jqx-tab-label-container")&&t._dragDetails.windowFeedback.$.hasClass("jqx-tabs-window-feedback")?[t._dragDetails.selectedTabLabel.tab]:[].slice.call(t._dragDetails.windowFeedback.items);var d=void 0;if(t._dragDetails.hoveredTabsWindow.autoHide){var u=t._dragDetails.hoveredTabsWindow.tabPosition;d=t._dragDetails.windowFeedback["offset"+("top"===u||"bottom"===u?"Height":"Width")]}for(var c=0;c<s.length;c++)s[c]._autoHideWindowSize=d||t._dragDetails.windowFeedback.size,t._dragDetails.windowFeedback.removeChild(s[c]),t._dragDetails.hoveredTabsWindow.insert(l?o:r.tab.index,{node:s[c]}),o=t._dragDetails.hoveredTabsWindow.items.length;t._dragDetails.targetWindow=t._dragDetails.hoveredTabsWindow}else t._dragDetails.targetWindow=t._handleItemNesting(),t._eventAlreadyFired=!0;t.$.autoHideWindow.close(),t._noStateChangeFiring=!1}t._endDrag()}},{key:"_dropWindowOutsideLayout",value:function(e,t,i){var a=this,n=void 0
;if(!a.floatable||void 0!==a._dragDetails.windowFeedback.floatable&&!a._dragDetails.windowFeedback.floatable)return void a._cancelDragOperation(!0);if(a._dragDetails.windowFeedback.classList.contains("jqx-tabs-window-feedback")){var o=a._dragDetails.windowFeedback.items[0];if(o&&void 0!==o.floatable&&!o.floatable)return void a._cancelDragOperation(!0);var r=a._dragDetails.selectedTabLabel.tab,l=document.createElement("jqx-tabs-window");a.hasAnimation||(l.animation="none"),l.opened=!0,l.label=r.label,a._dragDetails.windowFeedback.removeChild(r),a._dragDetails.selectedTabLabel.tab.$.removeClass("jqx-visibility-hidden"),l.appendChild(a._dragDetails.selectedTabLabel.tab),l.style.left=e.pageX+"px",l.style.top=e.pageY+"px",l.style.maxWidth=l.style.maxHeight="",l.resizeMode=a._dragDetails.selectedTabsWindow.resizeMode,l.tabTextOrientation=a._dragDetails.windowFeedback.tabTextOrientation,l.tabPosition=a._dragDetails.windowFeedback.tabPosition,l.min=30,l.style.width=a._dragDetails.windowFeedback.style.width,l.style.height=a._dragDetails.windowFeedback.style.height,l.draggable=void 0===r.draggable||r.draggable,l.floatable=void 0===r.floatable||r.floatable,document.body.appendChild(l),l.pinned=l.autoHide=l.allowToggle=!1,a._noStateChangeFiring=!1,n=l}else a._dragDetails._parentInfo&&a._dragDetails._parentInfo.closestItem?(a._dragDetails.windowFeedback.parentElement!==document.body&&(a._dragDetails.windowFeedback.windowParent="body",document.body.appendChild(a._dragDetails.windowFeedback)),a._dragDetails.windowFeedback.style.maxWidth=a._dragDetails.windowFeedback.style.maxHeight="",a._dragDetails.windowFeedback.pinned=a._dragDetails.windowFeedback.allowToggle=a._dragDetails.windowFeedback.autoHide=!1,a._dragDetails.selectedTabLabel.$.hasClass("jqx-tab-label-container")&&(a._dragDetails.windowFeedback.label=a._dragDetails.selectedTabLabel.tab.label)):t||a._dragDetails.selectedItem instanceof JQX.SplitterItem||!a._dragDetails.selectedTabLabel.$.hasClass("jqx-tab-label-container")||a._returnItemToOrigin(a._dragDetails.windowFeedback),n=a._dragDetails.windowFeedback,n.locked=!1,a._dragDetails.selectedItem&&(a._noStateChangeFiring=!1);a.$.autoHideWindow.close(),i||(a._dragDetails.windowFeedback.pinned=!1),a._validateWindowPosition(n),a._dragDetails._parentInfo&&(n._parentInfo={closestItem:a._dragDetails._parentInfo.closestItem,position:a._dragDetails._parentInfo.position}),n.layout=a,a._dragDetails.targetWindow=n,n.resizeMode="both",a._setFloatingItemsHeaderButtons(n)}},{key:"_endDrag",value:function(){var e=this,t=e._dragDetails.windowFeedback;if(e.$.tabsWindowFeedback.close(),0===t.$.tabsElement._tabs.length&&t.parentElement&&!t.$.hasClass("jqx-tabs-window-feedback")&&t.parentElement.removeChild(t),e.contains(e._dragDetails.windowFeedback)||void 0===e._dragDetails.windowFeedback._originalPinnedState||(e._dragDetails.windowFeedback.pinned=e._dragDetails.windowFeedback._originalPinnedState,delete e._dragDetails.windowFeedback._originalPinnedState),e._originalBodyOverflow&&(document.body.style.overflow=e._originalBodyOverflow.overflow,document.body.style.eoverflowX=e._originalBodyOverflow.overflowX,document.body.style.overflowY=e._originalBodyOverflow.overflowY,delete e._originalBodyOverflow),e._dragDetails.targetWindow?(e._dragDetails.targetWindow.focus(),e._dragDetails.selectedTabsWindow.removeAttribute("active")):e._dragDetails.windowFeedback.bringToFront(),e._dragDetails.started=!1,e._dragDetails.hoveredItem=e._dragDetails.hoveredTabsWindow=e._dragDetails.isInsideTheLayout=void 0,t.removeAttribute("dragged"),e._handleSnapping(),delete e._dragDetails.selectedTabsWindow._ownerLayout,0===t.items.length&&(e.contains(t)&&(t.opened=!1),t.$.hasClass("jqx-tabs-window-feedback")&&e.$.container.appendChild(t)),!e._eventAlreadyFired&&!e._noStateChangeFiring){e._handleAutoSave();var i={item:e._dragDetails.targetWindow};i.type=e._items.indexOf(e._dragDetails.targetWindow)>-1?"dock":"float",e.$.fireEvent("stateChange",i)}if(e._noStateChangeFiring=e._eventAlreadyFired=void 0,e._dragDetails._parentInfo&&e._dragDetails._parentInfo.closestItem&&e._removeUnneccessaryItems(e._dragDetails._parentInfo.closestItem.closest("jqx-splitter")),t.closest("jqx-docking-layout"))return t.style.top=t.style.left="",void delete e._dragDetails;t.top&&(t.style.top=t.top),t.left&&(t.style.left=t.left),e._dragDetails.selectedTabLabel&&e._dragDetails.selectedTabLabel._lazyRemove&&(e._dragDetails.selectedTabLabel.parentElement&&e._dragDetails.selectedTabLabel.parentElement.removeChild(e._dragDetails.selectedTabLabel),delete e._dragDetails.selectedTabLabel._lazyRemove),t._cancelDragging(),delete e._dragDetails}},{key:"_getTabItemContent",value:function(e){for(var t=e.isCompleted?e.$.content:e,i=document.createDocumentFragment();t.firstChild;)i.appendChild(t.firstChild);return i}},{key:"_getHeaderLabelDimensions",value:function(){var e=this;if(e._dragDetails&&e._dragDetails.hoveredTabsWindow){var t=e._dragDetails.hoveredTabsWindow.$.tabsElement,i="left"===t.tabPosition||"right"===t.tabPosition,a=0,n=0,o=void 0,r=void 0;if(e._dragDetails.hoveredTabArea)o=e._dragDetails.hoveredTabArea.offsetWidth,r=e._dragDetails.hoveredTabArea.offsetHeight,a=e._dragDetails.hoveredTabArea.offsetLeft,n=e._dragDetails.hoveredTabArea.offsetTop;else if(t.$.tabStrip.children.length>0){var l=t.$.tabStrip.children[t.$.tabStrip.children.length-1];a=l.offsetLeft+(i?0:l.offsetWidth),n=l.offsetTop+(i?l.offsetHeight:0),o=l.offsetWidth,r=l.offsetHeight}e._dragDetails.hoveredTabArea=t.$.tabsHeaderSection;var s=0,d=0;"horizontal"===t.tabTextOrientation?s=t.$.scrollButtonNear.offsetWidth:d=t.$.scrollButtonNear.offsetHeight;var u=e._dragDetails.hoveredTabArea.getBoundingClientRect(),c=e._dragDetails.hoveredTabsWindow.$.tabsElement.$.tabStrip,p=c.getBoundingClientRect(),m=p.left-u.left+u.left+a-c.scrollLeft-s,v=p.top-u.top+u.top+n-c.scrollTop-d,h=Math.min(a-c.scrollLeft-s,0),f=Math.min(n-c.scrollTop-d,0);return{width:Math.min(p.width,Math.max(0,o+h),Math.max(0,p.left+p.width-m)),height:Math.min(p.height,Math.max(0,r+f),Math.max(0,p.top+p.height-v)),top:v+window.pageYOffset-f,left:m+window.pageXOffset-h}}}},{key:"_handleAutoSave",value:function(){var e=this;e.autoSaveState&&e.saveState()}},{key:"_handleAutoHiddenSplitterBars",value:function(){for(var e=this,t=e.$.itemsContainer.querySelectorAll(".auto-hide-left,.auto-hide-right, .auto-hide-top, .auto-hide-bottom"),i=0;i<t.length;i++)t[i].previousElementSibling instanceof JQX.SplitterBar?t[i].previousElementSibling.hide():t[i].nextElementSibling instanceof JQX.SplitterBar&&t[i].nextElementSibling.hide()}},{key:"_handleItemPositionInserting",value:function(e,t,i){var a=this;e.autoHide||i.indexOf("layout")>-1?a._handleLayoutItemInserting(t,e,i):i.indexOf("outside-")>-1?a._handleOutsideItemInserting(t,e,i):(i.indexOf("inside-")>-1?a._handleInsideItemInserting(t,e,i):a._handleNormalItemInserting(t,e,i),a._handleAutoSave(),a.$.fireEvent("stateChange",{type:"dock",item:e}),a._setSplitterBarVisibility())}},{key:"_handleInsideItemInserting",value:function(e,t,i){var a=this,n=document.createElement("jqx-splitter-item"),o=document.createElement("jqx-splitter-item"),r=e.closest("jqx-splitter-item"),l=e.closest("jqx-splitter"),s=a._items.indexOf(e),d=void 0;d=l&&1===l._items.length?l:document.createElement("jqx-splitter"),d.autoFitMode="proportional",d.liveResize=a.liveResize,d.resizeStep=a.resizeStep,t.windowParent=null,n.appendChild(t),e.windowParent=null,i=i.replace("inside-",""),d.orientation="top"===i||"bottom"===i?"horizontal":"vertical";var u=r["horizontal"===d.orientation?"offsetHeight":"offsetWidth"]/2;if(d.parentElement?d.insertBefore(n,"top"===i||"left"===i?r:null):(o.appendChild(e),e.min&&(o.min=e.min),"top"===i||"left"===i?(d.appendChild(n),d.appendChild(o)):(d.appendChild(o),d.appendChild(n)),r.appendChild(d)),t.size){var c="string"==typeof t.size&&t.size.indexOf("%")>-1;n.size=c?t.size:Math.min(u,parseFloat(t.size))}n.max=t.max||"",n.min=t.min?t.min:30,n.locked=t.locked||!1,n.collapsible=t.collapsible||!1,n.collapsed=t.collapsed||!1,"bottom"!==i&&"right"!==i||(s=Math.min(s+1,a._items.length)),t.pinned=!0,t.autoHide=t.allowToggle=t.maximized=t.minimized=t.collapsed=!1,t._originalTabPosition?(t.tabPosition=t._originalTabPosition,delete t._originalTabPosition):t.tabPosition="top",t._originalTextOrientation?(t.tabTextOrientation=t._originalTextOrientation,delete t._originalTextOrientation):t.tabTextOrientation="horizontal",a._items.splice(s,0,t),a._handleAutoHiddenSplitterBars()}},{key:"_handleLayoutItemInserting",value:function(e,t,i){var a=this,n=document.createElement("jqx-splitter-item"),o="bottom"===i||"top"===i?"offsetHeight":"offsetWidth";if(t.size||(t.size=t[o]),i=i.replace("layout-",""),n.size=t.size||"",n.max=t.max||"",n.min=t.min||"",n.locked=t.locked||!1,n.collapsible=t.collapsible||!1,n.collapsed=t.collapsed||!1,n.size&&!a._dockingAutoHideTabItem&&(n.size=Math.min(a[o]/2,parseFloat(t.size))),("horizontal"!==a.$.itemsContainer.orientation||"right"!==i&&"left"!==i)&&("vertical"!==a.$.itemsContainer.orientation||"top"!==i&&"bottom"!==i)){var r=i.indexOf("left")>-1||i.indexOf("top")>-1?a._items.filter(function(e){return e.opened})[0]:void 0;return t.windowParent=null,n.appendChild(t),a.insertBefore(n,r,a.$.itemsContainer),!0}var l=void 0,s=a.$.itemsContainer.orientation,d=a.$.itemsContainer,u=[].slice.call(d._items),c=function(e,t){d.appendChild(e),d.insertBefore(t,"right"===i||"bottom"===i?null:e)};t.windowParent=null,n.appendChild(t),u.map(function(e){return e.size=e[d._measurements.size]}),"right"===i||"bottom"===i?a._items.push(t):a._items.splice(0,0,t),d.removeAll(),d.orientation="top"===i||"bottom"===i?"horizontal":"vertical";var p=d[d._measurements.size]-n.size;if(u.length>1){var m=document.createElement("jqx-splitter");m.autoFitMode="end",m.orientation=s,m.liveResize=a.liveResize,m.resizeStep=a.resizeStep,l=document.createElement("jqx-splitter-item"),l.min=30,l.appendChild(m),l.size=p,c(l,n);for(var v=0;v<u.length;v++)m.appendChild(u[v]);m.autoFitMode="proportional"}else u[0].size=p,a._dockingAutoHideTabItem&&(d.autoFitMode="end"),c(u[0],n),d.autoFitMode="proportional";a._handleAutoHiddenSplitterBars(),a._handleAutoSave(),a.$.fireEvent("stateChange",{type:"dock",item:t}),a._setSplitterBarVisibility()}},{key:"_handleNormalItemInserting",value:function(e,t,i){var a=e.closest("jqx-splitter-item"),n=this,o=e.closest("jqx-splitter"),r=document.createElement("jqx-splitter-item"),l="right"===i||"bottom"===i?o._items.indexOf(a)+1:o._items.indexOf(a),s=n._items.indexOf(e);t.windowParent=null,r.appendChild(t),r.size=t.size||"",r.min=t.min||"",o.insert(l,r),"bottom"!==i&&"right"!==i||(s=Math.min(s+1,n._items.length)),t.pinned=!0,t.locked=!1,t.autoHide=t.allowToggle=t.maximized=t.minimized=t.collapsed=!1,t._originalTabPosition?(t.tabPosition=t._originalTabPosition,delete n._originalTabPosition):t.tabPosition="top",t._originalTextOrientation?(t.tabTextOrientation=t._originalTextOrientation,delete t._originalTextOrientation):t.tabTextOrientation="horizontal",n._items.splice(s,0,t),n._handleAutoHiddenSplitterBars()}},{key:"_handleOutsideItemInserting",value:function(e,t,i){var a=this,n=document.createElement("jqx-splitter-item"),o=e.closest("jqx-splitter");if(o||(o=a.$.itemsContainer),n.size=t.size||"",n.max=t.max||"",n.min=t.min||"",n.locked=t.locked||!1,n.collapsible=t.collapsible||!1,n.collapsed=t.collapsed||!1,o===a.$.itemsContainer)return t.windowParent=null,n.appendChild(t),a.insertBefore(n,i.indexOf("left")>-1||i.indexOf("top")>-1?a._items[0]:void 0,a.$.itemsContainer),!0;var r=o.closest("jqx-splitter-item"),l=document.createElement("jqx-splitter"),s=document.createElement("jqx-splitter-item");if(i=i.replace("outside-",""),l.autoFitMode="proportional",l.liveResize=a.liveResize,l.resizeStep=a.resizeStep,t.windowParent=null,n.appendChild(t),s.min=30,s.appendChild(o),l.orientation="top"===i||"bottom"===i?"horizontal":"vertical",r.appendChild(l),"right"===i||"bottom"===i?(l.appendChild(s),l.appendChild(n),a._items.splice(a._items.indexOf(e)+1,0,t)):(l.appendChild(n),l.appendChild(s),a._items.splice(a._items.indexOf(e),0,t)),n.size){var d=n.size;n.size="",n.size=d}else n.size=l[l._measurements.size]/2;a._handleAutoHiddenSplitterBars(),a._handleAutoSave(),a.$.fireEvent("stateChange",{type:"dock",item:t}),a._setSplitterBarVisibility()}},{key:"_handleLayout",value:function(){var e=this;if(e._items=[],"string"==typeof e.layout&&(e.layout=JSON.parse(e.layout)),null!==e.layout&&Array.isArray(e.layout))return void e._createItemsFromArray(e.layout);var t=Array.from(e.$.itemsContainer.children);e.$.itemsContainer.innerHTML="";for(var i=0;i<t.length;i++){"JQX-TABS-WINDOW"!==t[i].tagName&&t[i].parentElement.removeChild(t[i]),t[i].layout=e;var a=document.createElement("jqx-splitter-item");a.appendChild(t[i]),e.$.itemsContainer.appendChild(a),e._items.push(t[i])}}},{key:"_handleSnapping",value:function(e){var t=this;"simple"===t.snapMode?t._handleSimpleSnapping(e):t._handleAdvancedSnapping()}},{key:"_handleAdvancedSnapping",value:function(){var e=this;if(e._dragDetails)if(!e._snapFeedback||e._dragDetails.hoveredTabsWindow||(e._snapFeedback._position=void 0,e._snapFeedback.areaHighlighter&&e._snapFeedback.areaHighlighter.parentElement&&e._snapFeedback.areaHighlighter.parentElement.removeChild(e._snapFeedback.areaHighlighter),e._snapFeedback.headerHighlighter&&e._snapFeedback.headerHighlighter.parentElement&&e._snapFeedback.headerHighlighter.parentElement.removeChild(e._snapFeedback.headerHighlighter),e._dragDetails.hoveredItem)){if(e._snapFeedback||(e._snapFeedback={innerSnapElement:document.createElement("div"),outherSnapElement:document.createElement("div"),areaHighlighter:document.createElement("div"),headerHighlighter:document.createElement("div")},e._snapFeedback.innerSnapElement.classList.add("jqx-docking-layout-snap"),e._snapFeedback.areaHighlighter.classList.add("jqx-docking-layout-snap-highlighter"),e._snapFeedback.headerHighlighter.classList.add("jqx-docking-layout-snap-highlighter-header"),e._snapFeedback.innerSnapElement.innerHTML='\n                            <div>\n                                <div class="top">\n                                    <div><div></div></div>\n                                </div>\n                            </div>\n                            <div>\n                                <div class="left">\n                                    <div><div></div></div>\n                                </div>\n                                <div class="center">\n                                    <div><div></div></div>\n                                </div>\n                                <div class="right">\n                                    <div><div></div></div>\n                                </div>\n                            </div>\n                            <div>\n                                <div class="bottom">\n                                    <div><div></div></div>\n                                </div>\n                            </div>',e._snapFeedback.outherSnapElement.innerHTML='\n                            <div class="jqx-docking-layout-snap layout-top">\n                                <div><div></div></div>\n                            </div>\n                            <div class="jqx-docking-layout-snap layout-left">\n                                <div><div></div></div>\n                            </div>\n                            <div class="jqx-docking-layout-snap layout-right">\n                                <div><div></div></div>\n                            </div>\n                            <div class="jqx-docking-layout-snap layout-bottom">\n                                <div><div></div></div>\n                            </div>'),e._snapFeedback.areaHighlighter.parentElement&&(e._snapFeedback.areaHighlighter.removeAttribute("position"),e._snapFeedback.areaHighlighter.classList.remove("jqx-hidden")),e._snapFeedback.areaHighlighter.style.width="",e._snapFeedback.areaHighlighter.style.height="",e._snapFeedback._position=!e._dragDetails.hoveredItem||e._dragDetails.hoveredItem instanceof JQX.SplitterItem?"":e._dragDetails.hoveredItem.className,e._dragDetails.hoveredItem&&e._dragDetails.hoveredItem.className.indexOf("layout-")>-1){e._snapFeedback._position=e._snapFeedback._position.replace("jqx-docking-layout-snap ",""),e._snapFeedback.areaHighlighter.setAttribute("position",e._snapFeedback._position);var t=e._dragDetails.selectedTabsWindow;return void(t.dropPosition.indexOf("all")>-1||t.dropPosition.indexOf(e._snapFeedback._position)>-1?(e._dragDetails.hoveredItem.setAttribute("show",""),e.$.container.appendChild(e._snapFeedback.areaHighlighter),e._dragDetails.hoveredTabsWindow=!0,["layout-left","layout-right"].indexOf(e._snapFeedback._position)>-1?e._snapFeedback.areaHighlighter.style.width=e._dragDetails.windowFeedback.style.width||e._dragDetails.windowFeedback.offsetWidth+"px":["layout-top","layout-bottom"].indexOf(e._snapFeedback._position)>-1&&(e._snapFeedback.areaHighlighter.style.height=e._dragDetails.windowFeedback.style.height||e._dragDetails.windowFeedback.offsetHeight+"px")):(e._dragDetails.hoveredItem.removeAttribute("show"),e._snapFeedback._position=void 0))}var i=e._dragDetails.hoveredTabsWindow?e._dragDetails.hoveredTabsWindow.dropPosition:["all"];if(0===i.length&&(i=["all"]),e._dragDetails.hoveredTabsWindow instanceof JQX.TabsWindow&&e._dragDetails.hoveredTabArea&&e._dragDetails.hoveredTabArea.closest(".jqx-tabs-header-section")&&(i.indexOf("all")>-1||i.indexOf("header")>-1)){e._dragDetails.hoveredTabArea=e._dragDetails.hoveredTabArea.classList.contains("jqx-tab-label-container")?e._dragDetails.hoveredTabArea:void 0;var a=e._getHeaderLabelDimensions(),n=e._snapFeedback.headerHighlighter;n.style.width=a.width+"px",n.style.height=a.height+"px",n.style.top=a.top+"px",n.style.left=a.left+"px",n.classList.remove("jqx-hidden"),n.parentElement!==document.body&&document.body.appendChild(n),e._snapFeedback._position="header"}else e._snapFeedback.headerHighlighter.style.width=e._snapFeedback.headerHighlighter.style.height=0;var o=e._snapFeedback.innerSnapElement.closest("jqx-splitter-item");if(e._dragDetails.hoveredItem instanceof JQX.SplitterItem){if(o&&e._dragDetails.hoveredItem!==o&&o.removeChild(e._snapFeedback.innerSnapElement),e._dragDetails.hoveredItem.className.indexOf("auto-hide")<0){for(var r=e._snapFeedback.innerSnapElement.querySelectorAll(".top, .bottom, .left, .right, .center"),l=0;l<r.length;l++)i.indexOf(r[l].className)>-1||0===i.indexOf("all")?r[l].setAttribute("show",""):r[l].removeAttribute("show");e._snapFeedback.innerSnapElement.classList.remove("jqx-hidden"),e._dragDetails.hoveredItem.appendChild(e._snapFeedback.innerSnapElement)}for(var s=[].slice.call(e._snapFeedback.outherSnapElement.children),d=e._dragDetails.selectedTabsWindow,u=void 0,c=0;c<s.length;c++)u=s[c].className.replace("jqx-docking-layout-snap ",""),s[c].classList.remove("jqx-hidden"),d.dropPosition.indexOf("all")>-1||d.dropPosition.indexOf(u)>-1?s[c].setAttribute("show",""):s[c].removeAttribute("show"),e.$.container.appendChild(s[c])}if(!e._snapFeedback._position||i.indexOf("all")<0&&i.indexOf(e._snapFeedback._position)<0)return void(e._snapFeedback._position=e._dragDetails.hoveredTabArea=void 0);if("center"===e._snapFeedback._position&&e._items.filter(function(e){return e.opened}).length>0&&(e._dragDetails.hoveredTabArea=e._dragDetails.hoveredTabsWindow.$.tabsElement.$.tabsHeaderSection),["left","right"].indexOf(e._snapFeedback._position)>-1?e._snapFeedback.areaHighlighter.style.width=e._dragDetails.windowFeedback.style.width||e._dragDetails.windowFeedback.offsetWidth+"px":["top","bottom"].indexOf(e._snapFeedback._position)>-1&&(e._snapFeedback.areaHighlighter.style.height=e._dragDetails.windowFeedback.style.height||e._dragDetails.windowFeedback.offsetHeight+"px"),e._snapFeedback.areaHighlighter.setAttribute("position",e._snapFeedback._position),"header"===e._snapFeedback._position)e._dragDetails.hoveredTabsWindow.$.tabsElement.$.tabContentSection.appendChild(e._snapFeedback.areaHighlighter);else{var p=e._dragDetails.hoveredTabsWindow.closest("jqx-splitter").orientation;("left"!==e._snapFeedback._position&&"right"!==e._snapFeedback._position||"horizontal"!==p)&&("top"!==e._snapFeedback._position&&"bottom"!==e._snapFeedback._position||"vertical"!==p)||(e._snapFeedback._position="inside-"+e._snapFeedback._position),e._dragDetails.hoveredItem.closest("jqx-splitter-item").appendChild(e._snapFeedback.areaHighlighter)}}else if(e._snapFeedback.innerSnapElement&&e._snapFeedback.innerSnapElement.parentElement&&e._snapFeedback.innerSnapElement.parentElement.removeChild(e._snapFeedback.innerSnapElement),e._snapFeedback.outherSnapElement&&!e._dragDetails.isInsideTheLayout)for(var m=[].slice.call(e.$.container.children),v=0;v<m.length;v++)m[v].className.indexOf("jqx-docking-layout-snap")>-1&&e._snapFeedback.outherSnapElement.appendChild(m[v])}},{key:"_handleSimpleSnapping",value:function(e){function t(){i._snapFeedback.classList.contains("jqx-visibility-hidden")&&i._snapFeedback.parentElement&&i._snapFeedback.parentElement.removeChild(i._snapFeedback)}var i=this;if(!e)return i._dragDetails&&(i._dragDetails.hoveredTabsWindow=i._dragDetails.hoveredTabArea=void 0),void(i._snapFeedback&&(i._snapFeedback._position=void 0,i._snapFeedback.parentElement&&i._snapFeedback.classList.add("jqx-visibility-hidden")));i._snapFeedback||(i._snapFeedback=document.createElement("div"),i._snapFeedback.addEventListener("transitionend",t));for(var a=0;a<i._snapFeedback.classList.length;a++)i._snapFeedback.classList[a].indexOf("jqx-docking-snap-")>-1&&i._snapFeedback.classList.remove(i._snapFeedback.classList[a]);i._snapFeedback._position=e,e=e.replace("inside-",""),i._snapFeedback.classList.add("jqx-docking-snap-"+e+"-feedback"),i._snapFeedback.classList.remove("jqx-visibility-hidden");var n=0===e.indexOf("layout")?i._dragDetails.selectedTabsWindow.dropPosition:i._dragDetails.hoveredTabsWindow.dropPosition;0===n.length&&(n=["all"]),n.indexOf("all")>-1||n.indexOf(e)>-1?i._snapFeedback.removeAttribute("disabled"):(i._snapFeedback.setAttribute("disabled",""),i._snapFeedback._position=void 0);var o=void 0,r=void 0,l=void 0,s=void 0,d=void 0,u=i.getBoundingClientRect(),c=getComputedStyle(i._dragDetails.hoveredTabsWindow.$.contentSection),p=parseFloat(c.getPropertyValue("padding-left")||0),m=parseFloat(c.getPropertyValue("padding-right")||0),v=parseFloat(c.getPropertyValue("padding-top")||0),h=parseFloat(c.getPropertyValue("padding-bottom")||0),f=i.$.verticalHiddenItemsContainer.getElementsByClassName("auto-hide-left")[0],g=i.$.horizontalHiddenItemsContainer.getElementsByClassName("auto-hide-top")[0];switch(i._snapFeedback.style.display="",e){case"header":var _=i._getHeaderLabelDimensions();o=_.width,r=_.height,l=_.top,s=_.left,o&&r||(i._snapFeedback.style.display="none");break;case"left":case"right":d=i._dragDetails.hoveredTabArea.getBoundingClientRect(),r=i._dragDetails.hoveredTabArea.offsetHeight,o=i._dragDetails.hoveredTabArea.offsetWidth/2,l=d.top+window.pageYOffset,s=d.left+("right"===e?i._dragDetails.hoveredTabArea.offsetWidth/2:0)+window.pageXOffset;break;case"top":case"bottom":d=i._dragDetails.hoveredTabArea.getBoundingClientRect(),r=i._dragDetails.hoveredTabArea.offsetHeight/2,o=i._dragDetails.hoveredTabArea.offsetWidth,l=d.top+window.pageYOffset+("bottom"===e?i._dragDetails.hoveredTabArea.offsetHeight/2:0),s=d.left+window.pageXOffset;break;case"layout-left":case"layout-right":i._snapFeedback.parentElement&&void 0===i._snapFeedback.maxWidth&&(i._snapFeedback.maxWidth=parseFloat(getComputedStyle(i._snapFeedback).getPropertyValue("max-width"))||0),o=.07*i.$.itemsContainer.offsetWidth-(p+m),i._snapFeedback.maxWidth&&(o=Math.min(i._snapFeedback.maxWidth,o)),r=i.$.itemsContainer.offsetHeight-(v+h),l=u.top+window.pageYOffset+v+(g?g.offsetHeight:0),s=u.left+window.pageXOffset+("layout-left"===e?p:0)+(f?f.offsetWidth:0)+("layout-right"===e?i.$.itemsContainer.offsetWidth-o-m:0);break;case"layout-top":case"layout-bottom":i._snapFeedback.parentElement&&void 0===i._snapFeedback.maxHeight&&(i._snapFeedback.maxHeight=parseFloat(getComputedStyle(i._snapFeedback).getPropertyValue("max-height"))||0),r=.07*i.$.itemsContainer.offsetHeight-(v+h),i._snapFeedback.maxHeight&&(r=Math.min(i._snapFeedback.maxHeight,r)),o=i.$.itemsContainer.offsetWidth-(p+m),l=u.top+window.pageYOffset+(g?g.offsetHeight:0)+("layout-bottom"===e?i.$.itemsContainer.offsetHeight-r+v:v),s=u.left+window.pageXOffset+p+(f?f.offsetWidth:0)}i._snapFeedback.style.height=r+"px",i._snapFeedback.style.width=o+"px",i._snapFeedback.style.left=s+"px",i._snapFeedback.style.top=l+"px",i._snapFeedback._position||(i._dragDetails.hoveredTabArea=void 0),i._snapFeedback.parentElement||document.body.appendChild(i._snapFeedback)}},{key:"_handleItemNesting",value:function(){var e=this,t=e._dragDetails.windowFeedback;if(t.classList.contains("jqx-tabs-window-feedback")){var i=document.createElement("jqx-tabs-window"),a=e._dragDetails.selectedTabLabel.tab;i.min=30,i.opened=i.pinned=!0,i.headerPosition=e._dragDetails.selectedTabsWindow.headerPosition,e._dragDetails.selectedTabsWindow.autoHide?(i.tabTextOrientation=e._dragDetails.selectedTabsWindow._originalTextOrientation||"horizontal",i.tabPosition=e._dragDetails.selectedTabsWindow._originalTabPosition||"top"):(i.tabPosition=e._dragDetails.selectedTabsWindow.tabPosition,i.tabTextOrientation=e._dragDetails.selectedTabsWindow.tabTextOrientation),e.hasAnimation||(i.animation="none"),e._snapFeedback._position.indexOf("top")>-1||e._snapFeedback._position.indexOf("bottom")>-1?i.size=parseFloat(t.style.height)||t.offsetHeight:i.size=parseFloat(t.style.width)||t.offsetWidth,i.label=a.label,i.id="",e._dragDetails.windowFeedback.removeChild(a),i.appendChild(a),i.style.left=i.style.top="",i.draggable=void 0===a.draggable||a.draggable,i.floatable=void 0===a.floatable||a.floatable,t=i}else{var n=t.context;t.context=t,t.windowParent=null,t.context=n,e._snapFeedback._position.indexOf("top")>-1||e._snapFeedback._position.indexOf("bottom")>-1?t.size=parseFloat(t.style.height)||t.offsetHeight:t.size=parseFloat(t.style.width)||t.offsetWidth,t.style.top=t.style.left=t.style.width=t.style.height="",t.pinned=!0,t._originalTabPosition||(t._originalTabPosition=t.tabPosition)}return e._insert(e._items.indexOf(e._dragDetails.hoveredTabsWindow),t,e._snapFeedback._position),t}},{key:"_handleWindowOnDrag",value:function(){var e=this;if(!e._dragDetails.windowFeedback.hasAttribute("dragged")){var t=e._dragDetails.selectedItem,i=e._dragDetails.selectedTabsWindow,a=i.closest("jqx-splitter");if(e._setWindowFeedbackSize(),i!==e.$.autoHideWindow||e._dragDetails._parentInfo){if(a&&a!==e.$.itemsContainer&&1===a._items.length)for(;1===a._items.length&&a!==e.$.itemsContainer;)a=a.parentElement.closest("jqx-splitter"),t=t.parentElement.closest("jqx-splitter-item");if(!e._dragDetails._parentInfo)if(e._dragDetails._parentInfo={},i.closest("jqx-docking-layout")===e)if(i.autoHide)e._dragDetails._parentInfo.closestItem=e.$.itemsContainer,e._dragDetails._parentInfo.position=i.tabPosition,i._originalTabPosition&&(i.tabPosition=i._originalTabPosition),i._originalTextOrientation&&(i.tabTextOrientation=i._originalTextOrientation);else{var n=a._items.indexOf(t),o=a._items.length;1===o?(e._dragDetails._parentInfo.position="horizontal"===a.orientation?"top":"left",e._dragDetails._parentInfo.closestItem=void 0):(0===n?(e._dragDetails._parentInfo.position="horizontal"===a.orientation?"top":"left",e._dragDetails._parentInfo.closestItem=a._items[n+1].getElementsByTagName("jqx-tabs-window")[0]):(e._dragDetails._parentInfo.position="horizontal"===a.orientation?"bottom":"right",e._dragDetails._parentInfo.closestItem=a._items[n-1].getElementsByTagName("jqx-tabs-window")[0]),e._dragDetails._parentInfo.closestItemSize=e._dragDetails._parentInfo.closestItem[a._measurements.size],a!==e._dragDetails._parentInfo.closestItem.closest("jqx-splitter")?a===e.$.itemsContainer?e._dragDetails._parentInfo.position="layout-"+e._dragDetails._parentInfo.position:e._dragDetails._parentInfo.position="outside-"+e._dragDetails._parentInfo.position:2===a._items.length&&(e._dragDetails._parentInfo.position="inside-"+e._dragDetails._parentInfo.position))}else e._dragDetails._parentInfo.position={top:i.offsetTop,left:i.offsetLeft}}else e._dragDetails._parentInfo={},i._tabsWindow.items.length>1?(e._dragDetails._parentInfo.closestItem=i._tabsWindow,e._dragDetails._parentInfo.position=e.$.autoHideWindow._tab.index):(e._dragDetails._parentInfo.closestItem=e.$.itemsContainer,e._dragDetails._parentInfo.position=i._tabsWindow.tabPosition,e._dragDetails.windowFeedback.headerButtons=e.$.autoHideWindow._tabsWindow.headerButtons,e._noStateChangeFiring=!0,e.undock(e._dragDetails.windowFeedback)),e._originalTabIndex=void 0;if(a)e._dragDetails.windowFeedback.size=e._dragDetails.windowFeedback[a._measurements.size];else if(i===e.$.autoHideWindow){var r=e.$.autoHideWindow._tabsWindow.tabPosition;e._dragDetails.windowFeedback.size=e.$.autoHideWindow["offset"+("top"===r||"bottom"===r?"Height":"Width")]}e._dragDetails.windowFeedback.setAttribute("dragged",""),e._dragDetails.windowFeedback.parentElement!==document.body&&(e._dragDetails.windowFeedback.windowParent="body",document.body.appendChild(e._dragDetails.windowFeedback)),e._dragDetails.windowFeedback.autoHide=!1,e._dragDetails.windowFeedback.allowToggle=!1,"advanced"!==e.snapMode&&"none"===e._dragDetails.windowFeedback.tabPosition&&(e._dragDetails.windowFeedback.tabPosition="top");var l=e._items.indexOf(e._dragDetails.windowFeedback);l>-1&&e._items.splice(l,1),t&&t.parentElement&&(0!==e._items.filter(function(e){return e.opened}).length||e.$.placeholderItem.parentElement||(e.$.itemsContainer._items[0].className.indexOf("auto-hide")>-1?e.$.itemsContainer.insert(1,e.$.placeholderItem):e.$.itemsContainer.insert(0,e.$.placeholderItem)),a?(a.removeChild(t),e._dragDetails.initialSplitterOrientation="horizontal"===a.orientation,e._removeUnneccessaryItems(a)):i===e.$.autoHideWindow&&0===e.$.autoHideWindow._tabsWindow.items.length&&e.$.autoHideWindow._tabsWindow.closest("jqx-splitter").removeChild(t),e._setAutoHidePaddings())}}},{key:"_setWindowFeedbackSize",value:function(){var e=this,t=e._dragDetails.selectedTabsWindow;if(!e._dragDetails._isWindowFeedbackSizeSet){var i=void 0,a=void 0;t.autoHide&&t._autoHideWindow?"top"===t.tabPosition||"bottom"===t.tabPosition?(i=t.offsetWidth+"px",a=t._autoHideWindow.offsetHeight+"px"):(i=t._autoHideWindow.offsetWidth+"px",a=t.offsetHeight+"px"):(i=t.style.width||t.offsetWidth+"px",a=t.style.height||t.offsetHeight+"px"),e._dragDetails.windowFeedback.style.width=i,e._dragDetails.windowFeedback.style.height=a,e._dragDetails._isWindowFeedbackSizeSet=!0}}},{key:"_insert",value:function(e,t,i){var a=this;if("number"!=typeof e)return void a.error(a.localize("invalidIndex",{elementType:a.nodeName.toLowerCase(),method:arguments[3]||"insert"}));if("object"!==(void 0===t?"undefined":babelHelpers.typeof(t))||t instanceof HTMLElement){if("string"==typeof t)t=document.getElementById(t);else if(t instanceof JQX.TabItem){var n=t.closest("jqx-tabs-window");if(n&&n.autoHide)return void a._dock(n,i);t=a._createTabsWindowFromObject({label:t.label,items:[{label:t.label,content:t.content}]})}}else t=a._createTabsWindowFromObject(t);if(!(t&&t instanceof JQX.TabsWindow))return void a.error(a.localize("invalidNode",{elementType:a.nodeName.toLowerCase(),method:arguments[3]||"insert"}));if(a.contains(t)&&t.autoHide)return void a._dock(t,i);if(i&&i.indexOf("layout")>-1){var o=a._items.filter(function(e){return e.opened});e=o>0?i.indexOf("left")>-1||i.indexOf("top")>-1?0:o[o.length-1]:0}var r=a._items[e];a._items[e]&&!a._items[e].opened&&(r=a._items.filter(function(e){return e.opened})[0]),0===a._items.length&&(a.$.itemsContainer.orientation=i.indexOf("left")>-1||i.indexOf("right")>-1?"vertical":"horizontal"),t.style.top=t.style.left="",
t.style.width=t.style.height="",t.opened=!0,t.pinned=!0;var l=t.closest("jqx-splitter-item");if(!r)return a.insertBefore(t,r||null),void(l&&l.closest("jqx-splitter").removeChild(l));if(delete t._parentInfo,t.autoHide&&(a.$.verticalHiddenItemsContainer.contains(t)?a.$.verticalHiddenItemsContainer.removeChild(t.closest("jqx-splitter-item")):a.$.horizontalHiddenItemsContainer.contains(t)&&a.$.horizontalHiddenItemsContainer.removeChild(t.closest("jqx-splitter-item"))),i?a._handleItemPositionInserting(t,r,i):a.insertBefore(t,r||null),l){var s=l.closest("jqx-splitter");s&&s.removeChild(l)}if(t.autoHide)a._autoHide(t,i);else{var d=document.scrollingElement||document.documentElement,u=d.scrollLeft,c=d.scrollTop;t.focus(),window.scrollTo(u,c)}a._items.filter(function(e){return e.opened}).length>0&&a.$.placeholderItem.parentElement&&a.$.itemsContainer.removeChild(a.$.placeholderItem),t.layout=a,t.resizeMode="none",t.minimized=!1,t.maximized=!1,a._setDockedItemsHeaderButtons(t)}},{key:"_itemsContainerCloseHandler",value:function(e){var t=this;if(e.target instanceof JQX.Tabs){var i=e.target;return void(0===i._tabs.length&&t.removeChild(i.closest("jqx-tabs-window")))}if(e.target instanceof JQX.TabsWindow){var a=e.target.closest("jqx-splitter-item"),n=a.closest("jqx-splitter");n&&(n.removeChild(a),t._removeUnneccessaryItems(n)),e.target.close(),0!==t._items.filter(function(e){return e.opened}).length||t.$.placeholderItem.parentElement||t.$.itemsContainer.appendChild(t.$.placeholderItem)}}},{key:"_itemsContainerAutoHideHandler",value:function(e){var t=this,i=e.detail.button,a=i.closest("jqx-tabs-window");if(a){var n=a.closest("jqx-splitter-item");if(n){var o=a.closest("jqx-splitter");if(o){var r=o.items,l="horizontal"===o.orientation,s=r.indexOf(n)>=r.length/2;l?s?t.autoHideBottom(a):t.autoHideTop(a):s?t.autoHideRight(a):t.autoHideLeft(a)}}}}},{key:"_itemsContainerMenuHandler",value:function(e){var t=this,i=t.$.menu,a=t.getBoundingClientRect(),n=e.detail.button.getBoundingClientRect();i.open(n.left-a.left,n.top-a.top),t._menuOpenButton=e.detail.button}},{key:"_itemsContainerResizeHandler",value:function(){var e=this,t=event.target._items?event.target._items[event.detail.firstItem.index]:void 0;e._handleAutoSave(),e.$.fireEvent("stateChange",{type:"resize",item:t})}},{key:"_keyDownHandler",value:function(e){var t=this;if(!t.disabled&&t.hasAttribute("dragged")&&t._snapFeedback)if(e.preventDefault(),"Control"===e.key)if("advanced"===t.snapMode){for(var i in t._snapFeedback)if(t._snapFeedback[i]instanceof HTMLElement){if("outherSnapElement"===i){for(var a=t.$.container.children,n=0;n<a.length;n++)a[n].className.indexOf("jqx-docking-layout-snap")>-1&&a[n].classList.add("jqx-hidden");continue}t._snapFeedback[i].classList.add("jqx-hidden")}}else t._snapFeedback.classList.add("jqx-hidden");else"Escape"===e.key&&t._cancelDragOperation()}},{key:"_keyUpHandler",value:function(e){var t=this;if(!t.disabled&&"Control"===e.key&&t.hasAttribute("dragged")&&t._snapFeedback)if(e.preventDefault(),"advanced"===t.snapMode){for(var i in t._snapFeedback)if(t._snapFeedback[i]instanceof HTMLElement){if("outherSnapElement"===i){for(var a=t.$.container.children,n=0;n<a.length;n++)a[n].className.indexOf("jqx-docking-layout-snap")>-1&&a[n].classList.remove("jqx-hidden");continue}t._snapFeedback[i].classList.remove("jqx-hidden")}t._handleSnapping()}else t._snapFeedback.classList.remove("jqx-hidden")}},{key:"_loadState",value:function(e){this._createItemsFromArray(e,!0)}},{key:"_removeAll",value:function(e){function t(e){for(var t=e._items,i=0;i<t.length;i++)t[i].$.hasClass("jqx-docking-layout-item-holder")||e.removeChild(t[i])}var i=this;i.$.itemsContainer.removeAll(),t(i.$.horizontalHiddenItemsContainer),t(i.$.verticalHiddenItemsContainer),i._items=[],e||i.$.itemsContainer.appendChild(i.$.placeholderItem)}},{key:"_removeUnneccessaryItems",value:function(e){if(e)for(var t=this,i=void 0;0===e._items.length&&e!==t.$.itemsContainer;)(i=e.closest("jqx-splitter-item")).removeChild(e),e=i.closest("jqx-splitter"),e.removeChild(i)}},{key:"_returnItemToOrigin",value:function(e){var t=this;if(e&&t._dragDetails){var i=t._dragDetails._parentInfo;if(i)if("number"==typeof i.position)for(var a=[].slice.call(e.items),n=0;n<a.length;n++)e.removeChild(a[n]),i.closestItem.insert(i.position,{node:a[n]});else"object"===babelHelpers.typeof(i.position)?(e.style.top=i.position.top+"px",e.style.left=i.position.left+"px"):i.closestItem?i.closestItem===t.$.itemsContainer?t._autoHide(e,i.position):t._insert(t._items.indexOf(i.closestItem),e,i.position):t.appendChild(e)}}},{key:"_setAutoHidePaddings",value:function(){var e=this,t=e.$.verticalHiddenItemsContainer.getElementsByClassName("auto-hide-left")[0],i=e.$.verticalHiddenItemsContainer.getElementsByClassName("auto-hide-right")[0],a=e.$.horizontalHiddenItemsContainer.getElementsByClassName("auto-hide-top")[0],n=e.$.horizontalHiddenItemsContainer.getElementsByClassName("auto-hide-bottom")[0];a&&(a.style.paddingLeft=t?t.offsetWidth+"px":"",a.style.paddingRight=i?i.offsetWidth+"px":""),n&&(n.style.paddingLeft=t?t.offsetWidth+"px":"",n.style.paddingRight=i?i.offsetWidth+"px":"")}},{key:"_setDockedItemsHeaderButtons",value:function(e){var t=e.headerButtons,i=["close","maximize","minimize"],a=t.filter(function(e){return i.indexOf(e)<0});a=0===a.length?["close","autoHide"]:t,e.headerButtons=a}},{key:"_setFloatingItemsHeaderButtons",value:function(e){var t=["close","autoHide"];e._originalTabPosition=e.tabPosition;var i=e.headerButtons.filter(function(e){return t.indexOf(e)<0});i=0===i.length?["close","maximize","minimize"]:e.headerButtons,e.headerButtons=i}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)e.removeAttribute("tabindex");else{var t=e.tabIndex>0?e.tabIndex:0;e.setAttribute("tabindex",t)}}},{key:"_setSnappingMarkers",value:function(e,t){var i=this,a=JQX.Utilities.Core.isMobile?document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target,n=a.closest&&a.closest("jqx-docking-layout");if("advanced"===i.snapMode){if(e.ctrlKey)return;return i._dragDetails.hoveredItem=a.closest(".jqx-docking-layout-snap")?a:i._dragDetails.hoveredItem&&i._dragDetails.hoveredItem.getElementsByTagName("jqx-splitter").length>0?void 0:i._dragDetails.hoveredItem,i._dragDetails.hoveredTabArea=t?a.closest(".jqx-tab-label-container")||t:i._dragDetails.hoveredTabArea,void i._handleSnapping()}if(!n||n!==i)return void i._handleSnapping();if(!i._dragDetails.hoveredTabsWindow||i._dragDetails.windowFeedback!==i.$.tabsWindowFeedback&&i._dragDetails.hoveredTabsWindow===i._dragDetails.selectedTabsWindow)return i._dragDetails.hoveredItem=a.closest(".jqx-docking-layout-snap")?a:i._dragDetails.hoveredItem&&i._dragDetails.hoveredItem.getElementsByTagName("jqx-splitter").length>0?void 0:i._dragDetails.hoveredItem,void i._handleSnapping();var o={};if(i._dragDetails.hoveredItem){var r=i._dragDetails.hoveredItem.getBoundingClientRect(),l=i.$.itemsContainer.getBoundingClientRect();o.left=i._dragDetails.hoveredItem?r.left-l.left:0,o.top=i._dragDetails.hoveredItem?r.top-l.top:0}else o.left=o.top=0;var s=i.getBoundingClientRect(),d=i.$.itemsContainer.getBoundingClientRect(),u=Math.max(0,e.pageX-window.pageXOffset-s.left-(d.left-s.left)),c=Math.max(0,e.pageY-window.pageYOffset-s.top-(d.top-s.top));if(i._dragDetails.hoveredTabArea===t)i._dragDetails.hoveredTabArea=a.closest(".jqx-tab-label-container"),i._handleSnapping("header");else if(i._dragDetails.hoveredItem&&!i._dragDetails.hoveredTabsWindow.autoHide)if(u<.05*i.$.itemsContainer.offsetWidth&&u<.15*i._dragDetails.hoveredItem.offsetWidth)i._handleSnapping("layout-left",e);else if(u>.95*i.$.itemsContainer.offsetWidth&&u>.85*i._dragDetails.hoveredItem.offsetWidth+i._dragDetails.hoveredItem.offsetLeft)i._handleSnapping("layout-right");else if(c<.05*i.$.itemsContainer.offsetHeight)i._handleSnapping("layout-top");else if(c>.95*i.$.itemsContainer.offsetHeight)i._handleSnapping("layout-bottom");else if(a.closest(".jqx-tabs-content-section")){var p=i._dragDetails.hoveredItem.closest("jqx-splitter").orientation;u<o.left+.3*i._dragDetails.hoveredTabArea.offsetWidth?i._handleSnapping("horizontal"===p?"inside-left":"left"):u>o.left+.7*i._dragDetails.hoveredTabArea.offsetWidth?i._handleSnapping("horizontal"===p?"inside-right":"right"):c<o.top+i._dragDetails.hoveredTabArea.offsetTop+.5*i._dragDetails.hoveredTabArea.offsetHeight+i._dragDetails.hoveredTabsWindow.$.headerSection.offsetHeight?i._handleSnapping("vertical"===p?"inside-top":"top"):i._handleSnapping("vertical"===p?"inside-bottom":"bottom")}else i._handleSnapping();else i._handleSnapping()}},{key:"_setSplitterBarVisibility",value:function(){for(var e=this,t=e.$.itemsContainer.getElementsByTagName("jqx-splitter-bar"),i=0;i<t.length;i++)e.hideSplitterBars?t[i].hide():t[i].show()}},{key:"_validateWindowPosition",value:function(e){e.$.addClass("no-transition","");var t=document.scrollingElement||document.documentElement;t.scrollTop>0?e.style.top=(parseFloat(e.style.top)||e.offsetTop)+"px":e.style.top=Math.max(0,Math.min(e.offsetTop,document.documentElement.clientHeight-e.offsetHeight))+"px",t.scrollLeft>0?e.style.left=(parseFloat(e.style.left)||e.offsetTop)+"px":e.style.left=Math.max(0,Math.min(e.offsetLeft,document.documentElement.clientWidth-e.offsetWidth))+"px",requestAnimationFrame(function(){return e.$.removeClass("no-transition")})}},{key:"autoHideItems",get:function(){var e=this;if(e.isReady)return e.getAutoHideItems()}},{key:"items",get:function(){var e=this;if(e.isReady)return e._items.filter(function(e){return e.opened}).concat(e.getAutoHideItems())}},{key:"closedItems",get:function(){var e=this;if(e.isReady)return e._items.filter(function(e){return!e.opened})}},{key:"undockedItems",get:function(){var e=this;if(e.isReady){for(var t=document.getElementsByTagName("jqx-tabs-window"),i=[],a=0;a<t.length;a++)t[a].closest("jqx-docking-layout")||t[a].layout!==e||(t[a].undocked=!0,i.push(t[a]));return i}}}],[{key:"properties",get:function(){return{autoLoadState:{value:!1,type:"boolean"},autoSaveState:{value:!1,type:"boolean"},draggable:{value:!0,type:"boolean"},floatable:{value:!0,type:"boolean"},hideSplitterBars:{value:!1,type:"boolean"},layout:{value:[],type:"array",reflectToAttribute:!1},liveResize:{value:!1,type:"boolean"},messages:{value:{en:{invalidNode:'{{elementType}}: "{{method}}" method accepts an instance of JQX.TabsWindow',invalidNodeRemove:'{{elementType}}: "{{method}}" method accepts an instance of JQX.TabsWindow that is a child of the DockingLayout.',invalidNodeType:'{{elementType}}: The method "{{method}}" requires a "jqx-tabs-window" element to be passed as an argument.',invalidTargetNode:'{{elementType}}: The method "{{method}}" requires an index of an item that is not hidden/closed. Only visible items that are part of the Layout are valid.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number.',noId:"jqxDockingLayout requires an id in order to save/load a state."}},type:"object",extend:!0},resizeStep:{value:5,type:"number"},snapMode:{value:"advanced",allowedValues:["simple","advanced"],type:"string"}}}},{key:"listeners",get:function(){return{"autoHideWindow.close":"_autoHideWindowCloseHandler","autoHideWindow.resizeEnd":"_autoHideWindowResizeEndHandler",dock:"_dockEventHandler",move:"_moveHandler","document.down":"_documentDownHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.selectstart":"_documentSelectStartHandler","document.dragstart":"_documentDragStartHandler","container.tabStripResize":"_containerTabStripResizeHandler","itemsContainer.close":"_itemsContainerCloseHandler","itemsContainer.autoHide":"_itemsContainerAutoHideHandler","itemsContainer.resizeEnd":"_itemsContainerResizeHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",mouseleave:"_mouseLeaveHandler"}}},{key:"requires",get:function(){return{"JQX.TabsWindow":"jqxwindow.js","JQX.Splitter":"jqxsplitter.js"}}}]),t}(JQX.ContentElement)),JQX("jqx-file-upload",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="fileUploadHeader" class ="jqx-file-upload-header">\n                        <jqx-button class ="jqx-browse-button" id="browseButton" disabled="[[disabled]]" theme="[[theme]]"></jqx-button>\n                        <input type="file" class ="jqx-browse-input" id="browseInput" name="[[name]]" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]" multiple="[[multiple]]" webkitdirectory="[[directory]]" mozdirectory="[[directory]]" />\n                    </div>\n                    <div id="fileUploadContainer" class ="jqx-file-upload-container">\n                        <div id="dropZone" class ="jqx-drop-zone"></div>\n                        <div id="selectedFiles" class ="jqx-selected-files"></div>\n                    </div>\n                    <div id="totalFiles" class ="jqx-total-files jqx-hidden">Total flies: 0</div>\n                    <div id="fileUploadFooter" class ="jqx-file-upload-footer jqx-hidden">\n                        <jqx-button class ="jqx-upload-all-button success" id="uploadAllButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"" theme="[[theme]]"></jqx-button>\n                        <jqx-button class ="jqx-cancel-all-button error" id="cancelAllButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]" theme="[[theme]]"></jqx-button>\n                        <jqx-button class ="jqx-pause-all-button primary" id="pauseAllButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]" theme="[[theme]]"></jqx-button>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),e){case"accept":n.$.browseInput.accept=a;break;case"dropZone":case"appendTo":n._handleContainers();break;case"messages":case"locale":n._updateTextValues();break;case"multiple":n.$.browseButton.disabled=!!(!n.multiple&&n._selectedFiles.length>0||n.disabled),!a&&n._selectedFiles.length>1&&(n._selectedFiles.splice(1),n._renderSelectedFiles());break;case"itemTemplate":n._items.length>0&&(n._renderSelectedFiles(),n._handleComponentsByAvailableHeight())}}},{key:"attached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),this._handleContainers()}},{key:"detached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this);var e=this;e.$.fileUploadContainer.contains(e.$.dropZone)||e.$.fileUploadContainer.insertBefore(e.$.dropZone,e.$.fileUploadContainer.firstChild),e.$.fileUploadContainer.contains(e.$.selectedFiles)||e.$.fileUploadContainer.appendChild(e.$.selectedFiles)}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._setInitialValues(),e._updateTextValues(),e._handleContainers(),e._handleComponentsByAvailableHeight()}},{key:"browse",value:function(){var e=this;e.disabled||!e.multiple&&e._selectedFiles.length>0||e.$.browseInput.click()}},{key:"cancelAll",value:function(){var e=this;if(!e.disabled&&0!==e._items.length){for(var t=e._items.length-1;t>=0;t--)e.cancelFile(e._items[t].index);e.$.browseButton.disabled=!!(!e.multiple&&e._selectedFiles.length>0||e.disabled)}}},{key:"cancelFile",value:function(e){var t=this;if("number"==typeof e&&!t.disabled&&0!==t._selectedFiles.length){var i=t._getFileItem(e,!0);if(!i)return void t.error(t.localize("wrongItemIndex",{elementType:t.nodeName.toLowerCase()}));var a=t._items.indexOf(i);t.$.selectedFiles.removeChild(i),i&&i.xhr&&i.xhr.abort(),t._selectedFiles.splice(a,1),t._items.splice(a,1),t.$.fireEvent("uploadCanceled",{filename:i.file.name,type:i.file.type,size:i.file.size,index:i.index}),t.$.browseButton.disabled=!!(!t.multiple&&t._selectedFiles.length>0||t.disabled),0===t._selectedFiles.length&&t.$.fileUploadFooter.classList.add("jqx-hidden"),t._handleComponentsByAvailableHeight()}}},{key:"pauseAll",value:function(){var e=this;if(!e.disabled&&0!==e._items.length)for(var t=e._items.length-1;t>=0;t--){var i=e._items[t];i.xhr&&i.xhr.abort()}}},{key:"pauseFile",value:function(e){var t=this;if(!("number"!=typeof e&&"string"!=typeof e||t.disabled||0===t._items.length)){var i=t._getFileItem(e,!0);if(!i)return void t.error(t.localize("wrongItemIndex",{elementType:t.nodeName.toLowerCase()}));i.classList.remove("jqx-uploading-start"),i&&i.xhr&&i.xhr.abort(),t.$.fireEvent("uploadPaused",{filename:i.file.name,type:i.file.type,size:i.file.size,index:i.index})}}},{key:"uploadAll",value:function(){var e=this;if(!e.disabled&&0!==e._items.length)for(var t=e._items.length-1;t>=0;t--)e._items[t].uploading||e.uploadFile(e._items[t].index)}},{key:"uploadFile",value:function(e){var t=this,i=!1;if("number"==typeof e&&!t.disabled&&0!==t._selectedFiles.length){var a=t._getFileItem(e,!0);if(a){var n=new FormData,o=t.showProgress?a.getElementsByTagName("jqx-progress-bar")[0]:null,r=a.file;a.classList.remove("jqx-pause","jqx-error"),a.classList.add("jqx-uploading-start"),n.append("userfile[]",r);var l=new XMLHttpRequest;l.open("POST",t.uploadUrl),t.setHeaders&&"function"==typeof t.setHeaders&&t.setHeaders(l,r),t.$.fireEvent("uploadStarted",{filename:a.file.name,type:a.file.type,size:a.file.size,index:a.index}),l.upload.onprogress=function(e){i||(i=!0,a.classList.remove("jqx-uploading-start"),a.classList.add("jqx-uploading"),a.uploading=!0,a.xhr=l),o&&(o.value=Math.round(e.loaded/e.total*100)),a.classList.remove("jqx-pause","jqx-error")},l.onabort=function(){a.classList.remove("jqx-uploading-start","jqx-uploading"),a.classList.add("jqx-pause"),a.addEventListener("animationend",function(){a.classList.remove("jqx-pause","jqx-error")})},l.onerror=function(){a.classList.remove("jqx-uploading-start","jqx-uploading"),a.classList.add("jqx-error"),a.addEventListener("animationend",function(){a.classList.remove("jqx-pause","jqx-error")})},l.onload=function(){if(i=!1,a.classList.remove("jqx-uploading-start","jqx-uploading"),l.status>=200&&l.status<=299){var e=t._items.indexOf(a);t.$.selectedFiles.removeChild(a),t._selectedFiles.splice(t._selectedFiles.indexOf(r),1),t._items.splice(e,1),t.$.browseButton.disabled=!!(!t.multiple&&t._selectedFiles.length>0||t.disabled),t.$.fireEvent("uploadCompleted",{filename:a.file.name,type:a.file.type,size:a.file.size,status:l.status,index:a.index}),0===t._selectedFiles.length&&t.$.fileUploadFooter.classList.add("jqx-hidden")}else a.classList.add("jqx-error"),a.classList.remove("jqx-uploading"),t.$.fireEvent("uploadError",{filename:a.file.name,type:a.file.type,size:a.file.size,status:l.status,index:a.index})},l.onreadystatechange=function(){t.responseHandler&&"function"==typeof t.responseHandler&&t.responseHandler(l)},l.send(n)}}}},{key:"_selectedFilesClickHandler",value:function(e){var t=this;if(!t.disabled){var i=e.target,a=i.closest(".jqx-item-upload-button"),n=i.closest(".jqx-item-cancel-button"),o=i.closest(".jqx-item-pause-button"),r=i.closest(".jqx-file");a?t.uploadFile(r.index):n?t.cancelFile(r.index):o&&t.pauseFile(r.index)}}},{key:"_browseInputChangeHandler",value:function(){var e=this,t=e._filterNewFiles(Array.from(e.$.browseInput.files)),i=[];e.disabled||0===t.length||(i=e.validateFile&&"function"==typeof e.validateFile?t.filter(function(t){return!!e.validateFile(t)||(e.$.fireEvent("validationError",{filename:t.name,type:t.type,size:t.size}),!1)}):t,e._selectedFiles=e._selectedFiles.concat(i),0!==e._selectedFiles.length&&(e._renderSelectedFiles(i),e.$.browseButton.disabled=!!(!e.multiple&&e._selectedFiles.length>0||e.disabled),e.$.browseInput.value="",e.autoUpload&&e.uploadAll()))}},{key:"_defaultItemTemplate",value:function(e){var t=this;return'<span class ="jqx-item-name">'+e+'</span>\n                <span class ="jqx-item-upload-button" title="'+t.localize("uploadFile")+'"></span>\n                <span class ="jqx-item-cancel-button" title="'+t.localize("cancelFile")+'"></span>\n                <span class ="jqx-item-pause-button" title="'+t.localize("pauseFile")+'"></span>\n                <jqx-progress-bar></jqx-progress-bar>'}},{key:"_dropZoneHandler",value:function(e){var t=this;if(e.preventDefault(),e.stopPropagation(),!t.disabled){if("dragenter"===e.type||"dragleave"===e.type)return void("dragenter"===e.type?t.$.dropZone.classList.add("jqx-drag-over"):t.$.dropZone.classList.remove("jqx-drag-over"));if("drop"===e.type){if(t.$.dropZone.classList.remove("jqx-drag-over"),!t.multiple&&t._selectedFiles.length>0)return;if(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length){var i=t._filterNewFiles(Array.from(e.dataTransfer.files));if(0===i.length)return;t.multiple||i.splice(1),t._selectedFiles=t._selectedFiles.concat(i),t._renderSelectedFiles(i)}t.$.browseButton.disabled=!!(!t.multiple&&t._selectedFiles.length>0||t.disabled)}}}},{key:"_filterNewFiles",value:function(e){for(var t=this,i=[],a=0;a<e.length;a++){for(var n=!0,o=0;o<t._selectedFiles.length;o++){var r=t._selectedFiles[o],l=e[a];if(l.name===r.name&&l.size===r.size&&l.type===r.type&&l.lastModified===r.lastModified){n=!1;break}}n&&i.push(e[a])}return i}},{key:"_getFileItem",value:function(e,t){var i=this,a=null;if(e&&("string"==typeof e||"number"==typeof e)){if(!i._items||0===i._items.length)return null;for(var n=0;n<i._items.length;n++){var o=i._items[n];(t&&o.index===parseInt(e)||o.file.name===e)&&(a=o)}return a}}},{key:"_handleContainers",value:function(){var e=this,t=e._validateDOMElement(e.dropZone),i=e._validateDOMElement(e.appendTo);t?t.appendChild(e.$.dropZone):e.$.fileUploadContainer.insertBefore(e.$.dropZone,e.$.fileUploadContainer.firstChild),i?i.appendChild(e.$.selectedFiles):e.$.fileUploadContainer.appendChild(e.$.selectedFiles)}},{key:"_handleItemTemplate",value:function(e){var t=this,i=t.itemTemplate;if(!("content"in document.createElement("template")))return void t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}));if(!i)return t._defaultItemTemplate(e);if("string"==typeof i&&(i=document.getElementById(i)),null===i||!("content"in i))return void t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"template"}));var a=i.innerHTML,n=/{{\w+}}/g;return a.replace(n,e)}},{key:"_renderSelectedFiles",value:function(e){var t=this,i=document.createDocumentFragment(),a=e||t._selectedFiles;e||(t._items=[],t.$.selectedFiles.innerHTML="");for(var n=0;n<a.length;n++){var o=t.directory?a[n].webkitRelativePath:a[n].name,r=document.createElement("div");t._incrementIndex++,r.className="jqx-file",r.index=t._incrementIndex,r.setAttribute("item-id",t._incrementIndex),r.innerHTML=t.itemTemplate?t._handleItemTemplate(o):t._defaultItemTemplate(o),r.file=a[n],r.uploading=!1,r.xhr=null,i.appendChild(r),t._items.push(r),t.$.fireEvent("fileSelected",{filename:a[n].name,type:a[n].type,size:a[n].size,index:r.index})}t.$.selectedFiles.appendChild(i),t.$.fileUploadFooter.classList.remove("jqx-hidden"),t._handleComponentsByAvailableHeight()}},{key:"_setInitialValues",value:function(){var e=this;e.$.browseInput.accept=e.accept,e._selectedFiles=[],e._items=[],e._incrementIndex=0}},{key:"_updateTextValues",value:function(){for(var e=this,t=["browse","uploadAll","cancelAll","pauseAll"],i=0;i<t.length;i++){var a=t[i],n=a+"Button";e.$[n].innerHTML=e.localize(a)}for(var o=0;o<e._selectedFiles.length;o++){var r=e._items[o];r.querySelector(".jqx-item-upload-button").title=e.localize("uploadFile"),r.querySelector(".jqx-item-cancel-button").title=e.localize("cancelFile"),r.querySelector(".jqx-item-pause-button").title=e.localize("pauseFile")}}},{key:"_validateDOMElement",value:function(e){if(e)return"string"==typeof e?document.getElementById(e):e instanceof HTMLElement?e:void 0}},{key:"_handleComponentsByAvailableHeight",value:function(){var e=this;if(e._calculateAvailableContainerHeight(),e._elementsAutoHeight>e.offsetHeight){if(e.$.container.classList.add("jqx-overflow"),e._containerOverflows=!0,e._rowHeight){for(var t=parseInt(e._availableHeight/e._rowHeight),i=0;i<e._items.length;i++){var a=e._items[i];i<t?a.classList.remove("jqx-hidden"):a.classList.add("jqx-hidden")}e._items.length>t?(e.$.totalFiles.innerHTML=e.localize("totalFiles")+e._items.length,e.$.totalFiles.classList.remove("jqx-hidden")):e.$.totalFiles.classList.add("jqx-hidden")}}else""===e.dropZone&&e._elementsAutoHeight<e.offsetHeight&&(e.$.container.classList.remove("jqx-overflow"),e._containerOverflows=!1)}},{key:"_calculateAvailableContainerHeight",value:function(){var e=this,t=window.getComputedStyle(e.$.fileUploadContainer,null),i=parseInt(t.getPropertyValue("margin-top"))+parseInt(t.getPropertyValue("margin-bottom"))+parseInt(t.getPropertyValue("padding-top"))+parseInt(t.getPropertyValue("padding-bottom")),a=e.$.container.querySelector(".jqx-file"),n=e.$.fileUploadHeader.offsetHeight,o=e.$.fileUploadFooter.offsetHeight,r=e.style.height,l=0;a&&(e._rowHeight=a.offsetHeight),e.style.height="auto",e._containerOverflows&&e.$.container.classList.remove("jqx-overflow"),e._elementsAutoHeight=e.offsetHeight,e.style.height=r,e._containerOverflows&&e.$.container.classList.add("jqx-overflow"),e.$.totalFiles.classList.contains("jqx-hidden")>-1&&(e.$.totalFiles.classList.remove("jqx-hidden"),l=e.$.totalFiles.offsetHeight,e.$.totalFiles.classList.add("jqx-hidden")),e._availableHeight=e.offsetHeight-(n+o)-i-l}}],[{key:"properties",get:function(){return{accept:{value:null,type:"string?"},appendTo:{value:null,type:"any"},autoUpload:{value:!1,type:"boolean"},directory:{value:!1,type:"boolean"},dropZone:{value:null,type:"any"},hideFooter:{value:!1,type:"boolean"},itemTemplate:{value:null,type:"any"},messages:{value:{en:{browse:"Browse",uploadFile:"Upload File",cancelFile:"Cancel File",pauseFile:"Pause File",uploadAll:"Upload All",cancelAll:"Cancel All",pauseAll:"Pause All",totalFiles:"Total files: ",connectionError:"{{elementType}}: File Upload requires connection to the server.",wrongItemIndex:"{{elementType}}: There is no file with such an index in the list of uploaded files.",tooLongFileName:"{{elementType}}: File name is too long."}},type:"object",extend:!0},multiple:{value:!1,type:"boolean"},name:{value:"",type:"string"},responseHandler:{value:null,type:"function?",reflectToAttribute:!1},setHeaders:{value:null,type:"function?",reflectToAttribute:!1},showProgress:{value:!1,type:"boolean"},validateFile:{value:null,type:"function?",reflectToAttribute:!1},uploadUrl:{value:"",type:"string",reflectToAttribute:!1}}}},{key:"listeners",get:function(){return{"browseButton.click":"browse","browseInput.change":"_browseInputChangeHandler","selectedFiles.click":"_selectedFilesClickHandler","uploadAllButton.click":"uploadAll","cancelAllButton.click":"cancelAll","pauseAllButton.click":"pauseAll","dropZone.dragenter":"_dropZoneHandler","dropZone.dragleave":"_dropZoneHandler","dropZone.dragover":"_dropZoneHandler","dropZone.drop":"_dropZoneHandler",resize:"_handleComponentsByAvailableHeight"}}},{key:"requires",get:function(){return{"JQX.Button":"jqxbutton.js","JQX.ProgressBar":"jqxprogressbar.js"}}}]),t}(JQX.BaseElement)),JQX("jqx-filter-builder",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" title="[[hint]]">\n                    <div id="innerContainer" class ="jqx-inner-container">\n                            <div id="scrollableOuterContainer" class ="jqx-scrollable-outer-container">\n                                <jqx-scroll-viewer id="scrollableContainer" class ="jqx-scrollable-container" animation="[[animation]]">\n                                    <div id="contentContainer" class ="jqx-content-container"></div>\n                                </jqx-scroll-viewer>\n                            </div>\n                            <div id="editorsContainer" class ="jqx-editors-container">\n                                <div id="customEditor" class ="jqx-custom-editor jqx-hidden"></div>\n                            </div>\n                    </div>\n                    <jqx-menu id="conditionsMenu" mode="dropDown" class ="jqx-conditions-menu" theme="[[theme]]" animation="[[animation]]"></jqx-menu>\n            </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this,o=["textBoxEditor","numericTextBoxEditor","comboBoxEditor","dateTimePickerEditor","checkBoxEditor"];switch(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),e){case"animation":case"theme":o.forEach(function(t){return n.$[t]&&(n.$[t][e]=a)});break;case"customOperations":n._handleCustomOperations(),n._refresh();break;case"fields":n._mapFieldsToMenu(),n._refresh();break;case"formatStringDate":case"formatStringDateTime":case"showIcons":case"valueFormatFunction":n._refresh();break;case"locale":case"messages":n._localizeInitialValues(),n._refresh(),n._handleCustomOperations(),n.$.dateTimePickerEditor&&(n.$.dateTimePickerEditor.messages[n.locale]||(n.$.dateTimePickerEditor.messages[n.locale]={}),n.$.dateTimePickerEditor.messages[n.locale].dateTabLabel=n.localize("dateTabLabel"),n.$.dateTimePickerEditor.messages[n.locale].timeTabLabel=n.localize("timeTabLabel"),"locale"===e?n.$.dateTimePickerEditor.locale=n.locale:"messages"===e&&(n.$.dateTimePickerEditor.$.selectDate.innerHTML=n.$.dateTimePickerEditor.messages[n.locale].dateTabLabel,n.$.dateTimePickerEditor.$.selectTime.innerHTML=n.$.dateTimePickerEditor.messages[n.locale].timeTabLabel));break;case"maxConditions":case"maxConditionsPerGroup":case"maxLevel":case"value":n._totalConditions=0,n._validateValue(),n._emptyElementsStructure(!0),n._convertValueToFlat(n.value),n._getFieldsFromValue(),n._mapFieldsToMenu(),n._generateHTMLStructureFromFlatValue(),n.$.scrollableContainer.refresh();var r=JSON.stringify(n.value);n._oldValueAsString!==r&&(n._oldValueAsString=r,n.$.fireEvent("change",{value:JSON.parse(r)}));break;case"valuePlaceholder":n._updatePlaceholder()}}},{key:"_maxValidator",value:function(e,t){return"number"!=typeof t?t:Math.max(1,t)}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._validateValue(),e._setInitialValues(),e._handleCustomOperations(),e._emptyElementsStructure(!0),e._totalConditions=0,e._convertValueToFlat(e.value),e._getFieldsFromValue(),e._generateHTMLStructureFromFlatValue(),e.$.conditionsMenu._noAutoFocus=!0,e._oldValueAsString=JSON.stringify(e.value),setTimeout(function(){e.$.scrollableContainer.refresh()},25)}},{key:"addCondition",value:function(e,t){var i=this;i._checkFieldsExistence(),i._addElement("condition",e,t)}},{key:"addGroup",value:function(e,t){this._addElement("group",e,t)}},{key:"removeCondition",value:function(e){var t=this;t._validateNode(e,"removeCondition"),t._deleteElement(e,"condition"),t._refresh()}},{key:"removeGroup",value:function(e){var t=this;t._validateNode(e,"removeGroup"),t._deleteElement(e,"group"),t._refresh()}},{key:"toString",value:function(e){var t=this;if(!e)return JSON.stringify(t.value);for(var i=[],a=[],n=0;n<t._valueFlat.length;n++){var o=t._valueFlat[n],r={};if("condition"===o.type){
var l=t._getFieldByFieldName(o.data[0]),s=l.dataType,d="["+(l.label||l.value)+"]",u=t.localize(o.data[1]),c=-1!==["boolean","number"].indexOf(s)?o.data[2]+"":"'"+o.data[2]+"'";r.data=d+" "+u+" "+c}else r.data=o.data;r.nodeId=o.nodeId,r.parentId=o.parentId,r.type=o.type,i.push(r)}for(var p=0;p<i.length;p++)!function(e){var n=i[e],o={};if("group"===n.type){var r=i.filter(function(e){return e.parentId===n.nodeId&&"condition"===e.type});if(r.length>0){var l=r.map(function(e){return e.data}),s="",d="",u=n.data;-1!==["notand","notor"].indexOf(u)&&(s="Not (",d=")",u=u.substring(3)),o.nodeId=n.nodeId,o.parentId=n.parentId,o.data=n.data,o.structure=s+l.join(" "+t.localize(u)+" ")+d,a.push(o)}}}(p);a=a.filter(function(e){return e.structure.length>1}),a.sort(function(e,t){return t.nodeId.split(".").length-e.nodeId.split(".").length});for(var m=0;m<a.length;m++)!function(e){var i=a[e],n=a.filter(function(e){return e.nodeId===i.parentId})[0];if(n&&n.structure){var o=n.data;-1!==["notand","notor"].indexOf(o)?(o=o.substring(3),n.structure=n.structure.slice(0,n.structure.length-1)+" "+t.localize(o)+" ("+i.structure+"))"):n.structure=n.structure+" "+t.localize(o)+" ("+i.structure+")"}}(m);return a[a.length-1].structure}},{key:"updateCondition",value:function(e,t){var i=this,a=i._validateNode(e,"updateCondition");i._validateUserData(t,!0),a.data=t,i._refresh()}},{key:"updateGroup",value:function(e,t){var i=this,a=i._validateNode(e,"updateGroup");i._validateUserData(t),a.data=t,i._refresh()}},{key:"_addElement",value:function(e,t,i){t=t||"0";var a=this,n=a._valueFlat.filter(function(e){return e.nodeId===t&&"group"===e.type}),o=n.length>0&&n[0],r=a._valueFlat.filter(function(e){return e.parentId===t}),l=0,s="";if(o||a.error(a.localize("wrongParentGroupIndex",{elementType:a.nodeName.toLowerCase(),method:"addGroup/addCondition"})),"group"===e)i=i||"or";else{if(r.filter(function(e){return"condition"===e.type}).length===a.maxConditionsPerGroup||a._totalConditions===a.maxConditions)return;var d=a.fields&&a.fields.length>0?a.fields[0].dataField:a._valueFields[0].dataField;a._totalConditions++,i=i||[],i[0]=i[0]||d,i[1]=i[1]||"=",i[2]=void 0!==babelHelpers.typeof(i[2])?i[2]:null}if(r){var u=r.map(function(e){var t=e.nodeId.split(".");return parseInt(t[t.length-1])});u=0===u.length?[0]:u,l=u.reduce(function(e,t){return Math.max(e,t)})+1}t&&t.length>0&&(s=".");var c=t+s+l,p={nodeId:c,parentId:t,type:e,data:i,htmlNode:null};a._valueFlat.push(p),a._refresh()}},{key:"_clearConditionsValue",value:function(e,t){for(var i=this,a=i.querySelector('[node-id="'+(e||0)+'"]'),n=a.querySelector(".jqx-value-container"),o=0;o<i._valueFlat.length;o++)i._valueFlat[o].nodeId===e&&function(){var e=i._valueFlat[o],a=t?i.fields.find(function(e){return e.dataField===t}).dataType:i.fields.find(function(t){return t.dataField===e.data[0]}).dataType;e.data[2]=i._defaultValueByType(a)}();n.innerHTML=i.valuePlaceholder,n.closest(".jqx-filter-value").setAttribute("placeholder","")}},{key:"_convertValueToFlat",value:function(e,t){var i=this,a=/^(and|or|notAnd|notOr)$/i;if(e){var n=e.filter(function(e){return"string"==typeof e&&e.match(a)}),o=n?n[0]:null,r=e.filter(function(e){return Array.isArray(e)&&3===e.length&&0===e.filter(function(e){return"string"==typeof e&&e.match(a)}).length}),l=e.filter(function(e){return!r.includes(e)&&e!==o});if(n){var s=i._lastProcessedItemInCurrentGroup.parentId?".":"",d=(i._lastProcessedItemInCurrentGroup.parentId||"")+s+(t||0);if(!i._isMaxLevelExceeded(d)){var u={nodeId:d,parentId:i._lastProcessedItemInCurrentGroup.parentId,type:"group",data:o,htmlNode:null};i._valueFlat.push(u),i._lastProcessedItemInCurrentGroup.position=0;for(var c=0;c<r.length&&r[c];c++){var p=d+"."+(i._lastProcessedItemInCurrentGroup.position||0);if(i._isMaxLevelExceeded(p))break;var m={nodeId:p,parentId:d,type:"condition",data:r[c],htmlNode:null};i._totalConditions++,i._valueFlat.push(m),i._lastProcessedItemInCurrentGroup.position++}for(var v=0;v<l.length;v++)i._lastProcessedItemInCurrentGroup.parentId=d,i._convertValueToFlat(l[v],r.length+v),i._lastProcessedItemInCurrentGroup.position++}}}}},{key:"_isMaxLevelExceeded",value:function(e){var t=this,i=t._valueFlat;if(!(null===t.maxLevel||i.length<1)){if(e)return e.split(".").length-2>=t.maxLevel;for(var a=0;a<i.length;a++){if(i[a].nodeId.split(".").length-2>t.maxLevel)return!0}}}},{key:"_clickHandler",value:function(e){var t=this,i=e.target,a=i?i.closest(".jqx-filter-group-condition"):null,n=a?a.getAttribute("node-id"):null,o=i?i.closest(".jqx-filter-group"):null,r=o?o.getAttribute("node-id"):null,l=i.closest(".jqx-filter-add-btn"),s=i.closest(".jqx-filter-delete-btn"),d=i.closest(".filter-builder-item"),u=n||r,c=t._getItemById(u),p=void 0;if(!t.disabled){if((d||s||l)&&(p=d?d.classList.contains("jqx-filter-field-name")?"fieldButton":d.classList.contains("jqx-filter-operation")?"operationButton":d.classList.contains("jqx-filter-value")?"valueButton":"groupOperationButton":l?"addButton":"deleteButton",t.$.fireEvent("itemClick",{id:c.nodeId,type:c.type,component:p,data:c.data})),s){var m=i.closest(".jqx-filter-group-operator"),v=i.closest(".jqx-filter-group-condition");return void t._clickHandlerDeleteButton(m,v,o)}if(l)return t._closeEditor(),t._contextMenuOptions=t._addOptions,void t._handleContextMenu(i);if(d){var h=d.classList;return void t._clickHandlerFilterButton(h,u,i)}t.$.conditionsMenu.opened&&(t.$.fireEvent("menuClosing"),t.$.conditionsMenu.close(),t.$.fireEvent("menuClose"));var f=i.closest(".jqx-drop-down"),g=t._editor&&t._editor.contains(i)||f&&f.ownerElement===t._editor||i.closest(".jqx-custom-editor");if(t._editorIsOpen&&t._editor&&!g)return t._scrollBarDown?void delete t._scrollBarDown:void t._closeEditor()}}},{key:"_clickHandlerDeleteButton",value:function(e,t,i){var a=this;a.$.conditionsMenu.opened&&(a.$.fireEvent("menuClosing"),a.$.conditionsMenu.close(),a.$.fireEvent("menuClose")),a._closeEditor(),e?(a._deleteElement(i,"group"),a._generateValue()):t&&(a._deleteElement(t),a._generateValue()),a.$.scrollableContainer.refresh()}},{key:"_clickHandlerFilterButton",value:function(e,t,i){function a(){var e=o.$.conditionsMenu.querySelector(".jqx-selected-menu-item");e&&e.classList.remove("jqx-selected-menu-item")}function n(e,t,i){a(),o._contextMenuOptions=0===t.length?o._defaultFilterOperationDescriptions:t,o._handleContextMenu(e);var n=i,r=o.$.conditionsMenu.querySelector('jqx-menu-item[value="'+n+'"]');o.$.conditionsMenu.opened&&r&&r.classList.add("jqx-selected-menu-item")}var o=this;if(!i.closest(".jqx-editors-container")&&(o._closeEditor(),o._editedItem=o._getItemById(t),e.contains("jqx-filter-field-name")||o._editedItem.data&&o._editedItem.data.length)){if(e.contains("jqx-filter-group-operation"))return void n(i,o._groupOperationDescriptions,o._editedItem.data);if(!e.contains("jqx-filter-add-btn")){if(e.contains("jqx-filter-field-name"))return o._fields||o._mapFieldsToMenu(),void n(i,o._fields,o._editedItem.data[0]);if(e.contains("jqx-filter-operation")){var r=o._getFieldByFieldName(o._editedItem.data[0]);if(!r)return;var l=o._filterOperationDescriptions.slice();if(r&&r.filterOperations)l=o._filterOperationDescriptions.filter(function(e){return r.filterOperations.indexOf(e.value)>-1});else{var s=void 0;switch(r.dataType){case"number":case"date":case"datetime":s=["=","<>","<",">","<=",">=","isblank","isnotblank"];break;case"boolean":s=["=","<>","isblank","isnotblank"];break;case"object":s=["isblank","isnotblank"];break;case"string":s=["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"];break;default:s=["contains","notcontains","startswith","endswith","=","<>","<",">","<=",">=","isblank","isnotblank"]}l=o._filterOperationDescriptions.filter(function(e){return s.indexOf(e.value)>-1})}return o.showIcons&&(l=l.map(function(e){return e.label='<div class="jqx-filter-builder-icon">'+o.icons[e.value]+'</div><div class="jqx-filter-builder-menu-item">'+o.localize(e.value)+"</div>",e})),void n(i,l.slice(),o._editedItem.data[1])}return void o._openEditor(i)}n(i,o._groupOperationDescriptions)}}},{key:"_closeEditor",value:function(e){var t=this,i=void 0;if(t._editedItem&&t._editorIsOpen){if(t._editor===t.$.dateTimePickerEditor)(i=t._editor.value)&&(i=i.toDate());else if(t._editor===t.$.checkBoxEditor)i=t._editor.checked;else if(t._editor===t.$.customEditor)i=t._selectedCustomCondition.handleValue(t._editor);else{var a=t._getFieldByFieldName(t._editedItem.data[0]);i="array"===a.dataType?t._editor.value.split(","):"object"===a.dataType?JSON.parse(t._editor.value):t._editor.value}var n=t._editedItem,o=n.htmlNode,r=n.nodeId,l=t._getFieldByFieldName(n.data[0]).dataType,s=o.querySelector(".jqx-filter-value"),d=o.querySelector(".jqx-value-container"),u={value:i,valueType:l||"string",editedItem:n};if(t.$.fireEvent("editorClosing",u),t._updateValueInFlatArray(r,i,"value",l||"string"),t._generateValue(e),s.removeAttribute("edited"),t.$.editorsContainer.removeAttribute("open"),t._editor===t.$.checkBoxEditor)d.innerHTML=t._editor.checked?"true":"false";else if(t._editor===t.$.customEditor){var c=t._selectedCustomCondition.valueTemplate(t._editor);d.innerHTML=c}else d.innerHTML=t._formatValueStringRepresentation(t._editor.value,t._editedItem.data[0]);t._editor.classList.add("jqx-hidden"),t._editorIsOpen=t._enterIsPressedInEditor=!1,t.$.fireEvent("editorClose",u),t.$.scrollableContainer.refresh()}}},{key:"_defaultValueByType",value:function(e){var t=void 0;switch(e){case"number":t=0;break;case"date":case"datetime":t=new Date,t.setHours(0,0,0);break;case"boolean":t=!1;break;case"object":t=null;break;default:t=""}return t}},{key:"_deleteElement",value:function(e,t){function i(e){var t=o._valueFlat.filter(function(t){return e===t.nodeId}),i=t?t[0]:null;o._valueFlat.splice(o._valueFlat.indexOf(i),1),o._totalConditions--}function a(e){for(var t=o._valueFlat.filter(function(t){return e===t.nodeId}),n=t?t[0]:null,r=0;r<o._valueFlat.length;r++){var l=o._valueFlat[r],s=l.nodeId;l.parentId===e&&("group"===l.type?a(s):i(s))}o._valueFlat.indexOf(n)>-1&&o._valueFlat.splice(o._valueFlat.indexOf(n),1)}function n(e,t){e.forEach(function(e,i){var a=o._valueFlat.find(function(t){return t.htmlNode===e}),r=t+"."+i;e.setAttribute("node-id",r),a.parentId=t,a.nodeId=r,e.classList.contains("jqx-filter-group")&&n(Array.from(e.children[1].children),r)})}var o=this,r=e instanceof HTMLElement?e:o._valueFlat.find(function(t){return t.nodeId===e}).htmlNode,l="string"==typeof e?e:e.getAttribute("node-id");if(l&&1!==l.length){"group"===t?a(l):i(l);for(var s=o._valueFlat.length-1;s>=0;s--)!function(e){0===o._valueFlat.filter(function(t){return o._valueFlat[e].parentId===t.nodeId}).length&&"0"!==o._valueFlat[e].nodeId&&(o._valueFlat.splice(e,1),o._totalConditions--)}(s);o._generateValue(),r.parentElement.removeChild(r),n(Array.from(o.$.contentContainer.firstElementChild.children[1].children),"0")}}},{key:"_documentClickHandler",value:function(e){var t=this;e.target.closest("jqx-filter-builder")||(t.$.conditionsMenu.opened&&(t.$.fireEvent("menuClosing"),t.$.conditionsMenu.close(),t.$.fireEvent("menuClose")),t._editorIsOpen&&!t._scrollBarDown&&t._closeEditor(),delete t._scrollBarDown)}},{key:"_downHandler",value:function(e){var t=this;e.target.closest("jqx-scroll-bar")?t._scrollBarDown=!0:delete t._scrollBarDown}},{key:"_containerChangeHandler",value:function(e){e.stopPropagation()}},{key:"_emptyElementsStructure",value:function(e){for(var t=this,i=t.$.contentContainer;i.firstChild;)i.removeChild(i.firstChild);t._valueFlat=e?[]:t._valueFlat,t._lastProcessedItemInCurrentGroup={parentId:null,id:null,position:null}}},{key:"_filterGroupRow",value:function(e){e=this.localize(e||"or");var t=document.createElement("div"),i='<span class ="jqx-filter-delete-btn"></span>\n                <span class ="filter-builder-item jqx-filter-group-operation">'+e+'</span>\n                <span class ="jqx-filter-add-btn"></span>';return t.className="jqx-filter-group-operator",t.innerHTML=i,t.data=e||"or",t}},{key:"_formatValueStringRepresentation",value:function(e,t){var i=this,a=i._getFieldByFieldName(t),n=void 0;if(!a)return e;if((!e||0===e.length)&&"boolean"!==a.dataType&&"number"===a.dataType&&null===e||"string"===a.dataType&&(!e||0===e.length))return i.valuePlaceholder;switch(a.dataType){case"date":case"datetime":e?(e=function(e){return 0===e||"number"==typeof e||"string"==typeof e||!0===e||""===e||"0"===e||Array.isArray(e)||"object"===(void 0===e?"undefined":babelHelpers.typeof(e))&&e.constructor===Date?new JQX.Utilities.DateTime(e):e}(e),e.calendar.days=i._localizedDays,e.calendar.months=i._localizedMonths,e.calendar.locale=i.locale,JQX.Utilities.DateTime.cache=[],n=e.toString("date"===a.dataType?i.formatStringDate:i.formatStringDateTime)):n=i.valuePlaceholder;break;case"array":n="string"==typeof e?e.split(","):e;break;case"object":n="string"==typeof e?e:JSON.stringify(e);break;case"number":n=e;break;case"boolean":n=!1===e?"false":"true";break;default:n=e+""}return i.valueFormatFunction?i.valueFormatFunction(n,t,a.dataType||"string"):n}},{key:"_generateHTMLStructureFromFlatValue",value:function(){var e=this,t=document.createDocumentFragment();if(e._valueFlat&&0!==e._valueFlat.length)for(var i=0;i<e._valueFlat.length;i++)!function(i){var a=e._valueFlat[i],n=!!e.customOperations&&e.customOperations.find(function(e){return e.name===a.data[1]}),o=a.parentId?e.querySelector('[node-id="'+a.parentId+'"]').querySelector(".jqx-filter-group-condition-container"):e.$.contentContainer;if("group"===a.type){var r=document.createElement("div"),l=e._filterGroupRow(a.data),s=document.createElement("div");r.className="jqx-filter-group",s.className="jqx-filter-group-condition-container",r.appendChild(l),r.appendChild(s),t.appendChild(r),r.setAttribute("node-id",a.nodeId),e._valueFlat[i].htmlNode=r,e._isMaxLevelExceeded(a.nodeId+".0")&&r.setAttribute("max-level","")}else{var d=e._newFilterConditionRow(a.data);d.setAttribute("node-id",a.nodeId),t.appendChild(d),e._valueFlat[i].htmlNode=d,(-1!==["isblank","isnotblank"].indexOf(a.data[1])||n&&n.hideValue)&&d.children[3].classList.add("jqx-hidden")}o.appendChild(t)}(i)}},{key:"_generateValue",value:function(){var e=this,t=[],i=e._valueFlat.slice();!function(e){for(var i=0;i<e.length;i++){var a=e[i],n={};"group"===a.type&&(n.nodeId=a.nodeId,n.parentId=a.parentId,n.structure=[a.data||"or"],t.push(n))}for(var o=0;o<t.length;o++)!function(i){for(var a=t[i],n=e.filter(function(e){return e.parentId===a.nodeId&&"condition"===e.type}),o=0;o<n.length;o++)0===o?a.structure.unshift(n[o].data):a.structure.push(n[o].data)}(o);t=t.filter(function(e){return e.structure.length>1}),t.sort(function(e,t){return t.nodeId.split(".").length-e.nodeId.split(".").length});for(var r=0;r<t.length;r++)!function(e){var i=t[e],a=t.filter(function(e){return e.nodeId===i.parentId})[0];a&&a.structure&&a.structure.push(i.structure)}(r)}(i),t.length>0?e.value=e._valueFlat.length>1?t[t.length-1].structure:t:e.value=[e._getItemById("0").data];var a=JSON.stringify(e.value);e._oldValueAsString!==a&&(e._oldValueAsString=a,e.$.fireEvent("change",{value:JSON.parse(a)}))}},{key:"_getFieldByFieldName",value:function(e){var t=this;return(t.fields?t.fields.filter(function(t){return t.dataField===e}):t._valueFields.filter(function(t){return t.dataField===e}))[0]||null}},{key:"_getFieldsFromValue",value:function(){for(var e=this,t=e._valueFlat,i=[],a=[],n=0;n<t.length;n++)if("condition"===t[n].type){var o=t[n].data[0];if(-1===i.indexOf(o)){var r={label:o,dataField:o,dataType:"string",format:null};i.push(o),a.push(r)}}e._valueFields=a}},{key:"_getItemById",value:function(e,t){var i=this,a=i._valueFlat.filter(function(i){return t?i.parentId===e:i.nodeId===e});return a.length>0?a[0]:null}},{key:"_handleContextMenu",value:function(e){var t=this;if(t._selectedElement!==e||!t.$.conditionsMenu.opened){var i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),n=i.height,o=i.left+t.$.contentContainer.scrollLeft-a.left,r=i.top+t.$.contentContainer.scrollTop-a.top+n,l=e.closest("[node-id]").getAttribute("node-id"),s=t._getItemById(l),d=null;if(e.closest(".jqx-filter-delete-btn"))d="buttonDelete";else if(e.closest(".jqx-filter-add-btn")){if(t.restrictedMode){t._checkFieldsExistence();var u=t.fields?t.fields[0]:t._valueFields[0],c=u.filterOperations&&u.filterOperations.length>0?u.filterOperations[0]:"=";return void t._addElement("condition",0,[u.dataField,c,t._defaultValueByType(u.dataType)])}d="buttonAdd"}else e.closest(".jqx-filter-group-operation")?d="groupOperation":e.closest(".jqx-filter-field-name")?d="conditionField":e.closest(".jqx-filter-operation")&&(d="conditionOperation");var p={target:e,targetX:i.left,targetY:i.top,parentGroupId:s.parentId,id:s.nodeId,type:s.type,data:s.data,targetType:d};if(t.$.conditionsMenu.opened&&(t.$.fireEvent("menuClosing"),t.$.conditionsMenu.close(),t.$.fireEvent("menuClose")),t._closeEditor(),t.disableContextMenu)return t._selectedElement=e,t.$.fireEvent("menuOpening",p),void t.$.fireEvent("menuOpen",p);t.$.fireEvent("menuOpening",p),t.$.conditionsMenu.dataSource=t._contextMenuOptions,t.$.conditionsMenu.open(o,r),t._selectedElement=e,t.$.fireEvent("menuOpen",p),t.$.scrollableContainer.refresh()}}},{key:"_handleCustomOperations",value:function(){var e=this;e._filterOperationDescriptions=e._defaultFilterOperationDescriptions;for(var t=0;t<e.customOperations.length;t++){var i=e.customOperations[t];e._filterOperationDescriptions.push({label:i.label,value:i.name,custom:!0,index:t,editorTemplate:i.editorTemplate,valueTemplate:i.valueTemplate,handleValue:i.handleValue})}}},{key:"_initializeEditor",value:function(e){var t=this,i="jqx-"+JQX.Utilities.Core.toDash(e),a=document.createElement(i);"numericTextBox"===e?(a.spinButtons=!0,a.inputFormat="floatingPoint"):"dateTimePicker"===e&&(a.calendarButton=!0,a.dropDownDisplayMode="auto",a.enableMouseWheelAction=!0,a.locale=t.locale,a.messages[t.locale]||(a.messages[t.locale]={}),a.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),a.messages[t.locale].timeTabLabel=t.localize("timeTabLabel")),a.tabIndex="1",a.theme=t.theme,a.animation=t.animation,t.$[e+"Editor"]=a,a.$=JQX.Utilities.Extend(a),a.className=i+"-editor jqx-hidden",t.$.editorsContainer.appendChild(a),t["_"+e+"Initialized"]=!0}},{key:"_innerContainerKeydownHandler",value:function(e){var t=this;"Escape"!==e.key&&"Enter"!==e.key||!t._editorIsOpen||t._closeEditor()}},{key:"_inputBlurHandler",value:function(){var e=this,t=void 0;if(e._editor===e.$.dateTimePickerEditor)(t=e._editor.value)&&(t=t.toDate());else if(e._editor===e.$.checkBoxEditor)t=e._editor.checked;else if(e._editor===e.$.customEditor)t=e._selectedCustomCondition.handleValue(e._editor);else{var i=e._getFieldByFieldName(e._editedItem.data[0]);t="array"===i.dataType?e._editor.value.split(","):"object"===i.dataType?JSON.parse(e._editor.value):e._editor.value}var a=e._editedItem,n=a.nodeId,o=e._getFieldByFieldName(a.data[0]).dataType;e._updateValueInFlatArray(n,t,"value",o||"string"),e._generateValue()}},{key:"_localizeInitialValues",value:function(){var e=this,t=JQX.Utilities.DateTime.getLocalizedNames(e.locale);e._addOptions=[{label:e.localize("addCondition"),value:"addCondition"},{label:e.localize("addGroup"),value:"addGroup"}],e._groupOperationDescriptions=[{label:e.localize("and"),value:"and"},{label:e.localize("notand"),value:"notand"},{label:e.localize("or"),value:"or"},{label:e.localize("notor"),value:"notor"}],e._defaultFilterOperationDescriptions=e._filterOperationDescriptions=[{label:e.localize("="),value:"=",custom:!1},{label:e.localize("<>"),value:"<>",custom:!1},{label:e.localize(">"),value:">",custom:!1},{label:e.localize(">="),value:">=",custom:!1},{label:e.localize("<"),value:"<",custom:!1},{label:e.localize("<="),value:"<=",custom:!1},{label:e.localize("startswith"),value:"startswith",custom:!1},{label:e.localize("endswith"),value:"endswith",custom:!1},{label:e.localize("contains"),value:"contains",custom:!1},{label:e.localize("notcontains"),value:"notcontains",custom:!1},{label:e.localize("isblank"),value:"isblank",custom:!1},{label:e.localize("isnotblank"),value:"isnotblank",custom:!1}],e._localizedDays=t.days,e._localizedMonths=t.months}},{key:"_mapFieldsToMenu",value:function(){var e=this;(e.fields||e._valueFields)&&(e._fields=(e.fields||e._valueFields).map(function(e){var t={};return t.label=e.label,t.value=e.dataField,t.dataType=e.dataType,t}))}},{key:"_menuItemClickHandler",value:function(e){var t=this,i=t._selectedElement.closest(".filter-builder-item"),a=e.detail,n=a.value,o=t.localize(n)||a.label;if(i){var r=i.closest(".jqx-filter-group-condition"),l=i.closest(".jqx-filter-group"),s=r?r.getAttribute("node-id"):l.getAttribute("node-id"),d=2;if(i.innerHTML=o,i.value=n,t._editedItem&&i.classList.contains("jqx-filter-field-name")&&t._editedItem.data[0]!==n){var u=i.parentNode.querySelector(".jqx-filter-value"),c=t.customOperations.map(function(e){if(e.hideValue)return e.name}).filter(function(e){return e}),p=c.concat(["isblank","isnotblank"]);t._clearConditionsValue(s,n),t._setInitialFilterOperation(s,n),p.indexOf(n)>-1?u.classList.add("jqx-hidden"):u.classList.remove("jqx-hidden")}if(i.classList.contains("jqx-filter-field-name"))d=0;else if(i.classList.contains("jqx-filter-operation")){var m=i.parentNode.querySelector(".jqx-filter-value"),v=void 0;if(t.customOperations){var h=t.customOperations.filter(function(e){return e.name===n});h.length>0&&(v=h[0])}["isblank","isnotblank"].indexOf(n)>-1||v&&v.hideValue?(t._clearConditionsValue(s),m.classList.add("jqx-hidden")):m.classList.remove("jqx-hidden"),d=1}else if(i.classList.contains("jqx-filter-group-operation")){for(var f=0;f<t._valueFlat.length;f++)t._valueFlat[f].nodeId===s&&(t._valueFlat[f].data=i.value);return t._generateValue(),void t.$.scrollableContainer.refresh()}for(var g=0;g<t._valueFlat.length;g++)t._valueFlat[g].nodeId===s&&(t._valueFlat[g].data[d]=i.value);return t._generateValue(),void t.$.scrollableContainer.refresh()}var _=t._selectedElement.closest(".jqx-filter-group"),b=_.getAttribute("node-id");if(!t._isMaxLevelExceeded(b+".0")){if("addCondition"===n&&(t.maxConditions&&t._totalConditions<t.maxConditions||!t.maxConditions)){t._checkFieldsExistence();var y=t.fields?t.fields[0]:t._valueFields[0],w=y.filterOperations&&y.filterOperations.length>0?y.filterOperations[0]:"=";t._addElement("condition",b,[y.dataField,w,t._defaultValueByType(y.dataType)])}else"addGroup"===n&&t._addElement("group",b,"and");t.$.scrollableContainer.refresh()}}},{key:"_setInitialFilterOperation",value:function(e,t){var i=this,a=i.fields.find(function(e){return e.dataField===t}),n=i._valueFlat.find(function(t){return t.nodeId===e}),o=n.htmlNode.getElementsByClassName("jqx-filter-operation")[0],r=a&&a.filterOperations&&a.filterOperations.length>0?a.filterOperations[0]:"=",l=i.localize(r);l||(l=i.customOperations.find(function(e){return e.name===r}).label),n.data[1]=r,o.innerHTML=l}},{key:"_checkFieldsExistence",value:function(){var e=this;e.fields&&0!==e.fields.length||e._valueFields&&0!==e._valueFields.length||e.error(e.localize("missingFields",{elementType:e.nodeName.toLowerCase()}))}},{key:"_newFilterConditionRow",value:function(e){e=e||[];var t=this,i=e[0]?e[0]:t.fields[0].dataField,a=t._formatValueStringRepresentation(e[2],e[0]),n=t.fields?t.fields.filter(function(e){return e.dataField===i}):t._valueFields.filter(function(e){return e.dataField===i}),o=n.length>0?n[0].label:e[0],r=t.localize(e[1]);!r&&t.customOperations&&t.customOperations.length>0&&(r=t.customOperations.find(function(t){return t.name===e[1]}).label);var l=document.createElement("div"),s='<span class ="jqx-filter-delete-btn"></span>\n                <span class ="filter-builder-item jqx-filter-field-name">'+o+'</span>\n                <span class ="filter-builder-item jqx-filter-operation">'+(r||"")+'</span>\n                <span class ="filter-builder-item jqx-filter-value"><span class ="jqx-value-container">'+a+"</span></span>";return l.className="jqx-filter-group-condition",l.innerHTML=s,l}},{key:"_openEditor",value:function(e){var t=this,i=e&&e.closest(".jqx-filter-group-condition")?e.closest(".jqx-filter-group-condition").getAttribute("node-id"):null,a=e.closest(".jqx-filter-value"),n=t._getItemById(i),o=n.data[0]||t.fields[0].dataField||t._valueFields[0].dataField,r=t._getFieldByFieldName(o),l=void 0;if(n?void 0===(l=n.data[2])&&(l=""):l="",r){t._editorIsOpen&&t._closeEditor(),t.$.conditionsMenu.opened&&(t.$.fireEvent("menuClosing"),t.$.conditionsMenu.close(),t.$.fireEvent("menuClose")),a.setAttribute("edited",""),t._editedItem=n;var s=t.fields||t._valueFields,d=s.filter(function(e){return e.dataField===o}),u=t._filterOperationDescriptions.filter(function(e){return e.value===n.data[1]&&e.custom}),c=d.length>0?d[0]:null,p=r.lookup&&r.lookup.dataSource?"lookup":c.dataType;0!==u.length&&u[0].editorTemplate?(t._selectedCustomCondition=u[0],t._openCustomEditor(p,l,r)):t._openEditorByFieldType(p,l,r),t.$.fireEvent("editorOpening",{value:l,type:p,editedItem:n}),setTimeout(function(){t._editor.focus(),t._editor!==t.$.numericTextBoxEditor&&t._editor!==t.$.textBoxEditor||(t.$.scrollableContainer.scrollLeft=t.$.scrollableContainer.$.scrollViewerContainer.scrollLeft,t.$.scrollableContainer.scrollTop=t.$.scrollableContainer.$.scrollViewerContainer.oldTop,t.$.scrollableContainer.$.scrollViewerContainer.scrollLeft=0,t.$.scrollableContainer.$.scrollViewerContainer.scrollTop=0,t._editor.$.input.selectionStart=t._editor.$.input.selectionEnd=t._editor.$.input.value.length),t.$.scrollableContainer.refresh(),t.$.fireEvent("editorOpen",{value:l,type:p,editedItem:n})},0),t._editor.classList.remove("jqx-hidden"),t._editorIsOpen=!0,t.$.editorsContainer.setAttribute("open",""),a.appendChild(t.$.editorsContainer),t.$.scrollableContainer.refresh()}}},{key:"_openEditorByFieldType",value:function(e,t,i){var a=this;switch(e){case"lookup":a._comboBoxInitialized||a._initializeEditor("comboBox"),a._editor=a.$.comboBoxEditor,a._editor.dataSource=i.lookup.dataSource,a._editor.dropDownAppendTo=a.$.container,a._editor.selectedValues=[t];break;case"boolean":a._checkBoxInitialized||a._initializeEditor("checkBox"),a._editor=a.$.checkBoxEditor,a._editor.checked=!!t;break;case"datetime":a._dateTimePickerInitialized||a._initializeEditor("dateTimePicker"),a._editor=a.$.dateTimePickerEditor,a._editor.formatString=a.formatStringDateTime,a._editor.dropDownAppendTo=a.$.container,a._editor.value=t;break;case"date":a._dateTimePickerInitialized||a._initializeEditor("dateTimePicker"),a._editor=a.$.dateTimePickerEditor,a._editor.formatString=a.formatStringDate,a._editor.dropDownAppendTo=a.$.container,a._editor.value=t;break;case"number":a._numericTextBoxInitialized||a._initializeEditor("numericTextBox"),t=t||0,a._editor=a.$.numericTextBoxEditor,a._editor.value=t;break;case"array":a._textBoxInitialized||a._initializeEditor("textBox"),a._editor=a.$.textBoxEditor,a._editor.value=t.toString();break;case"object":a._textBoxInitialized||a._initializeEditor("textBox"),t=t||{},a._editor=a.$.textBoxEditor,a._editor.value=JSON.stringify(t);break;default:a._textBoxInitialized||a._initializeEditor("textBox"),a._editor=a.$.textBoxEditor,a._editor.value=t+""}}},{key:"_openCustomEditor",value:function(e,t,i){var a=this,n=a.customOperations[a._selectedCustomCondition.index].editorTemplate(e,t,i);a.$.customEditor.innerHTML="",n&&a.$.customEditor.appendChild(n),a._editor=a.$.customEditor}},{key:"_refresh",value:function(){var e=this;e._generateValue(),e._emptyElementsStructure(),e._generateHTMLStructureFromFlatValue(),e.$.scrollableContainer.refresh()}},{key:"_resizeHandler",value:function(){this.$.scrollableContainer.refresh()}},{key:"_scrollViewerWheelHandler",value:function(e){var t=this;"wheel"===e.type&&t.$.scrollableContainer.scrollHeight&&(e.stopPropagation(),e.preventDefault())}},{key:"_setInitialValues",value:function(){var e=this;e._mapFieldsToMenu(),e._localizeInitialValues(),e.$.conditionsMenu.dropDownAppendTo=e.$.container,e.$.conditionsMenu.dataSource=e._groupOperationDescriptions,e._valueFlat=[],e._lastProcessedItemInCurrentGroup={parentId:null,id:null,position:null}}},{key:"_updatePlaceholder",value:function(){for(var e=this,t=0;t<e._valueFlat.length;t++){var i=e._valueFlat[t];"condition"!==i.type||null!==i.data[2]&&""!==i.data[2]||(i.htmlNode.querySelector(".jqx-value-container").innerHTML=e.valuePlaceholder)}e.$.textBoxEditor&&(e.$.textBoxEditor.placeholder=e.valuePlaceholder)}},{key:"_updateValueInFlatArray",value:function(e,t,i,a){var n=this;if(e&&!n.disabled){if(a=a||"string",i=i||"value",null!==t)switch(a){case"number":t=parseFloat(t);break;case"boolean":t=!!t;break;case"string":t+=""}for(var o=0;o<n._valueFlat.length;o++)if(n._valueFlat[o].nodeId===e)switch(i){case"column":n._valueFlat[o].data[0]=t;break;case"filterCondition":n._valueFlat[o].data[1]=t;break;case"value":n._valueFlat[o].data[2]=t;break;case"groupCondition":n._valueFlat[o].data=t}}}},{key:"_validateNode",value:function(e,t){var i=this,a=void 0;return e instanceof HTMLElement?a=i._getItemById(e.getAttribute("node-id")):"string"==typeof e?a=i._getItemById(e):i.error(i.localize("wrongElementNode",{elementType:i.nodeName.toLowerCase(),method:t})),a||i.error(i.localize("wrongElementNode",{elementType:i.nodeName.toLowerCase(),method:t})),a}},{key:"_validateUserData",value:function(e,t){var i=this;if(t)(!Array.isArray(e)||e.length<3)&&i.error(i.localize("invalidDataStructure",{elementType:i.nodeName.toLowerCase()}));else{var a=/^(and|or|notAnd|notOr)$/i;"string"==typeof e&&e.match(a)||i.error(i.localize("invalidDataStructure",{elementType:i.nodeName.toLowerCase()}))}}},{key:"_validateValue",value:function(){function e(e){return 3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]}function t(i,l,s){var d=0;i.forEach(function(i){if(Array.isArray(i))if(e(i)){if(null!==a&&a===r||null!==n&&n===d)return;s.push(i),d++,r++}else{if(null!==o&&o===l+1)return;var u=[];s.push(u),t(i,l+1,u)}else s.push(i)})}var i=this,a=i.maxConditions,n=i.maxConditionsPerGroup,o=i.maxLevel,r=0;if(null!==a||null!==n||null!==o){var l=i.value,s=[];t(l,0,s),i.value=s}}}],[{key:"properties",get:function(){return{customOperations:{value:[],type:"array",reflectToAttribute:!1},disableContextMenu:{value:!1,type:"boolean"},fields:{value:null,type:"array?",reflectToAttribute:!1},formatStringDate:{value:"dd-MMM-yy",type:"string"},formatStringDateTime:{value:"dd-MMM-yy HH:mm:ss",type:"string"},hint:{value:null,type:"string?"},icons:{value:{"=":"=","<>":"≠",">":">",">=":"≥","<":"<","<=":"≤",startswith:"a|bc",endswith:"ab|c",contains:"abc",notcontains:"!abc",isblank:"○",isnotblank:"●"},type:"object",reflectToAttribute:!1},maxConditions:{value:null,type:"number?",validator:"_maxValidator"},maxConditionsPerGroup:{value:null,type:"number?",validator:"_maxValidator"},maxLevel:{value:null,type:"number?",validator:"_maxValidator"},messages:{value:{en:{add:"Add",addCondition:"Add Condition",addGroup:"Add Group",and:"And",notand:"Not And",or:"Or",notor:"Not Or","=":"Equals","<>":"Does not equal",">":"Greater than",">=":"Greater than or equal to","<":"Less than","<=":"Less than or equal to",startswith:"Starts with",endswith:"Ends with",contains:"Contains",notcontains:"Does not contain",isblank:"Is blank",isnotblank:"Is not blank",wrongParentGroupIndex:'{{elementType}}: Wrong parent group index in "{{method}}" method.',missingFields:'{{elementType}}: Fields are required for proper condition\'s adding. Set "fields" source and then conditions will be added as expected.',wrongElementNode:'{{elementType}}: Incorect node / node Id in "{{method}}" method.',invalidDataStructure:"{{elementType}}: Used invalid data structure in updateCondition/updateGroup method.",dateTabLabel:"DATE",timeTabLabel:"TIME"}},type:"object",extend:!0},restrictedMode:{value:!1,type:"boolean"},showIcons:{value:!1,type:"boolean"},value:{value:["or"],type:"array?",reflectToAttribute:!1},valueFormatFunction:{value:null,type:"function?",reflectToAttribute:!1},valuePlaceholder:{
value:"&lt;enter a value&gt;",type:"string"}}}},{key:"requires",get:function(){return{"JQX.Button":"jqxbutton.js","JQX.CheckBox":"jqxcheckbox.js","JQX.ScrollBar":"jqxscrollbar.js","JQX.ListBox":"jqxlistbox.js","JQX.DropDownList":"jqxdropdownlist.js","JQX.ComboBox":"jqxcombobox.js","JQX.Calendar":"jqxcalendar.js","JQX.TimePicker":"jqxtimepicker.js","JQX.Tooltip":"jqxtooltip.js","JQX.Utilities.DateTime":"jqxdate.js","JQX.DateTimePicker":"jqxdatetimepicker.js","JQX.Menu":"jqxmenu.js"}}},{key:"listeners",get:function(){return{click:"_clickHandler",down:"_downHandler","document.click":"_documentClickHandler","conditionsMenu.itemClick":"_menuItemClickHandler","container.change":"_containerChangeHandler","scrollableContainer.wheel":"_scrollViewerWheelHandler","scrollableOuterContainer.resize":"_resizeHandler","innerContainer.keydown":"_innerContainerKeydownHandler"}}}]),t}(JQX.BaseElement)),JQX("jqx-query-builder",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <jqx-scroll-viewer id="scrollableContainer" class ="jqx-scrollable-container" animation="[[animation]]">\n                        <div id="queryLabel" class="jqx-query-builder-label jqx-unselectable"></div>\n                        <div id="contentContainer" class ="jqx-content-container"></div>\n                    </jqx-scroll-viewer>\n                    <div id="editorsContainer" class ="jqx-editors-container">\n                        <div id="customEditor" class ="jqx-custom-editor jqx-hidden"></div>\n                    </div>\n                    <jqx-menu id="conditionsMenu" mode="dropDown" class ="jqx-conditions-menu" theme="[[theme]]" animation="[[animation]]"></jqx-menu>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"animation":case"theme":["textBoxEditor","numericTextBoxEditor","comboBoxEditor","dateTimePickerEditor","checkBoxEditor"].forEach(function(t){return n.$[t]&&(n.$[t][e]=a)});break;case"formatStringDate":case"formatStringDateTime":case"valueFormatFunction":n._refresh();break;case"operatorPlaceholder":Array.from(n.querySelectorAll(".jqx-filter-operation[placeholder]")).forEach(function(e){return e.firstElementChild.innerHTML=a});break;case"propertyPlaceholder":Array.from(n.querySelectorAll(".jqx-filter-field-name[placeholder]")).forEach(function(e){return e.firstElementChild.innerHTML=a});break;case"showIcons":n._closeEditor(),a?n._filterOperationDescriptions.map(function(e){return e.icon=n.icons[e.value]}):n._filterOperationDescriptions.map(function(e){return delete e.icon});break;case"customOperations":case"fields":case"value":var o=JSON.stringify(n._validValue);"customOperations"===e?n._handleCustomOperations():""===e&&n._mapFieldsToMenu(),n._applyValue(),n._oldValueAsString!==o&&(n._oldValueAsString=o,n.$.fireEvent("change",{value:JSON.parse(o)}));break;case"valuePlaceholder":Array.from(n.querySelectorAll(".jqx-filter-value[placeholder]")).forEach(function(e){return e.firstElementChild.innerHTML=a});break;case"locale":case"messages":n._localizeInitialValues(),n._refresh(),n._handleCustomOperations(),n.$.dateTimePickerEditor&&(n.$.dateTimePickerEditor.messages[n.locale]||(n.$.dateTimePickerEditor.messages[n.locale]={}),n.$.dateTimePickerEditor.messages[n.locale].dateTabLabel=n.localize("dateTabLabel"),n.$.dateTimePickerEditor.messages[n.locale].timeTabLabel=n.localize("timeTabLabel"),"locale"===e?n.$.dateTimePickerEditor.locale=n.locale:"messages"===e&&(n.$.dateTimePickerEditor.$.selectDate.innerHTML=n.$.dateTimePickerEditor.messages[n.locale].dateTabLabel,n.$.dateTimePickerEditor.$.selectTime.innerHTML=n.$.dateTimePickerEditor.messages[n.locale].timeTabLabel));break;case"icons":n._closeEditor()}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._setInitialValues(),e._handleCustomOperations(),e._applyValue(),Object.defineProperty(e,"value",{get:function(){return e.context===e?e.properties.value.value:e._validValue},set:function(t){e.updateProperty(e,e._properties.value,t)}})}},{key:"_setInitialValues",value:function(){var e=this;e._autoScrollCoefficient=JQX.Utilities.Core.Browser.Firefox?4:JQX.Utilities.Core.Browser.Edge?8:2,e._isMobile=JQX.Utilities.Core.isMobile,e._manuallyAddedFields=[],e._localizeInitialValues(),e.$.conditionsMenu.dropDownAppendTo=e.$.container,e.$.conditionsMenu.dataSource=e._groupOperationDescriptions,e._valueFlat=[],e._lastProcessedItemInCurrentGroup={parentId:null,id:null,position:null}}},{key:"_applyValue",value:function(){var e=this;e._emptyElementsStructure(!0),e._validateValue(),e._convertValueToFlat(e.value),e._getFieldsFromValue(),e._mapFieldsToMenu(),e._generateHTMLStructureFromFlatValue(!0),e._restrictNesting(),e._validValue=e._getValidValue(),e._oldValueAsString=JSON.stringify(e._validValue)}},{key:"_setRequiredFields",value:function(){var e=this;if(e.requiredFields&&e.requiredFields.length){for(var t=e.value,i=[],a=0;a<e.requiredFields.length;a++)!function(a){var n=e.requiredFields[a],o=e.fields.find(function(e){return e.dataField===n});if(o){var r=[];if(t)for(var l=0;l<t.length;){var s=t[l];if(Array.isArray(s))for(var d=0;d<s.length;){var u=s[d];u&&u[0]===o.dataField?(r.push(u),s.splice(d>0?d-1:d,2)):d++}s.length?l++:t.splice(l,2)}if(r)for(var c=0;c<r.length;c++)i.push(r[c]),i.push("and");else i.push([n]),i.push("and")}}(a);"string"==typeof i[i.length-1]&&i.pop(),e.value.unshift(i,"and")}}},{key:"_contentContainerChangeHandler",value:function(e){var t=this;if(e.stopPropagation(),"immediately"===t.applyMode&&t._editorIsOpen&&t._editor){t._editor.closest(".filter-builder-item").classList.contains("jqx-filter-value")||t._closeEditor()}}},{key:"_mapFieldsToMenu",value:function(){var e=this;(e.fields||e._valueFields)&&(e._fields=(e.fields||e._valueFields).concat(e._manuallyAddedFields).map(function(e){return{label:e.label,value:e.dataField,dataType:e.dataType,filterOperations:e.filterOperations,lookup:e.lookup}}))}},{key:"_localizeInitialValues",value:function(){var e=this;e.$.queryLabel.innerHTML=e.localize("queryLabel"),e._addOptions=[{label:e.localize("addCondition"),value:"addCondition"},{label:e.localize("addGroup"),value:"addGroup"}],e._groupOperationDescriptions=[{label:e.localize("and"),value:"and"},{label:e.localize("or"),value:"or"}],e._defaultFilterOperationDescriptions=e._filterOperationDescriptions=[{label:e.localize("="),value:"=",custom:!1},{label:e.localize("<>"),value:"<>",custom:!1},{label:e.localize(">"),value:">",custom:!1},{label:e.localize(">="),value:">=",custom:!1},{label:e.localize("<"),value:"<",custom:!1},{label:e.localize("<="),value:"<=",custom:!1},{label:e.localize("startswith"),value:"startswith",custom:!1},{label:e.localize("endswith"),value:"endswith",custom:!1},{label:e.localize("contains"),value:"contains",custom:!1},{label:e.localize("notcontains"),value:"notcontains",custom:!1},{label:e.localize("isblank"),value:"isblank",custom:!1},{label:e.localize("isnotblank"),value:"isnotblank",custom:!1}];var t=JQX.Utilities.DateTime.getLocalizedNames(e.locale);e._localizedDays=t.days,e._localizedMonths=t.months}},{key:"_handleCustomOperations",value:function(){var e=this;e._filterOperationDescriptions=e._defaultFilterOperationDescriptions.slice(0);for(var t=0;t<e.customOperations.length;t++){var i=e.customOperations[t];e._filterOperationDescriptions.push({label:i.label,value:i.name,custom:!0,index:t,editorTemplate:i.editorTemplate,valueTemplate:i.valueTemplate,handleValue:i.handleValue,hideValue:i.hideValue})}}},{key:"_innerContainerKeydownHandler",value:function(e){var t=this;!t._editorIsOpen||"Escape"!==e.key&&"Enter"!==e.key||t._closeEditor()}},{key:"_documentDownHandler",value:function(e){var t=this,i=e.originalEvent.target;if(!i.closest(".jqx-input-drop-down-menu")&&!t.$.conditionsMenu.contains(i)){var a=i.closest(".jqx-drop-down");if(i.closest("jqx-query-builder")===t||a&&t.contains(a.ownerElement))return void t._clickHandler(e.originalEvent);t._editorIsOpen&&!t._scrollBarDown&&t._closeEditor(),delete t._scrollBarDown}}},{key:"_emptyElementsStructure",value:function(e){for(var t=this,i=t.$.contentContainer;i.firstChild;)i.removeChild(i.firstChild);t._valueFlat=e?[]:t._valueFlat,t._lastProcessedItemInCurrentGroup={parentId:null,id:null,position:null}}},{key:"_resizeHandler",value:function(){this.$.scrollableContainer.refresh()}},{key:"_getTotalConditions",value:function(){return this.getElementsByClassName("jqx-filter-group-condition").length}},{key:"_validateValue",value:function(){var e=this,t=e.value;if(!Array.isArray(t)||""===JSON.stringify(t).replace(/[\[\]]/g,""))return void(e.value=[[[]]]);for(3===t.length&&"string"==typeof t[0]&&(e.value=[[t]]),Array.isArray(t[0])&&3===t[0].length&&"string"==typeof t[0][0]&&(e.value=[t]);"string"==typeof t[0];)t.shift();for(;"string"==typeof t[t.length-1];)t.pop();e.value.forEach(function(e){Array.isArray(e)&&0===e.length&&e.push([])})}},{key:"_convertValueToFlat",value:function(e){function t(e,r){for(var l=void 0,s=0;s<e.length;s++){var d=e[s],u="string"==typeof d&&a.indexOf(d)>-1,c={htmlNode:null};if(u)l=d.trim();else if(l=l||"and",Array.isArray(d)){var p=i._valueFlat.filter(function(e){return e.parentId+""==r+""}).length;if(d.find(function(e){return Array.isArray(e)}))c.nodeId=(o+=1)+"",c.type="group",c.data=l,i._valueFlat.push(c),t(d,c.nodeId),l="";else{if(i.maxConditions&&n>=i.maxConditions||i.maxConditionsPerGroup&&p>=i.maxConditionsPerGroup)continue;0!==s&&(i._valueFlat.push({nodeId:r+"."+p,type:"operator",data:l,parentId:r+""}),l="",p++),c.nodeId=r+"."+p,c.parentId=r+"",c.type="condition",c.data=d,n++,i._valueFlat.push(c)}}}}var i=this,a=["and","or","notAnd","notOr"];if(e){var n=0,o=0;i._valueFlat=[],t(e,0),delete i._totalGroups}}},{key:"_getFieldsFromValue",value:function(){for(var e=this,t=e._valueFlat,i=[],a=[],n=0;n<t.length;n++){var o=t[n];if("condition"===o.type){var r=o.data[0];if(r&&-1===i.indexOf(r)){var l={label:r,dataField:r,dataType:function(e){return"boolean"==typeof e?"boolean":e instanceof Date?e.getHours()>0||e.getMinutes()>0||e.getSeconds()>0?"datetime":"date":isNaN(e)?"string":"number"}(o.data[2]),format:null};i.push(r),a.push(l)}}}e._valueFields=a}},{key:"_addElement",value:function(e,t,i,a){var n=this,o=n._valueFlat.filter(function(e){return e.parentId===t}),r=0,l="";if(i=i||("group"===e?"or":[]),o.length){var s=o.map(function(e){var t=e.nodeId.split(".");return parseInt(t[t.length-1])});s=0===s.length?[0]:s,r=s.reduce(function(e,t){return Math.max(e,t)})+1}t&&t.length>0&&(l=".");var d=(t||"")+l+("group"===e?n._valueFlat.filter(function(e){return"group"===e.type}).length+1:r),u=o[0];if(o.length)for(var c=0;c<o.length;c++){var p=o[c],m=p.nodeId.split(".").pop();parseInt(m)>parseInt(u.nodeId.split(".").pop())&&(u=p)}else u=n._valueFlat.find(function(e){return e.nodeId===t});var v=u?n._valueFlat.indexOf(u)+1:n._valueFlat.length;"condition"===e&&o.length>0&&(n._valueFlat.splice(v,0,{nodeId:d,parentId:t,type:"operator",data:["and"],htmlNode:null}),d=(t||"")+l+(r+1),v++);var h={nodeId:d,parentId:t,type:e,data:i,htmlNode:null};n._valueFlat.splice(v,0,h),"group"===e&&n._addElement("condition",d,[],!0),a||n._refresh()}},{key:"_deleteElement",value:function(e,t){function i(e){var t=o._valueFlat[e];if(t&&"operator"===t.type)return o._valueFlat.splice(e,1),t.htmlNode.parentElement.removeChild(t.htmlNode),!0}function a(e){var t=void 0,a=0,n=e.split(".");n.pop(),n=n.join(".");for(var r=0;r<o._valueFlat.length;r++){var l=o._valueFlat[r];if("condition"===l.type){if(l.nodeId===e){t=l;break}l.parentId===n&&a++}}var s=o._valueFlat.indexOf(t);o._valueFlat.splice(s,1),t.htmlNode.parentElement.removeChild(t.htmlNode);var d=i(s-1);a||i(s-(d?1:0));var u=o._valueFlat.filter(function(e){return e.nodeId===n})[0].htmlNode;u.children[1].childElementCount>0&&u.children[2].hasAttribute("limit-selection")&&!u.children[1].lastElementChild.hasAttribute("limit-selection")&&u.children[2].removeAttribute("limit-selection")}function n(e){for(var t=o._valueFlat.filter(function(t){return e===t.nodeId&&"group"===t.type})[0],i=0;i<o._valueFlat.length;i++){var r=o._valueFlat[i],l=r.nodeId;r.parentId===e&&("group"===r.type?n(l):a(l))}o._valueFlat.indexOf(t)>-1&&o._valueFlat.splice(o._valueFlat.indexOf(t),1),t.htmlNode.parentElement.removeChild(t.htmlNode)}var o=this,r="string"==typeof e?e:e.getAttribute("node-id");if(r&&1!==r.length&&("group"===t?n(r):a(r),!t||"condition"===t)){var l=r.split(".");if(l.pop(),l=l.join("."),!o._valueFlat.filter(function(e){return e.parentId===l}).length&&(o._valueFlat.filter(function(e){return"group"===e.type}).length>1&&n(l),"0"===l)){var s=o._valueFlat.find(function(e){return"group"===e.type}),d=s.nodeId;s.nodeId="0",s.htmlNode.setAttribute("node-id","0");for(var u=o._valueFlat.filter(function(e){return e.parentId===d}),c=0;c<u.length;c++){var p=u[c];p.parentId="0",p.nodeId="0."+c,p.htmlNode.setAttribute("node-id",p.nodeId)}}o._generateValue()}}},{key:"_generateHTMLStructureFromFlatValue",value:function(e){var t=this,i=document.createDocumentFragment();if(t._valueFlat&&0!==t._valueFlat.length){for(var a=0;a<t._valueFlat.length;a++)!function(e){var a=t._valueFlat[e],n=!!t.customOperations&&t.customOperations.find(function(e){return e.name===a.data[1]}),o=a.parentId?t.querySelector('[node-id="'+a.parentId+'"]').querySelector(".jqx-filter-group-condition-container"):t.$.contentContainer;if("group"===a.type){var r=document.createElement("div"),l=t.localize(a.data)||"";r.className="jqx-filter-group",r.innerHTML='<div class="jqx-filter-group-operator">'+l+'</div><div class="jqx-filter-group-condition-container"></div><div class="jqx-filter-add-condition-btn"><div>'+t.localize("add")+'</div></div><div class="jqx-filter-add-btn"></div>',r.firstElementChild.data=l,i.appendChild(r),r.setAttribute("node-id",a.nodeId),t._valueFlat[e].htmlNode=r}else if("condition"===a.type){var s=t._newFilterConditionRow(a.data);if(s.setAttribute("node-id",a.nodeId),i.appendChild(s),t._valueFlat[e].htmlNode=s,void 0!==a.data[0]&&void 0===a.data[1]){var d=t._getFilterOperations(t._fields.find(function(e){return e.value===a.data[0]}));t._handleOnlyOperation(d,a.data,s)}else(-1!==["isblank","isnotblank"].indexOf(a.data[1])||n&&n.hideValue)&&(a.data.splice(2,1),s.children[2].classList.add("jqx-visibility-hidden"))}else{var u=document.createElement("div");u.className="jqx-filter-nested-operator",u.setAttribute("node-id",a.nodeId),u.innerHTML=t.localize(a.data),i.appendChild(u),t._valueFlat[e].htmlNode=u}o.appendChild(i)}(a);e&&t._validateValueAdvanced(),t.$.scrollableContainer.refresh()}}},{key:"_validateValueAdvanced",value:function(){for(var e=this,t=e.value,i=!1,a=!1,n=0,o=0;o<t.length;o++){var r=t[o];if("string"!=typeof r)for(var l=r.length-1;l>=0;l--){var s=r[l];if(Array.isArray(s)&&0===s.length&&l!==r.length-1)r.splice(l,1),0===l&&r.splice(0,1),i=!0;else if("string"==typeof s){s=s.toLowerCase(),n++,(n>1||"and"!==s&&"or"!==s)&&(a=!0);continue}n=0}}i&&(e._emptyElementsStructure(!0),e._convertValueToFlat(e.value),e._generateHTMLStructureFromFlatValue()),a&&e._generateValue(!0)}},{key:"_restrictNesting",value:function(){var e=this;Array.from(e.getElementsByClassName("jqx-filter-add-condition-btn")).forEach(function(e){var t=e.previousElementSibling.lastElementChild;t&&t.hasAttribute("limit-selection")&&e.setAttribute("limit-selection","")})}},{key:"_clickHandler",value:function(e){var t=this,i=e.target;if(!t.disabled&&i&&i.closest&&(t._isMobile||0===e.button)){if(t._scrollBarDown)return void delete t._scrollBarDown;var a=i.closest(".jqx-drop-down"),n=t._editor&&t._editor.contains(i)||a&&(t._editor.contains(a.ownerElement)||t._editor===a.ownerElement)||i.closest(".jqx-custom-editor");t._editor&&t._editorIsOpen&&!n&&t._closeEditor();var o=i.closest(".jqx-filter-group-condition")||i.closest(".jqx-filter-nested-operator")||i.closest(".jqx-filter-group");if(o){var r=t._getItemById(o.getAttribute("node-id"));if(r){if(t.$.fireEvent("itemClick",{id:r.nodeId,type:r.type,data:r.data}),i.closest(".jqx-filter-delete-btn"))return void t._clickHandlerDeleteButton(r.htmlNode);var l=i.closest(".jqx-filter-add-btn")||i.closest(".jqx-filter-add-condition-btn");if(l){var s=l.closest(".jqx-filter-group").getAttribute("node-id");return void(l.classList.contains("jqx-filter-add-condition-btn")&&(t.maxConditions&&t._getTotalConditions()<t.maxConditions||!t.maxConditions)?t._addElement("condition",s,[]):t._clickHandlerFilterButton(l.classList,r.nodeId,i))}var d=i.closest(".filter-builder-item")||i.closest(".jqx-filter-group-operator")||i.closest(".jqx-filter-nested-operator");if(d){var u=d.classList;t._clickHandlerFilterButton(u,r.nodeId,i)}}}}}},{key:"_downHandler",value:function(e){var t=this;if(e.originalEvent&&(t._isMobile||0===e.button)){var i=e.originalEvent.target;if(t.allowDrag&&i.classList.contains("jqx-filter-group-condition")&&e.pageX<i.getBoundingClientRect().left){var a=t._valueFlat.filter(function(e){return"condition"===e.type});if(1===a.length||2===a.length&&a[0].parentId===a[1].parentId&&a[1].htmlNode.hasAttribute("limit-selection"))return;return t._dragDetails={coords:{x:e.pageX,y:e.pageY},item:i,originalEvent:e},t.$.scrollableContainer._scrollView.disableSwipeScroll=!0,t._hoveredCondition=i,void window.getSelection().removeAllRanges()}this._scrollBarDown=i.closest("jqx-scroll-bar"),e.stopPropagation(),e.preventDefault()}}},{key:"_moveHandler",value:function(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}},{key:"_documentMoveHandler",value:function(e){var t=this,i=t._dragDetails;if(i){var a=i.item;if(!i.feedbackShown){if(!(Math.abs(i.coords.x-e.pageX)>5||Math.abs(i.coords.y-e.pageY)>5))return;var n=t._valueFlat.filter(function(e){return e.htmlNode===a})[0];if(t.$.fireEvent("dragStart",{data:n.data,item:a,originalEvent:e}).defaultPrevented)return delete t._dragDetails,delete t._hoveredCondition,void(t.$.scrollableContainer._scrollView.disableSwipeScroll=!1);i.allConditions=Array.from(t.getElementsByClassName("jqx-filter-group-condition")),i.data=n,i.feedback=t._addDragFeedback(),i.feedbackShown=!0,i.rect=t.getBoundingClientRect(),a.classList.add("dragged")}var o=e.clientY,r=e.originalEvent.target,l=void 0;if(t.$.fireEvent("dragging",{data:i.data,item:a,originalEvent:e}),t.setAttribute("dragging",""),i.feedback.style.left=e.pageX+10+"px",i.feedback.style.top=e.pageY+10+"px",t._isMobile){var s=t._hoveredCondition;s&&(s.classList.remove("drop-target","top","bottom"),delete t._hoveredCondition);var d=document.elementFromPoint(e.clientX,o);d&&(r=d)}var u=r.closest(".jqx-filter-group-condition"),c=void 0;if(u){l=u;var p=l.getBoundingClientRect(),m=Math.abs(o-p.top),v=Math.abs(o-p.bottom);c=m<v?"top":"bottom"}else{var h=void 0,f=void 0;i.allConditions.forEach(function(e){var t=e.getBoundingClientRect(),i=Math.abs(o-t.top),a=Math.abs(o-t.bottom),n=Math.min(i,a);(void 0===f||n<f)&&(h=e,f=n,c=i<a?"top":"bottom")}),u=h}if(u===a||u.hasAttribute("limit-selection")&&"bottom"===c)u=void 0;else{var g=Array.from(u.parentElement.getElementsByClassName("jqx-filter-group-condition")),_=g.indexOf(a);-1!==_&&("top"===c&&u===g[_+1]||"bottom"===c&&u===g[_-1])&&(u=void 0)}if(l=u,i.side=c,clearInterval(t._dragInterval),t._dragInterval=setInterval(function(){var a=i.rect;t.$.scrollableContainer.scrollHeight>0&&a.left<=e.clientX&&a.left+a.width>=e.clientX?o>=a.top&&o<=a.top+36?t.$.scrollableContainer.scrollTop-=t._autoScrollCoefficient:o>=a.top+a.height-36&&o<=a.top+a.height?t.$.scrollableContainer.scrollTop+=t._autoScrollCoefficient:clearInterval(t._dragInterval):clearInterval(t._dragInterval)},1),l){t._hoveredCondition&&l!==t._hoveredCondition&&t._hoveredCondition.classList.remove("drop-target","top","bottom");var b=l.closest(".jqx-filter-group");if(b&&b.hasAttribute("restricted"))return void(t._hoveredCondition=void 0);t._hoveredCondition=l,l.classList.remove("top","bottom"),l.classList.add(c,"drop-target")}else t._hoveredCondition&&(t._hoveredCondition.classList.remove("drop-target","top","bottom"),delete t._hoveredCondition)}}},{key:"_addDragFeedback",value:function(){var e=document.createElement("div");return e.className="jqx-query-builder-drag-feedback",document.body.appendChild(e),e}},{key:"_documentUpHandler",value:function(e){var t=this,i=t._dragDetails;if(!i)return void(t.$.conditionsMenu.opened&&t._selectedElement&&!t._selectedElement.classList.contains("jqx-filter-add-btn")&&t.$.conditionsMenu._hoverViaKeyboard(t.$.conditionsMenu.querySelector('jqx-menu-item[value="'+t._editedItem.data+'"]')));var a=i.item,n=i.data,o=t._hoveredCondition;if(delete t._dragDetails,delete t._hoveredCondition,t.$.scrollableContainer._scrollView.disableSwipeScroll=!1,t.hasAttribute("dragging")){if(clearInterval(t._dragInterval),window.getSelection().removeAllRanges(),t.removeAttribute("dragging"),a.classList.remove("dragged"),document.body.removeChild(i.feedback),!o)return void t.$.fireEvent("dragEnd",{data:n.data,item:a,originalEvent:e,target:null,targetData:null,targetSide:null});var r=t._valueFlat.filter(function(e){return e.htmlNode===o})[0],l=t.$.fireEvent("dragEnd",{data:n.data,item:a,originalEvent:e,target:o,targetData:r.data,targetSide:i.side});if(o.classList.remove("drop-target","top","bottom"),!l.defaultPrevented){var s=t.value,d=n.nodeId.split(".").map(function(e){return parseFloat(e)}),u=s[2*(d[0]-1)],c=r.nodeId.split(".").map(function(e){return parseFloat(e)}),p=s[2*(c[0]-1)],m="and";u.length>1&&(0===d[1]?(m=u[1],u[1]="!remove!"):(m=u[d[1]-1],u[d[1]-1]="!remove!")),u[d[1]]="!remove!","top"===i.side?p.splice(c[1],0,n.data,m):p.splice(c[1]+1,0,m,n.data);for(var v=0;v<s.length;v++)Array.isArray(s[v])&&(s[v]=s[v].filter(function(e){return"!remove!"!==e}));for(var h=s.length-1;h>=0;h--)Array.isArray(s[h])&&0===s[h].length&&(0===h?s.splice(0,2):(s.splice(h-1,2),h--));t._emptyElementsStructure(!0),t._convertValueToFlat(s),t._generateHTMLStructureFromFlatValue(),t._validValue=t._getValidValue();var f=JSON.stringify(t._validValue);t._oldValueAsString!==f&&(t._oldValueAsString=f,t.$.fireEvent("change",{value:JSON.parse(f)}))}}}},{key:"_clickHandlerDeleteButton",value:function(e,t){var i=this;if(e&&e.classList){if(i._closeEditor(),1===i.getElementsByClassName("jqx-filter-group-condition").length){var a=i._valueFlat[1].htmlNode.children;i.value=[[[]]],i._validValue=i._getValidValue(),i._valueFlat[1].data=[],i._valueFlat[1].htmlNode.setAttribute("limit-selection",""),a[0].setAttribute("placeholder",""),a[1].setAttribute("placeholder",""),a[2].setAttribute("placeholder",""),a[0].firstElementChild.innerHTML=i.propertyPlaceholder,a[1].firstElementChild.innerHTML=i.operatorPlaceholder,a[2].firstElementChild.innerHTML=i.valuePlaceholder;var n=JSON.stringify(i._validValue);return void(i._oldValueAsString!==n&&(i._oldValueAsString=n,i.$.fireEvent("change",{value:JSON.parse(n)})))}if(e.classList.contains("jqx-filter-group")){if(t&&i._valueFlat.filter(function(t){return t.parentId===e.getAttribute("node-id")}).length>0)return;i._deleteElement(e,"group")}else i._deleteElement(e);i._generateValue(),i.$.scrollableContainer.refresh(),Array.from(i.$.contentContainer.children).forEach(function(e,t){var a=(t+1).toString();e.setAttribute("node-id",a),i._valueFlat.filter(function(t){return t.htmlNode===e})[0].nodeId=a,Array.from(e.children[1].children).forEach(function(e,t){var n=i._valueFlat.filter(function(t){return t.htmlNode===e})[0],o=a+"."+t;e.setAttribute("node-id",o),n.parentId=a,n.nodeId=o})})}}},{key:"_menuClosingHandler",value:function(e){var t=e.detail;"interaction"===t.trigger&&this._selectedElement===t.target&&e.preventDefault()}},{key:"_menuItemClickHandler",value:function(e){var t=this,i=t._selectedElement.closest(".jqx-filter-group-operator, .jqx-filter-nested-operator"),a=e.detail,n=a.value,o=void 0;if(i){i.innerHTML=t.localize(n)||a.label,i.value=n,o=i.classList.contains("jqx-filter-nested-operator")?i.getAttribute("node-id"):i.parentElement.getAttribute("node-id");for(var r=0;r<t._valueFlat.length;r++)if(t._valueFlat[r].nodeId===o){t._valueFlat[r].data=i.value;break}t._generateValue()}else o=t._selectedElement.parentElement.getAttribute("node-id"),t._addElement("group",null,n);t.$.scrollableContainer.refresh()}},{key:"_newFilterConditionRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,i=e[0],a=t._fields.find(function(e){return e.value===i}),n=a?a.label:void 0,o=void 0;if(void 0===i||!n&&"static"===t.fieldsMode)e.length=0;else{n||(a=t._getDynamicFieldInfo(i),n=a.label,e[0]=a.dataField);o=t._getFilterOperations(a).find(function(t){return t.value===e[1]}),o?o=o.label:e.splice(1,2)}var r=t._formatValueStringRepresentation(e[2],e[0],e[1]),l=document.createElement("div"),s='<div class ="filter-builder-item jqx-filter-field-name" '+(n?'><div class ="jqx-value-container">'+n:'placeholder><div class ="jqx-value-container">'+t.propertyPlaceholder)+'</div></div><div class ="filter-builder-item jqx-filter-operation" '+(o?'><div class ="jqx-value-container">'+o:'placeholder><div class ="jqx-value-container">'+t.operatorPlaceholder)+'</div></div><div class ="filter-builder-item jqx-filter-value" '+(void 0!==e[2]?'><div class ="jqx-value-container">'+r:'placeholder><div class ="jqx-value-container">'+t.valuePlaceholder)+'</div></div><div class ="jqx-filter-delete-btn"></div>';return l.className="jqx-filter-group-condition",l.innerHTML=s,e.length||l.setAttribute("limit-selection",""),l}},{key:"_formatValueStringRepresentation",value:function(e,t,i){var a=this,n=a._getFieldByFieldName(t),o=void 0;if(!n)return e;if(void 0===e||null===e)return a.valuePlaceholder;if(void 0!==i&&a.customOperations&&a.customOperations.length>0&&(i=a.customOperations.find(function(e){return e.name===i}))&&i.valueTemplate)return i.valueTemplate(a._editor,e);switch(n.dataType){case"date":case"datetime":e=e instanceof Date||"string"==typeof e||"number"==typeof e&&!isNaN(e)?new JQX.Utilities.DateTime(e):e,e.calendar.days=a._localizedDays,e.calendar.months=a._localizedMonths,e.calendar.locale=a.locale,o=e.toString("date"===n.dataType?a.formatStringDate:a.formatStringDateTime);break;case"array":o="string"==typeof e?e.split(","):e;break;case"object":o="string"==typeof e?e:JSON.stringify(e);break;case"number":o=e;break;case"boolean":o=!!e;break;default:o=e+""}return a.valueFormatFunction?a.valueFormatFunction(o,t,n.dataType||"string"):o}},{key:"_getFieldByFieldName",value:function(e){return Object.assign({},this._fields.find(function(t){return t.value===e}))}},{key:"_refresh",value:function(){var e=this;e._generateValue(),e._emptyElementsStructure(),e._generateHTMLStructureFromFlatValue(),e._restrictNesting()}},{key:"_generateValue",value:function(e){for(var t=this,i=[],a=t._valueFlat.slice(0),n=[],o=0;o<a.length;o++){var r=a[o],l={};"group"===r.type&&(l.nodeId=r.nodeId,l.parentId=r.parentId,l.data=r.data,l.structure=[],i.push(l))}for(var s=0;s<i.length;s++)for(var d=i[s],u=0;u<a.length;u++){var c=a[u];if(c.parentId===d.nodeId&&"condition"===c.type){var p=a[u-1];p&&p.parentId===d.nodeId&&"operator"===p.type&&d.structure.push(p.data.toString()),d.structure.push(c.data)}}i=i.filter(function(e){return e.structure.length>0}),i.sort(function(e,t){return t.nodeId.split(".").length-e.nodeId.split(".").length});for(var m=0;m<i.length;m++){(function(e){var t=i[e],a=i.filter(function(e){return e.nodeId===t.parentId})[0];a&&a.structure?a.structure.push(t.structure):"0"===t.nodeId?n=n.concat(t.structure):t.data&&(e>0&&n.push(t.data),n.push(t.structure))})(m)}if(t.value=n,t._validateValue(),t._validValue=t._getValidValue(),!e){var v=JSON.stringify(t._validValue);t._oldValueAsString!==v&&(t._oldValueAsString=v,t.$.fireEvent("change",{value:JSON.parse(v)}))}}},{key:"_getItemById",value:function(e,t){var i=this,a=i._valueFlat.filter(function(i){return t?i.parentId===e:i.nodeId===e});return a.length>0?a[0]:null}},{key:"_closeEditor",value:function(e){var t=this,i=void 0;if(t._editedItem&&t._editorIsOpen){var a=t._editedItem,n=t._editor.closest(".filter-builder-item"),o=n.querySelector(".jqx-value-container"),r=n.parentElement,l=r.children[2];if(t._editor===t.$.dateTimePickerEditor)(i=t._editor.value)&&(i=i.toDate());else if(t._editor===t.$.checkBoxEditor)i=t._editor.checked;else if(t._editor===t.$.customEditor){if(t._editor){var s=Array.from(t._editor.getElementsByTagName("jqx-numeric-text-box"));s.forEach(function(e){return e._inputBlurHandler()})}i=t._selectedCustomCondition.handleValue(t._editor)}else if(t._editor===t.$.numericTextBoxEditor)t._editor._inputBlurHandler(),i=t._editor.value;else if(n.classList.contains("jqx-filter-value")){var d=t._getFieldByFieldName(t._editedItem.data[0]);i="array"===d.dataType?t._editor.value.split(","):"object"===d.dataType?JSON.parse(t._editor.value):t._editor.value}else i=t._editor.value;if(n.classList.contains("jqx-filter-field-name")){if(""===i.trim())return void t._hideEditor(n,void 0===a.data[0]);r.hasAttribute("limit-selection")&&(r.removeAttribute("limit-selection"),r.parentElement.nextElementSibling.removeAttribute("limit-selection"));var u=t._fields.find(function(e){return e.label===i}),c=a.data[0];if(u)a.data[0]=u.value;else{if("dynamic"!==t.fieldsMode)return o.innerHTML=t._fields.find(function(e){return e.value===c}).label,void t._hideEditor(n);var p=t._getDynamicFieldInfo(i);i=p.label,a.data[0]=p.dataField}o.innerHTML=i,t._handleFieldChange([c,a.data[0]],[l,a,r])}else n.classList.contains("jqx-filter-operation")?t._handleOperationChange([a,i,t._editor.$.input.dataValue],[o,l]):(a.data[2]=i,o.innerHTML=t._formatValueStringRepresentation(i,t._editedItem.data[0],t._editedItem.data[1]));t._generateValue(e),t._hideEditor(n)}}},{key:"_getDynamicFieldInfo",value:function(e){var t=this,i={label:e,dataField:e,dataType:"string"};if(t.getDynamicField){var a=t.getDynamicField(e);a.label&&(i.label=a.label),a.dataField&&(i.dataField=a.dataField),a.dataType&&(i.dataType=a.dataType),a.filterOperations&&Array.isArray(a.filterOperations)&&a.filterOperations.length>0&&(i.filterOperations=a.filterOperations),a.lookup&&(i.lookup=a.lookup)}return t._manuallyAddedFields.push(i),t._mapFieldsToMenu(),i}},{key:"_handleFieldChange",value:function(e,t){var i=this,a=e[0],n=t[1],o=t[2],r=t[0],l=i._fields.find(function(t){return t.value===e[1]}),s=i._getFilterOperations(l);if(!a||void 0===n.data[1])return void i._handleOnlyOperation(s,n.data,o);var d=i._fields.find(function(e){return e.value===a}),u=d.dataType,c=l.dataType;if(l!==d&&(c!==u||l.filterOperations||d.filterOperations)){if(!!s.find(function(e){return e.value===n.data[1]})){if(c===u)return;return"date"===c&&"datetime"===u||"datetime"===c&&"date"===u?void(r.firstElementChild.innerHTML=i._formatValueStringRepresentation(n.data[2],n.data[0],n.data[1])):(n.data.splice(2,1),r.setAttribute("placeholder",""),void(r.firstElementChild.innerHTML=i.valuePlaceholder))}n.data.splice(1,2),o.children[1].setAttribute("placeholder",""),o.children[1].firstElementChild.innerHTML=i.operatorPlaceholder,r.setAttribute("placeholder",""),r.firstElementChild.innerHTML=i.valuePlaceholder,r.classList.remove("jqx-visibility-hidden"),i._handleOnlyOperation(s,n.data,o)}}},{key:"_handleOnlyOperation",value:function(e,t,i){if(1===e.length){var a=e[0];t[1]=a.value,i.children[1].removeAttribute("placeholder",""),i.children[1].firstElementChild.innerHTML=e[0].label,("isblank"===a.value||"isnotblank"===a.value||a.custom&&a.hideValue)&&(t.splice(2,1),i.children[2].classList.add("jqx-visibility-hidden"))}}},{key:"_handleOperationChange",value:function(e,t){var i=this,a=e[0],n=e[1],o=e[2],r=t[0],l=t[1],s=void 0!==a.data[1]?i._filterOperationDescriptions.find(function(e){
return e.value===a.data[1]}):void 0,d=i._filterOperationDescriptions.find(function(e){return e.value===o}),u=d.value;d!==s&&(a.data[1]=u,r.innerHTML=n,"isblank"===u||"isnotblank"===u||d.custom&&d.hideValue?(a.data.splice(2,1),l.classList.add("jqx-visibility-hidden")):l.classList.contains("jqx-visibility-hidden")?(l.setAttribute("placeholder",""),l.classList.remove("jqx-visibility-hidden"),l.firstElementChild.innerHTML=i.valuePlaceholder):(d.custom||s&&s.custom)&&(a.data.splice(2,1),l.setAttribute("placeholder",""),l.firstElementChild.innerHTML=i.valuePlaceholder))}},{key:"_hideEditor",value:function(e,t){var i=this;t&&e.setAttribute("placeholder",""),e.removeAttribute("edited"),i.$.editorsContainer.removeAttribute("open"),i._editor.close&&i._editor.close(),i._editor.classList.add("jqx-hidden"),i._editorIsOpen=i._enterIsPressedInEditor=!1,i.$.scrollableContainer.refresh()}},{key:"_clickHandlerFilterButton",value:function(e,t,i){function a(e,t,i){n._contextMenuOptions=0===t.length?n._defaultFilterOperationDescriptions:t,n._handleContextMenu(e),n.$.conditionsMenu.opened&&(n.$.conditionsMenu._discardKeyboardHover(),n.$.conditionsMenu._hoverViaKeyboard(n.$.conditionsMenu.querySelector('jqx-menu-item[value="'+i+'"]')))}var n=this;if(!i.closest(".jqx-editors-container")){if(n._closeEditor(),n._editedItem=n._getItemById(t),e.contains("jqx-filter-add-btn"))return void a(i,n._groupOperationDescriptions);if(e.contains("jqx-filter-field-name")||n._editedItem.data&&n._editedItem.data.length)if(e.contains("jqx-filter-group-operator")||e.contains("jqx-filter-nested-operator"))a(i,n._groupOperationDescriptions,n._editedItem.data);else{var o=i.closest(".filter-builder-item");o.removeAttribute("placeholder"),n._openEditor(i)}}}},{key:"_handleContextMenu",value:function(e){var t=this;if(t._selectedElement===e&&t.$.conditionsMenu.opened)return void t.$.conditionsMenu.close();if(t._closeEditor(),t.disableContextMenu)return void(t._selectedElement=e);var i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),n=i.left+t.$.contentContainer.scrollLeft-a.left,o=i.top+t.$.contentContainer.scrollTop-a.top+i.height;t.$.conditionsMenu.dataSource=t._contextMenuOptions,t.$.conditionsMenu.open(n,o+3),t._selectedElement=e,t.$.scrollableContainer.refresh()}},{key:"_openEditor",value:function(e){var t=this,i=e&&e.closest(".jqx-filter-group-condition")?e.closest(".jqx-filter-group-condition").getAttribute("node-id"):null,a=e.closest(".filter-builder-item"),n=t._getItemById(i),o="";void 0!==n.data[0]?o=n.data[0]:t._fields.length&&(o=t._fields[0].value);var r=t._getFieldByFieldName(o),l="",s=void 0,d=void 0;if(a.classList.contains("jqx-filter-field-name"))d=0,t._fields||t._mapFieldsToMenu(),r.lookup={dataSource:t._fields.slice(),readonly:!1},l=r.label||"",s=r.value;else if(a.classList.contains("jqx-filter-operation")){d=1;var u=t._getFilterOperations(r);r.lookup={dataSource:u,readonly:!0};var c=u.find(function(e){return e.value===n.data[d]})||u[0];l=c.label,s=c.value}else d=2,void 0===(l=n.data[d])&&(l="");t._editorIsOpen&&t._closeEditor(),a.setAttribute("edited",""),t._editedItem=n;var p=t._fields,m=p.filter(function(e){return e.value===o}),v=t._filterOperationDescriptions.filter(function(e){return e.value===n.data[1]&&e.custom}),h=m.length>0?m[0]:null,f=r.lookup&&r.lookup.dataSource?"lookup":h.dataType;2===d&&0!==v.length&&v[0].editorTemplate?(t._selectedCustomCondition=v[0],t._openCustomEditor(f,l,r)):t._openEditorByFieldType(f,l,r,s),setTimeout(function(){t._editor.focus(),t._editor!==t.$.numericTextBoxEditor&&t._editor!==t.$.textBoxEditor||(t.$.scrollableContainer.scrollLeft=t.$.scrollableContainer.$.scrollViewerContainer.scrollLeft,t.$.scrollableContainer.scrollTop=t.$.scrollableContainer.$.scrollViewerContainer.oldTop,t.$.scrollableContainer.$.scrollViewerContainer.scrollLeft=0,t.$.scrollableContainer.$.scrollViewerContainer.scrollTop=0,t._editor.$.input.selectionStart=t._editor.$.input.selectionEnd=t._editor.$.input.value.length),t.$.scrollableContainer.refresh()},0),t._editor.classList.remove("jqx-hidden"),t._editorIsOpen=!0,t.$.editorsContainer.setAttribute("open",""),a.appendChild(t.$.editorsContainer),t.$.scrollableContainer.refresh(),r.lookup&&r.lookup.readonly&&t._editor.open()}},{key:"_getFilterOperations",value:function(e){var t=this,i=t._filterOperationDescriptions.slice();if(e.filterOperations)i=t._filterOperationDescriptions.filter(function(t){return e.filterOperations.indexOf(t.value)>-1});else{var a=void 0;switch(e.dataType){case"date":case"datetime":case"number":a=["=","<>","<",">","<=",">=","isblank","isnotblank"];break;case"boolean":a=["=","<>","isblank","isnotblank"];break;case"object":a=["isblank","isnotblank"];break;case"string":a=["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"];break;default:a=["contains","notcontains","startswith","endswith","=","<>","<",">","<=",">=","isblank","isnotblank"]}i=t._filterOperationDescriptions.filter(function(e){return a.indexOf(e.value)>-1})}return t.showIcons&&i.map(function(e){return e.icon=t.icons[e.value]}),i}},{key:"_openCustomEditor",value:function(e,t,i){var a=this,n=a.customOperations[a._selectedCustomCondition.index].editorTemplate(e,t,i);a.$.customEditor.innerHTML="",n&&a.$.customEditor.appendChild(n),a._editor=a.$.customEditor}},{key:"_openEditorByFieldType",value:function(e,t,i,a){var n=this;switch(e){case"boolean":n._initializeEditor("checkBox"),n._editor.checked=!!t;break;case"date":case"datetime":n._initializeEditor("dateTimePicker"),n._editor.formatString="date"===e?n.formatStringDate:n.formatStringDateTime,n._editor.value=t;break;case"number":n._initializeEditor("numericTextBox"),n._editor.value=t||0;break;default:n._initializeEditor("input"),n._editor.dropDownWidth="auto","lookup"===e?(n._editor.dataSource=i.lookup.dataSource,n._editor.dropDownAppendTo=n.$.container,n._editor.dropDownButtonPosition="right",n._editor.readonly=!!i.lookup.readonly):(n._editor.dataSource=[],n._editor.dropDownButtonPosition="none",n._editor.readonly=!1),"object"===e?n._editor.value=JSON.stringify(t||{}):(""===t&&n._editor.readonly&&(t=i.lookup.dataSource[0].label||""),n._editor.value=t+"",a&&(n._editor.$.input.dataValue=a))}}},{key:"_initializeEditor",value:function(e){var t=this;if(t.$[e+"Editor"])return void(t._editor=t.$[e+"Editor"]);var i=document.createElement("jqx-"+JQX.Utilities.Core.toDash(e));"numericTextBox"===e?(i.spinButtons=!0,i.inputFormat="floatingPoint"):"dateTimePicker"===e&&(i.dropDownAppendTo=t.$.container,i.calendarButton=!0,i.dropDownDisplayMode="auto",i.enableMouseWheelAction=!0,i.locale=t.locale,i.messages[t.locale]||(i.messages[t.locale]={}),i.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),i.messages[t.locale].timeTabLabel=t.localize("timeTabLabel")),i.theme=t.theme,i.animation=t.animation,i.$.addClass("jqx-hidden underlined"),t.$.editorsContainer.appendChild(i),t._editor=t.$[e+"Editor"]=i}},{key:"_getValidValue",value:function(){var e=this,t=e.properties.value.value,i=[],a=!1;return t.forEach(function(t){if(Array.isArray(t)){var n=!1,o=!1,r=[];t.forEach(function(t){if(Array.isArray(t)){var i=t[0],a=t[1],l=t[2];if(void 0===i||void 0===a)return void(o=!0);if(void 0!==l||"isblank"===a||"isnotblank"===a)return n=!0,void r.push(t);var s=e._filterOperationDescriptions.find(function(e){return e.value===a});s.custom&&s.hideValue?(n=!0,r.push(t)):o=!0}else o?o=!1:r.push(t)}),n?("string"==typeof r[r.length-1]&&r.pop(),i.push(r)):a=!0}else a?a=!1:i.push(t)}),"string"==typeof i[i.length-1]&&i.pop(),i}}],[{key:"properties",get:function(){return{allowDrag:{value:!1,type:"boolean"},applyMode:{allowValues:["immediately","change"],value:"change",type:"string"},customOperations:{value:[],type:"array",reflectToAttribute:!1},fields:{value:null,type:"array?",reflectToAttribute:!1},fieldsMode:{value:"dynamic",allowedValues:["dynamic","static"],type:"string"},formatStringDate:{value:"dd-MMM-yy",type:"string"},formatStringDateTime:{value:"dd-MMM-yy HH:mm:ss",type:"string"},getDynamicField:{value:null,type:"function?"},icons:{value:{"=":"equals","<>":"notequals",">":"greaterthan",">=":"greaterthanorequal","<":"lessthan","<=":"lessthanorequal",startswith:"startswith",endswith:"endswith",contains:"contains",notcontains:"notcontains",isblank:"isblank",isnotblank:"isnotblank"},type:"object",reflectToAttribute:!1},messages:{value:{en:{add:"Add",addCondition:"Add Condition",addGroup:"Add Group",and:"And",notand:"Not And",or:"Or",notor:"Not Or","=":"Equals","<>":"Does not equal",">":"Greater than",">=":"Greater than or equal to","<":"Less than","<=":"Less than or equal to",startswith:"Starts with",endswith:"Ends with",contains:"Contains",notcontains:"Does not contain",isblank:"Is blank",isnotblank:"Is not blank",wrongParentGroupIndex:'{{elementType}}: Wrong parent group index in "{{method}}" method.',wrongElementNode:'{{elementType}}: Incorect node / node Id in "{{method}}" method.',invalidDataStructure:"{{elementType}}: Used invalid data structure in updateCondition/updateGroup method.",dateTabLabel:"DATE",timeTabLabel:"TIME",queryLabel:"Query"}},type:"object",extend:!0},operatorPlaceholder:{value:"Operator",type:"string"},propertyPlaceholder:{value:"Property",type:"string"},showIcons:{value:!1,type:"boolean"},value:{value:[],type:"array?",reflectToAttribute:!1},valueFormatFunction:{value:null,type:"function?",reflectToAttribute:!1},valuePlaceholder:{value:"Value",type:"string"}}}},{key:"requires",get:function(){var e={"JQX.Button":"jqxbutton.js","JQX.Calendar":"jqxcalendar.js","JQX.CheckBox":"jqxcheckbox.js","JQX.DateTimePicker":"jqxdatetimepicker.js","JQX.DropDownList":"jqxdropdownlist.js","JQX.Input":"jqxinput.js","JQX.ListBox":"jqxlistbox.js","JQX.Menu":"jqxmenu.js","JQX.NumericTextBox":"jqxnumerictextbox.js","JQX.ScrollBar":"jqxscrollbar.js","JQX.TimePicker":"jqxtimepicker.js","JQX.Tooltip":"jqxtooltip.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.DateTime":"jqxdate.js","JQX.Utilities.Draw":"jqxdraw.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"};return window.NIComplex||(e["JQX.Utilities.Complex"]="jqxcomplex.js"),e}},{key:"listeners",get:function(){return{down:"_downHandler",move:"_moveHandler",resize:"_resizeHandler","editorsContainer.keydown":"_innerContainerKeydownHandler","conditionsMenu.closing":"_menuClosingHandler","conditionsMenu.itemClick":"_menuItemClickHandler","contentContainer.change":"_contentContainerChangeHandler","document.down":"_documentDownHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}}]),t}(JQX.BaseElement)),JQX("jqx-filter-panel",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                <div id="label" class="jqx-filter-panel-label"></div>\n                <div id="mainContainer"></div>\n                <div id="buttonContainer" class="jqx-filter-panel-button-container">\n                    <jqx-button id="filterButton" class="primary" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                    <jqx-button id="clearButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                    <jqx-button id="cancelButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                </div>\n            </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this,i=e.filterType;e._localize(),e._setButtonsVisibility(),e._filterType=i+"Filter",e._filterHandler=new(JQX.Utilities[i.slice(0,1).toUpperCase()+i.slice(1)+"FilterHandler"])(e)}},{key:"cancel",value:function(){var e=this;e._filterHandler[e.mode+"Cancel"](),e.$.fireEvent("cancel")}},{key:"clear",value:function(){var e=this;e._filterHandler[e.mode+"Clear"](),e.$.fireEvent("clear")}},{key:"reset",value:function(){var e=this;e.$.clearButton.removeAttribute("hover"),e.$.filterButton.removeAttribute("hover"),e.$.cancelButton.removeAttribute("hover"),e._filterHandler[e.mode+"Clear"](),e._filterHandler.filterObject=new JQX.Utilities.FilterGroup}},{key:"getFilter",value:function(){if(this._filterHandler){var e=new JQX.Utilities.FilterGroup;for(var t in this._filterHandler.filterObject)e[t]=this._filterHandler.filterObject[t];return e}return null}},{key:"evaluate",value:function(e){try{return this._filterHandler.evaluate(e)}catch(e){return!1}}},{key:"filter",value:function(){var e=this;e._filterHandler[e.mode+"Filter"](),e.$.fireEvent("filter")}},{key:"getState",value:function(){return this._filterHandler.cachedFilter}},{key:"loadState",value:function(e){try{var t=this;t._filterHandler.cachedFilter=e,t._filterHandler[t.mode+"Cancel"]()}catch(e){}}},{key:"propertyChangedHandler",value:function(e,i,a){function n(){var e=["cachedFilter","caseSensitive","customExcelFilterObjects","customItems","dataSource","defaultListSelection","defaultListSource","displayMode","filterBuilder","filterBuilderObject","filterBuilderOperations","filterObject","firstInput","firstList","operationsMapping","operatorList","secondInput","secondList","timeOnly","tree"];e.forEach(function(t){delete l[e[t]]}),delete r._filterHandler}function o(){r.$.mainContainer.innerHTML="",n(),r._filterHandler=new(JQX.Utilities[r.filterType.slice(0,1).toUpperCase()+r.filterType.slice(1)+"FilterHandler"])(r)}babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var r=this,l=r._filterHandler;switch(e){case"animation":case"disabled":case"unfocusable":switch(r.mode){case"default":[l.firstList,l.firstInput,l.logicalOperatorList,l.secondList,l.secondInput].forEach(function(t){t[e]=a});break;case"excel":l.tree[e]=a;break;case"filterBuilder":l.filterBuilder[e]=a,l.caseSensitive&&(l.caseSensitive[e]=a)}break;case"buttons":r._setButtonsVisibility();break;case"data":case"dataField":"excel"!==r.mode||Array.isArray(r.dataSource)||o();break;case"dataSource":"excel"===r.mode&&o();break;case"filterType":r._filterType=a+"Filter",o();break;case"mode":o();break;case"formatString":if("date"!==r.filterType)return;switch(r.mode){case"default":l.firstInput.formatString=a,l.secondInput.formatString=a;break;case"excel":o();break;case"filterBuilder":l.filterBuilder.formatStringDate=a,l.filterBuilder.formatStringDateTime=a}break;case"locale":case"messages":switch(r._localize(),r.mode){case"default":var s=l.firstList.selectedIndexes,d=l.logicalOperatorList.selectedIndexes,u=l.secondList.selectedIndexes;if(l.setDefaults(),l.firstList.dataSource=l.defaultListSource,l.logicalOperatorList.dataSource=[{value:0,label:r.localize("and")},{value:1,label:r.localize("or")}],l.secondList.dataSource=l.defaultListSource,"date"===r.filterType){[l.firstInput,l.secondInput].forEach(function(t){t.messages[r.locale]||(t.messages[r.locale]={}),t.messages[r.locale].dateTabLabel=r.localize("dateTabLabel"),t.messages[r.locale].timeTabLabel=r.localize("timeTabLabel"),"locale"===e?t.locale=r.locale:(t.$.selectDate.innerHTML=t.messages[r.locale].dateTabLabel,t.$.selectTime.innerHTML=t.messages[r.locale].timeTabLabel),"timePicker"===t._dropDownDisplayMode?(t.placeholder=r.localize("placeholderTime"),t.placeholder=r.localize("placeholderTime")):(t.placeholder=r.localize("placeholderDate"),t.placeholder=r.localize("placeholderDate"))})}l.firstList.selectedIndexes=s,l.logicalOperatorList.selectedIndexes=d,l.secondList.selectedIndexes=u;break;case"excel":l.tree.selectAll.label=r.localize("selectAll"),l.tree.blanks&&(l.tree.blanks.label=r.localize("blanks"));break;case"filterBuilder":l.localizeFilterBuilder(),"messages"===e&&(l.filterBuilder._localizeInitialValues(),l.filterBuilder._refresh()),l.filterBuilder.$.scrollableContainer.refresh()}}}},{key:"_localize",value:function(){var e=this;e.$.label.innerHTML=e.localize("showRows"),e.$.filterButton.innerHTML=e.localize("filter"),e.$.clearButton.innerHTML=e.localize("clear"),e.$.cancelButton.innerHTML=e.localize("cancel")}},{key:"_setButtonsVisibility",value:function(){var e=this,t=e.buttons;["cancel","clear","filter"].forEach(function(i){-1!==t.indexOf(i)?e["$"+i+"Button"].removeClass("jqx-hidden"):e["$"+i+"Button"].addClass("jqx-hidden")})}}],[{key:"properties",get:function(){return{buttons:{value:["clear","filter"],type:"array"},data:{value:null,type:"array?",reflectToAttribute:!1},dataField:{value:null,type:"string?"},dataSource:{value:null,type:"any",reflectToAttribute:!1},evaluateFilterExpression:{value:null,type:"function?",reflectToAttribute:!1},filterType:{value:"string",allowedValues:["numeric","string","date","boolean"],type:"string"},formatString:{value:"d",type:"string"},messages:{value:{en:{addCondition:"Add Condition",addGroup:"Add Group",and:"and",blanks:"(Blanks)",cancel:"Cancel",clear:"Clear",contains:"contains",containsCaseSensitive:"contains (case sensitive)",dateTabLabel:"DATE",doesNotContain:"does not contain",doesNotContainCaseSensitive:"does not contain (case sensitive)",empty:"empty",endsWith:"ends with",endsWithCaseSensitive:"ends with (case sensitive)",equal:"equal",equalCaseSensitive:"equal (case sensitive)",filter:"Filter",filterBuilderPlaceholder:"&lt;enter a value&gt;",greaterThan:"greater than",greaterThanOrEqual:"greater than or equal",lessThan:"less than",lessThanOrEqual:"less than or equal",mismatchedProperties:'jqxFilterPanel: The "filterType" and the data type of the selected "dataField" are mismatched.',missingProperty:'jqxFilterPanel: When mode is \'excel\', either "data" and "dataField" or "dataSource" of type Array have to be set.',notEmpty:"not empty",notEqual:"not equal",notNull:"not null",null:"null ",or:"or",placeholderDate:"Enter date",placeholderTime:"Enter time",selectAll:"(Select All)",showRows:"Show rows where:",startsWith:"starts with",startsWithCaseSensitive:"starts with (case sensitive)",timeTabLabel:"TIME"}},type:"object",extend:!0},mode:{value:"default",allowedValues:["default","excel","filterBuilder"],type:"string"}}}},{key:"listeners",get:function(){return{"cancelButton.click":"cancel","clearButton.click":"clear","filterButton.click":"filter"}}},{key:"requires",get:function(){return{"JQX.Button":"jqxbutton.js","JQX.DateTimePicker":"jqxdatetimepicker.js","JQX.DropDownList":"jqxdropdownlist.js","JQX.FilterBuilder":"jqxfilterbuilder.js","JQX.NumericTextBox":"jqxnumerictextbox.js","JQX.Tree":"jqxtree.js","JQX.FilterGroup":"jqxfilter.js"}}}]),t}(JQX.BaseElement)),JQX.Utilities.Assign("BaseFilterHandler",function(){function e(t){babelHelpers.classCallCheck(this,e);var i=this;if(i.context=t,i.filterObject=new JQX.Utilities.FilterGroup,i.setDefaults(),"date"===t.filterType){var a=new JQX.Utilities.DateTime,n=t.formatString,o=a.getParseRegExp(a.calendar,n.replace(/y+/g,"yyyyy"));i.displayMode=JQX.Utilities.DateTime.detectDisplayMode(a,n,o),i.timeOnly="timePicker"===i.displayMode}if("default"===t.mode)return void i.createDefaultHTMLStructure();i.operationsMapping={"=":"EQUAL","<>":"NOT_EQUAL","<":"LESS_THAN",">":"GREATER_THAN","<=":"LESS_THAN_OR_EQUAL",">=":"GREATER_THAN_OR_EQUAL",isblank:"EMPTY",isnotblank:"NOT_EMPTY",contains:"CONTAINS",notcontains:"DOES_NOT_CONTAIN",startswith:"STARTS_WITH",endswith:"ENDS_WITH",NULL:"NULL",NOT_NULL:"NOT_NULL"},"excel"===t.mode?i.createExcelHTMLStructure():"filterBuilder"===t.mode&&i.createBuilderHTMLStructure()}return babelHelpers.createClass(e,[{key:"setDefaults",value:function(){var e=this,t=e.context;e.defaultListSource=[{value:"EQUAL",label:t.localize("equal")},{value:"NOT_EQUAL",label:t.localize("notEqual")},{value:"LESS_THAN",label:t.localize("lessThan")},{value:"LESS_THAN_OR_EQUAL",label:t.localize("lessThanOrEqual")},{value:"GREATER_THAN",label:t.localize("greaterThan")},{value:"GREATER_THAN_OR_EQUAL",label:t.localize("greaterThanOrEqual")},{value:"NULL",label:t.localize("null")},{value:"NOT_NULL",label:t.localize("notNull")}],e.filterBuilderOperations=["<","=","<>","<=",">",">=","NULL","NOT_NULL"],e.defaultListSelection=2}},{key:"createDefaultHTMLStructure",value:function(){var e=this,t=e.context,i=document.createElement("jqx-drop-down-list"),a=document.createElement("jqx-drop-down-list"),n=document.createElement("jqx-drop-down-list"),o=document.createDocumentFragment();i.classList.add("jqx-filter-panel-list"),i.dataSource=e.defaultListSource,i.selectedIndexes=[e.defaultListSelection],a.classList.add("jqx-filter-panel-operator-list"),a.dataSource=[{value:0,label:t.localize("and")},{value:1,label:t.localize("or")}],n.classList.add("jqx-filter-panel-list"),n.dataSource=e.defaultListSource,n.selectedIndexes=[e.defaultListSelection],e.firstList=i,e.logicalOperatorList=a,e.secondList=n,e.appendInputs(),e.firstInput.classList.add("jqx-filter-panel-input"),e.secondInput.classList.add("jqx-filter-panel-input"),a.dropDownHeight="auto",a.selectedIndexes=[0],[i,e.firstInput,a,n,e.secondInput].forEach(function(e){e.animation=t.animation,e.disabled=t.disabled,e.unfocusable=t.unfocusable,e.dropDownPosition="bottom",e.dropDownAppendTo="body",e.dropDownMaxHeight=200,e.dropDownWidth="auto",o.appendChild(e)}),e.context.$.mainContainer.appendChild(o),e.cacheFilter(e.defaultListSelection,0,e.defaultListSelection)}},{key:"cacheFilter",value:function(e,t,i){var a=this;a.cachedFilter={firstFilterComparison:e,firstFilterValue:a.firstInput.value,logicalOperator:t,secondFilterComparison:i,secondFilterValue:a.secondInput.value}}},{key:"defaultFilter",value:function(){var e=this,t=e.context,i=e.firstList.selectedValues[0],a=e.getFilterInputValue(e.firstInput),n=parseFloat(e.logicalOperatorList.selectedValues[0]),o=e.secondList.selectedValues[0],r=e.getFilterInputValue(e.secondInput),l=e.filterObject;if(l.clear(),""!==a||-1!==["NULL","NOT_NULL","EMPTY","NOT_EMPTY"].indexOf(i)){var s=l.createFilter(t._filterType,a,i,void 0,t.formatString,t.locale,"timePicker"===e.firstInput._dropDownDisplayMode);l.addFilter(n,s)}if(""!==r||-1!==["NULL","NOT_NULL","EMPTY","NOT_EMPTY"].indexOf(o)){var d=l.createFilter(t._filterType,r,o,void 0,t.formatString,t.locale,"timePicker"===e.secondInput._dropDownDisplayMode);l.addFilter(n,d)}e.cacheFilter(e.firstList.selectedIndexes[0],e.logicalOperatorList.selectedIndexes[0],e.secondList.selectedIndexes[0])}},{key:"getFilterInputValue",value:function(e){return e.value}},{key:"excelFilter",value:function(){var e=this,t=e.context;if(Array.isArray(t.dataSource))return void e.customExcelFilter();var i=e.tree,a=e.filterObject;if(a.clear(),e.customItems=[],!i._menuItems[0].selected){var n=i.selectedIndexes;n.forEach(function(n){var o=i._menuItems[n];if(o instanceof JQX.TreeItem){var r=o.value;if(o.hasAttribute("default-item")){var l=e.getExcelComparison(r),s=a.createFilter(t._filterType,r,l,void 0,t.formatString,t.locale,e.timeOnly);a.addFilter("or",s)}else e.customItems.push(o)}}),e.cachedFilter=n.slice(0)}}},{key:"customExcelFilter",value:function(){var e=this,t=e.tree;if(delete e.customExcelFilterObjects,!t._menuItems[0].selected){var i=e.context,a=[],n=t.selectedIndexes;n.forEach(function(n){var o=t._menuItems[n];if(o instanceof JQX.TreeItem){var r=o.value;if(!Array.isArray(r))return;Array.isArray(r[0])||(r=[r]);for(var l=new JQX.Utilities.FilterGroup,s=0;s<r.length;s++){var d=r[s],u=e.operationsMapping[d[1]],c=l.createFilter(i._filterType,d[2],u,void 0,i.formatString,i.locale,e.timeOnly);l.addFilter("and",c)}a.push(l)}}),e.customExcelFilterObjects=a,e.cachedFilter=n.slice(0)}}},{key:"getExcelComparison",value:function(e){return""===e?"NULL":"EQUAL"}},{key:"filterBuilderFilter",value:function(){function e(i,n){var o=new JQX.Utilities.FilterGroup,r=i[1];n.logicalOperator=r;for(var l=0;l<i.length;l++)if(1!==l){var s=i[l];if(Array.isArray(s))if(Array.isArray(s[0])){var d={filters:[]};n.filters.push(d),e(s,d)}else o.addFilter(r,t.createFilterBuilderFilter(o,s,a))}o.filters.length>0&&n.filters.push(o)}var t=this,i=t.filterBuilder.value,a="string"===t.context.filterType&&t.caseSensitive.checked,n={filters:[]};e(i,n),t.filterBuilderObject=n,t.cachedFilter={filterBuilder:JSON.parse(JSON.stringify(t.filterBuilder.value),function(e,t){return/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/.test(t)?new Date(t):t}),caseSensitive:a}}},{key:"createFilterBuilderFilter",value:function(e,t,i){var a=this,n=a.context,o=a.operationsMapping[t[1]];return i&&-1!==["CONTAINS","DOES_NOT_CONTAIN","STARTS_WITH","ENDS_WITH","EQUAL"].indexOf(o)&&(o+="_CASE_SENSITIVE"),e.createFilter(n._filterType,t[2],o,void 0,n.formatString,n.locale,!1)}},{key:"defaultClear",value:function(){var e=this;e.firstList.selectedIndexes=[e.defaultListSelection],e.firstInput.value="",e.logicalOperatorList.selectedIndexes=[0],e.secondList.selectedIndexes=[e.defaultListSelection],e.secondInput.value="",e.filterObject.clear(),e.cacheFilter(e.defaultListSelection,0,e.defaultListSelection)}},{key:"excelClear",value:function(){var e=this;e.tree.select("0"),e.filterObject.clear(),e.cachedFilter=e.tree.selectedIndexes.slice(0)}},{key:"filterBuilderClear",value:function(){var e=this;e.filterBuilder.value=["and"],"string"===e.context.filterType&&(e.caseSensitive.checked=!1),e.cachedFilter={filterBuilder:["and"],caseSensitive:!1}}},{key:"defaultCancel",value:function(){var e=this;e.firstList.selectedIndexes=[e.cachedFilter.firstFilterComparison],e.firstInput.value=e.cachedFilter.firstFilterValue,e.logicalOperatorList.selectedIndexes=[e.cachedFilter.logicalOperator],e.secondList.selectedIndexes=[e.cachedFilter.secondFilterComparison],e.secondInput.value=e.cachedFilter.secondFilterValue}},{key:"excelCancel",value:function(){var e=this;e.tree.selectedIndexes=e.cachedFilter.slice(0)}},{key:"filterBuilderCancel",value:function(){var e=this;e.filterBuilder.value=e.cachedFilter.filterBuilder,"string"===e.context.filterType&&(e.caseSensitive.checked=e.cachedFilter.caseSensitive)}},{key:"createExcelHTMLStructure",value:function(){var e=this,t=e.context,i=document.createElement("jqx-tree"),a={data:t.data,dataField:t.dataField,filterType:t._filterType};if(t.dataSource&&Array.isArray(t.dataSource))e.processCustomDataSource(i);else{if(t.data&&t.dataField||t.error(t.localize("missingProperty")),"date"===t.filterType){a.formatString=t.formatString,a.displayMode=e.displayMode,e.dataSource=e.filterObject.getUniqueValues(a,t);try{e.getHierarchicalDataSource(e.displayMode)}catch(e){t.error(t.localize("mismatchedProperties"))}e.timeOnly?i.classList.add("standard-excel"):i.classList.add("date-excel")}else e.dataSource=e.filterObject.getUniqueValues(a,t),i.classList.add("standard-excel");"function"==typeof t.dataSource&&(e.dataSource=t.dataSource(e.dataSource)||e.dataSource)}i.animation=t.animation,i.disabled=t.disabled,i.unfocusable=t.unfocusable,i.dataSource=[{label:t.localize("selectAll"),value:"",items:e.dataSource,expanded:!0,selected:!0}],i.selectionMode="checkBox",i.hasThreeStates=!0,i.toggleMode="arrow",i.addEventListener("collapsing",function(e){1===e.detail.item.level&&e.preventDefault()}),i._onCompleted=function(){if(e.cachedFilter=i.selectedIndexes.slice(0),i.classList.contains("date-excel")){for(var a in i._menuItems)if("0"!==a){var n=i._menuItems[a];n.firstElementChild.style.paddingLeft=20*(n.level-1)-10+"px"}}else i._menuItems[0].firstElementChild.style.paddingLeft=0;i.selectAll=i._menuItems[0],i.blanks=i.querySelector('[label="'+t.localize("blanks")+'"]')},e.tree=i,t.$.mainContainer.appendChild(i)}},{key:"processCustomDataSource",value:function(e){var t=this,i=t.context,a=i.dataSource;e.classList.add("standard-excel"),t.dataSource=a}},{key:"createBuilderHTMLStructure",value:function(){var e=this,t=e.context,i=document.createElement("jqx-filter-builder"),a=t.dataField,n="numeric"===t.filterType?"number":t.filterType;if(e.filterBuilder=i,i.animation=t.animation,i.disabled=t.disabled,i.unfocusable=t.unfocusable,i.value=["and"],i.fields=[{label:a,dataField:a,dataType:n,filterOperations:e.filterBuilderOperations}],e.localizeFilterBuilder(),t.$.mainContainer.appendChild(i),"string"===n){var o=document.createElement("jqx-check-box");o.classList.add("case-sensitive"),o.innerHTML="Case sensitive",o.animation=t.animation,o.disabled=t.disabled,o.unfocusable=t.unfocusable,o.checked=!1,e.caseSensitive=o,t.$.mainContainer.appendChild(o)}e.filterBuilderObject={filters:[]},e.cachedFilter={filterBuilder:["and"],caseSensitive:!1}}},{key:"localizeFilterBuilder",value:function(){var e=this,t=e.context,i=e.filterBuilder,a=i.messages[t.locale];a||(a={},i.messages[t.locale]=a),i.customOperations=[{name:"NULL",label:t.localize("null"),hideValue:!0},{name:"NOT_NULL",label:t.localize("notNull"),hideValue:!0}],a.addCondition=t.localize("addCondition"),a.addGroup=t.localize("addGroup"),a["<"]=t.localize("lessThan"),a["<="]=t.localize("lessThanOrEqual"),a["<>"]=t.localize("notEqual"),a["="]=t.localize("equal"),a[">"]=t.localize("greaterThan"),a[">="]=t.localize("greaterThanOrEqual"),a.and=t.localize("and"),a.contains=t.localize("contains"),a.endswith=t.localize("endsWith"),a.isblank=t.localize("empty"),a.isnotblank=t.localize("notEmpty"),a.notcontains=t.localize("doesNotContain"),a.or=t.localize("or"),a.startswith=t.localize("startsWith"),a.dateTabLabel=t.localize("dateTabLabel"),a.timeTabLabel=t.localize("timeTabLabel"),i.formatStringDate=t.formatString,i.formatStringDateTime=t.formatString,i.locale=t.locale,i.valuePlaceholder=t.localize("filterBuilderPlaceholder")}},{key:"evaluate",value:function(e){function t(i){for(var a="and"===i.logicalOperator,n=0;n<i.filters.length;n++){var o=void 0;o=i.filters[n]instanceof JQX.Utilities.FilterGroup?i.filters[n].evaluate(e):t(i.filters[n]),a="and"===i.logicalOperator?a&&o:a||o}return a}var i=this,a=i.context;if("default"===a.mode)return i.filterObject.evaluate(e);if("excel"===a.mode){var n=!1;if(Array.isArray(a.dataSource)){if(!i.customExcelFilterObjects||0===i.customExcelFilterObjects.length)return!0;for(var o=0;o<i.customExcelFilterObjects.length;o++)n=n||i.customExcelFilterObjects[o].evaluate(e);return n}if(i.customItems&&i.customItems.length>0){if(i.filterObject.filters.length>0&&(n=i.filterObject.evaluate(e)),i.customItems&&a.evaluateFilterExpression)for(var r=0;r<i.customItems.length;r++){var l=a.evaluateFilterExpression(e,i.customItems[r].value);void 0!==l&&(n=n||l)}}else n=i.filterObject.evaluate(e);return n}return!i.filterBuilderObject.logicalOperator||t(i.filterBuilderObject)}}]),e}()),JQX.Utilities.Assign("NumericFilterHandler",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"appendInputs",value:function(){var e=this,t=document.createElement("jqx-numeric-text-box"),i=document.createElement("jqx-numeric-text-box");t.inputFormat="floatingPoint",t.nullable=!0,t.spinButtons=!0,t.value=null,i.inputFormat="floatingPoint",i.nullable=!0,i.spinButtons=!0,i.value=null,e.firstInput=t,e.secondInput=i}},{key:"getFilterInputValue",value:function(e){return null===e.value||""===e.value?"":parseFloat(e.value)}}]),t}(JQX.Utilities.BaseFilterHandler)),JQX.Utilities.Assign("StringFilterHandler",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"setDefaults",value:function(){var e=this,t=e.context;e.defaultListSource=[{value:"EMPTY",label:t.localize("empty")},{value:"NOT_EMPTY",label:t.localize("notEmpty")},{value:"CONTAINS",label:t.localize("contains")},{value:"CONTAINS_CASE_SENSITIVE",label:t.localize("containsCaseSensitive")},{value:"DOES_NOT_CONTAIN",label:t.localize("doesNotContain")},{value:"DOES_NOT_CONTAIN_CASE_SENSITIVE",
label:t.localize("doesNotContainCaseSensitive")},{value:"STARTS_WITH",label:t.localize("startsWith")},{value:"STARTS_WITH_CASE_SENSITIVE",label:t.localize("startsWithCaseSensitive")},{value:"ENDS_WITH",label:t.localize("endsWith")},{value:"ENDS_WITH_CASE_SENSITIVE",label:t.localize("endsWithCaseSensitive")},{value:"EQUAL",label:t.localize("equal")},{value:"EQUAL_CASE_SENSITIVE",label:t.localize("equalCaseSensitive")},{value:"NULL",label:t.localize("null")},{value:"NOT_NULL",label:t.localize("notNull")}],e.filterBuilderOperations=["contains","isblank","isnotblank","notcontains","startswith","endswith","=","NULL","NOT_NULL"],e.defaultListSelection=2}},{key:"appendInputs",value:function(){var e=this,t=document.createElement("input"),i=document.createElement("input");t.classList.add("jqx-input"),i.classList.add("jqx-input"),e.firstInput=t,e.secondInput=i}},{key:"getExcelComparison",value:function(e){return""===e?"EMPTY":"EQUAL_CASE_SENSITIVE"}}]),t}(JQX.Utilities.BaseFilterHandler)),JQX.Utilities.Assign("DateFilterHandler",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"appendInputs",value:function(){var e=this,t=e.context,i=document.createElement("jqx-date-time-picker"),a=document.createElement("jqx-date-time-picker");i.calendarButton=!0,i.editMode="partial",i.formatString=t.formatString,i.dropDownDisplayMode="auto",i.locale=t.locale,i.messages[t.locale]||(i.messages[t.locale]={}),i.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),i.messages[t.locale].timeTabLabel=t.localize("timeTabLabel"),i.nullable=!0,i.value=null,a.calendarButton=!0,a.editMode="partial",a.formatString=t.formatString,a.dropDownDisplayMode="auto",a.locale=t.locale,a.messages[t.locale]||(a.messages[t.locale]={}),a.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),a.messages[t.locale].timeTabLabel=t.localize("timeTabLabel"),a.nullable=!0,a.value=null,a._onCompleted=function(){"timePicker"===a._dropDownDisplayMode?(i.placeholder=t.localize("placeholderTime"),i.placeholder=t.localize("placeholderTime")):(i.placeholder=t.localize("placeholderDate"),i.placeholder=t.localize("placeholderDate"))},e.firstInput=i,e.secondInput=a}},{key:"getFilterInputValue",value:function(e){if(null===e.value)return"";var t=e.value.toDate();return"calendar"===this.displayMode&&t.setHours(0,0,0),t}},{key:"defaultClear",value:function(){var e=this;e.firstList.selectedIndexes=[e.defaultListSelection],e.firstInput.value=null,e.logicalOperatorList.selectedIndexes=[0],e.secondList.selectedIndexes=[e.defaultListSelection],e.secondInput.value=null,e.filterObject.clear(),e.cacheFilter(e.defaultListSelection,0,e.defaultListSelection)}},{key:"getHierarchicalDataSource",value:function(e){var t=this,i=t.dataSource,a={},n=[],o=void 0;if("timePicker"!==e){""===i[i.length-1].value&&(o=i[i.length-1],i.pop()),i.forEach(function(i){var n=i.value,o=n.getFullYear(),r=new Intl.DateTimeFormat(t.context.locale,{month:"long"}).format(n),l=n.getDate();if(a[o]||(a[o]={}),a[o][r]||(a[o][r]={}),!a[o][r][l]){if("calendar"===e)return void(a[o][r][l]=n);a[o][r][l]={}}if("calendar"!==e){var s=n.getHours(),d=n.getMinutes(),u=n.getSeconds();a[o][r][l][s]||(a[o][r][l][s]={}),a[o][r][l][s][d]||(a[o][r][l][s][d]={}),a[o][r][l][s][d][u]||(a[o][r][l][s][d][u]=n)}});for(var r in a){var l={label:r,items:[],customAttribute:"default-item"};n.push(l);for(var s in a[r]){var d={label:s,items:[],customAttribute:"default-item"};l.items.push(d);for(var u in a[r][s]){var c={label:u,customAttribute:"default-item"};if(d.items.push(c),"calendar"!==e){c.items=[];for(var p in a[r][s][u]){var m={label:"0".repeat(2-p.length)+p,items:[],customAttribute:"default-item"};c.items.push(m);for(var v in a[r][s][u][p]){var h={label:":"+"0".repeat(2-v.length)+v,items:[],customAttribute:"default-item"};m.items.push(h);for(var f in a[r][s][u][p][v]){var g={label:":"+"0".repeat(2-f.length)+f,value:a[r][s][u][p][v][f],customAttribute:"default-item"};h.items.push(g)}}}}else c.value=a[r][s][u]}}}o&&n.push(o),t.dataSource=n}}}]),t}(JQX.Utilities.BaseFilterHandler)),JQX.Utilities.Assign("BooleanFilterHandler",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"cacheFilter",value:function(e,t,i){var a=this;a.cachedFilter={firstFilterComparison:e,firstFilterValue:a.firstInput.selectedIndexes.slice(0),logicalOperator:t,secondFilterComparison:i,secondFilterValue:a.secondInput.selectedIndexes.slice(0)}}},{key:"setDefaults",value:function(){var e=this,t=e.context;e.defaultListSource=[{value:"EQUAL",label:t.localize("equal")},{value:"NOT_EQUAL",label:t.localize("notEqual")},{value:"NULL",label:t.localize("null")},{value:"NOT_NULL",label:t.localize("notNull")}],e.filterBuilderOperations=["=","<>","NULL","NOT_NULL"],e.defaultListSelection=0}},{key:"appendInputs",value:function(){var e=this,t=document.createElement("jqx-drop-down-list"),i=document.createElement("jqx-drop-down-list");t.dataSource=[{value:!0,label:"true"},{value:!1,label:"false"}],t.selectedIndexes=[],t.selectionMode="zeroOrOne",i.dataSource=[{value:!0,label:"true"},{value:!1,label:"false"}],i.selectedIndexes=[],i.selectionMode="zeroOrOne",e.firstInput=t,e.secondInput=i}},{key:"getFilterInputValue",value:function(e){return 0===e.selectedValues.length?"":"true"===e.selectedValues[0]}},{key:"defaultClear",value:function(){var e=this;e.firstList.selectedIndexes=[e.defaultListSelection],e.firstInput.selectedIndexes=[],e.logicalOperatorList.selectedIndexes=[0],e.secondList.selectedIndexes=[e.defaultListSelection],e.secondInput.selectedIndexes=[],e.filterObject.clear(),e.cacheFilter(e.defaultListSelection,0,e.defaultListSelection)}},{key:"defaultCancel",value:function(){var e=this;e.firstList.selectedIndexes=[e.cachedFilter.firstFilterComparison],e.firstInput.selectedIndexes=e.cachedFilter.firstFilterValue,e.logicalOperatorList.selectedIndexes=[e.cachedFilter.logicalOperator],e.secondList.selectedIndexes=[e.cachedFilter.secondFilterComparison],e.secondInput.selectedIndexes=e.cachedFilter.secondFilterValue}}]),t}(JQX.Utilities.BaseFilterHandler)),JQX("jqx-list-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                   <span id=\'itemInput\' class =\'jqx-input jqx-hidden\'></span>\n                    <span class ="jqx-overlay" id="overlay"></span>\n                    <div id="itemContainer" class ="jqx-content jqx-list-item-container"><span class="jqx-content-label" inner-h-t-m-l=\'[[innerHTML]]\'><content></content></span><span inner-h-t-m-l=\'[[details]]\' id="details" class="jqx-content-details"></span></div>\n                </div>'}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e.classList.contains("jqx-ripple")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}t.$.itemContainer.innerHTML="",e instanceof HTMLElement&&t.$.itemContainer.appendChild(e)}},{key:"insertBefore",value:function(e,t){var i=this;if(!i.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,a.concat(Array.prototype.slice.call(arguments)))}t.parentNode.insertBefore(e,t)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted||e.classList.contains("jqx-ripple")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.itemContainer.removeChild(e)}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.ownerListBox=e.getListBox()}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;""!==e.label?e.innerHTML=e.label:""!==e.innerHTML&&(e.label=e.innerHTML),e._setDisplayMode(e.displayMode),e._setItemColor(),e.$.container.noRipple=!0}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),"hidden"===e)a?n.$.addClass("jqx-hidden"):n.$.removeClass("jqx-hidden");else if("color"===e)n._setItemColor();else if("displayMode"===e)n._setDisplayMode(a);else if("label"===e){var o=n.context;n.context=document,n.innerHTML=a;var r=n.getListBox();r.onItemUpdated(n),n.context=o}else if("details"===e){var l=n.context;n.context=document,n.$.details.innerHTML=a;var s=n.getListBox();s.onItemUpdated(n),n.context=l}else if("innerHTML"===e){var d=n.getListBox();d.onItemUpdated(n)}}},{key:"getListBox",value:function(){for(var e=this,t=e.parentNode;t instanceof JQX.ListBox==!1&&null!==t;)t=t.parentNode;return!t&&JQX.EnableShadowDOM?e.getRootNode().host:t}},{key:"_itemOnMouseEnter",value:function(){var e=this;!e.disabled&&e.ownerListBox&&(JQX.ListBox.DragDrop.Dragging&&e.ownerListBox.allowDrop&&(JQX.ListBox.DragDrop.DropDetails={item:e,position:"bottom"}),e.ownerListBox.$.verticalScrollBar.thumbCapture||e.ownerListBox.$.horizontalScrollBar.thumbCapture||e.setAttribute("hover",""))}},{key:"_itemOnMouseMove",value:function(e){var t=this;if(t.ownerListBox&&JQX.ListBox.DragDrop.Dragging&&t.ownerListBox.allowDrop&&!JQX.Utilities.Core.isMobile){for(var i=[].slice.call(t.ownerListBox.getElementsByClassName("jqx-list-item-bottom-line-feedback")),a=0;a<i.length;a++)i[a].$.removeClass("jqx-list-item-line-feedback"),i[a].$.removeClass("jqx-list-item-bottom-line-feedback");if(JQX.ListBox.DragDrop.DropDetails={item:t,position:"top"},!t.ownerListBox._areCSSVarsSupported){if(t.ownerListBox._indexOf(t)===t.ownerListBox._items.length-1||t.parentNode.lastElementChild===t){var n=t.getBoundingClientRect();e.pageY-window.pageYOffset>n.top+n.height/2-1&&(JQX.ListBox.DragDrop.DropDetails={item:t,position:"bottom"})}return}if(t.$.removeClass("jqx-list-item-line-feedback"),t.$.removeClass("jqx-list-item-bottom-line-feedback"),t.ownerListBox.sorted&&t.ownerListBox.autoSort)return;var o=t.ownerListBox._items.filter(function(e){return!e.hidden});if(o.indexOf(t)===o.length-1||t.parentNode.lastElementChild===t){var r=t.getBoundingClientRect();e.pageY-window.pageYOffset>r.top+r.height/2-1?(t.$.addClass("jqx-list-item-bottom-line-feedback"),JQX.ListBox.DragDrop.DropDetails={item:t,position:"bottom"}):arguments[1]||t.$.addClass("jqx-list-item-line-feedback")}else arguments[1]||t.$.addClass("jqx-list-item-line-feedback")}}},{key:"_itemOnMouseLeave",value:function(){var e=this;e.ownerListBox&&(JQX.ListBox.DragDrop.Dragging&&(e.$.removeClass("jqx-list-item-line-feedback"),e.$.removeClass("jqx-list-item-bottom-line-feedback")),e.removeAttribute("hover"))}},{key:"_setDisplayMode",value:function(e){var t=this,i=t.getListBox();if(i){var a="checkBox"===i.selectionMode||"radioButton"===i.selectionMode?i.selectionMode:"plain";t.displayMode=e=a}if("plain"===e)return void t.$itemInput.addClass("jqx-hidden");t.$itemInput.removeClass("jqx-hidden")}},{key:"_setItemColor",value:function(){var e=this,t=e.querySelector(".jqx-content-label"),i=/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(e.color)?e.color:"";t.style.backgroundColor=i,t.style.color=e._getContrastColor(i)}},{key:"_getContrastColor",value:function(e){if(!e)return"";var t=function(e,t,i){return[parseInt(e,16),parseInt(t,16),parseInt(i,16)]}(e.slice(1,3),e.slice(3,5),e.slice(5,7)),i=(.299*t[0]+.61*t[1]+.114*t[2])/255;return parseFloat(i.toFixed(2))>.65?"#000000":"#FFFFFF"}},{key:"hasStyleObserver",get:function(){return!1}},{key:"enableShadowDOM",get:function(){return!1}},{key:"_focused",get:function(){var e=this;return void 0===e.__focused&&(e.__focused=!1),e.__focused},set:function(e){var t=this;t.__focused=e,e?t.setAttribute("focus",""):t.removeAttribute("focus")}}],[{key:"properties",get:function(){return{alternationIndex:{value:-1,type:"int"},color:{value:"",type:"string"},displayMode:{allowedValues:["plain","checkBox","radioButton"],value:"plain",type:"string"},grouped:{value:!1,type:"boolean"},selected:{value:!1,type:"boolean"},value:{value:"",type:"string"},label:{value:"",type:"string"},details:{value:"",type:"string"},group:{value:"",type:"string"},hidden:{value:!1,type:"boolean"},readonly:{value:!1,type:"boolean"}}}},{key:"listeners",get:function(){return{mouseenter:"_itemOnMouseEnter",mouseleave:"_itemOnMouseLeave"}}}]),t}(JQX.ContentElement)),JQX("jqx-list-items-group",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                 <span id="itemsLabel" class ="jqx-list-items-group-label">[[label]]</span>\n                 <div id="listItemsGroupContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="jqx-list-items-group-container">\n                    <content></content>\n                 </div>\n               </div>'}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.appendChild(e)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.removeChild(e)}},{key:"getListBox",value:function(){for(var e=this,t=e.parentNode;t instanceof JQX.ListBox==!1&&null!==t;)t=t.parentNode;return t}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.ownerListBox||(e.ownerListBox=e.getListBox())}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{label:{value:"",type:"string"}}}}]),t}(JQX.ContentElement)),JQX("jqx-list-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                 <div class="jqx-list-box-filter-input-container jqx-hidden" id="filterInputContainer">\n                     <input id="filterInput" disabled="[[disabled]]" placeholder=\'[[filterInputPlaceholder]]\'>\n                 </div>\n                 <div id="itemsContainer" class="jqx-list-items-container">\n                      <div id="placeholder" class ="jqx-placeholder">[[placeholder]]</div>\n                      <div id="itemsInnerContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="jqx-list-items-inner-container">\n                          <content></content>\n                      </div>\n                      <input type="text" id="editInput" class= "jqx-hidden"/>\n                 </div>\n                 <jqx-scroll-bar wait id="verticalScrollBar" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                 <jqx-scroll-bar wait id="horizontalScrollBar" disabled="[[disabled]]" ></jqx-scroll-bar>\n                 <div id="loadingIndicatorContainer" class ="jqx-loader-container">\n                    <span id="loadingIndicator" class="jqx-loader"></span>\n                    <span id="loadingIndicatorPlaceHolder" class ="jqx-loader-label jqx-hidden">[[loadingIndicatorPlaceholder]]</span>\n                 </div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}},{key:"_mouseLeaveHandler",value:function(){for(var e=this,t=[].slice.call(e.getElementsByClassName("jqx-list-item-bottom-line-feedback")),i=0;i<t.length;i++)t[i].$.removeClass("jqx-list-item-line-feedback"),t[i].$.removeClass("jqx-list-item-bottom-line-feedback")}},{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||t.displayLoadingIndicator||t.readonly)){var i=e.originalEvent.target,a=null;if(!(i instanceof JQX.ListItem)||i.disabled||i.hidden||i instanceof JQX.ListItemsGroup)for(;i.parentElement;){if(i instanceof JQX.ListItem&&!i.disabled&&!i.hidden&&!(i instanceof JQX.ListItemsGroup)){a=i.dataItem;break}i=i.parentElement}else a=i.dataItem;JQX.ListBox.DragDrop.StartTime=new Date,JQX.ListBox.DragDrop.StartPosition={left:e.pageX,top:e.pageY},a&&(e.stopPropagation(),t.hasRippleAnimation&&(a.readonly||a.disabled||JQX.Utilities.Animation.Ripple.animate(i.$.overlay,e.pageX,e.pageY)),JQX.Utilities.Core.isMobile||"press"!==t.selectionChangeAction||(t._focus(a),t.select(a)),!JQX.ListBox.DragDrop.Feedback&&t.allowDrag&&(JQX.ListBox.DragDrop.DraggedFrom=t,JQX.ListBox.DragDrop.Feedback=document.createElement("span"),t.dragFeedbackFormatFunction?JQX.ListBox.DragDrop.Feedback.innerHTML=t.dragFeedbackFormatFunction(a):JQX.ListBox.DragDrop.Feedback.appendChild(a.offsetHeight?a.cloneNode(!0):t._createItem(a)),JQX.ListBox.DragDrop.Item=a,JQX.Utilities.Extend(JQX.ListBox.DragDrop.Feedback).addClass("jqx-popup jqx-list-item jqx-list-item-feedback")))}}},{key:"_dblclickEventHandler",value:function(e){var t=this;if(t.editable){var i=e.target.closest("jqx-list-item");if(!(i instanceof JQX.ListItem)||i.disabled||i.readonly)return void t.$editInput.addClass("jqx-hidden");t.$.editInput.owner=i,t.$.editInput.value=i.label,t.$.editInput.style.height=i.offsetHeight+"px",t.$.editInput.style.top=i.offsetTop+"px",t.$editInput.hasClass("jqx-hidden")&&t.$editInput.removeClass("jqx-hidden"),t.$.editInput.focus()}}},{key:"_editInputEventHandler",value:function(e){var t=this;if("blur"===e.type||"keydown"===e.type&&"Escape"===e.key)return t.$editInput.hasClass("jqx-hidden")||t.$editInput.addClass("jqx-hidden"),void t.focus();if("keydown"!==e.type&&!t.$editInput.hasClass("jqx-hidden")){var i=e.target;if(e.stopPropagation(),i.owner.label!==i.value&&(i.owner.label=i.value,t.itemTemplate&&t._applyTemplate(i.owner),t.dataSource)){var a=i.owner.dataIndex,n=t.dataSource[a];n&&(t.displayMember?n[t.displayMember]=i.value:n.label=i.value)}t.$editInput.addClass("jqx-hidden"),t.$.fireEvent("itemLabelChange",{selected:i.owner.selected,disabled:i.owner.disabled,index:t._indexOf(i.owner),label:i.owner.label,value:i.owner.value})}}},{key:"_pointerUpHandler",value:function(e){var t=this,i=e.originalEvent,a=i.target,n=function(i){var n=i.ownerListBox;n.disabled||n!==t||n.displayLoadingIndicator||"none"===n.selectionMode||i.grouped||i.readonly||(n._focus(i),n.select(i),e.preventDefault(),JQX.ListBox.DragDrop.StartPosition=null,t.$.fireEvent("itemClick",{selected:a.selected,disabled:a.disabled,index:t._indexOf(a),label:a.label,value:a.value}))};if(i.target instanceof JQX.ListItem&&!i.target.disabled&&!(i.target instanceof JQX.ListItemsGroup))return void n(a.dataItem);for(;a.parentElement;){if(a instanceof JQX.ListItem&&!a.disabled&&!(a instanceof JQX.ListItemsGroup)){n(a.dataItem);break}a=a.parentElement}if(this.enableShadowDOM&&"shadow"===this.shadowDomMode)for(var o=i.composedPath(),r=0;r<o.length;r++){var l=o[r];l instanceof JQX.ListItem&&!l.disabled&&n(l.dataItem)}}},{key:"_upHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly&&JQX.ListBox.DragDrop.StartPosition){if(JQX.Utilities.Core.isMobile&&!JQX.ListBox.DragDrop.Dragging){var i=Math.abs(e.pageX-JQX.ListBox.DragDrop.StartPosition.left),a=Math.abs(e.pageY-JQX.ListBox.DragDrop.StartPosition.top),n=i>=0&&i<=3&&a>=0&&a<=3;if(JQX.Utilities.Core.isMobile&&new Date-JQX.ListBox.DragDrop.StartTime>=300&&(n=!1,JQX.ListBox.DragDrop.StartTime=null),n){var o=e.originalEvent.target.closest("jqx-list-box");o?o._pointerUpHandler(e):t._pointerUpHandler(e),JQX.ListBox.DragDrop.StartPosition=null}else{var r=e.originalEvent.target;if(!(e.target instanceof JQX.ListItem)||r.readonly||e.target.disabled||e.target instanceof JQX.ListItemsGroup)for(;r.parentElement;){if(r instanceof JQX.ListItem&&!r.readonly&&!r.disabled&&!(r instanceof JQX.ListItemsGroup)){e.preventDefault(),e.stopPropagation();break}r=r.parentElement}else e.preventDefault(),e.stopPropagation()}}else if(!JQX.Utilities.Core.isMobile&&!JQX.ListBox.DragDrop.Dragging&&"release"===t.selectionChangeAction){var l=e.originalEvent.target.closest("jqx-list-box");l?l._pointerUpHandler(e):t._pointerUpHandler(e)}if(JQX.ListBox.DragDrop.Feedback){JQX.ListBox.DragDrop.Feedback.parentNode&&JQX.ListBox.DragDrop.Feedback.parentNode.removeChild(JQX.ListBox.DragDrop.Feedback),JQX.ListBox.DragDrop.Feedback=null;var s=void 0;if(JQX.Utilities.Core.isMobile&&JQX.ListBox.DragDrop.Dragging)for(var d=0;d<JQX.ListBox.DragDrop.ListBoxes.length;d++){var u=JQX.ListBox.DragDrop.ListBoxes[d],c=u.getBoundingClientRect();if(u.allowDrop&&!u.closest(".jqx-visibility-hidden")&&(c.left<=e.pageX&&e.pageX<=c.left+c.width&&c.top<=e.pageY&&e.pageY<=c.top+c.height)){s=u;for(var p=u._items.filter(function(e){return!e.hidden}),m=0;m<p.length;m++){var v=p[m],h=v.getBoundingClientRect();if((p.indexOf(v)===p.length-1||v.parentNode.lastElementChild===v)&&e.pageY>=c.top+v.offsetTop-u.scrollTop+h.height/2&&e.pageY<=c.top-u.scrollTop+v.offsetTop+h.height){JQX.ListBox.DragDrop.DropDetails={item:v,position:"bottom"};break}if(e.pageY>=c.top+v.offsetTop-u.scrollTop&&e.pageY<=c.top+v.offsetTop+h.height-u.scrollTop){JQX.ListBox.DragDrop.DropDetails={item:v,position:"top"};break}}}}if(JQX.ListBox.DragDrop.Dragging){if(JQX.ListBox.DragDrop.DropDetails){var f=JQX.ListBox.DragDrop.DropDetails.item,g=JQX.ListBox.DragDrop.Item,_=g.ownerListBox;if(s=!s&&e.originalEvent.target.closest?e.originalEvent.target.closest("jqx-list-box"):s,document.body.classList.remove("jqx-dragging"),f.$.removeClass("jqx-list-item-line-feedback"),f.$.removeClass("jqx-list-item-bottom-line-feedback"),s&&f.ownerListBox!==s&&s.items.length>0&&(f=s.items[s.items.length-1]),JQX.ListBox.DragDrop.Item===f||s!==f.ownerListBox&&!JQX.Utilities.Core.isMobile)s&&0===s._items.length&&"none"!==s.dropAction&&("move"===s.dropAction?JQX.ListBox.DragDrop.Item.ownerListBox.removeChild(JQX.ListBox.DragDrop.Item):"copy"===s.dropAction&&(g=g.cloneNode(!0)),s.appendChild(g));else if("none"!==g.ownerListBox.dropAction){f.ownerListBox!==g.ownerListBox&&"move"===g.ownerListBox.dropAction&&JQX.ListBox.DragDrop.Item.ownerListBox.removeChild(JQX.ListBox.DragDrop.Item),"copy"===g.ownerListBox.dropAction&&(g=g.cloneNode(!0)),JQX.ListBox.DragDrop.Item.group=f.group;var b=f.ownerListBox;"checkBox"!==b.selectionMode&&"radioButton"!==b.selectionMode&&b.clearSelection(),"top"===JQX.ListBox.DragDrop.DropDetails.position?b.insertBefore(g,f):f.parentNode.lastElementChild===f?b.appendChild(g):b.appendChild(g,f),b.ensureVisible(g),"checkBox"===b.selectionMode||"radioButton"===b.selectionMode?(b._focus(g),b._refreshSelection()):(b.clearSelection(),b.select(g))}g.selected&&s!==_&&_._refreshSelection();var y=JQX.ListBox.DragDrop.Item,w=y.ownerListBox;y.displayMode="checkBox"===w.selectionMode||"radioButton"===w.selectionMode?w.selectionMode:"plain",w.$.fireEvent("dragEnd",{item:y,target:f,data:JQX.ListBox.DragDrop,previousContainer:_,container:s,originalEvent:e}),w._focus(y)}else{var x=JQX.ListBox.DragDrop.Item,C=x.ownerListBox;x.displayMode="checkBox"===C.selectionMode||"radioButton"===C.selectionMode?C.selectionMode:"plain",C.$.fireEvent("dragEnd",{item:x,target:null,data:JQX.ListBox.DragDrop,previousContainer:C,container:C,originalEvent:e}),C._focus(x)}e.preventDefault()}delete JQX.ListBox.DragDrop.DraggedFrom,JQX.ListBox.DragDrop.Dragging=!1,JQX.ListBox.DragDrop.Item=null,JQX.ListBox.DragDrop.DropDetails=null}for(var k=0;k<JQX.ListBox.DragDrop.ListBoxes.length;k++){var D=JQX.ListBox.DragDrop.ListBoxes[k];D._dragInterval&&clearInterval(D._dragInterval)}}}},{key:"_itemsContainerMoveHandler",value:function(e){var t=this;if(JQX.ListBox.DragDrop.Dragging)return t._applyItemFeedback(e),t._moveHandler(e),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}},{key:"_applyItemFeedback",value:function(e){var t=this,i=e.originalEvent.target,a=i.closest?i.closest("jqx-list-item"):i;if(JQX.Utilities.Core.isMobile)return void(JQX.ListBox.DragDrop.DropDetails={item:JQX.ListBox.DragDrop.Item,position:"bottom"});if(0!==t.items.length)return a?void a._itemOnMouseMove(e):void t.items[t.items.length-1]._itemOnMouseMove(e,!0)}},{key:"_moveHandler",value:function(e){var t=this;if(JQX.ListBox.DragDrop.Feedback&&JQX.ListBox.DragDrop.DraggedFrom===t){var i=t.dragOffset;if(JQX.ListBox.DragDrop.Dragging){JQX.ListBox.DragDrop.Feedback.style.left=i[0]+e.pageX+"px",JQX.ListBox.DragDrop.Feedback.style.top=i[1]+e.pageY+"px",t.$.fireEvent("dragging",{item:JQX.ListBox.DragDrop.Item,data:JQX.ListBox.DragDrop,originalEvent:e.originalEvent});for(var a=0;a<JQX.ListBox.DragDrop.ListBoxes.length;a++)!function(t){var i=JQX.ListBox.DragDrop.ListBoxes[t];i._dragInterval&&clearInterval(i._dragInterval),i._dragInterval=setInterval(function(){var t=i.getBoundingClientRect();t.left<=e.clientX&&t.left+t.width>=e.clientX&&(e.clientY>=t.top&&e.clientY<=t.top+20?i.scrollTop-=2:e.clientY>=t.top+t.height-20&&e.clientY<=t.top+t.height&&(i.scrollTop+=2))},1)}(a);return e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}var n=Math.abs(e.pageX-JQX.ListBox.DragDrop.StartPosition.left),o=Math.abs(e.pageY-JQX.ListBox.DragDrop.StartPosition.top),r=new Date-JQX.ListBox.DragDrop.StartTime,l=n>=5&&n<=15||o>=5&&o<=15;if(JQX.Utilities.Core.isMobile&&(r<300||r>1e3)&&(l=!1),l){JQX.ListBox.DragDrop.Dragging=!0,JQX.ListBox.DragDrop.Feedback.style.left=i[0]+e.pageX+"px",JQX.ListBox.DragDrop.Feedback.style.top=i[1]+e.pageY+"px",document.body.appendChild(JQX.ListBox.DragDrop.Feedback),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();var s=JQX.ListBox.DragDrop.Item,d=s.ownerListBox;d.$.fireEvent("dragStart",{item:s,data:JQX.ListBox.DragDrop,container:d,previousContainer:d,originalEvent:e.originalEvent}),document.body.classList.add("jqx-dragging")}}}},{key:"_focusHandler",value:function(){var e=this;e._focused=!0,e.setAttribute("focus","")}},{key:"_blurHandler",value:function(){var e=this;e._focused=!1,e.removeAttribute("focus")}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}t.isVirtualized?(t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)):(e.dataItem=e,t.enableShadowDOM&&"light"===t.shadowDomMode?t.appendChild(e):t.$.itemsInnerContainer.appendChild(e),t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)),t._refreshItems(),t._refreshSelection()}},{key:"insertBefore",value:function(e,t){var i=this;if(!i.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,a.concat(Array.prototype.slice.call(arguments)))}i.isVirtualized?(i._items.indexOf(e)>-1&&i._items.splice(i._items.indexOf(e),1),i._items.splice(i._indexOf(t),0,e)):(e.dataItem=e,t.parentNode.insertBefore(e,t),i._items.indexOf(e)>-1&&i._items.splice(i._items.indexOf(e),1),i._items.splice(i._indexOf(t),0,e)),i._refreshItems(),i._refreshSelection()}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(t.isVirtualized)t._items.splice(t._indexOf(e),1);else if(e.parentNode){var a=t.selectedIndexes.slice(0),n=t.selectedValues.slice(0),o=a.indexOf(e.dataIndex);e.parentNode.removeChild(e),o>-1&&(a.splice(o,1),n.splice(o,1),t.selectedIndexes=a,t.selectedValues=n)}t._refreshItems()}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"innerHTML":n.clearSelection(),n._dataBind(),n.innerHTML=n.content=JQX.Utilities.Core.html(n.$.content);break;case"dataSource":case"valueMember":case"groupMember":case"displayMember":n.clearSelection(),n._dataBind();break;case"disabled":case"unfocusable":n._setFocusable();break;case"displayLoadingIndicator":n._setLoadingIndicatorVisibility();break;case"filterable":n._refreshFilter(),n._refreshLayout();break;case"grouped":if(a?n._group():n._ungroup(),"radioButton"===n.selectionMode){if(n.selectedValues.length>0){var o=n.selectedValues;n.clearSelection(),n.select(o[0])}}else n._refreshSelection();n._refreshLayout();break;case"itemTemplate":if(null===a||""===a)return n._items.map(function(e){return e.innerHTML=e.label}),delete n._bindingDetails,void n._refreshLayout();var r=n.querySelectorAll("jqx-list-item"),l=function(){n._handleItemTemplate(a)&&(n._items.map(function(e){return n._applyTemplate(e)}),n._refreshLayout()),n.ownerElement&&n.ownerElement._setDropDownSize&&n.ownerElement._setDropDownSize(),n.$.fireEvent("bindingComplete")};0===r.length?l():n._ensureItemsReady(r,l);break;case"selectedIndexes":case"selectedValues":var s=n.selectedIndexes.slice(0),d=n.selectedValues.slice(0);if(!n._items||0===n._items.length)return n.selectedIndexes=[],n.selectedValues=[],void(n.$.hiddenInput.value=n.selectedValues.toString());if(n._propertyChanging=!0,"selectedIndexes"===e){s=i.slice(0),n.clearSelection();for(var u=0;u<a.length;u++){var c=a[u],p=n._items[c];p&&("oneOrManyExtended"===n.selectionMode||"oneOrMany"===n.selectionMode?(n.selectedIndexes.length>0&&0===u&&n.clearSelection(),n._select(p)):n.select(p))}}else{d=i.slice(0),n.selectedValues=[],n.clearSelection();for(var m=0;m<a.length;m++){var v=a[m],h=n.getItem(v);h&&("oneOrManyExtended"===n.selectionMode?n._select(h):n.select(h))}}if(n.selectedIndexes.length>0&&n._focus(n._items[n.selectedIndexes[0]]),n._propertyChanging=!1,JSON.stringify(d)!==JSON.stringify(n.selectedValues.slice(0))){for(var f=[],g=[],_=0;_<s.length;_++)n.selectedIndexes.indexOf(s[_])<0&&g.push(n._items[s[_]]);for(var b=0;b<n.selectedIndexes.length;b++)s.indexOf(n.selectedIndexes[b])<0&&f.push(n._items[n.selectedIndexes[b]]);var y={addedItems:f,removedItems:g};if(n.selectedIndexes.length>0){var w=n._items[n.selectedIndexes[n.selectedIndexes.length-1]];void 0!==w&&(y.selected=w.selected,y.disabled=w.disabled,y.index=n._indexOf(w),y.label=w.label,y.value=w.value)}else y.selected=!1,y.disabled=!1,y.index=-1,y.label="",y.value="";n.$.fireEvent("change",y)}break;case"selectionMode":var x="checkBox"===n.selectionMode||"radioButton"===n.selectionMode?n.selectionMode:"plain",C=n.selectedIndexes.slice(0),k=n.selectedValues.slice(0);n._propertyChanging=!0;var D=n.selectedValues;n.selectedValues=[],n.clearSelection();for(var S=0;S<D.length;S++){var T=D[S],I=n.getItem(T);I&&("oneOrManyExtended"===n.selectionMode?n._select(I):n.select(I))}if(n._items.forEach(function(e){return e.displayMode=x}),n._recycle(),n._propertyChanging=!1,JSON.stringify(k)!==JSON.stringify(n.selectedValues.slice(0))){for(var H=[],$=[],M=0;M<C.length;M++)n.selectedIndexes.indexOf(C[M])<0&&$.push(n._items[C[M]]);for(var B=0;B<n.selectedIndexes.length;B++)C.indexOf(n.selectedIndexes[B])<0&&H.push(n._items[n.selectedIndexes[B]]);var j={addedItems:H,removedItems:$};if(C.length>0){var E=n._items[C[C.length-1]];E&&(j.selected=E.selected,
j.disabled=E.disabled,j.index=n._indexOf(E),j.label=E.label,j.value=E.value)}n.$.fireEvent("change",j)}break;case"topVisibleIndex":n._setTopVisibleIndex(a);break;case"autoSort":n._canSort=a;break;case"sortDirection":case"sorted":n._canSort=!0,a?n._sort():n._unsort();var L=n.selectedValues;n.selectedValues=[],n._refreshSelection();for(var q=0;q<L.length;q++){var z=L[q],A=n.getItem(z);A&&("oneOrManyExtended"===n.selectionMode?n._select(A):n.select(A))}n._refreshLayout(),n._canSort=n.autoSort}}},{key:"_refreshSelection",value:function(){var e=this;if(e._items&&0!==e._items.length){var t=e.selectedValues;e.selectedIndexes=[],e.selectedValues=[];for(var i=0;i<e._items.length;i++){var a=e._items[i];a.selected=!1,t.indexOf(a.value)>-1&&e.select(a)}e._recycle()}}},{key:"clearSelection",value:function(){var e=this;if(e._items&&0!==e._items.length){for(var t=[],i=0;i<e._items.length;i++)e._items[i].selected&&t.push(e._items[i]);e._items.map(function(e){return e.selected=!1});var a=(e.selectedValues.slice(0),e.selectedIndexes.slice(0));if(e.selectedIndexes=[],e.selectedValues=[],e.$.hiddenInput.value=e.selectedValues.toString(),e._recycle(),e.context!==e){var n={addedItems:[],removedItems:t};if(a.length>0){var o=e._items[a[a.length-1]];o&&(n.selected=o.selected,n.disabled=o.disabled,n.index=e._indexOf(o),n.label=o.label,n.value=o.value)}e.$.fireEvent("change",n)}}}},{key:"ensureVisible",value:function(e){var t=this;if(e)return!("string"==typeof e&&!(e=t.getItem(e)))&&(t.isVirtualized||t.$.itemsContainer.scrollTop===t.scrollTop||(t.scrollTop=t.$.itemsContainer.scrollTop),e.top+e.height>=t.scrollTop+t.offsetHeight&&(t.scrollTop=t.scrollTop+e.height,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),(e.top<=t.scrollTop||e.top>=t.scrollTop+t.$.itemsContainer.offsetHeight)&&(t.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),0===t._indexOf(e)||1===t._indexOf(e)&&t._items.length>1&&t._items[0].grouped?(t.scrollTop=0,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)):t._indexOf(e)===t._items.length-1&&(t.scrollTop=t.scrollHeight,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),!0)}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;if(e.enableShadowDOM&&"light"===e.shadowDomMode){var i=document.createDocumentFragment();[].slice.call(e.$.itemsInnerContainer.children).map(function(e){return i.appendChild(e)}),e.appendChild(i),e.$.itemsInnerContainer.appendChild(document.createElement("slot"))}e._areCSSVarsSupported=JQX.Utilities.Core.CSSVariablesSupport(),e._keysPressed={},e._incrementalSearchQuery="",e._incrementalSearchItems=[],e._canSort=!0,e._previousEntry="",e.isUpdating=0,e._scrollView&&(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._scrollView.hScrollBar.$.addClass("jqx-hidden"),e._scrollView.vScrollBar.$.addClass("jqx-hidden"));var a=e._scrollView.vScrollBar,n=e._scrollView.hScrollBar;a.hasStyleObserver=!1,n.hasStyleObserver=!1,a.hasResizeObserver=!1,n.hasResizeObserver=!1,a.wait=!1,n.wait=!1,e._setFocusable(),e._setLoadingIndicatorVisibility(),e._refreshFilter(),e._initializeInnerHTML(),e._dataBind()}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),JQX.ListBox.DragDrop||(JQX.ListBox.DragDrop={ListBoxes:[]}),JQX.ListBox.DragDrop.ListBoxes.push(e),e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.selectedIndexes.length>0&&e.ensureVisible(e._items[e.selectedIndexes[0]])}},{key:"detached",value:function(){var e=this;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView),JQX.ListBox.DragDrop&&JQX.ListBox.DragDrop.ListBoxes){var i=JQX.ListBox.DragDrop.ListBoxes.indexOf(e);JQX.ListBox.DragDrop.ListBoxes.splice(i,1)}}},{key:"_createItem",value:function(e,t,i){var a=this,n="checkBox"===a.selectionMode||"radioButton"===a.selectionMode?a.selectionMode:"plain",o=i?{}:document.createElement("jqx-list-item");o.ownerListBox=a,"number"==typeof e&&(e=""+e);var r=function(t,i){return void 0!==e[t]?""+e[t]:e[i]},l="string"==typeof e?e:r(a.displayMember,"label"),s="string"==typeof e?e:r(a.valueMember,"value"),d=r(a.groupMember,"group");return void 0===l&&(l=void 0!==t?""+t:""),o.label=o.innerHTML=""+l,void 0===s&&(s=void 0!==t?""+t:l),e.color&&(o.color=e.color),o.value=""+s,o.displayMode=n,o.selected=!!e.selected&&e.selected,o.disabled=!!e.disabled&&e.disabled,o.dataItem=o,void 0!==t&&(o.dataIndex=t),a._alternateItem(o),e.title&&(o.title=e.title),d&&(o.group=""+d),o}},{key:"_alternateItem",value:function(e){var t=this,i=t.alternationStart,a=t.alternationEnd>0?t.alternationEnd:1/0;t.alternationCount<=0||(void 0===t._alternationIndexCounter&&(t._alternationIndexCounter=0),e.dataIndex>=i&&e.dataIndex<=a&&(e.alternationIndex=t._alternationIndexCounter++,t._alternationIndexCounter===t.alternationCount&&(t._alternationIndexCounter=0)))}},{key:"_beginUpdate",value:function(){this.isUpdating++}},{key:"_isUpdating",value:function(){return this.isUpdating>0}},{key:"_endUpdate",value:function(){this.isUpdating--}},{key:"_initializeRecyclingItems",value:function(){var e=this;if(e.dataSource&&(!e.dataSource||0!==e.dataSource.length)&&e.isVirtualized){var t=0,i=e.offsetHeight;e.$.itemsInnerContainer.innerHTML="",e._recyclingItems=[];var a=function(){for(var a=0;a<e.dataSource.length;a++){var n=e.dataSource[a],o=e._createItem(n);if(e.itemHeight&&"auto"!==e.itemHeight&&(o.style.height=e.itemHeight+"px"),e.$.itemsInnerContainer.appendChild(o),t+=o.offsetHeight,o.dataItem=e._items[a],e._recyclingItems.push(o),t>1.5*i)break}};a();for(var n=0;t<1.5*i&&++n<5;)a()}}},{key:"_dataBind",value:function(){var e=this;if(e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),"function"==typeof e.dataSource&&(e._items=[]),"string"==typeof e.dataSource&&(e.dataSource=JSON.parse(e.dataSource)),null!==e.dataSource&&Array.isArray(e.dataSource)){e.isUpdating++;var t=function(t){e._items=[],e._groups=[];for(var i=e.dataSource,a=0;a<i.length;a++){var n=i[a],o=e._createItem(n,a,!t);e._items[a]=o,t&&t.appendChild(o)}};if(e.isVirtualized)t(),e._initializeRecyclingItems();else{var i=document.createDocumentFragment();e.$.itemsInnerContainer.innerHTML="",t(i),e.$.itemsInnerContainer.appendChild(i)}e.isUpdating--}var a=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item"),n=function(){e.isUpdating++,e.dataSource||(e._initializeHtmlListItems(),e._initializeHtmlListGroups()),e.grouped&&e._group(),e.sorted&&e._sort(),e._refreshLayout(),e._initializeSelection(),e.isInitialized=!0,e._canSort=e.autoSort,e.isUpdating--,e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&(e._items.map(function(t){return e._applyTemplate(t)}),e._refreshLayout()),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted()),e.topVisibleIndex>-1&&e._setTopVisibleIndex(e.topVisibleIndex),e.$.fireEvent("bindingComplete"),e._updateTopVisibleIndex(),0===e._items.length&&e.clearItems()};0===a.length?n():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(a,n))}},{key:"_ensureItemsReady",value:function(e,t){var i=this,a=function(){var i=function(t){for(var i=0;i<e.length;i++)e[i].context="node"===t?e[i]:document};i("node"),t(),i()};if(0===e.length)a();else{i._nodesReadyListeners=0;for(var n=0;n<e.length;n++){var o=e[n],r=function(){0===--i._nodesReadyListeners&&(a(),delete i._nodesReadyListeners)}.bind(i);o.isCompleted||(i._nodesReadyListeners++,o._onCompleted=r)}0===i._nodesReadyListeners&&a()}}},{key:"_initializeInnerHTML",value:function(){var e=this;e.$.itemsInnerContainer.innerHTML.indexOf("<option")>=0?e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<optgroup/gi,"<jqx-list-items-group").replace(/<\/optgroup/gi,"</jqx-list-items-group").replace(/<option/gi,"<jqx-list-item").replace(/<\/option/gi,"</jqx-list-item"):e.$.itemsInnerContainer.innerHTML.indexOf("<ul")>=0&&(e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<ul/gi,"<jqx-list-items-group").replace(/<\/ul/gi,"</jqx-list-items-group").replace(/<li/gi,"<jqx-list-item").replace(/<\/li/gi,"</jqx-list-item"))}},{key:"_initializeHtmlListItems",value:function(){var e=this,t=e.enableShadowDOM&&"shadow"===e.shadowDomMode?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item"),i="checkBox"===e.selectionMode||"radioButton"===e.selectionMode?e.selectionMode:"plain",a=function(e,t,i){return void 0!==e[t]?""+e[t]:e[i]};e._items=[];for(var n=0,o=0;o<t.length;o++){var r=t[o];r.dataIndex=o,r.label=r.innerHTML,r.dataItem=r,r.top||(r.top=n),r.height||(r.height=r.offsetHeight),n+=r.height,r.value||(r.value=""+o);var l=a(r,e.displayMember,"label"),s=a(r,e.valueMember,"value"),d=a(r,e.groupMember,"group");r.label!==l&&(r.label=l),r.value!==s&&(r.value=s),r.group!==d&&(r.group=d);var u=r.context;r.context=document,r.displayMode=i,r.context=u,e._alternateItem(r),r.selected&&(e.selectedIndexes.push(o),e.selectedValues.push(r.value)),e._items.push(r)}e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._items.map(function(t){return e._applyTemplate(t)})}},{key:"_group",value:function(){var e=this;e.isUpdating++;var t=[],i=[];e._canSort&&e._unsort();for(var a=0;a<e._items.length;a++){var n=e._items[a],o=n.group?n.group.trim():n.innerHTML.charAt(0)||n.label.charAt(0);o+=" ",t[o]?t[o].items.push(n):t[t.length++]=t[o]={items:[n],label:o}}if(e.isVirtualized){e._groups=[];for(var r=0;r<t.length;r++){var l=t[r];l.dataIndex=r,l.grouped=!0,l.hidden=!1,l.displayMode="plain",i.push(l);for(var s=0;s<t[r].items.length;s++){var d=l.items[s];d.group=l,i.push(d)}}e._groups=t,e._items=i}else{for(;e.$.itemsInnerContainer.firstChild;)e.$.itemsInnerContainer.removeChild(e.$.itemsInnerContainer.firstChild);var u=document.createDocumentFragment();e._groups=[];for(var c=0;c<t.length;c++){var p=t[c],m=document.createElement("jqx-list-items-group");m.label=p.label,m.dataIndex=c;for(var v=0;v<t[c].items.length;v++){var h=p.items[v];i.push(h),h.group=p.label,m.appendChild(h)}e._groups.push(m),u.appendChild(m)}e._items=i;/Trident|Edge/.test(navigator.userAgent)?setTimeout(function(){e.$.itemsInnerContainer.appendChild(u)},50):e.$.itemsInnerContainer.appendChild(u)}e.sorted&&e._sort(),e.isUpdating--}},{key:"_ungroup",value:function(){var e=this;e.isUpdating++,e._groups=[],e._canSort&&e._unsort();var t=[];if(e.isVirtualized)for(var i=0;i<e._items.length;i++){var a=e._items[i];a.grouped||t.push(a)}else{for(var n=document.createDocumentFragment(),o=0;o<e._items.length;o++){var r=e._items[o];n.appendChild(r),t.push(r)}t.length>0&&(e.$.itemsInnerContainer.innerHTML="",e.$.itemsInnerContainer.appendChild(n))}e._items=t,e.sorted&&e._sort(),e.isUpdating--}},{key:"_initializeHtmlListGroups",value:function(){var e=this,t=e.$.itemsInnerContainer.querySelectorAll("jqx-list-items-group");e._groups=[];for(var i=0;i<t.length;i++){var a=t[i];a.dataIndex=i,e._groups.push(a)}}},{key:"_initializeSelection",value:function(){var e=this,t=e.selectedIndexes.slice(0),i=e.selectedValues.slice(0);e.clearSelection(),"oneOrManyExtended"===e.selectionMode&&(e._keysPressed.Control=!0);for(var a=0;a<e._items.length;a++){var n=e._items[a];(t.indexOf(a)>=0||i.indexOf(n.value||n.label)>=0)&&(e._focusedItem&&(e._focusedItem._focused=!1),e._focusedItem=null,e.select(n))}"oneOrManyExtended"===e.selectionMode&&(e._keysPressed.Control=!1)}},{key:"onItemUpdated",value:function(){var e=this;e.isInitialized&&!e._isUpdating()&&(e.isUpdating++,e._refreshLayout(),e.isUpdating--)}},{key:"_refreshItems",value:function(){var e=this;if(e.isInitialized&&!e._isUpdating()){if(e.isUpdating++,e.grouped?e._ungroup():e.sorted&&e._canSort&&e._unsort(),!e.isVirtualized){e._items=[];for(var t=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item"),i=0;i<t.length;i++)t[i].dataIndex=i,e._alternateItem(t[i]),e._items.push(t[i])}e.grouped?e._group():e.sorted&&e._sort(),e._refreshLayout(),e.isUpdating--}}},{key:"_applyIncrementalSearch",value:function(e){var t=this;null===t.incrementalSearchDelay||isNaN(t.incrementalSearchDelay)||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control","Home","End","PageUp","PageDown"].indexOf(e)>-1||(0!==t._incrementalSearchQuery.indexOf(e)&&(t._incrementalSearchQuery+=e),t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t._incrementalSearch(),t._incrementalSearchTimer=setTimeout(function(){t._incrementalSearchQuery=""},t.incrementalSearchDelay))}},{key:"select",value:function(e){var t=this;if(("string"!=typeof e||(e=t.getItem(e)))&&("number"!=typeof e||(e=t.getItem(e)))&&!e.grouped&&!e.readonly){if("none"===t.selectionMode)return t.selectedIndexes=[],void(t.selectedValues=[]);switch(!t._focusedItem!==e&&"none"!==t.selectionMode&&(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=e,e._focused=!0),t.selectionMode){case"one":return(1!==t.selectedIndexes.length||t.selectedIndexes[0]!==t._indexOf(e))&&(t._previouslySelectedIndexes=t.selectedIndexes,t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),delete t._previouslySelectedIndexes,!0);case"zeroOrOne":return 1===t.selectedIndexes.length&&t.selectedIndexes[0]===t._indexOf(e)?(t.unselect(e),!0):(t._previouslySelectedIndexes=t.selectedIndexes,t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),delete t._previouslySelectedIndexes,!0);case"radioButton":if(t._previouslySelectedIndexes=t.selectedIndexes,t.$.itemsInnerContainer.querySelectorAll("jqx-list-items-group").length>0){var i=e.parentNode;if(!e.selected){for(var a in i.children){var n=i.children[a];n.selected&&t.unselect(n)}t._select(e)}return delete t._previouslySelectedIndexes,!0}if(t.isVirtualized&&t._groups.length>0){var o=e.group;if(!e.selected){for(var r in o.items){var l=o.items[r];l.selected&&t.unselect(l)}t._select(e)}return delete t._previouslySelectedIndexes,!0}return e.selected||(t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e)),delete t._previouslySelectedIndexes,!0;case"oneOrMany":return e.selected?t.selectedIndexes.length>1&&t.unselect(e):t._select(e),!0;case"zeroOrMany":case"checkBox":return e.selected?t.unselect(e):t._select(e),!0;case"oneOrManyExtended":var s=t.selectedValues;if(t._keysPressed.Control)return t.selectedIndexes.length>1&&e.selected?(t.unselect(e),t._focus(t._items[t.selectedIndexes[0]])):t._select(e),!0;if(t._keysPressed.Shift){var d=t._items[t.selectedIndexes[0]],u=void 0;t.clearSelection();var c=s.indexOf(d.value)>=0||d.selected;if(t._select(d,c),t._indexOf(d)>t._indexOf(e))for(u=t._indexOf(d)-1;u>=t._indexOf(e);){var p=t._items[u],m=s.indexOf(p.value)>=0||p.selected;t._select(p,m),u--}else for(u=t._indexOf(d)+1;u<=t._indexOf(e);){var v=t._items[u],h=s.indexOf(v.value)>=0||v.selected;t._select(v,h),u++}for(var f=[],g=0;g<s.length;g++)f.push(t.getItem(s[g]));if(f.length>0&&!t._propertyChanging){for(var _=[],b=0;b<t.selectedValues.length;b++){var y=t.selectedValues[b];s.indexOf(y)<0&&_.push(t.getItem(y))}t.$.fireEvent("change",{addedItems:_,removedItems:f,selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value})}return!0}for(var w=0;w<s.length;w++){var x=s[w],C=t.getItem(x);e!==C&&t.unselect(C)}return t.clearSelection(),t._select(e,s.indexOf(e.value)>=0),!0}return!1}}},{key:"_applyTemplate",value:function(e,t){var i=this;if(null!==i.itemTemplate){if("function"==typeof i.itemTemplate)return void i.itemTemplate(e,{label:e.label,value:e.value,index:i._items.indexOf(e)});if(i._bindingDetails&&0!==i._bindingDetails.length){for(var a=i._bindingDetails.length,n=document.importNode(i._template.content,!0),o=void 0,r=void 0,l=0;l<a;l++){o=n.childNodes[i._bindingDetails[l].childNodeIndex],r=i._bindingDetails[l].bindingString.length;for(var s=0;s<r;s++){var d=i._bindingDetails[l].bindingString[s],u=d.indexOf("label")>=0?e.label:e.value;o.innerHTML=o.innerHTML.replace(d,u)}}e.innerHTML="";for(var c=0;c<n.childNodes.length;c++)n.childNodes[c].outerHTML&&(e.innerHTML+=n.childNodes[c].outerHTML);!1!==t&&(i._scrollHeightTimer&&(clearInterval(i._scrollHeightTimer),i._scrollHeightCounter=0),i._scrollHeightTimer=setInterval(function(){i._lastScrollHeight===i.$.itemsInnerContainer.scrollHeight&&10!==i._scrollHeightCounter||(i._refreshLayout(),clearInterval(i._scrollHeightTimer)),i._lastScrollHeight=i.$.itemsInnerContainer.scrollHeight,i._scrollHeightCounter++},50))}}}},{key:"_filterItems",value:function(e,t,i){var a=this,n=a.$.filterInput.value,o=void 0,r=void 0,l=function(){if(0===r.length)return a._filteredItems=[],void(t&&t());o=a._queryItems(n,a.filterMode);for(var i=0;i<r.length;i++)r[i].hidden=!0,r[i].$.addClass("jqx-hidden");for(var l=0;l<o.length;l++){var s=o[l];s.hidden=!1,s.$.removeClass("jqx-hidden")}if(a.grouped&&a.isVirtualized)for(var d=0;d<a._groups.length;d++){for(var u=a._groups[d],c=u.items,p=!0,m=0;m<c.length;m++)c[m].hidden||(p=!1);p&&(u.hidden=!0)}if(a.grouped&&!a.isVirtualized)for(var v=0;v<a._groups.length;v++){for(var h,f=a._groups[v],g=(h=[]).concat.apply(h,babelHelpers.toConsumableArray(f.querySelectorAll("jqx-list-item"))),_=!0,b=0;b<g.length;b++)g[b].$.hasClass("jqx-hidden")||(_=!1);_?f.$.addClass("jqx-hidden"):f.$.removeClass("jqx-hidden")}a._filteredItems=o,a._refreshLayout(),t&&t(),e||a._refreshSelection()};if("function"==typeof a.dataSource)if(n||i){var s=function(e){(n||i)&&a.isAttached&&(a._updateListBoxAfterQuery=function(){o=r=a._items,l()},a.clearItems(),a.insert(0,e))},d=a.dataSource(n,s);if(d){if(!n&&!i)return;a._updateListBoxAfterQuery=function(){o=r=a._items,l()},a.clearItems(),a.insert(0,d)}}else a.clearItems(),o=r=a._items,l();else{if(r=a._items,0===r.length)return;l()}}},{key:"_getNextItem",value:function(e){for(var t=this,i=t._items,a=t._items.length,n=Math.max(e+1,0);n<a;){var o=i[n];if(!(o.disabled||o.hidden||o.grouped||o.readonly))return o;n++}return i[e]}},{key:"_getPreviousItem",value:function(e){for(var t=this,i=t._items,a=Math.max(e-1,0);a>-1;){var n=i[a];if(!(n.disabled||n.hidden||n.grouped||n.readonly))return n;a--}return i[e]}},{key:"update",value:function(e,t){var i=this,a=i._items[e];if(a){if("string"==typeof t)a.label=t,void 0===a.value&&(a.value=t);else for(var n in t)"selected"===n&&a[n]!==t[n]?i.select(a):a[n]=t[n],"group"===n&&i._refreshItems();(i.sorted||i.grouped||i.isVirtualized)&&(i._refreshItems(),i._refreshSelection())}else i.error(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:"update"}))}},{key:"insert",value:function(e,t){function i(){a._refreshItems(),0!==a._items.length&&(a._updateListBoxAfterQuery&&(a._updateListBoxAfterQuery(),delete a._updateListBoxAfterQuery),a._refreshSelection(),a.$.fireEvent("bindingComplete"))}var a=this,n=[];if(e||(e=0),Array.isArray(t)){a.isUpdating++;for(var o=0;o<t.length;o++){var r=t[o],l=a._createItem(r);n.push(l),e>=a._items.length||0===a._items.length?a.appendChild(l):a.insertBefore(l,a._items[e])}a.isUpdating--}else{var s=a._createItem(t);n.push(s),e>=a._items.length||0===a._items.length?a.appendChild(s):a.insertBefore(s,a._items[e])}n.length>0&&(n.map(function(e){return a._applyTemplate(e)}),a._ensureItemsReady(n,i))}},{key:"remove",value:function(e){var t=this,i=t._items[e];i?(t.isVirtualized?t._items.splice(e,1):i.parentNode.removeChild(i),i.selected&&t.unselect(i),t._refreshItems(),t._refreshSelection(),0===t.selectedIndexes.length&&t._items.length>0&&("oneOrMany"!==t.selectionMode&&"one"!==t.selectionMode&&"oneOrManyExtended"!==t.selectionMode||t.select(t._items[0]))):t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"remove"}))}},{key:"_queryItems",value:function(e,t){var i=this,a=[];if(0===e.length)return i._items;for(var n=0;n<i._items.length;n++){var o=function(a,n){if(a.grouped)return a;switch(t){case"startsWith":if(0===a.label.indexOf(n))return a;break;case"startsWithIgnoreCase":if(0===a.label.toLowerCase().indexOf(n.toLowerCase()))return a;break;case"doesNotContain":if(a.label.indexOf(n)<0)return a;break;case"doesNotContainIgnoreCase":if(a.label.toLowerCase().indexOf(n.toLowerCase())<0)return a;break;case"contains":if(a.label.indexOf(n)>-1)return a;break;case"containsIgnoreCase":if(a.label.toLowerCase().indexOf(n.toLowerCase())>-1)return a;break;case"equals":if(0===a.label.localeCompare(n))return a;break;case"equalsIgnoreCase":if(0===a.label.toLowerCase().localeCompare(n.toLowerCase()))return a;break;case"endsWith":if(a.label.endsWith(n))return a;break;case"endsWithIgnoreCase":if(a.label.toLowerCase().endsWith(n.toLowerCase()))return a;break;case"custom":if(i.filterCallback(a,e))return a}return null}(i._items[n],e);o&&a.push(o)}return a}},{key:"_select",value:function(e,t){var i=this,a=i.selectedIndexes.indexOf(i._indexOf(e)),n=i.selectedIndexes.slice(0),o=i.selectedValues.slice(0);if(e.selected=!0,-1!==a)return i._recycle(),!1;if(n.push(i._indexOf(e)),o.push(e.value||e.label),i.selectedIndexes=n,i.selectedValues=o,i._recycle(),i.$.hiddenInput.value=o.toString(),i.isCompleted&&!t&&i.isInitialized&&!i._propertyChanging){var r=[];if(i._previouslySelectedIndexes){for(var l=0;l<i._previouslySelectedIndexes.length;l++)i.selectedIndexes.indexOf(i._previouslySelectedIndexes[l])<0&&r.push(i._items[i._previouslySelectedIndexes[l]]);delete i._previouslySelectedIndexes}return i.$.fireEvent("change",{addedItems:[e],removedItems:r,selected:e.selected,disabled:e.disabled,index:i._indexOf(e),label:e.label,value:e.value}),!0}}},{key:"_setTopVisibleIndex",value:function(e){var t=this;if("number"==typeof e&&(t.topVisibleIndex=Math.max(0,e),e=t._items[t.topVisibleIndex]),!e)return!1;e.top!==t.scrollTop&&(t.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop),t.scrollHeight===t.scrollTop&&t._updateTopVisibleIndex())}},{key:"_updateTopVisibleIndex",value:function(){var e=this,t=e.scrollTop+e._scrollView.verticalScrollBar.offsetHeight-e.offsetHeight,i=void 0;if(e.scrollTop<e.scrollHeight/2){for(var a=0;a<e._items.length;a++)if(e._items[a].top>t){i=e._items[a];break}}else for(var n=e._items.length-1;n>=0&&!(e._items[n].top<t);n--)i=e._items[n];i&&(e.topVisibleIndex=i.dataIndex)}},{key:"unselect",value:function(e){var t=this;if(e&&("string"!=typeof e||(e=t.getItem(e)))){if("none"===t.selectionMode)return void t.clearSelection();var i=t.selectedIndexes.indexOf(t._indexOf(e)),a=t.selectedIndexes.slice(0),n=t.selectedValues.slice(0);if(e.selected=!1,!(i>=0))return!1;if(a.splice(i,1),n.splice(i,1),t.selectedIndexes=a,t.selectedValues=n,t.$.hiddenInput.value=n.toString(),t.isCompleted&&!t._propertyChanging)return t.$.fireEvent("change",{addedItems:[],removedItems:[e],selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value}),t._recycle(),!0}}},{key:"_handleItemTemplate",value:function(e){if(null!==e&&e){if("function"==typeof e)return e;var t=this;if(!("content"in document.createElement("template")))return t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()})),void(t.itemTemplate=null);if(null===(e=document.getElementById(e))||!("content"in e))return t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"itemTemplate"})),void(t.itemTemplate=null);var i=e.content,a=i.childNodes.length,n=/{{\w+}}/g,o=void 0,r=void 0;t._bindingDetails=[],t._template=e;for(var l=0;l<a;l++){for(r=[];o=n.exec(i.childNodes[l].innerHTML);)r.push(o[0]);r.length>0&&t._bindingDetails.push({childNodeIndex:l,bindingString:r})}return!0}}},{key:"_handleKeyStrokes",value:function(e){var t=this,i="radioButton"===t.selectionMode||"checkBox"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode,a=t._items;if(t.filterable&&t.$.filterInput.value.length>0&&(a=t._filteredItems),!t.disabled&&!t.readonly){switch(e){case"ArrowLeft":case"ArrowUp":t._handleArrowKeys(!0);break;case"ArrowRight":case"ArrowDown":t._handleArrowKeys(!1);break;case" ":if(t.selectedIndexes.length<1&&!t._focusedItem)return;var n=t._focusedItem?t._focusedItem:t._items[t.selectedIndexes[t.selectedIndexes.length-1]],o=function(e){e.selected&&"radioButton"!==t.selectionMode?t.unselect(e):t.select(e)};if("oneOrMany"===t.selectionMode)return void(n.selected&&t.selectedIndexes.length>1?o(n):n.selected||o(n));o(n);break;case"Home":if(0===a.length)return;i?t._focus(a[0]):(t._keysPressed.Shift||t.clearSelection(),t.select(a[0]),t._focus(a[0])),t.scrollTop=0;break;case"End":if(0===a.length)return;i?t._focus(a[a.length-1]):(t._keysPressed.Shift||t.clearSelection(),t.select(a[a.length-1]),t._focus(a[a.length-1])),t.scrollTop=t.scrollHeight;break;case"PageUp":t._pageUpKeyHandler(a);break;case"PageDown":t._pageDownKeyHandler(a)}t._recycle()}}},{key:"_horizontalScrollbarHandler",value:function(e){var t=this;e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollLeft=e.detail.value}},{key:"_unsort",value:function(){var e=this;e.isUpdating++;var t=function(e,t){var i=e.dataIndex,a=t.dataIndex;return i<a?-1:i>a?1:0};if(e.isVirtualized)if(e._groups.length>0){e._groups.sort(t);for(var i=[],a=0;a<e._groups.length;a++){var n,o=e._groups[a],r=(n=[]).concat.apply(n,babelHelpers.toConsumableArray(o.items));r.sort(t),i.push(o),i=i.concat(r)}e._items=i}else e._items.sort(t);else{if(e._groups.length>0){e._groups.sort(t);for(var l=[],s=0;s<e._groups.length;s++){var d,u=e._groups[s],c=(d=[]).concat.apply(d,babelHelpers.toConsumableArray(u.querySelectorAll("jqx-list-item")));c.sort(t),l=l.concat(c)}e._items=l}else e._items.sort(t);e._applySortOrder()}e.isUpdating--}},{key:"_applySortOrder",value:function(){var e=this,t=function(e){for(var t=0;t<e.length;t++){var i=e[t],a=i.parentNode;a&&a.appendChild(i)}};t(e._items),t(e._groups)}},{key:"_sort",value:function(){var e=this;if(e._canSort){e.isUpdating++;var t=function(t,i){var a=t.label,n=i.label;if("asc"===e.sortDirection){if(a<n)return-1;if(a>n)return 1}else{if(a<n)return 1;if(a>n)return-1}return 0};if(e._groups.sort(t),e.isVirtualized)if(e._groups.length>0){for(var i=[],a=0;a<e._groups.length;a++){var n,o=e._groups[a],r=(n=[]).concat.apply(n,babelHelpers.toConsumableArray(o.items));i.push(o),r.sort(t),i=i.concat(r)}e._items=i}else e._items.sort(t);else{if(e._groups.length>0){for(var l=[],s=0;s<e._groups.length;s++){var d,u=e._groups[s],c=(d=[]).concat.apply(d,babelHelpers.toConsumableArray(u.querySelectorAll("jqx-list-item")));c.sort(t),l=l.concat(c)}e._items=l}else e._items.sort(t);e._applySortOrder()}e.isUpdating--}}},{key:"getItem",value:function(e){for(var t=this,i=0;i<t._items.length;i++)if(t._items[i].value===e)return t._items[i];return null}},{key:"_focus",value:function(e){var t=this;!e||"none"===t.selectionMode||t.disabled||t.readonly||(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=e,t._focusedItem._focused=!0)}},{key:"_keyDownHandler",value:function(e){var t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement,a=e.key;if(!t.disabled&&!t.readonly&&(!t.filterable||t.$.filterInput!==i)&&t._focused&&0!==t._items.length&&!t.disabled&&!t.displayLoadingIndicator){if(t.editable){if("F2"===a)return void t._dblclickEventHandler({target:t._focusedItem});if(t.$.editInput===i)return}if("none"!==t.selectionMode){switch(e.stopPropagation(),a){case"Down":case"Right":case"Left":case"Up":a="Arrow"+a}if(t.filterable)switch(a){case"ArrowLeft":case"ArrowRight":return;case"ArrowUp":case"ArrowDown":e.preventDefault()}if(t._applyIncrementalSearch(a),!(["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","Home","End","PageUp","PageDown"].indexOf(a)<0)){if(e.preventDefault(),!t._focusedItem&&t._items.length>0)return void("one"===t.selectionMode||"oneOrMany"===t.selectionMode||"oneOrManyExtended"===t.selectionMode?t.select(t._items[0]):t._focus(t._items[0]));switch(t.selectionMode){case"one":if("Shift"===a||"Control"===a||" "===a)return;t._handleKeyStrokes(a);break;case"oneOrMany":case"zeroOrOne":case"zeroOrMany":case"radioButton":case"checkBox":if("Shift"===a||"Control"===a)return;t._handleKeyStrokes(a);break;case"oneOrManyExtended":if(" "===a)return;t._keysPressed[a]="keydown"===e.type,t._handleKeyStrokes(a)}}}}}},{key:"_keyUpHandler",value:function(e){var t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if(!t.editable||t.$.editInput!==i){if(t.filterable&&t.$.filterInput===i)return t._filterTimer&&clearTimeout(t._filterTimer),void(t._filterTimer=setTimeout(function(){var e=t.context;t.context=t,t._filterItems(),t.scrollTop=t.$.itemsContainer.scrollTop=0,t.scrollLeft=t.$.itemsContainer.scrollLeft=0,t.context=e},300));if(t._focused){if(t._focusedItem&&t._focusedItem.hidden&&t._filteredItems.length>0){var a=t._filteredItems[0];a.grouped&&t._filteredItems.length>1&&(a=t._filteredItems[1]),t._focus(a),t._recycle()}e.stopPropagation(),e.preventDefault(),t.disabled||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","PageUp","PageDown"].indexOf(e.key)<0||(t._keysPressed[e.key]=!1)}}}},{key:"_mouseWheelHandler",value:function(e){var t=this;(t.computedHorizontalScrollBarVisibility||t.computedVerticalScrollBarVisibility)&&!t.disabled&&t.computedVerticalScrollBarVisibility&&(e.stopPropagation(),e.preventDefault(),t.scrollTo(t.scrollTop+t._getScrollCoefficient(e,t.offsetHeight)))}},{key:"_pageDownKeyHandler",value:function(e){var t=this;if(0!==e.length){var i=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._focusedItem&&(i=t._focusedItem);for(var a=void 0,n=t._indexOf(i),o=i.top+t.$.itemsContainer.offsetHeight-i.height,r=n;r<e.length;r++)if(e[r].top>=o){a=e[r];break}a||(a=e[e.length-1]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode?t._focus(a):a.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(a),t._focus(a)),(a.height+a.top>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||a.top<t.$.itemsContainer.scrollTop)&&(t.scrollTop=a.top-t.$.itemsContainer.offsetHeight+a.height)}}},{key:"_pageUpKeyHandler",value:function(e){var t=this;if(0!==e.length){var i=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._focusedItem&&(i=t._focusedItem);for(var a=i.top-t.$.itemsContainer.offsetHeight,n=t._indexOf(i),o=void 0,r=n;r>0;r--)if(e[r].top<=a){o=e[r];break}o||(o=e[0]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode?t._focus(o):o.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(o),t._focus(o)),t.scrollTop=o.top;0===t._indexOf(o)&&(t.scrollTop=0)}}},{key:"clearItems",value:function(){var e=this;e.$.itemsInnerContainer.innerHTML="",e.clearSelection(),e._items=[],e.$placeholder.removeClass("jqx-hidden")}},{key:"_resizeHandler",value:function(e){var t=this;e.target!==t||t._isUpdatingScrollBars||(t._isUpdatingScrollBars=!0,t._initializeRecyclingItems(),t._refreshLayout(),t._isUpdatingScrollBars=!1)}},{key:"_indexOf",value:function(e){var t=this;if(!e)return-1;var i=t._items.indexOf(e);return-1===i&&(i=t._items.indexOf(t.getItem(e.value))),i}},{key:"_incrementalSearch",value:function(){var e=this,t="radioButton"!==e.selectionMode&&"checkBox"!==e.selectionMode&&"zeroOrMany"!==e.selectionMode&&"oneOrMany"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode,i=void 0,a=0;switch(e.incrementalSearchMode){case"containsIgnoreCase":case"equalsIgnoreCase":
case"startsWithIgnoreCase":case"endsWithIgnoreCase":i=e._incrementalSearchQuery.toLowerCase();break;default:i=e._incrementalSearchQuery}var n=function(i){i.grouped||i.readonly||(t?(e.selectedIndexes.length>0&&e.clearSelection(),e._focus(i),e.select(i)):e._focus(i),(i.height+i.top>e.$.itemsContainer.scrollTop+e.$.itemsContainer.offsetHeight||i.top<e.scrollTop)&&(e.scrollTop=i.top),0===e._indexOf(i)&&(e.scrollTop=0),e._indexOf(i)===e._items.length-1&&(e.scrollTop=e.scrollHeight))};0!==e._previousEntry.localeCompare(i)&&(e._incrementalSearchItems=e._queryItems(e._incrementalSearchQuery,e.incrementalSearchMode),delete e._itemPosition),e._previousEntry=i;var o=e._incrementalSearchItems.length;if(0!==o){if(1===o)return void n(e._incrementalSearchItems[0]);for(void 0!==e._itemPosition?e._itemPosition<o-1?a=e._itemPosition:(a=0,t?(e._incrementalSearchItems[e._itemPosition].selected=!1,e.selectedIndexes=[],e.selectedValues=[]):e._incrementalSearchItems[e._itemPosition]._focused=!1):t&&e.clearSelection(),a;a<o;a++)if(e._incrementalSearchItems[a].selected&&t)e._incrementalSearchItems[a].selected=!1,e.selectedIndexes=[],e.selectedValues=[];else{if(t||!e._incrementalSearchItems[a]._focused)return n(e._incrementalSearchItems[a]),void(e._itemPosition=a);e._incrementalSearchItems[a]._focused=!1}}}},{key:"_selectStartHandler",value:function(e){var t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;t.$.filterInput!==i&&t.$.editInput!==i&&e.preventDefault()}},{key:"_handleArrowKeys",value:function(e){var t=this,i="radioButton"!==t.selectionMode&&"checkBox"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode;if(!t.disabled&&!t.readonly){var a=void 0;if(t._focusedItem&&!t._keysPressed.Shift)a=t._indexOf(t._focusedItem),t._focusedItem._focused=!1;else{if(0===t.selectedIndexes.length)return;a=t.selectedIndexes[t.selectedIndexes.length-1]}var n=e?t._getPreviousItem(a):t._getNextItem(a);t._focus(n),i&&(t._keysPressed.Shift?t.select(n):t._items[a]!==n&&(t.clearSelection(),t.select(n))),t.ensureVisible(n)}}},{key:"_refreshFilter",value:function(){var e=this;if(e.filterable)return e.$.filterInput.disabled=!(!e.disabled&&!e.displayLoadingIndicator),e.$filterInputContainer.removeClass("jqx-hidden"),void e.$itemsContainer.addClass("filter");e.$.filterInput.disabled=!0,e.$filterInputContainer.addClass("jqx-hidden"),e.$itemsContainer.removeClass("filter")}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");e.tabIndex=e.tabIndex>0?e.tabIndex:0}},{key:"_setLoadingIndicatorVisibility",value:function(){var e=this;if(e.displayLoadingIndicator)return void(e.$loadingIndicatorContainer.hasClass("jqx-visibility-hidden")?e.$loadingIndicatorContainer.removeClass("jqx-visibility-hidden"):e.$loadingIndicatorContainer.removeClass("jqx-hidden"));e._areCSSVarsSupported?e.$loadingIndicatorContainer.addClass("jqx-hidden"):e.$loadingIndicatorContainer.addClass("jqx-visibility-hidden")}},{key:"_refreshLayout",value:function(){var e=this,t=e._items;if(e.__scrollHeight=null,e.__scrollWidth=null,e._height=null,e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.$itemsContainer.removeClass("hscroll"),e.$itemsContainer.removeClass("vscroll"),!t||null===t||0===t.length)return e.scrollWidth=0,e.scrollHeight=0,e.$filterInputContainer.removeClass("vscroll"),e.$placeholder.removeClass("jqx-hidden"),void(e.isVirtualized&&e._recycle());e.$placeholder.addClass("jqx-hidden");var i=2*(parseInt(getComputedStyle(e.$.itemsInnerContainer).getPropertyValue("--jqx-list-item-horizontal-offset"))||0),a=e._scrollWidth-e.$.itemsContainer.offsetWidth-i,n=e._scrollHeight;if(e._refreshHorizontalScrollBarVisibility(a),e._refreshVerticalScrollBarVisibility(n),"hidden"===e.horizontalScrollBarVisibility?e.$.itemsInnerContainer.style.width=e.$.itemsContainer.offsetWidth-i:e.$.itemsInnerContainer.style.width=Math.max(e.$.itemsContainer.offsetWidth-i,-i+e.__scrollWidth)+"px",e.computedVerticalScrollBarVisibility)return a=e._scrollWidth-e.$.itemsContainer.offsetWidth-e._scrollView.vScrollBar.offsetWidth,e._refreshHorizontalScrollBarVisibility(a),"hidden"!==e.horizontalScrollBarVisibility&&(e.$.itemsInnerContainer.style.width=Math.max(e.$.itemsContainer.offsetWidth-i,-i+e.__scrollWidth-e._scrollView.vScrollBar.offsetWidth)+"px"),e.computedHorizontalScrollBarVisibility&&("visible"!==e.horizontalScrollBarVisibility||0!==e.scrollWidth?e.__scrollHeight+=e._scrollView.hScrollBar.offsetHeight:"visible"===e.horizontalScrollBarVisibility&&(e.__scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.scrollHeight=e.__scrollHeight),void(e.isVirtualized&&e._recycle());a=e._scrollWidth-e.$.itemsContainer.offsetWidth-i,e._refreshHorizontalScrollBarVisibility(a),e.computedHorizontalScrollBarVisibility&&(e.scrollHeight=e._scrollHeight,e._refreshVerticalScrollBarVisibility(e.scrollHeight),e._scrollView.vScrollBar.$.hasClass("bottom-corner")&&e._scrollView.vScrollBar.refresh()),e.isVirtualized&&e._recycle();var o=/Trident|Edge/.test(navigator.userAgent);!e.isRefreshing&&o&&setTimeout(function(){e.isRefreshing=!0,e._refreshLayout(),e.isRefreshing=!1},50)}},{key:"_styleChangedHandler",value:function(){this._refreshLayout()}},{key:"_swipeLeftHandler",value:function(){}},{key:"_swipeRightHandler",value:function(){}},{key:"_refreshHorizontalScrollBarVisibility",value:function(e){var t=this;t.scrollWidth=e,t.computedHorizontalScrollBarVisibility?(t.scrollLeft=t.$.itemsContainer.scrollLeft,t.$itemsContainer.addClass("hscroll")):t.$itemsContainer.removeClass("hscroll")}},{key:"_refreshVerticalScrollBarVisibility",value:function(e){var t=this;t.scrollHeight=e,t.computedVerticalScrollBarVisibility?(t.$itemsContainer.addClass("vscroll"),t.$filterInputContainer.addClass("vscroll")):(t.$itemsContainer.removeClass("vscroll"),t.$filterInputContainer.removeClass("vscroll"))}},{key:"_validateTemplate",value:function(e,t){if(null!==t&&t){var i=this;return"content"in document.createElement("template")?(t=document.getElementById(t),null!==t&&"content"in t?t:(i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:e})),void(i[e]=null))):(i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()})),void(i[e]=null))}}},{key:"_getItemIndexByPosition",value:function(e){var t=this,i=t.filterable&&t.$.filterInput.value.length>0?t._filteredItems:t._items;return function(i){var a=0,n=i.length-1;if(e<=0)return 0;if(i[i.length-1].top<=e)return i.length-1;for(;;){var o=Math.floor((a+n)/2),r=i[o];if(t._isItemInPosition(r,e))return o;r.top<e?a=o+1:r.top>e&&(n=o-1)}}(i)}},{key:"_isItemInPosition",value:function(e,t){var i=e.top,a=e.top+e.height;return i<=t&&a>t}},{key:"_recycle",value:function(){var e=this;if(e._recyclingItems){var t=e._height;e._height||(t=e._height=e.$.itemsContainer.offsetHeight);var i=0,a=e.scrollTop,n=e._getItemIndexByPosition(a),o=e.filterable&&e.$.filterInput.value.length>0?e._filteredItems:e._items,r=o[n],l=r?r.top:0;if(e.$.itemsInnerContainer.style.left=-e.scrollLeft+"px",e.$.itemsInnerContainer.style.top=-a+l+"px",e.isUpdating++,n>=0)for(var s=n;s<o.length;s++){var d=o[s];if(0!==d.height){if(!(l+d.height>=a&&l<=a+t))break;var u=e._recyclingItems[i++];if(!u)break;u.context=document,u.dataItem=d,u.label=d.label,u.value=d.value,u.selected=d.selected,u._focused=d._focused,u.hidden=d.hidden,u.grouped=d.grouped,u.readonly=d.readonly,u.style.height=d.height+"px",e._alternateItem(u),d.title?u.title=d.title:u.title="",d.grouped?u.displayMode="plain":u.displayMode=d.displayMode,e.scrollWidth>0&&(u.style.width=e.$.itemsInnerContainer.offsetWidth+e.scrollWidth+"px"),e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._applyTemplate(u,!1),l+=d.height}}if(i<e._recyclingItems.length)for(var c=i;c<e._recyclingItems.length;c++){var p=e._recyclingItems[i++],m=p.context;p.context=document,p.hidden=!0,p.context=m}e.isUpdating--}}},{key:"_verticalScrollbarHandler",value:function(e){var t=this,i=e.detail.value;if(e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollTop=i,t._updateTopVisibleIndex(),e.context.max===e.context.value)return void t.$.fireEvent("scrollBottomReached");e.context.min===e.context.value&&t.$.fireEvent("scrollTopReached")}},{key:"enableShadowDOM",get:function(){return JQX.EnableShadowDOM}},{key:"items",get:function(){var e=this;return e._filteredItems?e._filteredItems:e._items}},{key:"_scrollHeight",get:function(){var e=this,t=0;if(e.isVirtualized){if(e.__scrollHeight)return e.__scrollHeight;if(0===e._items.length)return 0;e.isUpdating++;var i=e._createItem(e.dataSource[0]);e.$.itemsInnerContainer.appendChild(i);for(var a=0;a<e._items.length;a++){var n=e._items[a];n.hidden?(n.height=0,n.top=t):(e.itemHeight?(e.itemHeight<32&&(e.itemHeight=32),n.height=e.itemHeight):(i.label=n.label,n.height=i.offsetHeight),n.top=t,t+=n.height)}e.$.itemsInnerContainer.removeChild(i),e.__scrollHeight=t-e.$.itemsInnerContainer.offsetHeight,e.filterable&&(e.__scrollHeight+=e.$.filterInput.offsetHeight),t=e.__scrollHeight,e.isUpdating--}else{for(var o=0;o<e._items.length;o++){var r=e._items[o];r.hidden?(r.height=0,r.top=t):(e.itemHeight?"auto"!==e.itemHeight&&(r.height=e.itemHeight,r.style.height=r.height+"px"):r.height=r.offsetHeight,r.top=r.offsetTop,t+=r.height)}t=e.$.itemsInnerContainer.scrollHeight-e.$.itemsInnerContainer.offsetHeight,e.filterable&&t>0&&(t+=e.$.filterInput.offsetHeight),e.__scrollHeight=t}return t}},{key:"_scrollWidth",get:function(){var e=this,t=this,i=t._items;return t.__scrollWidth?t.__scrollWidth:(t.__scrollWidth=function(){for(var t=e,a=void 0,n="",o=0;o<i.length;o++)if(!i[o].hidden){var r=i[o].label;r.length>n.length&&(n=r)}var l=t._createItem({label:n});t.$.itemsContainer.appendChild(l),l.label=n,l.style.width="auto",l.isCompleted&&(l.$.itemContainer.style.width="auto");var s=getComputedStyle(l),d=parseInt(s.paddingLeft)+parseInt(s.paddingRight);return a=(l.$.itemContainer||l).offsetWidth+d,l.parentNode.removeChild(l),a}(),t.__scrollWidth)}},{key:"isVirtualized",get:function(){var e=this;return e.virtualized&&e.dataSource&&e.dataSource.length>0}}],[{key:"properties",get:function(){return{allowDrag:{value:!1,type:"boolean"},allowDrop:{value:!1,type:"boolean"},alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},autoSort:{value:!0,type:"boolean"},dataSource:{value:null,type:"any?",reflectToAttribute:!1},dragFeedbackFormatFunction:{value:null,type:"function?"},dragOffset:{value:[10,10],type:"array"},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},shadowDomMode:{allowedValues:["light","shadow"],value:"shadow",type:"string"},dropAction:{value:"move",type:"string",allowedValues:["copy","move","none"]},editable:{value:!1,type:"boolean"},filterable:{value:!1,type:"boolean"},filterCallback:{value:null,type:"function?"},filterMode:{value:"containsIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},filterInputPlaceholder:{value:"",type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number or an Array of numbers.',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidItem:'{{elementType}}: "{{method}}" method accepts an object or an array of objects as it\'s second parameter.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.'}},type:"object"},name:{value:"",type:"string"},placeholder:{value:"No Items",type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},selectionMode:{value:"oneOrManyExtended",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},selectionChangeAction:{value:"release",allowedValues:["press","release"],type:"string"},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},topVisibleIndex:{value:-1,type:"int"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"}}}},{key:"requires",get:function(){return{"JQX.ScrollBar":"jqxscrollbar.js"}}},{key:"styleUrls",get:function(){return["jqx.listbox.css"]}},{key:"listeners",get:function(){return{focus:"_focusHandler",blur:"_blurHandler","container.wheel":"_mouseWheelHandler","editInput.change":"_editInputEventHandler","editInput.blur":"_editInputEventHandler","editInput.keydown":"_editInputEventHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler","itemsInnerContainer.down":"_downHandler","itemsInnerContainer.dblclick":"_dblclickEventHandler","itemsInnerContainer.move":"_itemsContainerMoveHandler","itemsContainer.mouseleave":"_mouseLeaveHandler","document.up":"_upHandler","document.move":"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}}]),t}(JQX.ScrollViewer)),JQX("jqx-numeric-text-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container"><span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span><div id="radixDisplayButton" class="jqx-unselectable jqx-input-addon jqx-numeric-text-box-component jqx-numeric-text-box-radix-display"></div><input id="input" type="text" spellcheck="false" class="jqx-input jqx-numeric-text-box-component" placeholder="[[placeholder]]" readonly="[[readonly]]" disabled="[[disabled]]" name="[[name]]" /><div id="unitDisplay" class="jqx-unselectable jqx-input-addon jqx-numeric-text-box-component jqx-numeric-text-box-unit-display"></div><div id="spinButtonsContainer" class="jqx-input-addon jqx-numeric-text-box-component jqx-spin-buttons-container"><jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" animation="[[animation]]" unfocusable id="upButton" class="jqx-spin-button"><div class="jqx-arrow jqx-arrow-up"></div></jqx-repeat-button><jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" animation="[[animation]]" unfocusable id="downButton" class="jqx-spin-button"><div class="jqx-arrow jqx-arrow-down"></div></jqx-repeat-button></div><ul id="dropDown" class="jqx-visibility-hidden jqx-drop-down"><li id="dropDownItem2" class="jqx-list-item" data-value="2"></li><li id="dropDownItem8" class="jqx-list-item" data-value="8"></li><li id="dropDownItem10" class="jqx-list-item" data-value="10"></li><li id="dropDownItem16" class="jqx-list-item" data-value="16"></li></ul><span id="hint" class ="jqx-hint"  inner-h-t-m-l="[[hint]]"></span></div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"inputFormat"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._numberRenderer.localizationObject.decimalseparator=e.decimalSeparator,e._radixPrefixes={10:"d",2:"b",8:"o",16:"x"},e._regex={2:new RegExp(/^[0-1]+$/),8:new RegExp(/^[0-7]+$/),10:new RegExp(/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?$/),16:new RegExp(/^[0-9a-f]+$/i)},e._regexSpecial={nan:new RegExp(/^(nan)$/i),inf:new RegExp(/^((-?inf(inity)?)|([+\-]?∞))$/i),nonNumericValue:new RegExp(/^$|(^((nan)|((-?inf(inity)?)|([+\-]?∞))|(null))$)/i),exaValue:new RegExp(/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[E][+\-]\d*)?i$/)},e._initialDropDownOptionsSet=!1,"left"===e.spinButtonsPosition&&e.$.container.insertBefore(e.$.spinButtonsContainer,e.$.label.nextElementSibling),"right"===e.radixDisplayPosition&&e.$.container.insertBefore(e.$.radixDisplayButton,e.$.unitDisplay.nextElementSibling),e._setInitialComponentDisplay(),e._initialAdjustments(),e._refreshShape(),e._initialized=!0}},{key:"_refreshShape",value:function(){var e=this,t=e.$.container.querySelectorAll(".jqx-numeric-text-box-component:not(.jqx-hidden)");t.length>0&&(t[0].classList.add("jqx-numeric-text-box-component-border-left"),t[t.length-1].classList.add("jqx-numeric-text-box-component-border-right"))}},{key:"val",value:function(e,t){var i=this,a=null!==e&&"object"===(void 0===e?"undefined":babelHelpers.typeof(e))&&0===Object.keys(e).length;if(void 0===e||!1!==a)return i.value;var n=i.value;return""!==e&&null!==e||null!==n?null===e?(i._triggerChangeEvent="strict"===i.validation,i._validate(!1,null),i._triggerChangeEvent=!1,void(i._programmaticValueIsSet=!0)):(e=e.toString(),e.toUpperCase()===n.toString().toUpperCase()?e:(void 0===t?(i._triggerChangeEvent="strict"===i.validation,i._validate(!1,e),i._triggerChangeEvent=!1):i._setValue(e),void(i._programmaticValueIsSet=!0))):null}},{key:"focus",value:function(){this.$.input.focus()}},{key:"_updateSpinButtonsStepObject",value:function(){var e=this;e._spinButtonsStepObject=e._numericProcessor.createDescriptor(e.spinButtonsStep,!0)}},{key:"_setInitialComponentDisplay",value:function(){var e=this;!1===e.spinButtons&&e.$spinButtonsContainer.addClass("jqx-hidden"),!1===e.radixDisplay&&e.$radixDisplayButton.addClass("jqx-hidden"),!1===e.showUnit&&e.$unitDisplay.addClass("jqx-hidden")}},{key:"_initialAdjustments",value:function(){var e=this;e._radixNumber=e._getRadix(e.radix),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._validatePropertyCompatibility(),e._numericProcessor.validateMinMax(!0,!0),e._updateSpinButtonsStepObject(),e._validate(!0),e._programmaticValueIsSet=!0,e._cachedInputValue=e.$.input.value,void 0===e._editableValue&&(e._editableValue=e._cachedInputValue),e.$.radixDisplayButton.innerHTML=e._radixPrefixes[e._radixNumber],e.$.unitDisplay.innerHTML=e.unit,e.disabled&&(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0),e.opened&&(e.dropDownEnabled&&!e.disabled&&null!==e.value?e._openRadix():e.opened=!1),e._setFocusable()}},{key:"_validatePropertyCompatibility",value:function(){var e=this;"integer"!==e.inputFormat?(10!==e._radixNumber&&e.error(e.localize("integerOnly",{property:"radix"})),e.radixDisplay&&e.error(e.localize("integerOnly",{property:"radixDisplay"})),e.dropDownEnabled&&e.error(e.localize("integerOnly",{property:"dropDownEnabled"})),"int32"!==e.wordLength&&e.error(e.localize("integerOnly",{property:"wordLength"}))):null!==e.precisionDigits&&e.error(e.localize("noInteger",{property:"precisionDigits"})),null===e.significantDigits&&null===e.precisionDigits?e.significantDigits=8:null!==e.significantDigits&&null!==e.precisionDigits&&e.error(e.localize("significantPrecisionDigits"))}},{key:"_validate",value:function(e,t){var i=this,a=void 0;if(e)void 0===(a=i.value)&&(a=i.nullable?null:"0");else if(void 0===t||null===t&&!i.nullable){if((a=i.$.input.value)===i.value&&!0!==i._programmaticValueIsSet)return void(i.$.input.value=i._cachedInputValue)}else a=t;if(i.nullable&&(null===a||""===a))return i.value=null,i._number=null,i.$.input.value="",i._cachedInputValue="",i._editableValue="",void i._disableComponents();var n=i._numericProcessor.prepareForValidation(e,t,a);if(void 0===n)return void i._disableComponents();var o=i._numericProcessor.createDescriptor(n.value,!0,!0,!e&&void 0===t||"strict"===i.validation,e||void 0!==t,n.enteredComplexNumber);if(e){i._number=o;var r=i._renderValue(o);i.value=o.toString(),i.$.input.value=r}else i._updateValue(o);i._programmaticValueIsSet=!1,i._disableComponents()}},{key:"_handleNonNumericValue",value:function(e,t,i){var a=this;if("integer"!==a.inputFormat){if(a._regexSpecial.nan.test(i))return void a._handleNaN(e);if(a._regexSpecial.inf.test(i))return void a._handleInfinity(e,t,i)}if(e){var n=a._numericProcessor.createDescriptor(0);a._number=a._validateRange(n);var o=a._renderValue(a._number);a.value=a._number.toString(),a.$.input.value=o}else if(void 0===t)a.$.input.value=a._cachedInputValue;else{var r=a._number.toString();a.value!==r&&(a.value=r)}}},{key:"_handleNaN",value:function(e){var t=this;if(t.$.input.value="NaN",e)t.value=NaN,t._number=NaN;else{var i=t.value;null!==i&&"NaN"===i.toString()||(t.value=NaN,t._number=NaN,t._cachedInputValue="NaN",t._editableValue="NaN",t._triggerChangeEvent&&t.$.fireEvent("change",{value:NaN,oldValue:i,radix:t._radixNumber}))}}},{key:"_handleInfinity",value:function(e,t,i){var a=this,n=void 0,o=void 0;if("-"===i.charAt(0)?(n="∞"===i.charAt(1)?"-∞":"-Inf",o=-1/0):(n=-1!==i.indexOf("∞")?"∞":"Inf",o=1/0),o===-1/0&&a.min===-1/0||o===1/0&&a.max===1/0||void 0!==t)if(e)a.value=o,a._number=o,a.$.input.value=n;else{var r=a.value;i!==n&&(a.$.input.value=n),r!==o&&(a.value=o,a._number=o,a._cachedInputValue=n,a._editableValue=n,a._triggerChangeEvent&&a.$.fireEvent("change",{value:o,oldValue:r,radix:a._radixNumber}))}else o===-1/0?a._validate(!1,a.min):a._validate(!1,a.max)}},{key:"_validateRange",value:function(e){var t=this;return e=t._numericProcessor.validate(e,t._minObject,t._maxObject)}},{key:"propertyChangedHandler",value:function(e,i,a){function n(){!0===o._initialDropDownOptionsSet&&o._setDropDownOptions(),2!==o._radixNumber&&16!==o._radixNumber||(o._cachedInputValue=o._number.toString(o._radixNumber,o._wordLengthNumber,o.leadingZeros),o._editableValue=o._cachedInputValue,o.$.input.value=o._cachedInputValue)}babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var o=this,r=o.$.input;if(a!=i)switch(e){case"disabled":o._setFocusable(),!0===a?(o.$.upButton.disabled=!0,o.$.downButton.disabled=!0):o._disableComponents();break;case"unfocusable":o._setFocusable();break;case"enableMouseWheelAction":case"placeholder":case"readonly":case"spinButtonsDelay":case"spinButtonsInitialDelay":break;case"value":if(""===a&&null===i)return;if(null===a||""===a||null===i)return o.value=i,o._triggerChangeEvent="strict"===o.validation,o._validate(!1,a),o._triggerChangeEvent=!1,void(o._programmaticValueIsSet=!0);var l=a.toString(),s=i.toString();s!==l&&(s.toUpperCase()===l.toUpperCase()&&(o.value=i),o.value=i,o._triggerChangeEvent="strict"===o.validation,o._validate(!1,l),o._triggerChangeEvent=!1,o._programmaticValueIsSet=!0);break;case"radix":"integer"===o.inputFormat?o._changeRadix(a):o.error(o.localize("integerOnly",{property:"radix"}));break;case"leadingZeros":"integer"===o.inputFormat&&null!==o._number&&n();break;case"min":case"max":if(null!==a&&(o["_"+e+"IsNull"]=!1),o._numericProcessor.validateMinMax("min"===e,"max"===e),"strict"===o.validation)o._triggerChangeEvent=!0,o._validate(!1,o.value),o._triggerChangeEvent=!1;else if(!1===o._regexSpecial.nonNumericValue.test(o.value)){var d=o._numericProcessor.createDescriptor(o._number),u=o._validateRange(d);!0===o._numericProcessor.compare(o.value,u)&&(o._programmaticValueIsSet=!0)}break;case"opened":a?o.dropDownEnabled&&!o.disabled&&null!==o.value?o._openRadix():o.opened=!1:o._closeRadix();break;case"outputFormatString":a?(o._cachedInputValue=o._numberRenderer.formatNumber(o._number,a),o.$.input.value=o._cachedInputValue):(o._cachedInputValue=o._editableValue,o.$.input.value=o._editableValue);break;case"dropDownEnabled":a?("integer"!==o.inputFormat&&o.error(o.localize("integerOnly",{property:"dropDownEnabled"})),!0===o._initialDropDownOptionsSet&&o._setDropDownOptions()):o.opened&&o._closeRadix();break;case"spinButtons":a?o.$spinButtonsContainer.removeClass("jqx-hidden"):o.$spinButtonsContainer.addClass("jqx-hidden"),o._refreshShape();break;case"spinButtonsStep":o._updateSpinButtonsStepObject();break;case"significantDigits":case"precisionDigits":if("precisionDigits"===e&&"integer"===o.inputFormat&&o.error(o.localize("noInteger",{property:e})),"significantDigits"===e&&null!==o.precisionDigits?o.precisionDigits=null:"precisionDigits"===e&&null!==o.significantDigits&&(o.significantDigits=null),!1===o._regexSpecial.nonNumericValue.test(o.value)){var c=o._renderValue(o._number);r.value=c}break;case"decimalSeparator":o._numberRenderer.localizationObject.decimalseparator=o.decimalSeparator;var p=o._discardDecimalSeparator(r.value,i),m=o._applyDecimalSeparator(p),v=o._applyDecimalSeparator(o._discardDecimalSeparator(o._editableValue,i));r.value=m,o._editableValue=v;break;case"spinButtonsPosition":"left"===a?o.$.container.insertBefore(o.$.spinButtonsContainer,o.$.label.nextElementSibling):o.$.container.insertBefore(o.$.spinButtonsContainer,o.$.dropDown),o._refreshShape();break;case"wordLength":if(o._wordLengthNumber=o._numericProcessor.getWordLength(a),"integer"===o.inputFormat&&(o._numericProcessor.validateMinMax(!0,!0),null!==o._number)){var h=o._validateRange(new JQX.Utilities.BigNumber(o._number));o._updateValue(h),o.leadingZeros&&n()}break;case"radixDisplay":a?("integer"!==o.inputFormat&&o.error(o.localize("integerOnly",{property:"radixDisplay"})),o.$radixDisplayButton.removeClass("jqx-hidden")):o.$radixDisplayButton.addClass("jqx-hidden"),o._refreshShape();break;case"radixDisplayPosition":"left"===a?o.$.container.insertBefore(o.$.radixDisplayButton,o.$.input):o.$.container.insertBefore(o.$.radixDisplayButton,o.$.unitDisplay.nextElementSibling),o._refreshShape();break;case"inputFormat":o._changeInputFormat(i,a);break;case"showUnit":a?o.$unitDisplay.removeClass("jqx-hidden"):o.$unitDisplay.addClass("jqx-hidden"),o._refreshShape();break;case"unit":o.$.unitDisplay.innerHTML=a;break;case"scientificNotation":if(!1===o._regexSpecial.nonNumericValue.test(o.value)){var f=o._renderValue(o._number);r.value=f}break;case"locale":case"messages":o._initialDropDownOptionsSet=!1;break;case"nullable":!0===i&&null===o.value&&o._validate(!1,"0");break;case"validation":"strict"===a&&(o._triggerChangeEvent=!0,o._validate(!1,o.value),o._triggerChangeEvent=!1)}else"string"!=typeof a&&"string"==typeof i&&(o[e]=i);o._cachedInputValue=r.value}},{key:"_changeInputFormat",value:function(e,t){var i=this;if(i._numericProcessor=new JQX.Utilities.NumericProcessor(i,"inputFormat"),"complex"===e)return void i._changeFromComplexInputFormat(t);"integer"===t&&"floatingPoint"===e&&i._changeFromFloatingPointToIntegerInputFormat(),"floatingPoint"===t&&"integer"===e&&i._changeFromIntegerToFloatingPointInputFormat(),"complex"===t&&i._changeToComplexInputFormat(e),i._updateSpinButtonsStepObject(),null!==i.value&&(i._inputFormatChangedFlag=!0,i._validate(void 0,i._number.toString()),i._inputFormatChangedFlag=!1)}},{key:"_changeFromComplexInputFormat",value:function(e){var t=this;t.spinButtonsStep=t._spinButtonsStepObject.realPart,t._updateSpinButtonsStepObject(),"integer"===e?(t.min===-1/0?t.min=null:t.min=t._minObject.realPart,t.max===1/0?t.max=null:t.max=t._maxObject.realPart):(t.min!==-1/0&&(t.min=t._minObject.realPart),t.max!==1/0&&(t.max=t._maxObject.realPart)),t._numericProcessor.validateMinMax(!0,!0),null!==t.value&&(t._inputFormatChangedFlag=!0,t._validate(void 0,t._number.realPart.toString()),t._inputFormatChangedFlag=!1)}},{key:"_changeFromFloatingPointToIntegerInputFormat",value:function(){var e=this;e.min===-1/0&&(e.min=null),e.max===1/0&&(e.max=null),e._numericProcessor.validateMinMax(!0,!0)}},{key:"_changeFromIntegerToFloatingPointInputFormat",value:function(){var e=this;e.radixDisplay&&(e.radixDisplay=!1,e.$radixDisplayButton.addClass("jqx-hidden")),10!==e._radixNumber&&(e.radix=10,e._radixNumber=10),e._minIsNull?(e.min=-1/0,e._minObject=-1/0):e._minObject=parseFloat(e._minObject.toString()),e._maxIsNull?(e.max=1/0,e._maxObject=1/0):e._maxObject=parseFloat(e._maxObject.toString()),e.dropDownEnabled&&(e.dropDownEnabled=!1)}},{key:"_changeToComplexInputFormat",value:function(e){var t=this;"integer"===e&&(t.radixDisplay&&(t.radixDisplay=!1,t.$radixDisplayButton.addClass("jqx-hidden")),t._minIsNull&&(t.min=null),t._maxIsNull&&(t.max=null),t.dropDownEnabled&&(t.dropDownEnabled=!1)),t._numericProcessor.validateMinMax(t.min!==-1/0,t.max!==1/0)}},{key:"_updateValue",value:function(e){var t=this,i=t.$.input.value,a=e.toString(t._radixNumber,t._wordLengthNumber,t.leadingZeros);if(i!==a||i!==t._cachedInputValue){var n=t._renderValue(e),o=t.value,r=t._regexSpecial.nonNumericValue.test(a);if(t.$.input.value=n,t._cachedInputValue=n,t._inputFormatChangedFlag||r&&n!==o||!1===r&&t._numericProcessor.compare(e,t._number)){t._number=t._numericProcessor.createDescriptor(e);var l=t._number.toString();t.value=l,t._setDropDownOptions(),t._triggerChangeEvent&&t.$.fireEvent("change",{value:l,oldValue:o,radix:t._radixNumber})}}else t.value=t._number.toString()}},{key:"_setValue",value:function(e){var t=this;t.value=e,t.$.input.value=e,t._number=t._numericProcessor.createDescriptor(e,!0),t._setDropDownOptions()}},{key:"_changeRadix",value:function(e){var t=this,i=t._getRadix(e),a=t.radix;if(i!==t._radixNumber){t.radix=e,t._radixNumber=i;var n=t.$.input,o=n.value,r=void 0,l=void 0;null!==t.value?(r=t._number.toString(i,t._wordLengthNumber,t.leadingZeros),l=t._renderValue(r)):l="",n.value=l,t._cachedInputValue=l,t.$.radixDisplayButton.innerHTML=t._radixPrefixes[i],t.$.fireEvent("radixChange",{radix:e,oldRadix:a,displayedValue:l,oldDisplayedValue:o})}}},{key:"_openRadix",value:function(){var e=this;!1===e._initialDropDownOptionsSet&&(e._setDropDownOptions(),e._initialDropDownOptionsSet=!0),e.$radixDisplayButton.addClass("jqx-numeric-text-box-pressed-component"),e.$dropDown.removeClass("moved"),e.$dropDown.removeClass("jqx-visibility-hidden"),e.$.dropDown.style.marginTop=null;var t=1===window.devicePixelRatio?document.documentElement.clientHeight:window.innerHeight,i=e.$.dropDown.getBoundingClientRect(),a=t-i.top-e.$.dropDown.offsetHeight;a<0&&(e.$.dropDown.style.marginTop=a-parseFloat(getComputedStyle(e).getPropertyValue("--jqx-numeric-text-box-border-width"))+"px",e.$dropDown.addClass("moved")),e.opened=!0,e.$.fireEvent("open",{dropDown:e.$.dropDown})}},{key:"_closeRadix",value:function(){var e=this;e.$radixDisplayButton.removeClass("jqx-numeric-text-box-pressed-component"),e.$dropDown.addClass("jqx-visibility-hidden"),e.opened=!1,e.$.fireEvent("close",{dropDown:e.$.dropDown})}},{key:"_isLeftButtonPressed",value:function(e){var t=0===e.buttons||1===e.which;return 1===e.detail.buttons||t}},{key:"_isIncrementOrDecrementAllowed",value:function(){var e=this;return!e.disabled&&!e.readonly&&!1===e._regexSpecial.nonNumericValue.test(e.$.input.value)}},{key:"_upButtonClickHandler",value:function(e){var t=this;t._isLeftButtonPressed(e)&&t._isIncrementOrDecrementAllowed()&&(t._up||t.$upButton.addClass("jqx-numeric-text-box-pressed-component"),t._incrementOrDecrement("add"))}},{key:"_downButtonClickHandler",value:function(e){var t=this;t._isLeftButtonPressed(e)&&t._isIncrementOrDecrementAllowed()&&(t._up||t.$downButton.addClass("jqx-numeric-text-box-pressed-component"),t._incrementOrDecrement("subtract"))}},{
key:"_documentMousedownHandler",value:function(e){var t=this;if(t._up=!1,t.opened)if(t.enableShadowDOM){var i=e.originalEvent.composedPath()[0],a=function(){for(var e=i.getRootNode().host;e;){if(e===t)return e;e=e.getRootNode().host}}();a||t._closeRadix()}else t.contains(e.originalEvent.target)||t._closeRadix()}},{key:"_documentMouseupHandler",value:function(){var e=this;e._up=!0,e.$upButton.removeClass("jqx-numeric-text-box-pressed-component"),e.$downButton.removeClass("jqx-numeric-text-box-pressed-component")}},{key:"_radixDisplayButtonClickHandler",value:function(){var e=this;e.dropDownEnabled&&!e.disabled&&null!==e.value&&(e.opened?e._closeRadix():e._openRadix())}},{key:"_dropDownItemClickHandler",value:function(e){if(e.target.$.hasClass("jqx-list-item")){var t=this,i=e.target.getAttribute("data-value");t._changeRadix(parseInt(i,10)),t._closeRadix()}}},{key:"_mouseenterMouseleaveHandler",value:function(e){var t=this;e.target===t.$.dropDown||t.disabled||t.readonly||("mouseenter"===e.type?e.target.setAttribute("hover",""):e.target.removeAttribute("hover"))}},{key:"_inputKeydownHandler",value:function(e){var t=this,i=e.charCode?e.charCode:e.which;40===i&&t._isIncrementOrDecrementAllowed()?t._incrementOrDecrement("subtract"):38===i&&t._isIncrementOrDecrementAllowed()&&t._incrementOrDecrement("add"),t._keydownInfo={value:t.$.input.value,specialKey:e.altKey||e.ctrlKey||e.shiftKey}}},{key:"_inputKeyupHandler",value:function(e){var t=this;if(13===e.keyCode)t._suppressBlurEvent=!0,t.$.input.value!==t._cachedInputValue&&(t._triggerChangeEvent=!0,t._validate(),t._triggerChangeEvent=!1,t.$.input.blur());else if(27===e.keyCode)t.$.input.value=t._editableValue;else{var i=t.$.input.value;""!==i&&t._regex[t._radixNumber].test(i)?(t.$.upButton.disabled=!1,t.$.downButton.disabled=!1):""===i&&(t.$.upButton.disabled=!0,t.$.downButton.disabled=!0),!t._keydownInfo||t._keydownInfo.value===i||t._keydownInfo.specialKey||e.altKey||e.ctrlKey||e.shiftKey||"Control"===e.key||t.$.fireEvent("changing",{currentValue:i,validValue:t.value,radix:t._radixNumber})}e.preventDefault()}},{key:"_inputBlurHandler",value:function(){var e=this;!0===e._suppressBlurEvent?(e._suppressBlurEvent=!1,e._formattedValue&&(e._cachedInputValue=e._formattedValue,e.$.input.value=e._formattedValue,delete e._formattedValue)):e.$.input.value!==e._editableValue?(e._triggerChangeEvent=!0,e._validate(),e._triggerChangeEvent=!1):e.$.input.value=e._cachedInputValue,e.radixDisplay&&e.$.radixDisplayButton.removeAttribute("focus"),e.opened&&e._closeRadix(),e.spinButtons&&e.$.spinButtonsContainer.removeAttribute("focus"),e.showUnit&&e.$.unitDisplay.removeAttribute("focus"),e.removeAttribute("focus")}},{key:"_inputFocusHandler",value:function(){var e=this;e.spinButtons&&e.$.spinButtonsContainer.setAttribute("focus",""),e.radixDisplay&&e.$.radixDisplayButton.setAttribute("focus",""),e.showUnit&&e.$.unitDisplay.setAttribute("focus",""),e.opened&&e._closeRadix(),e.setAttribute("focus",""),e.outputFormatString&&(e.$.input.value=e._editableValue)}},{key:"_inputChangeHandler",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"_inputPasteHandler",value:function(){var e=this;requestAnimationFrame(function(){return e.$.fireEvent("changing",{currentValue:e.$.input.value,validValue:e.value,radix:e._radixNumber})})}},{key:"_inputWheelHandler",value:function(e){var t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement;t.$.input===i&&t.enableMouseWheelAction&&t._isIncrementOrDecrementAllowed()&&(e.stopPropagation(),e.preventDefault(),e.wheelDelta>0?t._incrementOrDecrement("add"):t._incrementOrDecrement("subtract"))}},{key:"_getRadix",value:function(e){switch(e.toString()){case"10":case"decimal":return 10;case"2":case"binary":return 2;case"8":case"octal":return 8;case"16":case"hexadecimal":return 16}}},{key:"_setDropDownOptions",value:function(){var e=this;if(!1!==e.dropDownEnabled&&null!==e._number){var t=e._wordLengthNumber,i=e.leadingZeros;e.$.dropDownItem2.innerHTML=e._number.toString(2,t,i)+" ("+e.localize("binary")+")",e.$.dropDownItem8.innerHTML=e._number.toString(8,t)+" ("+e.localize("octal")+")",e.$.dropDownItem10.innerHTML=e._renderValue(e._number.toString(10,t),!0)+" ("+e.localize("decimal")+")",e.$.dropDownItem16.innerHTML=e._number.toString(16,t,i)+" ("+e.localize("hexadecimal")+")"}}},{key:"_incrementOrDecrement",value:function(e){var t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement,a=t._cachedInputValue;if(t.$.input===i&&(a=t._editableValue,t._suppressBlurEvent=!0),!(t.$.input.value!==a||t._programmaticValueIsSet&&"interaction"===t.validation)||(t._triggerChangeEvent=!0,t._validate(),t._triggerChangeEvent=!1,!1!==t._isIncrementOrDecrementAllowed())){var n=t._numericProcessor.incrementDecrement(t._number,e,t._spinButtonsStepObject),o=t._validateRange(n);t._triggerChangeEvent=!0,t._updateValue(o),t._triggerChangeEvent=!1}}},{key:"_toBigNumberDecimal",value:function(e,t){var i=this,a=void 0;return 10===t?a=new JQX.Utilities.BigNumber(e):i._unsigned||!1===i._isNegative(e,t)?i._wordLengthNumber<64?(a=parseInt(e,t),a=new JQX.Utilities.BigNumber(a)):a=i._getBigNumberFrom64BitBinOctHex(e,t):(a=i._getNegativeDecimal(e,t),a=new JQX.Utilities.BigNumber(a)),a}},{key:"_isNegative",value:function(e,t){var i=this,a=e.length,n=e.charAt(0).toLowerCase();if(2===t)return a===i._wordLengthNumber&&"1"===n;if(8!==t)return a===i._wordLengthNumber/4&&-1!==["8","9","a","b","c","d","e","f"].indexOf(n);switch(i._wordLengthNumber){case 8:return 3===a&&("2"===n||"3"===n);case 16:return 5===a&&"1"===n;case 32:return 11===a&&("2"===n||"3"===n);case 64:return 22===a&&"1"===n}}},{key:"_getBigNumberFrom64BitBinOctHex",value:function(e,t){for(var i=new JQX.Utilities.BigNumber(0),a=e.length-1;a>=0;a--){var n=new JQX.Utilities.BigNumber(parseInt(e.charAt(a),t));i=i.add(n.multiply(new JQX.Utilities.BigNumber(t).pow(e.length-1-a)))}return i}},{key:"_getNegativeDecimal",value:function(e,t){var i=this,a=e;if(8===t){for(var n=[],o=0;o<e.length;o++){for(var r=parseInt(e.charAt(o),8).toString(2);3!==r.length;)r="0"+r;n.push(r)}for(a=n.join("");"0"===a.charAt(0);)a=a.slice(1)}else if(16===t){for(var l=[],s=0;s<e.length;s++){for(var d=parseInt(e.charAt(s),16).toString(2);4!==d.length;)d="0"+d;l.push(d)}a=l.join("")}var u=a.replace(/0/g,"a");return u=u.replace(/1/g,"b"),u=u.replace(/a/g,"1"),u=u.replace(/b/g,"0"),this._wordLengthNumber<64?u=-1*(parseInt(u,2)+1):(u=i._getBigNumberFrom64BitBinOctHex(u,t),u=u.add(1).negate()),u}},{key:"_discardDecimalSeparator",value:function(e,t){var i=this;if(void 0===t&&(t=i.decimalSeparator),"."!==t&&e!==1/0&&e!==-1/0){var a=new RegExp(t,"g");return e.replace(a,".")}return e}},{key:"_applyDecimalSeparator",value:function(e){var t=this;return"string"!=typeof e&&(e=e.toString()),"."!==t.decimalSeparator&&(e=e.replace(/\./g,t.decimalSeparator)),e}},{key:"_renderValue",value:function(e,t){var i=this,a=e,n=10===i._radixNumber||!0===t;if(e=i._numericProcessor.render(e,n),"."!==i.decimalSeparator&&n&&(e=i._applyDecimalSeparator(e)),!0!==t&&(i._editableValue=e,i.outputFormatString&&10===i._radixNumber)){var o=i.enableShadowDOM?i.shadowRoot.activeElement||document.activeElement:document.activeElement,r=i._numberRenderer.formatNumber(a,i.outputFormatString);if(o!==i.$.input)return r;i._formattedValue=r}return e}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void(e.$.input.tabIndex=-1);e.$.input.removeAttribute("tabindex")}},{key:"_disableComponents",value:function(){var e=this;if(!e.disabled){var t=e.value;null===t||"NaN"===t.toString()||Math.abs(t)===1/0?(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0):(e.$.upButton.disabled=!1,e.$.downButton.disabled=!1)}}}],[{key:"properties",get:function(){return{decimalSeparator:{value:".",type:"string"},enableMouseWheelAction:{value:!1,type:"boolean"},inputFormat:{value:"integer",allowedValues:["integer","floatingPoint","complex"],type:"string"},hint:{value:"",type:"string"},label:{value:"",type:"string"},leadingZeros:{value:!1,type:"boolean"},max:{value:null,type:"any"},messages:{value:{en:{binary:"BIN",octal:"OCT",decimal:"DEC",hexadecimal:"HEX",integerOnly:"jqxNumericTextBox: The property {{property}} can only be set when inputFormat is integer.",noInteger:"jqxNumericTextBox: the property {{property}} cannot be set when inputFormat is integer.",significantPrecisionDigits:"jqxNumericTextBox: the properties significantDigits and precisionDigits cannot be set at the same time."}},type:"object",extend:!0},min:{value:null,type:"any"},name:{value:"",type:"string"},nullable:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},outputFormatString:{value:null,type:"string?"},placeholder:{value:"",type:"string"},dropDownEnabled:{value:!1,type:"boolean"},precisionDigits:{value:null,type:"number?"},radix:{value:10,allowedValues:[2,8,10,16,"binary","octal","decimal","hexadecimal"],type:"any"},radixDisplay:{value:!1,type:"boolean"},radixDisplayPosition:{value:"left",allowedValues:["left","right"],type:"string"},scientificNotation:{value:!1,type:"boolean"},showUnit:{value:!1,type:"boolean"},significantDigits:{value:null,type:"number?"},spinButtons:{value:!1,type:"boolean"},spinButtonsDelay:{value:75,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},spinButtonsPosition:{value:"right",allowedValues:["left","right"],type:"string"},spinButtonsStep:{value:"1",type:"any"},type:{value:"numeric",type:"string",defaultReflectToAttribute:!0,readonly:!0},unit:{value:"kg",type:"string"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{value:"0",type:"any?"},wordLength:{value:"int32",allowedValues:["int8","uint8","int16","uint16","int32","uint32","int64","uint64"],type:"string"}}}},{key:"listeners",get:function(){return{mouseenter:"_mouseenterMouseleaveHandler",mouseleave:"_mouseenterMouseleaveHandler","downButton.click":"_downButtonClickHandler","downButton.mouseenter":"_mouseenterMouseleaveHandler","downButton.mouseleave":"_mouseenterMouseleaveHandler","dropDown.click":"_dropDownItemClickHandler","dropDown.mouseout":"_mouseenterMouseleaveHandler","dropDown.mouseover":"_mouseenterMouseleaveHandler","input.blur":"_inputBlurHandler","input.change":"_inputChangeHandler","input.focus":"_inputFocusHandler","input.keydown":"_inputKeydownHandler","input.keyup":"_inputKeyupHandler","input.paste":"_inputPasteHandler","input.wheel":"_inputWheelHandler","radixDisplayButton.click":"_radixDisplayButtonClickHandler","radixDisplayButton.mouseenter":"_mouseenterMouseleaveHandler","radixDisplayButton.mouseleave":"_mouseenterMouseleaveHandler","upButton.click":"_upButtonClickHandler","upButton.mouseenter":"_mouseenterMouseleaveHandler","upButton.mouseleave":"_mouseenterMouseleaveHandler","document.down":"_documentMousedownHandler","document.up":"_documentMouseupHandler"}}},{key:"requires",get:function(){return window.NIComplex?{"JQX.Button":"jqxbutton.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}:{"JQX.Button":"jqxbutton.js","JQX.Utilities.Complex":"jqxcomplex.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}}},{key:"styleUrls",get:function(){return["jqx.button.css","jqx.numerictextbox.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-pager",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="nearButtonsContainer" class="jqx-pager-near-buttons-container">\n                        <div id="firstButton" class="jqx-first-button jqx-pager-button jqx-unselectable"></div>\n                        <div id="previousButton" class="jqx-previous-page-button jqx-pager-button jqx-unselectable"></div>\n                    </div>\n                    <div id="middleButtonsContainer" class="jqx-pager-middle-buttons-container">\n                           <span id="previousEllipsisButton" class="jqx-previous-ellipsis-button jqx-pager-page-index-selector"></span>\n                           <div id="pageIndexSelectorsContainer" tabindex="0" class="jqx-pager-page-index-selectors-container"></div>\n                           <span id="nextEllipsisButton" class="jqx-next-ellipsis-button jqx-pager-page-index-selector"></span>\n                    </div>\n                    <div id="farButtonsContainer" class="jqx-pager-far-buttons-container">\n                        <div id="nextButton" class="jqx-next-page-button jqx-pager-button jqx-unselectable"></div>\n                        <div id="lastButton" class="jqx-last-button jqx-pager-button jqx-unselectable"></div>\n                    </div>\n                    <div id="pagerInputAndLabelContainer" class="jqx-pager-input-and-label-container">\n                        <span id="navigateToLabel" class="jqx-pager-label"></span>\n                        <input type="text" id="navigateToInput" class="jqx-pager-input jqx-input" />\n                   </div>\n                 <div id="pagerSizeSelectorAndLabelContainer" class="jqx-pager-size-selector-and-label-container">\n                        <span id="pageSizeLabel" class="jqx-pager-label"></span>\n                        <jqx-drop-down-list id="pageSizeSelector" class="jqx-page-size-selector"\n                                data-source="[[pageSizeSelectorDataSource]]"\n                                drop-down-height="auto"\n                                selection-mode="one"\n                                selected-indexes=[0]\n                                disabled="[[disabled]]">\n                        </jqx-drop-down-list>\n                    </div>\n                  <span id="pagerSummaryContainer" class="jqx-pager-summary-container jqx-pager-label"></span>\n                </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this._render()}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"navigationButtonsPosition":return void n._renderButtons();case"navigationInputPosition":case"pageSizeSelectorPosition":case"summaryPosition":return void n._renderSettings()}n._render()}},{key:"next",value:function(){var e=this;e.navigateTo(e.pageIndex+1)}},{key:"prev",value:function(){var e=this;e.navigateTo(e.pageIndex-1)}},{key:"beginUpdate",value:function(){this._updating=!0}},{key:"endUpdate",value:function(){var e=this;e._updating=!1,e._render()}},{key:"_render",value:function(){var e=this;e._updating||(e.$.navigateToInput.value=(1+e.pageIndex).toString(),e._renderButtons(),e._renderPageIndexSelectors(),e._renderSettings(),e._renderVisibility(),e._localize())}},{key:"_resizeHandler",value:function(){this._renderVisibility()}},{key:"_renderVisibility",value:function(){var e=this,t=e.offsetWidth-20;e.showSummary?e.$pagerSummaryContainer.removeClass("jqx-hidden"):e.$pagerSummaryContainer.addClass("jqx-hidden"),e.showPageIndexSelectors?e.$middleButtonsContainer.removeClass("jqx-hidden"):e.$middleButtonsContainer.addClass("jqx-hidden"),e.showNavigationInput?(e.$navigateToLabel.removeClass("jqx-hidden"),e.$navigateToInput.removeClass("jqx-hidden")):(e.$navigateToLabel.addClass("jqx-hidden"),e.$navigateToInput.addClass("jqx-hidden")),e.showPageSizeSelector?(e.$pageSizeLabel.removeClass("jqx-hidden"),e.$pageSizeSelector.removeClass("jqx-hidden")):(e.$pageSizeLabel.addClass("jqx-hidden"),e.$pageSizeSelector.addClass("jqx-hidden")),e.showFirstLastNavigationButtons?(e.$firstButton.removeClass("jqx-hidden"),e.$lastButton.removeClass("jqx-hidden")):(e.$firstButton.addClass("jqx-hidden"),e.$lastButton.addClass("jqx-hidden")),e.showPrevNextNavigationButtons?(e.$previousButton.removeClass("jqx-hidden"),e.$nextButton.removeClass("jqx-hidden")):(e.$previousButton.addClass("jqx-hidden"),e.$nextButton.addClass("jqx-hidden")),e.$previousEllipsisButton.addClass("jqx-hidden"),e.$nextEllipsisButton.addClass("jqx-hidden"),"after"!==e.autoEllipsis&&"none"!==e.autoEllipsis&&e.pageIndex>=e._pageIndexSelectorsCount&&e.$previousEllipsisButton.removeClass("jqx-hidden"),"before"!==e.autoEllipsis&&"none"!==e.autoEllipsis&&e.pageIndex<e.pagesCount-e._pageIndexSelectorsCount&&e.$nextEllipsisButton.removeClass("jqx-hidden");for(var i=0;i<e._pageIndexSelectorsCount&&e.$.pageIndexSelectorsContainer.children[i];i++)e.$.pageIndexSelectorsContainer.children[i].classList.remove("jqx-hidden");var a=e.$.pagerSummaryContainer.offsetWidth?Math.max(100,e.$.pagerSummaryContainer.offsetWidth):0,n=e.$.nearButtonsContainer.offsetWidth+e.$.middleButtonsContainer.offsetWidth+e.$.farButtonsContainer.offsetWidth+a+e.$.pagerInputAndLabelContainer.offsetWidth+e.$.pagerSizeSelectorAndLabelContainer.offsetWidth;if(n>0&&n>t&&(n-=e.$.pagerSummaryContainer.offsetWidth,e.$pagerSummaryContainer.addClass("jqx-hidden"),n>t&&(n-=e.$.navigateToLabel.offsetWidth,n-=e.$.navigateToInput.offsetWidth,e.$navigateToLabel.addClass("jqx-hidden"),e.$navigateToInput.addClass("jqx-hidden"),n>t))){if(n-=e.$.pageSizeLabel.offsetWidth,n-=e.$.pageSizeSelector.offsetWidth,e.$pageSizeLabel.addClass("jqx-hidden"),e.$pageSizeSelector.addClass("jqx-hidden"),n>t){e.$previousEllipsisButton.addClass("jqx-hidden"),e.$nextEllipsisButton.addClass("jqx-hidden"),n-=e.$.previousEllipsisButton.offsetWidth,n-=e.$.nextEllipsisButton.offsetWidth;for(var o=e._pageIndexSelectorsCount-1;o>=0;o--){var r=e.$.pageIndexSelectorsContainer.children[o];if(n<t||!r)break;n-=r.offsetWidth,r.classList.add("jqx-hidden")}}n>t&&e.showFirstLastNavigationButtons&&(e.$firstButton.addClass("jqx-hidden"),e.$lastButton.addClass("jqx-hidden"))}}},{key:"_renderSettings",value:function(){var e=this,t=e.pageIndex*e.pageSize,i=(e.pageIndex+1)*e.pageSize,a=e.pagesCount*e.pageSize;e.$pagerSummaryContainer.removeClass("near"),e.$pagerSizeSelectorAndLabelContainer.removeClass("near"),e.$pagerInputAndLabelContainer.removeClass("near"),"near"===e.summaryPosition&&e.$pagerSummaryContainer.addClass("near"),"near"===e.pageSizeSelectorPosition&&e.$pagerSizeSelectorAndLabelContainer.addClass("near"),"near"===e.navigationInputPosition&&e.$pagerInputAndLabelContainer.addClass("near"),e.$.pagerSummaryContainer.innerHTML='<span class="jqx-summary-start">'+(1+t)+'</span> <span class="jqx-summary-hyphen">-</span> <span class="jqx-summary-end">'+i+'</span><span class="jqx-summary-prefix">'+e.localize("summaryPrefix")+'</span> <span class="jqx-summary-total-end">'+a+'</span> <span class="jqx-summary-suffix">'+e.localize("summarySuffix")+"</span>"}},{key:"_renderPageIndexSelectors",value:function(){var e=this;if(!(e.pageIndex<0||e.pageIndex>=e.pagesCount)){e.$.pageIndexSelectorsContainer.innerHTML="";var t=!1;Array.isArray(e.pageIndexSelectors)&&(t=!0);for(var i=Math.floor(e.pageIndex/e._pageIndexSelectorsCount)*e._pageIndexSelectorsCount,a=Math.min(e.pagesCount,i+e._pageIndexSelectorsCount),n=0,o=i;o<a;o++){var r=document.createElement("span"),l=o+1;if(r.className="jqx-pager-page-index-selector",t){var s=e.pageIndexSelectors[n++];s&&(s.label?l=e.pageIndexSelectors[o].label:"string"==typeof s&&(l=s),s.value&&r.setAttribute("value",e.pageIndexSelectors[o].value))}r.index=o,r.innerHTML=l,e.$.pageIndexSelectorsContainer.appendChild(r),o===e.pageIndex&&(r.classList.add("jqx-selected"),r.setAttribute("selected",""))}}}},{key:"_lastButtonClickHandler",value:function(){this.last()}},{key:"last",value:function(){var e=this;e.navigateTo(e.pagesCount-1)}},{key:"_firstButtonClickHandler",value:function(){this.first()}},{key:"first",value:function(){this.navigateTo(0)}},{key:"_renderButtons",value:function(){var e=this;switch(0===e.pageIndex?(e.$.firstButton.setAttribute("disabled",""),e.$.previousButton.setAttribute("disabled","")):(e.$.firstButton.removeAttribute("disabled"),e.$.previousButton.removeAttribute("disabled")),e.pageIndex===e.pagesCount-1?(e.$.nextButton.setAttribute("disabled",""),e.$.lastButton.setAttribute("disabled","")):(e.$.nextButton.removeAttribute("disabled"),e.$.lastButton.removeAttribute("disabled")),e.$nearButtonsContainer.removeClass("far"),e.$farButtonsContainer.removeClass("far"),e.$nearButtonsContainer.removeClass("near"),e.$farButtonsContainer.removeClass("near"),e.navigationButtonsPosition){case"near":e.$nearButtonsContainer.addClass("near"),e.$farButtonsContainer.addClass("near");break;case"far":e.$nearButtonsContainer.addClass("far"),e.$farButtonsContainer.addClass("far");break;case"both":e.$nearButtonsContainer.addClass("near"),e.$farButtonsContainer.addClass("far")}}},{key:"_navigateToInputChangeHandler",value:function(){var e=this,t=parseInt(e.$.navigateToInput.value)-1;isNaN(t)&&(e.$.navigateToInput.value="1",t=parseInt(e.$.navigateToInput.value-1)),e.navigateTo(t)}},{key:"_pageIndexSelectorsContainerClickHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.composedPath()[0].closest(".jqx-pager-page-index-selector"):e.target.closest(".jqx-pager-page-index-selector");i&&!i.classList.contains("jqx-selected")&&t.navigateTo(i.index)}},{key:"_pageSizeSelectorChangeHandler",value:function(e){var t=this;!t.showPageSizeSelector||t.disabled||t._updating||(t.pageSize=parseInt(e.detail.value),t.$.fireEvent("pageSizeChanged",{value:parseInt(e.detail.value)}))}},{key:"_keyDownHandler",value:function(e){var t=this;if(!t.disabled&&(t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement)!==t.$.navigateToInput&&null===t.$.pageSizeSelector.getAttribute("focus"))switch(e.key){case"End":t.last(),e.preventDefault();break;case"Home":t.first(),e.preventDefault();break;case"PageDown":case"ArrowDown":case"ArrowLeft":t.prev(),e.preventDefault();break;case"PageUp":case"ArrowUp":case"ArrowRight":t.next(),e.preventDefault()}}},{key:"_nextButtonClickHandler",value:function(){this.next()}},{key:"_previousButtonClickHandler",value:function(){this.prev()}},{key:"navigateTo",value:function(e){var t=this,i=t.pageIndex;t.disabled||t.pageIndex===e||e<0||e>=t.pagesCount||(t.pageIndex=e,t._render(),t.$.fireEvent("change",{oldIndex:i,index:e}))}},{key:"_localize",value:function(){for(var e=this,t=["firstButton","lastButton","previousButton","nextButton"],i=0;i<t.length;i++){var a=e.$[t[i]];!e.showNavigationButtonLabels&&i<2?(a.innerHTML="",0===i?a.classList.add("jqx-arrow-left-first"):a.classList.add("jqx-arrow-right-last")):!e.showNavigationButtonLabels&&i>=2?(a.innerHTML="",2===i?a.classList.add("jqx-arrow-left"):a.classList.add("jqx-arrow-right")):(a.classList.remove("jqx-arrow-left"),a.classList.remove("jqx-arrow-right"),a.classList.remove("jqx-arrow-left-first"),a.classList.remove("jqx-arrow-right-last"),a.innerHTML=e.localize(t[i]))}e.$.pageSizeLabel.innerHTML=e.localize("pageSizeLabel"),e.$.navigateToLabel.innerHTML=e.localize("navigateToLabel"),e.$.previousEllipsisButton.innerHTML=e.localize("ellipsis"),e.$.nextEllipsisButton.innerHTML=e.localize("ellipsis"),e.$.navigateToInput.placeholder=e.localize("navigateToInputPlaceholder")}},{key:"_nextEllipsisButtonClickHandler",value:function(){var e=this;e.navigateTo(e._pageIndexSelectorsCount+e.pageIndex)}},{key:"_previousEllipsisButtonClickHandler",value:function(){var e=this;e.navigateTo(-e._pageIndexSelectorsCount+e.pageIndex)}},{key:"_navigationButtonsClickHandler",value:function(e){var t=this;if(!t.disabled){switch(t.enableShadowDOM?e.composedPath()[0].closest(".jqx-pager-button"):e.target.closest(".jqx-pager-button")){case t.$.firstButton:t._firstButtonClickHandler(e);break;case t.$.lastButton:t._lastButtonClickHandler(e);break;case t.$.previousButton:t._previousButtonClickHandler(e);break;case t.$.nextButton:t._nextButtonClickHandler(e)}}}},{key:"_navigationButtonsDownHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0].closest(".jqx-pager-button")||e.originalEvent.composedPath()[0].closest(".jqx-pager-page-index-selector"):e.originalEvent.target.closest(".jqx-pager-button")||e.originalEvent.target.closest(".jqx-pager-page-index-selector");!t.disabled&&i&&(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i!==t.$.previousButton&&i!==t.$.nextButton||t._startRepeat(e,i))}},{key:"_updateInBoundsFlag",value:function(e){var t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target;i._isPointerInBounds=!0,"mouseleave"===e.type&&(i._isPointerInBounds=!1),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}},{key:"_startRepeat",value:function(e,t){var i=this;i._initialTimer||(i._initialTimer=setTimeout(function(){i._repeatTimer=setInterval(function(){t._isPointerInBounds&&(t===i.$.previousButton?i._previousButtonClickHandler(e):i._nextButtonClickHandler(e))},50)},150))}},{key:"_stopRepeat",value:function(){var e=this;e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null)}},{key:"_pageIndexSelectorsCount",get:function(){var e=this,t=parseInt(e.pageIndexSelectors);return Array.isArray(e.pageIndexSelectors)&&(t=e.pageIndexSelectors.length),t}}],[{key:"properties",get:function(){return{autoEllipsis:{value:"none",type:"string",allowedValues:["none","before","after","both"]},messages:{value:{en:{firstButton:"First",lastButton:"Last",previousButton:"Previous",nextButton:"Next",navigateToLabel:"Go to:",pageSizeLabel:"Show:",navigateToInputPlaceholder:"",ellipsis:"...",summaryString:"of",summaryPrefix:"of",summarySuffix:""}},type:"object",extend:!0},navigationButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},navigationInputPosition:{value:"far",allowedValues:["near","far"],type:"string"},pageIndex:{value:0,type:"number"},pageIndexSelectors:{value:0,type:"any"},pagesCount:{value:100,type:"number"},pageSize:{value:10,type:"number"},pageSizeSelectorPosition:{value:"far",allowedValues:["near","far"],type:"string"},pageSizeSelectorDataSource:{value:[10,25,50],type:"array"},showPrevNextNavigationButtons:{value:!1,type:"boolean"},showFirstLastNavigationButtons:{value:!1,type:"boolean"},showNavigationButtonLabels:{value:!1,type:"boolean"},showNavigationInput:{value:!1,type:"boolean"},showSummary:{value:!1,type:"boolean"},showPageSizeSelector:{value:!1,type:"boolean"},showPageIndexSelectors:{value:!1,type:"boolean"},summaryPosition:{value:"far",allowedValues:["near","far"],type:"string"}}}},{key:"listeners",get:function(){return{click:"_navigationButtonsClickHandler","nextEllipsisButton.click":"_nextEllipsisButtonClickHandler","previousEllipsisButton.click":"_previousEllipsisButtonClickHandler",down:"_navigationButtonsDownHandler","navigateToInput.change":"_navigateToInputChangeHandler","nextButton.mouseenter":"_updateInBoundsFlag","nextButton.mouseleave":"_updateInBoundsFlag","pageIndexSelectorsContainer.click":"_pageIndexSelectorsContainerClickHandler","pageSizeSelector.change":"_pageSizeSelectorChangeHandler","previousButton.mouseenter":"_updateInBoundsFlag","previousButton.mouseleave":"_updateInBoundsFlag",keydown:"_keyDownHandler",resize:"_resizeHandler","document.up":"_stopRepeat"}}},{key:"requires",get:function(){return{"JQX.DropDownList":"jqxdropdownlist.js"}}},{key:"styleUrls",get:function(){return["jqx.pager.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-base-progress-bar",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this._updateProgress()}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;n._updateProgress(),"value"===e&&n.$.fireEvent("change",{value:a,oldValue:i,changeType:"api"})}},{key:"_updateProgress",value:function(){}},{key:"_percentageValue",get:function(){var e=this,t=Math.max(e.min,e.max),i=Math.min(e.min,e.max);return(Math.min(t,Math.max(i,e.value))-i)/(t-i)}}],[{key:"properties",get:function(){return{indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}},{key:"styleUrls",get:function(){return["jqx.progressbar.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-circular-progress-bar",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <svg width="100%" height="100%" viewPort="0 0 100 100" viewBox="0 0 100 100">\n                       <circle id="value" class ="jqx-value-path" r="50" cx="50" cy="50" transform="rotate(270 50 50)"></circle>\n                       <circle id="value" class ="jqx-value" r="50" cx="50" cy="50" transform="rotate(270 50 50)"></circle>\n                    </svg>\n                    <div class ="jqx-label-container">\n                        <content></content>\n                        <span id="label" class ="jqx-label"></span>\n                    </div>\n                </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e.$.container.style.width=e.$.container.style.height=Math.min(e.offsetWidth,e.offsetHeight)+"px",e.$.hasClass("echo-animation")&&(e.value=e.max,e._updateProgress())}},{key:"_resizeHandler",value:function(){var e=this;e.$.container.style.width=e.$.container.style.height=Math.min(e.offsetWidth,e.offsetHeight)+"px"}},{key:"_updateProgress",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateProgress",this).call(this);var e=this,i=e.indeterminate?100*Math.PI:100*Math.PI-e._percentageValue*Math.PI*100,a=!!document.documentMode,n=!a&&!!window.StyleMedia;if(e.showProgressValue){var o=parseInt(100*e._percentageValue);e.$.label.innerHTML=e.formatFunction?e.formatFunction(o):o+"%"}else e.$.label.innerHTML="";return a||n?null===e.value||e.indeterminate?(e.$.value.style.strokeDashoffset="",void e.$.value.setAttribute("class","jqx-value jqx-value-animation-ms")):(e.$.value.setAttribute("class","jqx-value"),void(e.$.value.style.strokeDashoffset=e.inverted?-i:i)):(e.$.value.style.strokeDashoffset=e.inverted?-i:i,null===e.value||e.indeterminate?void e.$value.addClass("jqx-value-animation"):void e.$value.removeClass("jqx-value-animation"))}}],[{key:"listeners",get:function(){return{resize:"_resizeHandler"}}}]),t}(JQX.BaseProgressBar)),JQX("jqx-progress-bar",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div>\n                    <div id="value" class="jqx-value"></div>\n                    <div id="label" class ="jqx-label"></div>\n                </div>'}},{key:"_updateProgress",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateProgress",this).call(this);var e=this;if(e.showProgressValue){var i=parseInt(100*e._percentageValue);e.$.label.innerHTML=e.formatFunction?e.formatFunction(i):i+"%"}else e.$.label.innerHTML=""
;null===e.value||e.indeterminate?e.$value.addClass("jqx-value-animation"):e.$value.removeClass("jqx-value-animation"),e.$.value.style.transform="horizontal"===e.orientation?"scaleX("+e._percentageValue+")":"scaleY("+e._percentageValue+")"}}],[{key:"properties",get:function(){return{orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"}}}}]),t}(JQX.BaseProgressBar)),JQX("jqx-scroll-bar",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                    <div id="nearButton" class ="jqx-scroll-button jqx-arrow-left"></div>\n                    <div  id="track" class ="jqx-track">\n                        <div id="thumb" class="jqx-thumb"></div>\n                    </div>\n                    <div id="farButton" class ="jqx-scroll-button jqx-arrow-right"></div>\n            </div>'}},{key:"_updateInBoundsFlag",value:function(e){var t=this,i=e.target;i._isPointerInBounds=!0,"mouseleave"===e.type&&(i._isPointerInBounds=!1),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}},{key:"_startRepeat",value:function(e){var t=this;if(!t.disabled){var i=e.target;i._initialTimer||(i._initialTimer=setTimeout(function(){i._repeatTimer=setInterval(function(){if(i._isPointerInBounds){var t="buttons"in e?e.buttons:e.which;i.$.fireEvent("click",{buttons:t,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}},t.clickRepeatDelay)},3*t.clickRepeatDelay))}}},{key:"_stopRepeat",value:function(e){if(!this.disabled){var t=e.target;t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null)}}},{key:"_calculateThumbSize",value:function(e){var t=this,i=t.max-t.min,a="horizontal"===t.orientation?t.$.track.offsetWidth>10:t.$.track.offsetHeight>10,n=0;return i>=1&&a?(n=e/(i+e)*e,t.$.thumb.className.indexOf("jqx-hidden")>=0&&t.$thumb.removeClass("jqx-hidden")):t.$thumb.addClass("jqx-hidden"),Math.max(10,Math.min(n,e))}},{key:"_dragStartHandler",value:function(e){var t=this;t.disabled||(t.thumbCapture=!0,t.dragStartX=e.clientX,t.dragStartY=e.clientY,t.dragStartValue=t.value,e.stopPropagation(),e.preventDefault())}},{key:"_dragHandler",value:function(e){var t=this;if(!0===t.thumbCapture){t._isThumbDragged=!0;var i=(t.max-t.min)/(t.scrollBarSize-t.thumbSize),a="horizontal"===t.orientation?(e.clientX-t.dragStartX)*i:(e.clientY-t.dragStartY)*i,n=a;t.rightToLeft&&"horizontal"===t.orientation&&(n=-a),t._updateValue(t.dragStartValue+n),e.stopPropagation(),e.preventDefault(),e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}}},{key:"_dragEndHandler",value:function(e){var t=this;t._trackDownTimer&&(clearInterval(t._trackDownTimer),t._trackDownTimer=null),t.thumbCapture&&(t.thumbCapture=!1,t._isThumbDragged=!1,"switchWhenReleased"===t.mechanicalAction?t._updateValue(t.dragStartValue,t.value):"switchUntilReleased"===this.mechanicalAction&&t._updateValue(t.dragStartValue),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation())}},{key:"_farButtonClickHandler",value:function(){var e=this;if(!e.disabled){var t=e.value;e._updateValue(e.value+e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}}},{key:"_nearButtonClickHandler",value:function(){var e=this;if(!e.disabled){var t=e.value;e._updateValue(e.value-e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"min":case"max":case"orientation":case"showButtons":n._layout();break;case"value":n._updateValue(i,a)}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this._layout()}},{key:"_resizeHandler",value:function(){this._layout()}},{key:"refresh",value:function(){this._layout()}},{key:"_layout",value:function(){var e=this;e.scrollBarSize="horizontal"===e.orientation?e.$.track.offsetWidth:e.$.track.offsetHeight,e.thumbSize=e._calculateThumbSize(e.scrollBarSize),"horizontal"===e.orientation&&e.$.thumb.style.width!==e.thumbSize+"px"?e.$.thumb.style.width=e.thumbSize+"px":"vertical"===e.orientation&&e.$.thumb.style.height!==e.thumbSize+"px"&&(e.$.thumb.style.height=e.thumbSize+"px"),"horizontal"===e.orientation?(e.$.nearButton.classList.contains("jqx-arrow-up")&&e.$.nearButton.classList.remove("jqx-arrow-up"),e.$.farButton.classList.contains("jqx-arrow-down")&&e.$.farButton.classList.remove("jqx-arrow-down"),e.$.nearButton.classList.contains("jqx-arrow-left")||e.$.nearButton.classList.add("jqx-arrow-left"),e.$.farButton.classList.contains("jqx-arrow-right")||e.$.farButton.classList.add("jqx-arrow-right")):(e.$.nearButton.classList.contains("jqx-arrow-left")&&e.$.nearButton.classList.remove("jqx-arrow-left"),e.$.farButton.classList.contains("jqx-arrow-right")&&e.$.farButton.classList.remove("jqx-arrow-right"),e.$.nearButton.classList.contains("jqx-arrow-up")||e.$.nearButton.classList.add("jqx-arrow-up"),e.$.farButton.classList.contains("jqx-arrow-down")||e.$.farButton.classList.add("jqx-arrow-down")),e._updateThumbPosition(),(e.value>e.max||e.value<e.min)&&e._updateValue(e.value,e.value>e.max?e.max:e.min)}},{key:"_selectStartHandler",value:function(e){this.thumbCapture&&e.preventDefault()}},{key:"_trackDownHandler",value:function(e){var t=this;e.target===t.$.track&&(t._trackDownTimer=setInterval(function(){t._trackClickHandler(e)},t.clickRepeatDelay),e.stopPropagation(),e.preventDefault())}},{key:"_trackClickHandler",value:function(e){var t=this;if(!t.disabled){if(t._isThumbDragged)return clearInterval(t._trackDownTimer),void(t._trackDownTimer=null);var i=t.$.thumb.getBoundingClientRect(),a=e.pageX-window.pageXOffset,n=e.pageY-window.pageYOffset,o=t.value;"horizontal"===t.orientation?a>(t._isThumbDragged?t.dragStartX:i.right)?t._updateValue(t.value+t.largeStep):a<(t._isThumbDragged?t.dragStartX:i.left)&&t._updateValue(t.value-t.largeStep):n>(t._isThumbDragged?t.dragStartY:i.bottom)?t._updateValue(t.value+t.largeStep):n<(t._isThumbDragged?t.dragStartY:i.top)&&t._updateValue(t.value-t.largeStep),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(o)}}},{key:"_updateValue",value:function(e,t){var i=this;if(1===arguments.length&&(t=e,e=i.value),(void 0===t||isNaN(t))&&(t=i.min),t>i.max&&(t=i.max),t<i.min&&(t=i.min),i.value=t,e!==t){if(i._updateThumbPosition(),i.thumbCapture&&"switchWhenReleased"===i.mechanicalAction)return;if(i.onChange)return void i.onChange({value:i.value,oldValue:e,min:i.min,max:i.max});i.$.fireEvent("change",{value:i.value,oldValue:e,min:i.min,max:i.max})}}},{key:"_updateThumbPosition",value:function(){var e=this,t=e.$.track.offsetHeight,i=e.$.track.offsetWidth,a="horizontal"===e.orientation?i:t,n=e._calculateThumbSize(a),o="horizontal"===e.orientation?i-n:t-n,r=(a-n)/(e.max-e.min)*(e.value-e.min);e.rightToLeft&&"horizontal"===e.orientation&&(r=(a-n)/(e.max-e.min)*(e.max-e.value-e.min)),r=Math.min(o,Math.max(0,r)),"vertical"===e.orientation&&e.$.thumb.style.top!==r+"px"?e.$.thumb.style.top=r+"px":"horizontal"===e.orientation&&e.$.thumb.style.left!==r+"px"&&(e.$.thumb.style.left=r+"px")}}],[{key:"properties",get:function(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}},{key:"styleUrls",get:function(){return["jqx.scrollbar.css"]}},{key:"listeners",get:function(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.mousedown":"_startRepeat","nearButton.mouseup":"_stopRepeat","nearButton.mouseenter":"_updateInBoundsFlag","nearButton.mouseleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.mousedown":"_startRepeat","farButton.mouseup":"_stopRepeat","farButton.mouseenter":"_updateInBoundsFlag","farButton.mouseleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}}]),t}(JQX.BaseElement)),JQX("jqx-splitter-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div class="jqx-header" id="header"></div>\n                    <div class="jqx-content" id="content" inner-H-T-M-L="[[innerHTML]]">\n                        <content></content>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"collapsed":n._ignorePropertyValue=!0,a?n.collapse():n.expand();break;case"collapsible":n._updateNearSplitterBars();break;case"size":case"min":case"max":n._setSize(e,a);break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"attached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this);var e=this;e._sizeLimits||(e._sizeLimits={});var i=getComputedStyle(e);e.min||(e._sizeLimits.minWidth=parseFloat(i.getPropertyValue("min-width"))||0,e._sizeLimits.minHeight=parseFloat(i.getPropertyValue("min-height"))||0),e.max||(e._sizeLimits.maxWidth=parseFloat(i.getPropertyValue("max-width"))||0,e._sizeLimits.maxHeight=parseFloat(i.getPropertyValue("max-height"))||0)}},{key:"detached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),this.$.removeClass("animate")}},{key:"appendChild",value:function(e){var t=this;if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}));if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}t.$.content.appendChild(e)}},{key:"collapse",value:function(e){var t=this;if(!t.collapsible)return void(t.collapsed=!1);if(t._ignorePropertyValue||!t.collapsed){var i=(t.getRootNode()?t.getRootNode().host:null)||t.closest("jqx-splitter");if(!i)return;var a=i._items.indexOf(t);a===i._items.length-1?e=!0:0===a&&(e=!1);for(var n=e?-1:1,o=a+n,r=i._items[o];r&&r.collapsed;)o+=n,r=i._items[o];if(!r)return void(t.collapsed=!1);delete t._ignorePropertyValue,t._sizeBeforeCollapse||(t._sizeBeforeCollapse=t[i._measurements.size]),r._sizeBeforeCollapse||(r._sizeBeforeCollapse=r[i._measurements.size]);var l=void 0;t.previousElementSibling instanceof JQX.SplitterBar?l=t.previousElementSibling:t.nextElementSibling instanceof JQX.SplitterBar&&(l=t.nextElementSibling);var s=r[i._measurements.size]+t[i._measurements.size],d=l?l[i._measurements.size]:t._sizeLimits[i._measurements.minDimension],u=s-d;if(s&&u<d)return void(t.collapsed=!1);if(t.hasAnimation&&!i._isInitializing&&(t.$.addClass("animate"),r.$.addClass("animate"),t.addEventListener("transitionend",t._transitionEndHandler,{once:!0}),t.addEventListener("transitioncancel",t._transitionEndHandler,{once:!0}),r.addEventListener("transitionend",t._transitionEndHandler,{once:!0}),r.addEventListener("transitioncancel",t._transitionEndHandler,{once:!0})),!t._paddings){var c=getComputedStyle(t);t._paddings=(parseFloat(c.getPropertyValue("padding-"+i._measurements.position))||0)+(parseFloat(c.getPropertyValue("padding-"+i._measurements.position2))||0)}r._sizeBeforeCollapse&&(r._sizeBeforeCollapse=r._sizeBeforeCollapse+t._sizeBeforeCollapse),r._sizeLimits&&r._sizeLimits[i._measurements.maxDimension]&&s>r._sizeLimits[i._measurements.maxDimension]&&(r._sizeLimits.ignoreUpdate=!0,r._sizeBeforeCollapse?r.style[i._measurements.maxDimension]=r._sizeBeforeCollapse+"px":r.style[i._measurements.maxDimension]=""),r._sizeBeforeCollapse&&(r.style[i._measurements.dimension]=r._sizeBeforeCollapse+"px"),t.style[i._measurements.dimension]=t.style[i._measurements.minDimension]="0",t.style.padding="0",t._neighbourItem=r,t.collapsed=!0,i.$.fireEvent("collapse",{itemIndex:i._items.indexOf(t)}),e?(t.previousElementSibling.itemCollapsed=!0,t.previousElementSibling.showFarButton=!(t.previousElementSibling.showNearButton=!1)):(t.nextElementSibling.itemCollapsed=!0,t.nextElementSibling.showNearButton=!(t.nextElementSibling.showFarButton=!1))}}},{key:"expand",value:function(){var e=this;if(e._ignorePropertyValue||e.collapsed){var t=(e.getRootNode()?e.getRootNode().host:null)||e.closest("jqx-splitter");if(!t)return void(e.collapsed=!0);if(!e._neighbourItem)return void(e.collapsed=!0);if(delete e._ignorePropertyValue,!e._neighbourItem._ignorePropertyValue&&e._neighbourItem.collapsed){var i=t._items.indexOf(e._neighbourItem),a=t._items.indexOf(e)>t._items.indexOf(e._neighbourItem)?-1:1;for(e._neighbourItem=t._items[i];e._neighbourItem&&e._neighbourItem.collapsed;)i+=a,e._neighbourItem=t._items[i]}if(!e._neighbourItem)return void(e.collapsed=!0);e.min&&e._setSize("min",e.min,!0);var n=e._neighbourItem._sizeBeforeCollapse,o=e._sizeLimits[t._measurements.minDimension],r=e._neighbourItem._sizeLimits[t._measurements.minDimension],l=n-o;if(n&&l<r)return void(e.collapsed=!0);if(!e._neighbourItem._paddings){var s=getComputedStyle(e._neighbourItem);e._neighbourItem._paddings=(parseFloat(s.getPropertyValue("padding-"+t._measurements.position))||0)+(parseFloat(s.getPropertyValue("padding-"+t._measurements.position2))||0)}if(!e._paddings){var d=getComputedStyle(e);e._paddings=(parseFloat(d.getPropertyValue("padding-"+t._measurements.position))||0)+(parseFloat(d.getPropertyValue("padding-"+t._measurements.position2))||0)}if((e.size+"").indexOf("%")>-1&&(!e._sizeBeforeCollapse||0===e._sizeBeforeCollapse)&&e._neighbourItem._sizeBeforeCollapse){var u=0;t._items.map(function(e){return u+=e.collapsed?0:e.style[t._measurements.dimension]&&e.style[t._measurements.dimension].indexOf("%")<-1&&e._sizeBeforeCollapse?e._sizeBeforeCollapse:e.getBoundingClientRect()[t._measurements.dimension]}),e._sizeBeforeCollapse=u*parseFloat(e.size)/100}var c=Math.min(Math.max(o,e._sizeBeforeCollapse),n-e._neighbourItem._paddings-e._paddings-r);if(c<0)return void(e.collapsed=!0);e.hasAnimation&&!t._isInitializing&&(e.$.addClass("animate"),e._neighbourItem.$.addClass("animate"),e.addEventListener("transitionend",e._transitionEndHandler,{once:!0}),e.addEventListener("transitioncancel",e._transitionEndHandler,{once:!0}),e._neighbourItem.addEventListener("transitionend",e._transitionEndHandler,{once:!0}),e._neighbourItem.addEventListener("transitioncancel",e._transitionEndHandler,{once:!0})),e.style.padding="",e.style[t._measurements.minDimension]=e.min?e._sizeLimits[t._measurements.minDimension]+"px":"",e.style[t._measurements.dimension]=(e._sizeBeforeCollapse=c)+"px",e._neighbourItem.style[t._measurements.dimension]=(e._neighbourItem._sizeBeforeCollapse=Math.max(e._neighbourItem._sizeLimits[t._measurements.minDimension],n-c))+"px",e._neighbourItem._sizeLimits[t._measurements.maxDimension]&&(e._neighbourItem.style[t._measurements.maxDimension]=e._neighbourItem._sizeLimits[t._measurements.maxDimension]+"px"),e.collapsed=!1,t.$.fireEvent("expand",{itemIndex:t._items.indexOf(e)}),t._items.indexOf(e)>t._items.indexOf(e._neighbourItem)?(e.previousElementSibling.itemCollapsed=!1,e.previousElementSibling.showNearButton=e._neighbourItem.collapsible):(e.nextElementSibling.itemCollapsed=!1,e.nextElementSibling.showFarButton=e._neighbourItem.collapsible);var p=t._items[t._items.indexOf(e)-1],m=t._items[t._items.indexOf(e)+1];if(p){var v=p.nextElementSibling;v&&v instanceof JQX.SplitterBar&&(p.collapsed?v.showNearButton=e.collapsible:(v.itemCollapsed=!1,v.showNearButton=p.collapsible,v.showFarButton=e.collapsible))}if(m){var h=m.previousElementSibling;h&&h instanceof JQX.SplitterBar&&(m.collapsed?h.showFarButton=m.collapsed:(h.itemCollapsed=!1,h.showNearButton=e.collapsible,h.showFarButton=m.collapsible))}delete e._neighbourItem}}},{key:"insertBefore",value:function(e,t){var i=this;if(!e)return void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"node"}));if(!i.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,a.concat(Array.prototype.slice.call(arguments)))}i.$.content.insertBefore(e,t||null)}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this,i=e.closest("jqx-splitter"),a=i&&i.isCompleted;e._sizeLimits={};var n="string"==typeof e.min&&e.min.indexOf("%")>-1,o=isNaN(parseFloat(e.min))?0:parseFloat(e.min),r=isNaN(parseFloat(e.max))?0:parseFloat(e.max);if(e._sizeLimits.minWidth=e._sizeLimits.minHeight=n&&a?o*i[i._measurements.size]/100:o,n="string"==typeof e.max&&e.max.indexOf("%")>-1,e._sizeLimits.maxWidth=e._sizeLimits.maxHeight=n&&a?r*i[i._measurements.size]/100:r,e.size){n="string"==typeof e.size&&e.size.indexOf("%")>-1;var l="auto"===e.size?e.size:isNaN(parseFloat(e.size))?0:parseFloat(e.size)+(n?"%":"px");a?e.style[i._measurements.dimension]=l:e.style.width=e.style.height=l}e._updateNearSplitterBars()}},{key:"removeChild",value:function(e){var t=this;if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}));if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}t.$.content.removeChild(e)}},{key:"_expand",value:function(){var e=this;if(e._neighbourItem&&e._neighbourItem.parentElement)return void e.expand();var t=e.closest("jqx-splitter");t&&(delete e._neighbourItem,e.collapsed=!1,t.$.fireEvent("expand",{itemIndex:t._items.indexOf(e)}),e.style[t._measurements.minDimension]=e.min?e._sizeLimits[t._measurements.minDimension]+"px":"",e.style[t._measurements.dimension]=e._sizeBeforeCollapse+"px",t._items.length<2||e.previousElementSibling instanceof JQX.SplitterBar&&(e.previousElementSibling.itemCollapsed=!1,e.previousElementSibling.showNearButton=t._items[t._items.indexOf(e)-1].collapsible))}},{key:"_mouseEventsHandler",value:function(e){var t=this,i=(t.getRootNode()?t.getRootNode().host:null)||t.closest("jqx-splitter");(i&&!i.disabled||JQX.Utilities.Core.isMobile)&&("mouseenter"===e.type?this.setAttribute("hover",""):this.removeAttribute("hover"))}},{key:"_propertyValidator",value:function(e,t){return"number"!=typeof t&&"string"!=typeof t?e:t}},{key:"_setSize",value:function(e,t,i){var a=this;if(!a.locked){var n=a.closest("jqx-splitter");if(n){if(!n.isCompleted)return void n.whenReady(function(){return a._setSize(e,t)});var o="string"==typeof t&&t.indexOf("%")>-1,r=function(){for(var e=n.bars,t=0,i=0;i<e.length;i++)t+=e[i][n._measurements.size];return n.$.container[n._measurements.size]-t}();switch(t=isNaN(parseFloat(t))?"":parseFloat(t),e){case"size":var l=a[n._measurements.size];"auto"!==arguments[1]&&arguments[1]?o?(a.style[n._measurements.dimension]=t+"%",a._sizeBeforeCollapse=t*r/100):a.style[n._measurements.dimension]=(a._sizeBeforeCollapse=t||0)+"px":(a.style[n._measurements.dimension]=arguments[1],a._sizeBeforeCollapse=a[n._measurements.size]);var s=l-a._sizeBeforeCollapse;a._originalSize&&(a._originalSize=a._sizeBeforeCollapse);var d=n._items[n._items.length-1];if(a===d){var u=n._items.find(function(e){return e!==a&&!e.collapsed&&!e.locked&&!e.size});if(!u)for(var c=Math.max(0,n._items.length-2);c>=0;c--)if(!n._items[c].collapsed&&!n._items[c].locked&&n._items[c]!==a){u=n._items[c];break}u&&(u.style[n._measurements.dimension]=(u._sizeBeforeCollapse=Math.max(0,u[n._measurements.size]+s))+"px")}break;case"min":a._sizeLimits.minWidth=a._sizeLimits.minHeight=o?t*r/100:t,a.style[n._measurements.minDimension]=a.collapsed||!t?"":t+(o?"%":"px"),a.style["min"+n._measurements.restricredDimension]="",t||n._noNeighbourValidation||n._validateNeighbourSizeLimits(a);break;case"max":a._sizeLimits.maxWidth=a._sizeLimits.maxHeight=o?t*r/100:t,a.style[n._measurements.maxDimension]=t?t+(o?"%":"px"):"",a.style["max"+n._measurements.restricredDimension]="",t||n._noNeighbourValidation||n._validateNeighbourSizeLimits(a)}i||n._validateItemSize(!0)}}}},{key:"_styleChangedEventHandler",value:function(e){var t=this;if(!t.locked){if(t._sizeLimits.ignoreUpdate)return void delete t._sizeLimits.ignoreUpdate;if(!t.collapsed){var i=t.closest("jqx-splitter"),a=void 0;e.detail.styleProperties["min-width"]?(a=e.detail.styleProperties["min-width"][i&&"horizontal"===i.orientation?"oldValue":"value"],t._sizeLimits.minWidth=(parseFloat(a)||0)*(a&&a.indexOf("%")>-1?i[i._measurements.size]/100:1)):e.detail.styleProperties["max-width"]?(a=e.detail.styleProperties["max-width"][i&&"horizontal"===i.orientation?"oldValue":"value"],t._sizeLimits.maxWidth=(parseFloat(a)||0)*(a&&a.indexOf("%")>-1?i[i._measurements.size]/100:1)):e.detail.styleProperties["min-height"]?(a=e.detail.styleProperties["min-height"][i&&"horizontal"===i.orientation?"value":"oldValue"],t._sizeLimits.minHeight=(parseFloat(a)||0)*(a&&a.indexOf("%")>-1?i[i._measurements.size]/100:1)):e.detail.styleProperties["max-height"]&&(a=e.detail.styleProperties["max-height"][i&&"horizontal"===i.orientation?"value":"oldValue"],t._sizeLimits.maxHeight=(parseFloat(a)||0)*(a&&a.indexOf("%")>-1?i[i._measurements.size]/100:1))}}}},{key:"_transitionEndHandler",value:function(){var e=this;if((e.isCompleted||!e.$.hasClass("animate"))&&(e.$.removeClass("animate"),e._neighbourItem&&e._neighbourItem.$.hasClass("animate")&&e._neighbourItem.$.removeClass("animate"),(e.size+"").indexOf("%")>-1||e._neighbourItem&&(e._neighbourItem.size+"").indexOf("%")>-1)){((e.getRootNode()?e.getRootNode().host:null)||e.closest("jqx-splitter"))._validateItemSize()}}},{key:"_updateNearSplitterBars",value:function(){var e=this;e.previousElementSibling instanceof JQX.SplitterBar&&(e.previousElementSibling.showFarButton=e.collapsible),e.nextElementSibling instanceof JQX.SplitterBar&&(e.nextElementSibling.showNearButton=e.collapsible)}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"},max:{value:"",type:"any",validator:"_propertyValidator"},min:{value:"",type:"any",validator:"_propertyValidator"},size:{value:"",type:"any",validator:"_propertyValidator"}}}},{key:"listeners",get:function(){return{mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",styleChanged:"_styleChangedEventHandler"}}}]),t}(JQX.ContentElement)),JQX("jqx-splitter-bar",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" >\n                    <div class="jqx-splitter-far-collapse-button" id="farCollapseButton">\n                        <span id="arrowNear" class="jqx-arrow"></span>\n                    </div>\n                    <div class="jqx-splitter-resize-button" id="resizeButton">\n                        <span></span>\n                    </div>\n                    <div class="jqx-splitter-near-collapse-button" id="nearCollapseButton">\n                        <span id="arrowFar" class="jqx-arrow"></span>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"unfocusable":n._setFocusable();break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this._setFocusable()}},{key:"hide",value:function(){var e=this,t=e.closest("jqx-splitter");if(e.$.addClass("jqx-hidden"),t){var i=t.items;if(t.hasAnimation){for(var a=void 0,n=0;n<i.length;n++)i[n].$.hasClass("animate")&&(a=!0,i[n].addEventListener("transitionend",function(){e.closest("jqx-splitter")._autoFitItems()},{once:!0}));if(a)return}t._autoFitItems()}}},{key:"show",value:function(){var e=this,t=e.closest("jqx-splitter");if(e.$.removeClass("jqx-hidden"),t){var i=t.items;if(t.hasAnimation){for(var a=void 0,n=0;n<i.length;n++)i[n].$.hasClass("animate")&&(a=!0,i[n].addEventListener("transitionend",function(){e.closest("jqx-splitter")._autoFitItems()},{once:!0}));if(a)return}t._autoFitItems()}}},{key:"lock",value:function(){var e=this;e.locked=e.unfocusable=!0,e.showNearButton||e.showFarButton||e._setFocusable()}},{key:"unlock",value:function(){var e=this;e.locked=e.unfocusable=!1,e._setFocusable()}},{key:"_focusEventHandler",value:function(e){var t=this,i=(t.getRootNode()?t.getRootNode().host:null)||t.closest("jqx-splitter");i&&!i.disabled&&("focus"===e.type?this.setAttribute("focus",""):this.removeAttribute("focus"))}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");e.tabIndex=e.tabIndex>0?e.tabIndex:0}},{key:"_handleHoveredState",value:function(e,t){var i=this;switch(t){case"mouseenter":if(!e._getTargetItem(i,"previousElementSibling")||!("adjacent"===e.resizeMode?e._getTargetItem(i,"nextElementSibling"):e._getTargetItem(i,"previousElementSibling",!0)))return;i.setAttribute("hover","");break;case"mouseleave":i.removeAttribute("hover")}}},{key:"_mouseEventsHandler",value:function(e){var t=this,i=(t.getRootNode()?t.getRootNode().host:null)||t.closest("jqx-splitter");if(!(i&&i.disabled||JQX.Utilities.Core.isMobile))return"mouseenter"===e.type||"mouseleave"===e.type?void t._handleHoveredState(i,e.type):e.target.closest(".jqx-splitter-far-collapse-button")===t.$.farCollapseButton?void("mouseover"===e.type?t.$.farCollapseButton.setAttribute("hover",""):t.$.farCollapseButton.removeAttribute("hover")):e.target.closest(".jqx-splitter-near-collapse-button")===t.$.nearCollapseButton?void("mouseover"===e.type?t.$.nearCollapseButton.setAttribute("hover",""):t.$.nearCollapseButton.removeAttribute("hover")):void(e.target.closest(".jqx-splitter-resize-button")===t.$.resizeButton&&("mouseover"===e.type?t.$.resizeButton.setAttribute("hover",""):t.$.resizeButton.removeAttribute("hover")))}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{showNearButton:{value:!1,type:"boolean"},showFarButton:{value:!1,type:"boolean"},itemCollapsed:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"}}}},{key:"listeners",get:function(){return{mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",mouseover:"_mouseEventsHandler",mouseout:"_mouseEventsHandler",focus:"_focusEventHandler",blur:"_focusEventHandler"}}}]),t}(JQX.BaseElement)),JQX("jqx-splitter",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <content></content>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"dataSource":n._createLayout();break;case"resizeMode":delete n._dragDetails;break;case"orientation":n._setMeasurements(),n.setAttribute("orientation-change","");for(var o=0;o<n._items.length;o++)n._items[o].style[n._measurements.dimension]=n._items[o]["offset"+n._measurements.restricredDimension]+"px",n._items[o].style[n._measurements.restricredDimension.toLowerCase()]="100%",n._items[o].style["max"+n._measurements.restricredDimension]="none",n._items[o].style["min"+n._measurements.restricredDimension]="none",n._items[o].style[n._measurements.maxDimension]=n._items[o].max?n._items[o]._sizeLimits[n._measurements.maxDimension]+"px":"",n._items[o].collapsed?(n._items[o].style.minWidth=n._items[o].style.minHeight="",n._items[o].style[n._measurements.minDimension]="0"):n._items[o].style[n._measurements.minDimension]=n._items[o].min?n._items[o]._sizeLimits[n._measurements.minDimension]+"px":"";n._validateItemSize(),n.removeAttribute("orientation-change");break;case"unfocusable":n._setFocusable();break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!(e&&e instanceof JQX.SplitterItem))return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}));t.insertBefore(e,null)}},{key:"attached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this);var e=this;e.isCompleted&&e._validateItemSize()}},{key:"collapse",value:function(e,t){var i=this;if("number"==typeof e&&(e=i._items[e]),e){var a=(i.enableShadowDOM?e.getRootNode().host:e).closest("jqx-splitter");return e instanceof JQX.SplitterItem&&a===i?void e.collapse(t):"number"==typeof e&&i._items[e]?void e.collapse(t):void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"collapse"}))}}},{key:"expand",value:function(e){var t=this;if("number"==typeof e&&(e=t._items[e]),e){var i=(t.enableShadowDOM?e.getRootNode().host:e).closest("jqx-splitter");return e instanceof JQX.SplitterItem&&i===t?void e.expand():"number"==typeof e&&t._items[e]?void e.expand():void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"expand"}))}}},{key:"hideBar",value:function(e){var t=this;if("number"==typeof e&&(e=t.bars[e]),!(e instanceof JQX.SplitterBar))return void t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"hideBar"}));e instanceof JQX.SplitterBar&&(t.enableShadowDOM?e.getRootNode().host:e.closest("jqx-splitter"))===t&&e.hide()}},{key:"insert",value:function(e,t){var i=this;if("string"==typeof t&&(t={content:t}),!t||"object"!==(void 0===t?"undefined":babelHelpers.typeof(t)))return void i.error(i.localize("invalidSettings",{elementType:i.nodeName.toLowerCase(),method:"insert"}));if("number"!=typeof e)return void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"insert"}));var a=t instanceof JQX.SplitterItem?t:i._createItem(t);e>=i._items.length||0===i._items.length?i.appendChild(a):i.insertBefore(a,i._items[e])}},{key:"insertBefore",value:function(e,t){function i(){
var i=function(){for(var t=e.previousElementSibling;t;){if(t instanceof JQX.SplitterItem)return t;t=t.previousElementSibling}}(),n=i?i.locked:void 0;i&&(i.locked=!1),a._resizeHostItemOnInsert(i,e,s),a._items&&a._items.splice(t?a._items.indexOf(t):a._items.length,0,e),i&&(i.max&&i._setSize("max",i.max,!0),i.min&&i._setSize("min",i.min,!0),n&&(i.locked=!0)),a._validateItemSize()}var a=this;if(!a.isCompleted){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(a,n.concat(Array.prototype.slice.call(arguments)))}if(!(e&&e instanceof JQX.SplitterItem))return void a.error(a.localize("invalidNode",{elementType:a.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}));if(t&&!(t instanceof JQX.SplitterItem))return void a.error(a.localize("invalidNode",{elementType:a.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}));if(e.style[a._measurements.restricredDimension.toLowerCase()]="100%",e.size){var o="string"==typeof e.size&&e.size.indexOf("%")>-1?"%":"px";e.style[a._measurements.dimension]="auto"===e.size?e.size:isNaN(parseFloat(e.size))?"":parseFloat(e.size)+o,1===a._items.length&&(a._items[0].size="")}else e.style[a._measurements.dimension]="";if(e._sizeBeforeCollapse)if(e.size){var r="string"==typeof e.size&&e.size.indexOf("%")>-1?"%":"px";e.style[a._measurements.dimension]="auto"===e.size?e.size:isNaN(parseFloat(e.size))?0:parseFloat(e.size)+r,e._sizeBeforeCollapse=e[a._measurements.size]}else delete e._sizeBeforeCollapse;e.style["max"+a._measurements.restricredDimension]="none",e.style[a._measurements.maxDimension]=e._sizeLimits&&e.max?e._sizeLimits[a._measurements.maxDimension]+"px":"",e.collapsed?(e.style.minWidth=e.style.minHeight="",e.style[a._measurements.minDimension]=e.style[a._measurements.dimension]="0"):e.style[a._measurements.minDimension]=e._sizeLimits&&e.min?e._sizeLimits[a._measurements.minDimension]+"px":"";for(var l=0;l<a._items.length;l++)a._items[l]._sizeBeforeCollapse||(a._items[l]._sizeBeforeCollapse=a._items[l][a._measurements.size]);a.$.container.insertBefore(e,t||null);var s=void 0,d=a.bars;e.previousElementSibling instanceof JQX.SplitterItem?(s=a._createBar(e,e.previousElementSibling),a.$.container.insertBefore(s,e)):e.nextElementSibling instanceof JQX.SplitterItem&&(s=a._createBar(e,e.nextElementSibling),a.$.container.insertBefore(s,e.nextElementSibling)),s&&d.length>0&&(s.style[a._measurements.restricredDimension.toLowerCase()]=d[0].style[a._measurements.restricredDimension.toLowerCase()]),e.isCompleted?i():(e.__onCompleted=e._onCompleted,e._onCompleted=function(){e.__onCompleted&&(e.__onCompleted(),delete e.__onCompleted),i()})}},{key:"lockItem",value:function(e){var t=this;return e instanceof JQX.SplitterItem?void e.lock():"number"==typeof e&&t._items[e]?void((e=t._items[e])&&e.lock()):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"lockItem"}))}},{key:"lockBar",value:function(e){var t=this;return e instanceof JQX.SplitterBar?void e.lock():"number"!=typeof e?void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"lockBar"})):void((e=t.bars[e])&&e.lock())}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._isInitializing=!0,e._createLayout(),e._setFocusable(),delete e._isInitializing}},{key:"refresh",value:function(){this._resizeEventHandler()}},{key:"remove",value:function(e){var t=this;return e instanceof JQX.SplitterItem&&e.closest("jqx-splitter")===t?void t.removeChild(e):"number"!=typeof e?void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"remove"})):e>t._items.length||e<0?void t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"remove"})):void t.removeChild(t._items[e])}},{key:"removeAll",value:function(){var e=this;e._items=[],e.$.container.innerHTML=""}},{key:"removeChild",value:function(e){function t(e,t,a){for(var n=e,o=i._items[n];o&&o.collapsed;)o=i._items[n+=a];return o}var i=this;if(!i.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(i,a.concat(Array.prototype.slice.call(arguments)))}if(!(e&&e instanceof JQX.SplitterItem))return void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"removeChild",node:"node"}));if(i._items){var n=i._items.indexOf(e);e.collapsed?i.$.container.removeChild(i._items.indexOf(e._neighbourItem)>n?e.nextElementSibling:e.previousElementSibling):e.previousElementSibling instanceof JQX.SplitterBar?i.$.container.removeChild(e.previousElementSibling):e.nextElementSibling instanceof JQX.SplitterBar&&i.$.container.removeChild(e.nextElementSibling),i._items.splice(n,1),n=Math.max(0,n-1);var o=0,r=i._items.filter(function(e){return!e.collapsed&&!e.locked}),l=e._sizeBeforeCollapse||e[i._measurements.size];if(r.map(function(e){return o+=(e.style[i._measurements.dimension]?e._sizeBeforeCollapse:0)||e[i._measurements.size]}),i.$.content.removeChild(e),1===i._items.length&&i._items[0].collapsed||i._items.length>0&&i._items.map(function(e){return e.collapsed}).indexOf(!1)<0){var s=i._items[i._items.length-1],d=s.context;s.context=s,s._expand(),s.context=d}for(var u=0;u<i._items.length;u++)if(i._items[u].collapsed&&i._items[u]._neighbourItem===e){var c=void 0,p=void 0;i._items[u]._neighbourItem=t(n,i._items[u],1),i._items[u]._neighbourItem?(c=i._items[u].nextElementSibling)&&(p=c.context,c.context=c,c.itemCollapsed=!0,c.showNearButton=!(c.showFarButton=!1),c.context=p):(i._items[u]._neighbourItem=t(n,i._items[u],-1),(c=i._items[u].previousElementSibling)&&(p=c.context,c.context=c,c.itemCollapsed=!0,c.showFarButton=!(c.showNearButton=!1),c.context=p))}if("proportional"===i.autoFitMode)for(var m=void 0,v=void 0,h=void 0,f=0;f<r.length;f++)m=r[f]._sizeBeforeCollapse||r[f][i._measurements.size],v=m+l*(m/o),h=r[f]._sizeLimits[i._measurements.minDimension]||0,r[f].style[i._measurements.dimension]=(r[f]._sizeBeforeCollapse=Math.max(0,v))+"px",h>m&&(r[f][i._measurements.minDimension]=v+"px");i._autoFitItems()}}},{key:"showBar",value:function(e){var t=this;return e instanceof JQX.SplitterBar?void e.show():"number"!=typeof e?void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"showBar"})):(e=t.bars[e])instanceof JQX.SplitterBar?void e.show():void t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"showBar"}))}},{key:"unlockItem",value:function(e){var t=this;return e instanceof JQX.SplitterItem?void e.unlock():"number"==typeof e&&t._items[e]?void((e=t._items[e])&&e.unlock()):void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"unlockItem"}))}},{key:"unlockBar",value:function(e){var t=this;return e instanceof JQX.SplitterBar?void e.unlock():"number"!=typeof e?void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"unlockBar"})):void((e=t.bars[e])&&e.unlock())}},{key:"update",value:function(e,t){var i=this;if("number"==typeof e&&!(e=i._items[e]))return void i.error(i.localize("invalidIndex",{elementType:i.nodeName.toLowerCase(),method:"update"}));if(e instanceof JQX.SplitterItem&&t&&(i.enableShadowDOM?e.getRootNode().host:i.closest("jqx-splitter"))===i)for(var a in t)void 0!==e[a]&&(e[a]=t[a])}},{key:"_autoFitItems",value:function(){var e=this,t=e._items.length;if(0!==t&&"overflow"!==e.autoFitMode){for(var i=void 0,a=[],n=[],o=[],r=t-1;r>=0;r--)e._items[r].collapsed?n.push(e._items[r]):e._items[r].locked?a.push(e._items[r]):i?e._items[r].size||o.push(e._items[r]):i=e._items[r];i&&i.size&&o.length>0&&(i=o.filter(function(t){return!t.max&&!t._sizeLimits[e._measurements.maxDimension]})[0]||i),n.length===t&&(i=n[0],i.expand(),i.unlock()),e._autoFitLastItem(i,n,a)}}},{key:"_autoFitLastItem",value:function(e,t,i){var a=this,n=a._items.length,o=void 0;1===n&&a._items[0].locked&&(o=a._items[0],o.locked=!1),i.length===n&&i[0].unlock(),e||(e=i[0],e.unlock());var r=0,l=0;a._items.map(function(e){return r+=e.collapsed?0:e.style[a._measurements.dimension]&&e.style[a._measurements.dimension].indexOf("%")<-1&&e._sizeBeforeCollapse?e._sizeBeforeCollapse:e.getBoundingClientRect()[a._measurements.dimension]}),a.bars.map(function(e){return l+=e[a._measurements.size]});var s=r+l,d=a.$.container.getBoundingClientRect()[a._measurements.dimension];if(s!==d){var u=void 0;u=e.style[a._measurements.dimension].indexOf("%")<-1&&e._sizeBeforeCollapse?e._sizeBeforeCollapse:e.getBoundingClientRect()[a._measurements.dimension];var c=Math.abs(d-s),p=s<d?1:-1;e.style[a._measurements.dimension]=(e._sizeBeforeCollapse=Math.max(0,u+p*c))+"px",e._sizeLimits[a._measurements.maxDimension]&&e._sizeBeforeCollapse>e._sizeLimits[a._measurements.maxDimension]&&(e.style[a._measurements.maxDimension]=(e._sizeLimits[a._measurements.maxDimension]=e._sizeBeforeCollapse)+"px")}o&&(o.locked=!0)}},{key:"_autoFitItemsProportionally",value:function(e,t){var i=this,a=i._items.filter(function(e){return!e.collapsed}),n=e[i._measurements.size],o=0;a.map(function(e){return o+=e._sizeBeforeCollapse||e[i._measurements.size]}),t&&(o-=t[i._measurements.size]),e.size&&!e.isCompleted&&(e._setSize("size",n),n=e._sizeBeforeCollapse),n=Math.min(i.$.container[i._measurements.size]/2,e[i._measurements.size]),e.style[i._measurements.dimension]=n+"px";for(var r=void 0,l=void 0,s=void 0,d=0;d<a.length;d++)r=a[d]._sizeBeforeCollapse||a[d][i._measurements.size],l=r/o*(o-n),s=a[d]._sizeLimits[i._measurements.minDimension]||0,a[d].style[i._measurements.dimension]=(a[d]._sizeBeforeCollapse=Math.max(s,l))+"px"}},{key:"_createLayout",value:function(){var e=this;if(e._items=[],"string"==typeof e.dataSource&&(e.dataSource=JSON.parse(e.dataSource)),null!==e.dataSource&&Array.isArray(e.dataSource)){e.$.container.innerHTML="";for(var t=document.createDocumentFragment(),i=void 0,a=0;a<e.dataSource.length;a++)i=e._createItem(e.dataSource[a]),t.appendChild(i);return void e._handleSplitterBars(t)}e._handleSplitterBars(e.$.container)}},{key:"_createBar",value:function(e,t){var i=this,a=document.createElement("jqx-splitter-bar");return e.collapsed?(a.itemCollapsed=!0,i._items.indexOf(e)===i._items.length-1?a.showNearButton=!0:a.showFarButton=!0):(e.collapsible&&(a.showNearButton=!0),t&&t instanceof JQX.SplitterItem&&t.collapsible&&(t===e.nextElementSibling?a.showFarButton=!0:a.showNearButton=!0)),a}},{key:"_createItem",value:function(e){var t=document.createElement("jqx-splitter-item");return e.id&&(t.id=e.id),t.innerHTML=e.content||"",t.collapsible=e.collapsible||!1,t.collapsed=e.collapsed||!1,t.locked=e.locked||!1,e.max&&(t.max=e.max),e.min&&(t.min=e.min),e.size&&(t.size=e.size),t}},{key:"_completeResizing",value:function(e){var t=this;if(t._dragDetails){if(t._splitBarDummy&&t._splitBarDummy.parentElement){if(!e)if(t._dragDetails.firstItem.style[t._measurements.dimension]=(t._dragDetails.firstItem._sizeBeforeCollapse=t._dragDetails.firstItem.currentSize+t._dragDetails.firstItem._paddings)+"px",delete t._dragDetails.firstItem._originalSize,"proportional"!==t.resizeMode)t._dragDetails.secondItem.style[t._measurements.dimension]=(t._dragDetails.secondItem._sizeBeforeCollapse=t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize+t._dragDetails.secondItem._paddings)+"px",delete t._dragDetails.secondItem._originalSize;else{var i=t._dragDetails.itemProportions.length;if(i>1)for(var a=0;a<i;a++)t._dragDetails.itemProportions[a].item.style[t._measurements.dimension]=(t._dragDetails.itemProportions[a].item._sizeBeforeCollapse=t._dragDetails.itemProportions[a].currentSize+t._dragDetails.itemProportions[a].item._paddings)+"px",delete t._dragDetails.itemProportions[a]._originalSize;else t._dragDetails.secondItem[0].style[t._measurements.dimension]=(t._dragDetails.secondItem[0]._sizeBeforeCollapse=Math.floor(t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize+t._dragDetails.firstItem._paddings))+"px",delete t._dragDetails.secondItem[0]._originalSize}t.$.fireEvent("resizeEnd",{firstItem:{index:t._items.indexOf(t._dragDetails.firstItem),oldSize:t._dragDetails.firstItem.originalSize,newSize:t._dragDetails.firstItem[t._measurements.size]},secondItem:Array.isArray(t._dragDetails.secondItem)?{index:t._dragDetails.secondItem.map(function(e){return t._items.indexOf(e)}),oldSize:t._dragDetails.secondItem.map(function(e){return e.originalSize}),newSize:t._dragDetails.secondItem.map(function(e){return e[t._measurements.size]})}:{index:t._items.indexOf(t._dragDetails.secondItem),oldSize:t._dragDetails.secondItem.originalSize,newSize:t._dragDetails.secondItem[t._measurements.size]}}),t._splitBarDummy.classList.remove("limit-reached"),t._splitBarDummy.parentElement.removeChild(t._splitBarDummy)}t.removeAttribute("dragged"),delete t._dragDetails,delete t._keyboardResizing}}},{key:"_dragStartHandler",value:function(e){this._dragDetails&&e.preventDefault()}},{key:"_downHandler",value:function(e){var t=this;if(e.stopPropagation(),!t.disabled){if(t._keyboardResizing)return void t._completeResizing();var i=void 0,a=void 0;t.enableShadowDOM?(i=e.originalEvent.composedPath()[0],a=i.getRootNode().host):(i=e.originalEvent.target,a=i.closest("jqx-splitter"));var n=i&&i.closest?i.closest("jqx-splitter-bar"):null;if(n&&a===t){if(i.closest(".jqx-splitter-near-collapse-button")===n.$.nearCollapseButton)return void(t._collapseButtonPressed={splitBar:n,item:n.previousElementSibling,target:n.$.nearCollapseButton,farCollapse:!1});if(i.closest(".jqx-splitter-far-collapse-button")===n.$.farCollapseButton)return void(t._collapseButtonPressed={splitBar:n,item:n.nextElementSibling,target:n.$.farCollapseButton,farCollapse:!0});n.itemCollapsed||n.locked||"none"===t.resizeMode||t._setDragDetails(n,e)}}}},{key:"_moveHandler",value:function(){this.hasAttribute("dragged")&&JQX.Utilities.Core.isMobile&&event.originalEvent.preventDefault()}},{key:"_documentMoveHandler",value:function(e){var t=this;t._keyboardResizing||t._resize(e)}},{key:"_documentUpHandler",value:function(e){var t=this;if(t.removeAttribute("dragging-not-allowed"),t.removeAttribute("show-locked-items"),t.disabled)return delete t._dragDetails,void delete t._collapseButtonPressed;var i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;return t._completeResizing(),t._collapseButtonPressed&&i.closest("."+t._collapseButtonPressed.target.classList[0])===t._collapseButtonPressed.target?(t._collapseButtonPressed.item.collapsed?t.expand(t._collapseButtonPressed.item):t.collapse(t._collapseButtonPressed.item,t._collapseButtonPressed.farCollapse),void delete t._collapseButtonPressed):void 0}},{key:"_ensureItemsReady",value:function(e,t){var i=this,a=function(){var i=function(t){for(var i=0;i<e.length;i++)e[i].context="node"===t?e[i]:document};i("node"),t(),i()};if(0===e.length)a();else{i._nodesReadyListeners=0;for(var n=0;n<e.length;n++){var o=e[n],r=function(){0===--i._nodesReadyListeners&&(a(),delete i._nodesReadyListeners)}.bind(i);o.isCompleted||(i._nodesReadyListeners++,o._onCompleted=r)}0===i._nodesReadyListeners&&a()}}},{key:"_focusHandler",value:function(e){var t=this;"focus"===e.type?t.setAttribute("focus",""):t.removeAttribute("focus")}},{key:"_getTargetItem",value:function(e,t,i){for(var a=this,n=i?a._items[a._items.length-1]:e[t];n;){if(n instanceof JQX.SplitterItem&&!n.collapsed){if(!n.locked)return n;a._dragDetails&&!a._dragDetails.firstItem&&(a._dragDetails.lockedItemsSize+=n[a._measurements.size]+(n.previousElementSibling instanceof JQX.SplitterBar?n.previousElementSibling[a._measurements.size]:0))}n=n[t]}}},{key:"_handleSplitterBars",value:function(e){var t=this;if(t._items.length<1&&(t._items=e.parentElement?t.items:Array.from(e.children)),t._measurements||t._setMeasurements(),t._items.length<2)for(var i=t.bars,a=0;a<i.length;a++)e.removeChild(i[a]);e.parentElement||e===t.$.container||t.$.container.appendChild(e);for(var n=0;n<t._items.length;n++){t._items[n].style[t._measurements.restricredDimension.toLowerCase()]="100%",t._items[n].style["max"+t._measurements.restricredDimension]="none",t._items[n].size||(t._items[n].style[t._measurements.dimension]=t._items[n]._sizeBeforeCollapse?t._items[n]._sizeBeforeCollapse+"px":"");var o=t._items[n].min,r=t._items[n].max;if("string"==typeof o&&o.indexOf("%")>-1&&t._items[n]._setSize("min",o),"string"==typeof r&&r.indexOf("%")>-1&&t._items[n]._setSize("max",r),t._items[n].style[t._measurements.maxDimension]=t._items[n].max?t._items[n]._sizeLimits[t._measurements.maxDimension]+"px":"",t._items[n].nextElementSibling){var l=t._items[n].nextElementSibling;l instanceof JQX.SplitterItem||"jqx-splitter-item"===l.tagName.toLowerCase()?t._items[n].parentNode.insertBefore(t._createBar(t._items[n],t._items[n].nextElementSibling),t._items[n].nextElementSibling):t._items[n].parentNode.removeChild(t._items[n].nextElementSibling)}if(t._items[n].collapsed){var s=t._items[n].collapsible;t._items[n].style.minWidth=t._items[n].style.minHeight="",t._items[n].style[t._measurements.minDimension]="0",t._items[n]._ignorePropertyValue=!0,t._items[n].collapsible=!0,t._items[n].collapse(),t._items[n].collapsible=s}else t._items[n].style[t._measurements.minDimension]=t._items[n]._sizeLimits&&t._items[n].min?t._items[n]._sizeLimits[t._measurements.minDimension]+"px":""}t._ensureItemsReady(t._items,t._validateItemSize.bind(t))}},{key:"_keyDownHandler",value:function(e){var t=this;if(!t.disabled){var i=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if("w"===e.key&&e.altKey){e.preventDefault();var a=t.enableShadowDOM?t.shadowRoot.querySelector("jqx-splitter-bar"):t.querySelector("jqx-splitter-bar");return i!==a&&t._completeResizing(!0),void a.focus()}if(!e.ctrlKey&&t._splitBarDummy&&t._splitBarDummy.parentElement)i=t._splitBarDummy;else if(!(i instanceof JQX.SplitterBar))return;if((t.enableShadowDOM?i.getRootNode().host:i.closest("jqx-splitter"))===t)switch(e.key){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(("ArrowUp"===e.key||"ArrowDown"===e.key)&&"vertical"===t.orientation)return;if(("ArrowLeft"===e.key||"ArrowRight"===e.key)&&"horizontal"===t.orientation)return;e.preventDefault();var n="ArrowLeft"===e.key||"ArrowUp"===e.key?-1:1;if(e.ctrlKey){t._completeResizing(!0);var o=void 0,r=void 0;return n<0?(r=i.previousElementSibling,o=i.nextElementSibling):(o=i.previousElementSibling,r=i.nextElementSibling),void(o.collapsed?o.expand():r.collapse(n>0))}if(i.locked)return;if("none"===t.resizeMode)return;t._keyboardResizing=!0;var l=void 0;t._dragDetails?l=t._dragDetails.position+n*t.resizeStep:(t._setDragDetails(i),l=i[t._measurements.offset]+n*t.resizeStep),t._resize({pageX:l,pageY:l});break;case"Enter":t._completeResizing();break;case"Escape":case"Tab":t._completeResizing(!0)}}}},{key:"_mouseEventsHandler",value:function(e){"mouseenter"!==e.type||JQX.Utilities.Core.isMobile?this.removeAttribute("hover"):this.setAttribute("hover","")}},{key:"_recalcItemSize",value:function(e,t,i){var a=this,n=void 0,o=void 0;if(i||(i=t),e>0)for(var r=0;r<t;r++)o=a._dragDetails.itemProportions[r].item._sizeLimits[a._measurements.minDimension],a._dragDetails.itemProportions[r].currentSize>o&&(n=a._dragDetails.itemProportions[r].currentSize-o<e/i?a._dragDetails.itemProportions[r].currentSize-o:e/i,e-=n,a._dragDetails.itemProportions[r].currentSize=Math.max(o,a._dragDetails.itemProportions[r].currentSize-n),delete a._dragDetails.itemProportions[r]._originalSize),i=Math.max(1,i-1);else for(var l=a._dragDetails.splitAreaSize-a._dragDetails.firstItem.currentSize-(t>1?a._dragDetails.secondItemTotalMinSize-a._dragDetails.itemProportions[0].item._sizeLimits[a._measurements.minDimension]:0),s=void 0,d=0;d<t;d++)s=a._dragDetails.itemProportions[d].item._sizeLimits[a._measurements.maxDimension]?Math.min(a._dragDetails.itemProportions[d].item._sizeLimits[a._measurements.maxDimension],l):l,a._dragDetails.itemProportions[d].currentSize<s&&(n=a._dragDetails.itemProportions[d].currentSize-e/i>s?-1*(s-a._dragDetails.itemProportions[d].currentSize):e/i,e-=n,a._dragDetails.itemProportions[d].currentSize=Math.min(s,a._dragDetails.itemProportions[d].currentSize-n),delete a._dragDetails.itemProportions[d]._originalSize),i=Math.max(1,i-1);Math.abs(e)>.1&&a._recalcItemSize(e,t,i)}},{key:"_resize",value:function(e){var t=this;if(t._dragDetails){var i=e[t._measurements.pagePosition]-t._dragDetails.position,a=void 0,n=Math.sign(i),o=t._dragDetails.firstItem._sizeLimits[t._measurements.minDimension],r=t._dragDetails.firstItem._sizeLimits[t._measurements.maxDimension],l=void 0,s=void 0;if(t.hasAttribute("dragged")||t.$.fireEvent("resizeStart",{firstItem:{index:t._items.indexOf(t._dragDetails.firstItem),size:t._dragDetails.firstItem[t._measurements.size]},secondItem:Array.isArray(t._dragDetails.secondItem)?{index:t._dragDetails.secondItem.map(function(e){return t._items.indexOf(e)}),size:t._dragDetails.secondItem.map(function(e){return e[t._measurements.size]})}:{index:t._items.indexOf(t._dragDetails.secondItem),size:t._dragDetails.secondItem[t._measurements.size]}}),t.setAttribute("dragged",""),!(Math.abs(i)<t.resizeStep)){var d=Math.max(t.resizeStep,Math.floor(Math.abs(i)/t.resizeStep)*t.resizeStep),u=i-n*d;switch(t.resizeMode){case"adjacent":case"end":for(n>0?(l=t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize,s=function(){return l-t._dragDetails.secondItemTotalMinSize>=d||r&&t._dragDetails.firstItem.currentSize+t.resizeStep<=r},a=function(){return r&&t._dragDetails.firstItem.currentSize===r||l-t.resizeStep<=t._dragDetails.secondItemTotalMinSize}):(l=t._dragDetails.firstItem.currentSize,s=function(){return l-o>=d||t._dragDetails.secondItemTotalMaxSize&&t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize+t.resizeStep<=t._dragDetails.secondItemTotalMaxSize},a=function(){return t._dragDetails.secondItemTotalMaxSize&&t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize===t._dragDetails.secondItemTotalMaxSize||l-t.resizeStep<=o}),i=0;d>0;)s()&&(i+=n*t.resizeStep),d-=t.resizeStep;t._resizeItem(e,i,u);break;case"proportional":var c=t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize;n>0?(l=Math.abs(c-t._dragDetails.secondItemTotalMinSize),s=function(){return l>=d||r&&t._dragDetails.firstItem.currentSize+t.resizeStep<=r},a=function(){return r&&t._dragDetails.firstItem.currentSize===r||t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize-t.resizeStep<t._dragDetails.secondItemTotalMinSize}):(l=t._dragDetails.firstItem.currentSize,s=function(){return l-o>=d&&(!t._dragDetails.secondItemTotalMaxSize||t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize+t.resizeStep<=t._dragDetails.secondItemTotalMaxSize)},a=function(){return t._dragDetails.secondItemTotalMaxSize&&t._dragDetails.splitAreaSize+t.resizeStep-t._dragDetails.firstItem.currentSize>=t._dragDetails.secondItemTotalMaxSize||t._dragDetails.firstItem.currentSize-t.resizeStep<o});for(var p=void 0,m=void 0;d>0;)s()&&(m=!0,p=Math.min(r?Math.min(r,t._dragDetails.splitAreaSize-t._dragDetails.secondItemTotalMinSize):t._dragDetails.splitAreaSize-t._dragDetails.secondItemTotalMinSize,Math.max(o,t._dragDetails.firstItem.currentSize+n*t.resizeStep)),t._dragDetails.firstItem.currentSize=t._dragDetails.firstItem._sizeBeforeCollapse=Math.floor(p)),d-=t.resizeStep;if(!m)break;var v=t._dragDetails.splitAreaSize-t._dragDetails.firstItem.currentSize,h=t._dragDetails.itemProportions.length;if(t._recalcItemSize(c-v,h),t.liveResize)if(t._dragDetails.firstItem.style[t._measurements.dimension]=t._dragDetails.firstItem.currentSize+t._dragDetails.firstItem._paddings+"px",h>1)for(var f=0;f<h;f++)t._dragDetails.itemProportions[f].item.style[t._measurements.dimension]=t._dragDetails.itemProportions[f].item._sizeBeforeCollapse=t._dragDetails.itemProportions[f].currentSize+t._dragDetails.itemProportions[f].item._paddings+"px";else t._dragDetails.secondItem[0].style[t._measurements.dimension]=(t._dragDetails.secondItem[0]._sizeBeforeCollapse=Math.floor(v+t._dragDetails.itemProportions[0].item._paddings))+"px";else t._splitBarDummy.style[t._measurements.position]=t._dragDetails.firstItem[t._measurements.offset]+t._dragDetails.firstItem.currentSize+t._dragDetails.lockedItemsSize+t._dragDetails.firstItem._paddings+"px";var g=t._dragDetails.firstItem.getBoundingClientRect()["vertical"===t.orientation?"left":"top"]+t._dragDetails.splitBarOffset,_=r&&t._dragDetails.splitAreaSize-r>t._dragDetails.secondItemTotalMinSize?r:t._dragDetails.splitAreaSize-t._dragDetails.secondItemTotalMinSize;t._dragDetails.position=Math.max(g+(t._dragDetails.secondItemTotalMaxSize?Math.max(t._dragDetails.splitAreaSize-t._dragDetails.secondItemTotalMaxSize,o):o)+t._dragDetails.lockedItemsSize+t._dragDetails.firstItem._paddings,Math.min(g+_+t._dragDetails.lockedItemsSize+t._dragDetails.firstItem._paddings,e[t._measurements.pagePosition]-u))}t.liveResize||(a()?t._splitBarDummy.classList.add("limit-reached"):t._splitBarDummy.classList.remove("limit-reached")),t._validateBarsSize()}}}},{key:"_resizeEventHandler",value:function(){var e=this;e._resizeEventFired=!0,e._validateItemSize(),e._resizeEventFired=!1}},{key:"_resizeHostItemOnInsert",value:function(e,t,i){var a=this;if("proportional"===a.autoFitMode)return void a._autoFitItemsProportionally(t,i);if(e&&!e.locked){if(t.size){e=function(){for(var e=t.previousElementSibling;e;){if(e instanceof JQX.SplitterItem&&!e.size)return e;e=e.previousElementSibling}}()||e}var n=e[a._measurements.size]-t[a._measurements.size]-i[a._measurements.size],o=Math.max(e._sizeLimits[a._measurements.minDimension],n);e.style[a._measurements.maxDimension]=e.max?isNaN(parseFloat(e.max))?"":parseFloat(e.max)+babelHelpers.typeof(e.max)==="string"&&e.max.indexOf("%")>-1?"%":"px":"";var r=e.style[a._measurements.maxDimension]?parseFloat(e.style[a._measurements.maxDimension]):0;t.size?e.style[a._measurements.dimension]=(e._sizeBeforeCollapse=r?Math.min(r,o):o)+"px":(e.style[a._measurements.dimension]=e.size?"auto"===e.size?e.size:isNaN(parseFloat(e.size))?0:parseFloat(e.size)+("string"==typeof e.size&&e.size.indexOf("%")>-1?"%":"px"):"",e._sizeBeforeCollapse=e[a._measurements.size])}}},{key:"_resizeItem",value:function(e,t,i){var a=this,n=Math.max(a._dragDetails.firstItem._sizeLimits[a._measurements.minDimension],Math.min(a._dragDetails.splitAreaSize-a._dragDetails.secondItem._sizeLimits[a._measurements.minDimension],a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension]?Math.min(a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension],a._dragDetails.firstItem.currentSize+t):a._dragDetails.firstItem.currentSize+t)),o=a._dragDetails.firstItem._sizeLimits[a._measurements.minDimension];a._dragDetails.secondItem._sizeLimits[a._measurements.maxDimension]&&a._dragDetails.splitAreaSize-n>a._dragDetails.secondItem._sizeLimits[a._measurements.maxDimension]&&(o=n=a._dragDetails.splitAreaSize-a._dragDetails.secondItem._sizeLimits[a._measurements.maxDimension]),a._dragDetails.firstItem.currentSize=n,a.liveResize?(a._dragDetails.firstItem.style[a._measurements.dimension]=(a._dragDetails.firstItem._sizeBeforeCollapse=n+a._dragDetails.firstItem._paddings)+"px",a._dragDetails.secondItem.style[a._measurements.dimension]=(a._dragDetails.secondItem._sizeBeforeCollapse=a._dragDetails.splitAreaSize-n+a._dragDetails.firstItem._paddings)+"px",delete a._dragDetails.firstItem._originalSize,delete a._dragDetails._originalSize):a._splitBarDummy.style[a._measurements.position]=a._dragDetails.firstItem[a._measurements.offset]+n+a._dragDetails.lockedItemsSize+a._dragDetails.firstItem._paddings+"px";var r=a._dragDetails.firstItem.getBoundingClientRect()["vertical"===a.orientation?"left":"top"]+a._dragDetails.splitBarOffset;a._dragDetails.position=Math.max(r+o+a._dragDetails.firstItem._paddings,Math.min(r+a._dragDetails.splitAreaSize-a._dragDetails.secondItem._sizeLimits[a._measurements.minDimension]+a._dragDetails.lockedItemsSize+a._dragDetails.firstItem._paddings,e[a._measurements.pagePosition]-i)),a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension]&&(a._dragDetails.position=Math.min(r+a._dragDetails.firstItem._sizeLimits[a._measurements.maxDimension],a._dragDetails.position))}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");e.tabIndex=e.tabIndex>0?e.tabIndex:0}},{key:"_setDragDetails",value:function(e,t){var i=this;if(i._dragDetails={},i._measurements||i._setMeasurements(),i._dragDetails.scrollAmount=e.parentElement[i._measurements.scroll],i._dragDetails.lockedItemsSize=0,i.setAttribute("show-locked-items",""),!(i._dragDetails.firstItem=i._getTargetItem(e,"previousElementSibling")))return delete i._dragDetails,void i.setAttribute("dragging-not-allowed","");i._dragDetails.firstItem.set("size",""),i._dragDetails.firstItem.currentSize=i._dragDetails.firstItem[i._measurements.size],i._dragDetails.firstItem.originalSize=i._dragDetails.firstItem.currentSize;var a=getComputedStyle(i._dragDetails.firstItem);if(i._dragDetails.firstItem._paddings=(parseFloat(a.getPropertyValue("padding-"+i._measurements.position))||0)+(parseFloat(a.getPropertyValue("padding-"+i._measurements.position2))||0),i._dragDetails.firstItem.currentSize<i._dragDetails.firstItem._sizeLimits[i._measurements.minDimension])return void delete i._dragDetails;if(i._dragDetails.firstItem.currentSize-=i._dragDetails.firstItem._paddings,i._dragDetails.splitAreaSize=0,i._dragDetails.secondItemTotalMaxSize=0,i._dragDetails.secondItemTotalMinSize=0,"proportional"===i.resizeMode){if(i._setProportionalDetails())return}else if(i._setAdjacentOrEndDetails(e))return;var n=void 0;t&&"object"===(void 0===t?"undefined":babelHelpers.typeof(t))?n=e.getBoundingClientRect()[i._measurements.position]:(t={pageX:e[i._measurements.offset],pageY:e[i._measurements.offset]},n=e[i._measurements.offset]),i._dragDetails.position=t[i._measurements.pagePosition],i._dragDetails.splitBarOffset=i._dragDetails.position-n,i.liveResize||(i._splitBarDummy||(i._splitBarDummy=document.createElement("div"),i._splitBarDummy.classList.add("jqx-splitter-bar-feedback")),i._splitBarDummy.style.width=e.offsetWidth+"px",i._splitBarDummy.style.height=e.offsetHeight+"px",i._splitBarDummy.style.top=e.offsetTop+"px",i._splitBarDummy.style.left=e.offsetLeft+"px",e.parentElement.appendChild(i._splitBarDummy))}},{key:"_setAdjacentOrEndDetails",value:function(e){var t=this;if(!(t._dragDetails.secondItem="adjacent"===t.resizeMode?t._getTargetItem(e,"nextElementSibling"):t._getTargetItem(e,"previousElementSibling",!0)))return delete t._dragDetails,t.setAttribute("dragging-not-allowed",""),!0;t._dragDetails.secondItem.set("size",""),t._dragDetails.secondItem.currentSize=t._dragDetails.secondItem[t._measurements.size],t._dragDetails.secondItem.originalSize=t._dragDetails.secondItem.currentSize;var i=getComputedStyle(t._dragDetails.secondItem);t._dragDetails.secondItem._paddings=(parseFloat(i.getPropertyValue("padding-"+t._measurements.position))||0)+(parseFloat(i.getPropertyValue("padding-"+t._measurements.position2))||0),t._dragDetails.secondItem.currentSize-=t._dragDetails.secondItem._paddings,t._dragDetails.splitAreaSize=t._dragDetails.firstItem.currentSize+t._dragDetails.secondItem.currentSize,t._dragDetails.secondItemTotalMaxSize=t._dragDetails.secondItem._sizeLimits[t._measurements.maxDimension],t._dragDetails.secondItemTotalMinSize=t._dragDetails.secondItem._sizeLimits[t._measurements.minDimension]}},{key:"_setMeasurements",value:function(){var e=this;e._measurements={},"horizontal"===e.orientation?(e._measurements.dimension="height",e._measurements.minDimension="minHeight",e._measurements.maxDimension="maxHeight",e._measurements.restricredDimension="Width",e._measurements.size="offsetHeight",e._measurements.offset="offsetTop",e._measurements.position="top",e._measurements.position2="bottom",
e._measurements.pagePosition="pageY",e._measurements.scroll="scrollTop"):(e._measurements.dimension="width",e._measurements.minDimension="minWidth",e._measurements.maxDimension="maxWidth",e._measurements.restricredDimension="Height",e._measurements.size="offsetWidth",e._measurements.offset="offsetLeft",e._measurements.position="left",e._measurements.position2="right",e._measurements.pagePosition="pageX",e._measurements.scroll="scrollLeft"),e._measurements.overflow=getComputedStyle(e).getPropertyValue("overflow")}},{key:"_setProportionalDetails",value:function(){var e=this;if(e._dragDetails.secondItem=e._items.slice(e._items.indexOf(e._dragDetails.firstItem)+1).filter(function(e){return!e.collapsed&&!e.locked}),0===e._dragDetails.secondItem.length)return delete e._dragDetails,!0;e._dragDetails.splitAreaSize+=e._dragDetails.firstItem.currentSize,e._dragDetails.itemProportions=[];for(var t=void 0,i=0;i<e._dragDetails.secondItem.length;i++){e._dragDetails.secondItem[i].set("size",""),e._dragDetails.secondItem[i].currentSize=e._dragDetails.secondItem[i][e._measurements.size],e._dragDetails.secondItem[i].originalSize=e._dragDetails.secondItem[i].currentSize;var a=getComputedStyle(e._dragDetails.secondItem[i]);e._dragDetails.secondItem[i]._paddings=(parseFloat(a.getPropertyValue("padding-"+e._measurements.position))||0)+(parseFloat(a.getPropertyValue("padding-"+e._measurements.position2))||0),e._dragDetails.secondItem[i].currentSize-=e._dragDetails.secondItem[i]._paddings,e._dragDetails.splitAreaSize+=e._dragDetails.secondItem[i].currentSize,e._dragDetails.itemProportions.push({item:e._dragDetails.secondItem[i],currentSize:e._dragDetails.secondItem[i].currentSize}),e._dragDetails.secondItem[i]._sizeLimits[e._measurements.maxDimension]||(t=!0),e._dragDetails.secondItemTotalMinSize+=e._dragDetails.secondItem[i]._sizeLimits[e._measurements.minDimension],e._dragDetails.secondItemTotalMaxSize+=e._dragDetails.secondItem[i]._sizeLimits[e._measurements.maxDimension]}t&&(e._dragDetails.secondItemTotalMaxSize=0)}},{key:"_validateBarsSize",value:function(){var e=this;if("100%"===(getComputedStyle(e).getPropertyValue("--jqx-splitter-bar-fit-size")+"").trim()){var t=e._items[0],i="offset"+e._measurements.restricredDimension,a=e.bars;if(0!==a.length){for(var n=0;n<e._items.length;n++)e._items[n][i]>t[i]&&(t=e._items[n]);t&&t[i]!==a[0][i]&&a.map(function(a){return a.style[e._measurements.restricredDimension.toLowerCase()]=t[i]+"px"})}}}},{key:"_validateItemSize",value:function(e){var t=this;if("overflow"!==t.autoFitMode){if(t.keepProportionsOnResize&&t._resizeEventFired)t._keepItemProportionsOnResize();else{var i=0,a=0;t._items.map(function(e){return i+=e.collapsed?0:e.style[t._measurements.dimension]&&e.style[t._measurements.dimension].indexOf("%")<-1&&e._sizeBeforeCollapse?e._sizeBeforeCollapse:e.getBoundingClientRect()[t._measurements.dimension]}),t.bars.map(function(e){return a+=e[t._measurements.size]});var n=i+a-t.$.container.getBoundingClientRect()[t._measurements.dimension];n>0?t._validateItemsSizeOverflowing(n,e):t._validateItemsSizeUnderflowing(n,e)}if(t._autoFitItems(),t._validateBarsSize(),t._splitterSize=t[t._measurements.size],t.enableShadowDOM){var o=t.getRootNode().host;o&&o.enableShadowDOM&&o.isCompleted&&o._validateItemSize&&o._validateItemSize()}}}},{key:"_validateNeighbourSizeLimits",value:function(e){function t(e){e&&(e.min&&e._setSize("min",e.min,!0),e.max&&e._setSize("max",e.max,!0))}var i=this;if(i._items&&i._items.length){i._noNeighbourValidation=!0;var a=i._items.indexOf(e);t(i._items[a-1]),t(i._items[a+1]),delete i._noNeighbourValidation}}},{key:"_keepItemProportionsOnResize",value:function(){var e=this,t=0,i=0,a=[];e.bars.map(function(i){return t+=i[e._measurements.size]});for(var n=0;n<e._items.length;n++)e._items[n].collapsed||(a.push(e._items[n]),i+=e._items[n]._sizeBeforeCollapse||e._items[n][e._measurements.size]);e._splitterSize&&(i=e._splitterSize);for(var o=e[e._measurements.size],r=0;r<a.length;r++)a[r].style[e._measurements.dimension].indexOf("%")>-1||(a[r].style[e._measurements.dimension]=(a[r]._sizeBeforeCollapse=(a[r]._sizeBeforeCollapse||a[r][e._measurements.size])/i*o)+"px")}},{key:"_validateItemsSizeOverflowing",value:function(e,t){for(var i=this,a=i._items.length,n=0,o=void 0,r=[],l=void 0,s=void 0,d=void 0,u=i.$.container.getBoundingClientRect(),c=0;c<i._items.length;c++)s=i._items[c].style[i._measurements.dimension],l=s.indexOf("%")>-1?s:i._items[c][i._measurements.size],s||i._items[c].size||0===i._items[c].size||delete i._items[c]._originalSize,i._items[c]._originalSize=i._items[c]._originalSize?i._items[c]._originalSize:l,r.push(i._items[c].locked);r.indexOf(!1)<0&&(d=i._items[i._items.length-1],d.locked=!1);for(var p=a-1;p>=0;p--)i._items[p].collapsed||i._items[p].locked||((i._items[p]._originalSize+"").indexOf("%")>-1?(i._items[p].style[i._measurements.dimension]=i._items[p]._originalSize,i._items[p]._sizeBeforeCollapse=u[i._measurements.dimension]*parseFloat(i._items[p]._originalSize)/100):0!==e&&(o=i._items[p].getBoundingClientRect()[i._measurements.dimension],n=o-e,i._items[p].style[i._measurements.dimension]=(i._items[p]._sizeBeforeCollapse=Math.max(i._items[p]._sizeLimits?i._items[p]._sizeLimits[i._measurements.minDimension]:0,n))+"px",e-=o-i._items[p]._sizeBeforeCollapse));if(e>0)for(var m=a-1;m>=0;m--)if(!i._items[m].collapsed){o=i._items[m].getBoundingClientRect()[i._measurements.dimension],n=o-e;var v=i._items[m]._sizeLimits[i._measurements.minDimension]||i._items[m].min;v&&(v=(v+"").indexOf("%")>-1?parseFloat(v)/100*i._items[m].parentElement[i._measurements.size]:parseFloat(v))>n&&(i._items[m]._sizeLimits.ignoreUpdate=!t,i._items[m].style[i._measurements.minDimension]=Math.max(0,n)+"px"),i._items[m]._originalSize&&(i._items[m]._originalSize+"").indexOf("%")>-1||(i._items[m]._sizeLimits.ignoreUpdate=!t,i._items[m].style[i._measurements.dimension]=(i._items[m]._sizeBeforeCollapse=Math.max(0,n))+"px",e-=o-i._items[m]._sizeBeforeCollapse)}d&&(d.locked=!0)}},{key:"_validateItemsSizeUnderflowing",value:function(e,t){var i=this,a=i._items.length,n=0,o=void 0,r=void 0;e=Math.abs(e),i._items.length>0&&i._items.map(function(e){return e.locked}).indexOf(!1)<0&&(r=i._items[i._items.length-1],r.locked=!1);for(var l=0;l<a&&(i._items[l].collapsed||i._items[l][i._measurements.size]>=(i._items[l]._sizeLimits?i._items[l]._sizeLimits[i._measurements.minDimension]:0)||(o=i._items[l][i._measurements.size],n=i._items[l][i._measurements.size]+e,i._items[l][i._measurements.size]<i._items[l]._sizeLimits[i._measurements.minDimension]&&(i._items[l]._sizeLimits.ignoreUpdate=!t,i._items[l].style[i._measurements.minDimension]=(i._items[l]._sizeBeforeCollapse=Math.max(0,Math.min(i._items[l]._sizeLimits[i._measurements.minDimension],n)))+"px"),!((e-=(i._items[l]._sizeBeforeCollapse||i._items[l][i._measurements.size])-o)<=0)));l++);var s=i.$.container.getBoundingClientRect()[i._measurements.dimension];if(e>0)for(var d=0;d<a;d++)if(!i._items[d].collapsed&&!i._items[d].locked&&void 0!==i._items[d]._originalSize){if((i._items[d]._originalSize+"").indexOf("%")>-1)i._items[d].style[i._measurements.dimension]=i._items[d]._originalSize,i._items[d]._sizeBeforeCollapse=parseFloat(i._items[d]._originalSize)*s/100;else if(i._items[d][i._measurements.size]>=i._items[d]._originalSize)e+=i._items[d][i._measurements.size]-i._items[d]._originalSize,i._items[d].style[i._measurements.dimension]=(i._items[d]._sizeBeforeCollapse=i._items[d]._originalSize)+"px";else{n=Math.min(i._items[d]._originalSize,i._items[d][i._measurements.size]+e);var u=n-i._items[d][i._measurements.size];i._items[d][i._measurements.minDimension]<i._items[d]._sizeLimits[i._measurements.minDimension]&&(i._items[d].style[i._measurements.minDimension]=Math.min(i._items[d]._sizeLimits[i._measurements.minDimension],n)+"px"),i._items[d].style[i._measurements.dimension]=(i._items[d]._sizeBeforeCollapse=Math.max(0,Math.min(n,i._items[d]._originalSize)))+"px",e-=u}if(e<=0)break}r&&(r.locked=!0)}},{key:"items",get:function(){var e=this;if(e.isReady){for(var t=e.$.container.children,i=[],a=0;a<t.length;a++)(t[a]instanceof JQX.SplitterItem||"JQX-SPLITTER-ITEM"===t[a].tagName)&&i.push(t[a]);return i}}},{key:"hasStyleObserver",get:function(){return"resize"}},{key:"bars",get:function(){var e=this;if(e.isReady){for(var t=e.$.container.children,i=[],a=0;a<t.length;a++)(t[a]instanceof JQX.SplitterBar||"JQX-SPLITTER-BAR"===t[a].tagName)&&i.push(t[a]);return i}}}],[{key:"properties",get:function(){return{autoFitMode:{allowedValues:["end","proportional","overflow"],value:"proportional",type:"string"},dataSource:{value:null,type:"object?",reflectToAttribute:!1},orientation:{allowedValues:["horizontal","vertical"],value:"vertical",type:"string"},keepProportionsOnResize:{value:!1,type:"boolean"},resizeMode:{allowedValues:["none","adjacent","end","proportional"],value:"adjacent",type:"string"},resizeStep:{value:5,type:"number"},liveResize:{value:!1,type:"boolean"},messages:{extend:!0,value:{en:{invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number.',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidNode:'{{elementType}}: "{{method}}" method accepts an object or an array of objects as it\'s second parameter.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.',invalidType:'{{elementType}}: "{{propertyName}}" must be of type string or number.'}},type:"object"}}}},{key:"listeners",get:function(){return{focus:"_focusHandler",blur:"_focusHandler",down:"_downHandler",move:"_moveHandler","document.dragstart":"_dragStartHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler",keydown:"_keyDownHandler",resize:"_resizeEventHandler"}}},{key:"styleUrls",get:function(){return["jqx.button.css","jqx.splitter.css"]}}]),t}(JQX.ContentElement)),JQX("jqx-tab-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.isCompleted&&(e.$.removeClass("right"),e.$.removeClass("left"),e.$.removeClass("top"),e.$.removeClass("bottom"),e.$.removeClass("animate"))}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;if(n._preventPropertyChangedHandler)return void delete n._preventPropertyChangedHandler;switch(e){case"closeButtonHidden":n.$.fireEvent("closeButtonVisibilityChange",{hidden:a});break;case"index":n.$.fireEvent("indexChange",{newIndex:a,oldIndex:i,tabItem:n});break;case"label":break;case"labelSize":n.$.fireEvent("labelSizeChange",{size:a})}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}t.firstElementChild.appendChild(e)}},{key:"_setIndex",value:function(e){var t=this,i=t.context;t.context=t,t.index=e,t.context=i}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{closeButtonHidden:{value:!1,type:"boolean"},index:{value:null,type:"number?"},selected:{value:!1,type:"boolean"},label:{value:"",type:"string"},labelSize:{value:null,type:"number?"}}}}]),t}(JQX.ContentElement)),JQX("jqx-tab-items-group",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return""}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;if(n._preventPropertyChangedHandler)return void delete n._preventPropertyChangedHandler;switch(e){case"label":break;case"labelSize":this.$.fireEvent("labelSizeChange",{size:a})}}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{label:{value:"",type:"string"},labelSize:{value:null,type:"number?"}}}}]),t}(JQX.ContentElement)),JQX("jqx-tabs",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="tabsHeaderSection" class="jqx-header jqx-tabs-header-section">\n                        <div id="tabsHeaderItems" class="jqx-tabs-header-items">\n                            <jqx-repeat-button id="scrollButtonNear" class="jqx-tabs-scroll-button jqx-nav-button jqx-spin-button jqx-hidden" animation="[[animation]]" unfocusable>\n                                <div id="arrowNear" class="jqx-arrow"></div>\n                            </jqx-repeat-button>\n                            <div id="tabStrip" class="jqx-tab-strip"></div>\n                            <jqx-repeat-button id="scrollButtonFar" class="jqx-tabs-scroll-button jqx-nav-button jqx-spin-button jqx-hidden" animation="[[animation]]" unfocusable>\n                                <div id="arrowFar" class="jqx-arrow"></div>\n                            </jqx-repeat-button>\n                            <div id="dropDownButton" class="jqx-drop-down-button">\n                                <div id="dropDownButtonArrow" class="jqx-drop-down-button-arrow jqx-unselectable"></div>\n                            </div>\n                            <span id="tabSelectionBar" class="jqx-tabs-selection-bar"></span>\n                            <div id="resizeToken" class="jqx-tabs-resize-token jqx-hidden"></div>\n                        </div>\n                        <div id="tabHeaderControls" class="jqx-tabs-header-controls"></div>\n                    </div>\n                    <div id="tabContentSection" class="jqx-tabs-content-section">\n                       <content></content>\n                    </div>\n                    <div id="dropDownButtonDropDown" class="jqx-drop-down-button-drop-down jqx-hidden"></div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.isCompleted&&e._applyTabOverflow()}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._flexWritingModeNoFullSupport=!0,e._arrowCodes={top:"&#xe804",bottom:"&#xe801",left:"&#xe802",right:"&#xe803"},e._createElement()}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}e instanceof JQX.TabItem||t.error(t.localize("tabItemRequired",{method:"appendChild"})),t.insert(t._tabs.length,{node:e})}},{key:"collapse",value:function(){var e=this;e.collapsible&&!e.collapsed&&(e.collapsed=!0)}},{key:"ensureVisible",value:function(e){var t=this;if(null!==e&&"wrap"!==t.tabLayout&&"shrink"!==t.tabLayout&&"hidden"!==t.tabPosition){t._validateIndex(e,"ensureVisible"),e=Math.max(0,Math.min(e,t._tabs.length-1));var i=t._tabs[e].group,a=t.$.tabStrip,n=a.getBoundingClientRect(),o=null===i?t._tabLabelContainers[e]:t._groupLabels[t._groups.indexOf(i)],r=o.getBoundingClientRect();"top"!==t.tabPosition&&"bottom"!==t.tabPosition||!(n.left>r.left||n.right<r.right)?"left"!==t.tabPosition&&"right"!==t.tabPosition||!(n.top>r.top||n.bottom<r.bottom)||(a.scrollTop+=Math.round(r.bottom-a.offsetHeight-n.top)):a.scrollLeft+=Math.round(r.right-a.offsetWidth-n.left),t._updateScrollButtonVisibility(),t.resize&&t._getTabCoordinates()}}},{key:"expand",value:function(){var e=this;e.collapsible&&e.collapsed&&(e.collapsed=!1)}},{key:"getOffsetFromEdgeOfElement",value:function(e){var t=this;t._validateIndex(e,"getOffsetFromEdgeOfElement"),e=Math.max(0,Math.min(e,t._tabs.length-1));var i=t._tabs[e],a=t.tabPosition;return"hidden"!==a?Math.abs(i.getBoundingClientRect()[a]-t.getBoundingClientRect()[a]):i.getBoundingClientRect().top-t.getBoundingClientRect().top}},{key:"insert",value:function(e,t){var i=this,a=void 0,n=void 0;if(i._validateIndex(e,"insert"),(void 0===t||void 0===t.label&&void 0===t.content&&void 0===t.node)&&i.error(i.localize("detailsObjectRequired")),void 0===t.node)a=t.group,n=document.createElement("jqx-tab-item"),n.label=void 0!==t.label?t.label:"",n.labelSize=void 0!==t.labelSize?t.labelSize:null,n.content=t.content;else if(n=t.node,void 0!==n.index&&null!==n.index){var o=n.context;n.context=n,n.index=null,n.context=o}n.$.addClass("jqx-visibility-hidden"),n.group=null;var r=i._addTabLabelContainer(n),l=r.tabLabelContainer,s=r.dropDownLabelContainer;l.tab=n,n.tabLabelContainer=l;var d={index:e,tab:n,tabLabelContainer:l,dropDownLabelContainer:s};if(0===i._groups.length&&void 0===a)i._insertNoGrouping(d);else if(void 0!==a&&null!==a){d.group=a;var u=i.$.tabContentSection.querySelector('jqx-tab-items-group[label="'+a+'"]');null!==u?(d.jqxTabItemsGroup=u,i._insertIntoExistingGroup(d)):i._insertIntoNewGroup(d)}else i._insertNearAGroup(d);i._getReorderItems(),null===i.selectedIndex&&!i.allowToggle&&i._tabs.length&&i._select(0,!0),null!==n.group&&null!==n.labelSize&&"shrink"!==i.tabLayout&&l.style.removeProperty([i._orientationSettings.dimension]),i._applyTabOverflow()}},{key:"insertBefore",value:function(e,t){var i=this;if(!i.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,a.concat(Array.prototype.slice.call(arguments)))}e instanceof JQX.TabItem&&(void 0===t||null===t||t instanceof JQX.TabItem)||i.error(i.localize("tabItemRequired",{method:"insertBefore"}));var n=void 0;i.contains(e)&&(e.selected&&(n=!0),i.remove(e.index)),void 0!==t&&null!==t?(i.contains(t)||i.error(i.localize("referenceNodeNotChild",{argument:"referenceNode"})),i.insert(t.index,{node:e})):i.insert(i._tabs.length,{node:e}),n&&i._select(e.index,!1)}},{key:"refreshTabHeader",value:function(){var e=this;"scroll"===e.tabLayout&&e._checkOverflowScroll(),e._positionTabSelectionBar(e._tabLabelContainers[e.selectedIndex],!0)}},{key:"remove",value:function(e){var t=this,i=t._tabs.length;if(0!==i){t._validateIndex(e,"remove"),e=Math.max(0,Math.min(e,i-1));var a=t._tabs[e],n=t._tabLabelContainers[e];if(n._lazyRemove?n.classList.add("jqx-hidden"):n.parentElement.removeChild(n),a.parentElement.removeChild(a),null!==a.group){var o=t.$.tabContentSection.querySelector('jqx-tab-items-group[label="'+a.group+'"]');if(0===o.childElementCount){var r=t._groups.indexOf(a.group);t.$.tabStrip.removeChild(t._groupLabels[r]),t._groups.splice(r,1),t.$.container.removeChild(t._groupLabels[0].dropDown),t._groupLabels.splice(r,1),t.$.tabContentSection.removeChild(o)}}i>1?e<t.selectedIndex?t.selectedIndex--:e===t.selectedIndex&&(e===i-1?t._select(e-1,!1):(t._select(e+1,!1),t.selectedIndex--)):(t.selectedIndex=null,t.$.tabContentSection.innerHTML=""),t._tabLabelContainers.splice(e,1),t.$.dropDownButtonDropDown.removeChild(t.$.dropDownButtonDropDown.children[e]),t._tabs.splice(e,1),t._focusedItem===a&&(t._focusedItem=t._tabs[t._focusedItem.index]),t._updateTabIndexes(),t._getReorderItems(),t._applyTabOverflow(),t.ensureVisible(t.selectedIndex)}}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}e instanceof JQX.TabItem||t.error(t.localize("tabItemRequired",{method:"removeChild"})),t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.remove(e.index)}},{key:"select",value:function(e){var t=this;0!==t._tabs.length&&(t._validateIndex(e,"select"),e=Math.max(0,Math.min(e,t._tabs.length-1)),t.ensureVisible(e),t._select(e,!0))}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");(null===e.getAttribute("tabindex")||e.getAttribute("tabindex")<0)&&e.setAttribute("tabindex",0)}},{key:"update",value:function(e,t,i){var a=this;if(0!==a._tabs.length){a._validateIndex(e,"update"),e=Math.max(0,Math.min(e,a._tabs.length-1));var n=a._tabs[e];if(void 0!==t&&n.label!==t){var o=a._tabLabelContainers[e].firstElementChild.children[0],r=a.$.dropDownButtonDropDown.children[e];n.label=t,o.innerHTML="",r.innerHTML="",a._setLabel(t,o,r),a._applyTabOverflow()}void 0!==i&&(n.content=i)}}},{key:"_createElement",value:function(){var e=this;e.disabled&&(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0),e._handlePosition(e.tabPosition),e._handleScrollButtonsPosition(e.scrollButtonsPosition,"both"),null!==e.dataSource&&e._processDataSource(),e._setFocusable(),e.collapsed&&!e.collapsible&&(e.collapsed=!1),e.collapsible&&e.allowToggle&&(e.allowToggle=!1),e._processHTML(),null===e.selectedIndex&&e.$.tabContentSection.setAttribute("show-placeholder",""),setTimeout(function(){return e.refreshTabHeader()},300)}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"addNewTab":a?n._insertAddNewTab():(n.$.tabStrip.removeChild(n._addNewTab),delete n._addNewTab),n._applyTabOverflow();break;case"allowToggle":a&&n.collapsible?(n.collapsed&&n._toggleCollapsedState(),n.collapsible=!1):a||null!==n.selectedIndex||(n.ensureVisible(n.selectedIndex=0),n._select(n.selectedIndex,!0,null));break;case"closeButtonMode":if("selected"===a){for(var o=0;o<n._tabs.length;o++)n._disableCloseButton(o);n._enableCloseButton(n.selectedIndex)}else{n._disableCloseButton(n.selectedIndex);for(var r=n._tabLabelContainers,l=0;l<r.length;l++){var s=r[l];s.closeButtonEnabled=!0!==n._tabs[l].closeButtonHidden,n._showCloseButton(s)}}n._applyTabOverflow();break;case"closeButtons":for(var d=n._tabLabelContainers,u=a?n._showCloseButton:n._hideCloseButton,c=0;c<d.length;c++){u(d[c])}n._applyTabOverflow();break;case"collapsed":if(!n.collapsible&&a)return void(n.collapsed=!1);break;case"collapsible":!a&&n.collapsed&&(n.collapsed=!1),n.allowToggle=!1,void 0===n.selectedIndex&&n.select(n._focusedItem.index);break;case"dataSource":n.selectedIndex=null;for(var p=0;p<n._groupLabels.length;p++)n.$.container.removeChild(n._groupLabels[p].dropDown);n.$.tabStrip.innerHTML="",n._processDataSource(),n._processHTML();break;case"disabled":n._setFocusable(),n.$.scrollButtonNear.disabled=a,n.$.scrollButtonFar.disabled=a,a||n._updateScrollButtonVisibility(),n._closeDropDownButtonDropDown();break;case"messages":case"scrollMode":case"selectionMode":case"readonly":case"reorder":break;case"overflow":if("scroll"!==n.tabLayout)return;n.$.tabStrip.scrollLeft=0,n.$.tabStrip.scrollTop=0,"hidden"===a?(n.$tabsHeaderSection.removeClass("scroll-buttons-shown"),n.$scrollButtonNear.addClass("jqx-hidden"),n.$scrollButtonFar.addClass("jqx-hidden")):n._checkOverflowScroll(),n._getTabCoordinates();break;case"tabPosition":if(n.$.tabSelectionBar.style.transition="none",n._tabPositionChanging=!0,n._closeGroupDropDown(),n._handlePosition(a,i),"shrink"!==n.tabLayout&&n._applyLabelSizes("tabPosition"),n._applyTabOverflow(),"hidden"!==a)for(var m=n.getElementsByClassName("jqx-tab-group-arrow"),v=0;v<m.length;v++)m[v].innerHTML=n._arrowCodes[n.tabPosition];delete n._tabPositionChanging,requestAnimationFrame(function(){n.$.tabSelectionBar.style.transition=null});break;case"resize":a&&n._getTabCoordinates();break;case"scrollButtonsPosition":n._handleScrollButtonsPosition(a,i);break;case"selectedIndex":if(isNaN(a)&&(n.selectedIndex=a=i),!n.allowToggle&&null===a)return void(n.selectedIndex=i);var h=a;null!==a&&(h=Math.max(0,Math.min(a,n._tabs.length-1)),n.ensureVisible(h)),n._select(h,!0,i);break;case"tabLayout":"scroll"===i&&(n.$tabsHeaderSection.removeClass("scroll-buttons-shown"),n.$scrollButtonNear.addClass("jqx-hidden"),n.$scrollButtonFar.addClass("jqx-hidden")),"shrink"===a?n._applyLabelSizes("shrink",!0):"shrink"===i&&n._applyLabelSizes("shrink",!1),n._applyTabOverflow(),"scroll"===a&&n.disabled&&(n.$.scrollButtonNear.disabled=!0,n.$.scrollButtonFar.disabled=!0),n.ensureVisible(n.selectedIndex);break;case"tabTextOrientation":n._applyTabOverflow(),n.ensureVisible(n.selectedIndex);break;case"unfocusable":n._setFocusable()}}},{key:"_addGroupContainer",value:function(e,t){var i=this,a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div");return a.className="jqx-tab-group-container jqx-unselectable",a.$=JQX.Utilities.Extend(a),n.className="jqx-tab-label-text-wrapper",null!==t&&"shrink"!==i.tabLayout&&(a.style[i._orientationSettings.dimension]=parseInt(t,10)+"px"),o.className="jqx-tab-label-text-container",o.innerHTML=e,r.className="jqx-tab-group-arrow",r.innerHTML=i._arrowCodes[i.tabPosition],l.className="jqx-tab-group-drop-down jqx-hidden",l.$=JQX.Utilities.Extend(l),n.appendChild(o),n.appendChild(r),a.appendChild(n),i.$.container.appendChild(l),a.group=e,a.dropDown=l,l.groupContainer=a,{label:a,dropDown:l}}},{key:"_addGroupElements",value:function(e){var t=this,i=e.groups,a=e.groupLabels,n=e.group,o=i.indexOf(n),r=e.tabLabelContainer,l=void 0;if(-1!==o)l=a[o],l.dropDown.appendChild(r);else{i.push(n);var s=t._addGroupContainer(n,e.jqxTabItemsGroup.labelSize),d=s.dropDown;l=s.label,d.appendChild(r),d.groupContainer=s.label,e.documentFragment.appendChild(l),a.push(l)}t.selectedIndex===e.i&&(t._selectedGroup=l,l.$.addClass("jqx-tab-group-selected"))}},{key:"_addNewTabHandler",value:function(e,t,i){var a=this;a._swiping||(i?(e.removeAttribute("hover"),a.insert(a._tabs.length,{label:"New Tab",content:""}),a._select(a._tabs.length-1,!0)):a._reordering||a._swiping||("mouseover"===t?e.setAttribute("hover",""):"mouseout"===t&&e.removeAttribute("hover")))}},{key:"_addTabLabelContainer",value:function(e,t){var i=this,a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),l=void 0;return a.className="jqx-tab-label-container jqx-unselectable",n.className="jqx-tab-label-text-wrapper",o.className="jqx-tab-label-text-container",r.className="jqx-tab-close-button",r.innerHTML="&#xe81f",void 0===t?(i.closeButtons?"default"===i.closeButtonMode&&e.closeButtonHidden||"selected"===i.closeButtonMode&&!e.selected?(r.classList.add("jqx-hidden"),a.closeButtonEnabled=!1):(o.classList.add("jqx-close-button-enabled"),a.closeButtonEnabled=!0):(r.classList.add("jqx-hidden"),a.closeButtonEnabled=!0),l=document.createElement("div"),l.className="jqx-tab-label-container jqx-unselectable",null===e.group&&null!==e.labelSize&&"shrink"!==i.tabLayout&&(a.style[i._orientationSettings.dimension]=parseInt(e.labelSize,10)+"px")):(r.classList.add("jqx-hidden"),a.closeButtonEnabled=!1),i._setLabel(e?e.label:"+",o,l),o.$=JQX.Utilities.Extend(o),r.$=JQX.Utilities.Extend(r),n.appendChild(o),n.appendChild(r),a.appendChild(n),a.$=JQX.Utilities.Extend(a),{tabLabelContainer:a,dropDownLabelContainer:l}}},{key:"_animateSelection",value:function(e,t,i){var a=this,n="right",o="left";if(a._animatedTab=e,a._animatedOldTab=t,a._animatedTab&&a._animatedOldTab){"left"!==a.tabPosition&&"right"!==a.tabPosition||(n="top",o="bottom");for(var r=0;r<a._tabs.length;r++)a._tabs[r].$.removeClass(n),a._tabs[r].$.removeClass(o),a._tabs[r].$.removeClass("animate");if(e===t)return e.$.hasClass("jqx-visibility-hidden")?e.$.removeClass("jqx-visibility-hidden"):e.$.addClass("jqx-visibility-hidden"),void(a._animatedOldTab.classToRemove=n);i?(e.$.addClass(n),e.$.removeClass("jqx-visibility-hidden"),t.$.addClass("animate"),e.$.addClass("animate"),t.$.addClass(o),t.$.addClass("jqx-visibility-hidden"),e.$.removeClass(n),a._animatedOldTab.classToRemove=o):(e.$.addClass(o),e.$.removeClass("jqx-visibility-hidden"),t.$.addClass("animate"),e.$.addClass("animate"),t.$.addClass(n),t.$.addClass("jqx-visibility-hidden"),e.$.removeClass(o),a._animatedOldTab.classToRemove=n)}}},{key:"_applyConditionalTabOverflow",value:function(){var e=this,t="left"===e.tabPosition||"right"===e.tabPosition,i=e.$.tabStrip;if("scroll"===e.tabLayout)return void e._checkOverflowScroll();if(e._flexWritingModeNoFullSupport&&"shrink"===e.tabLayout&&t&&i.scrollHeight>i.offsetHeight){var a=i.children,n=100/a.length+"%";i.$.addClass("shrink-tabs-vertical");for(var o=0;o<a.length;o++)a[o].style.height=n,a[o].firstElementChild.firstElementChild.classList.add("jqx-tab-label-text-container-full-height");e._inlineStyleTabStripChildren=!0}}},{key:"_applyLabelSizes",value:function(e,t){for(var i=this,a=i._orientationSettings.dimension,n="width"===a?"height":"width",o=0;o<i._reorderItems.length;o++){var r=i._reorderItems[o],l=i._getCorrespondingCustomElement(r);null!==l.labelSize&&("tabPosition"===e&&r.style.removeProperty(n),t?r.style.removeProperty(a):r.style[a]=parseInt(l.labelSize,10)+"px")}}},{key:"_applyTabOverflow",value:function(){var e=this;if(e._removeInlineStyle(),0===e._tabs.length)return void e._toggleNavigationElementsVisibility();var t=e.tabLayout,i=e.tabPosition,a="left"===i||"right"===i,n=e.$.tabStrip;switch(e._closeDropDownButtonDropDown(),t){case"scroll":case"dropDown":e._flexWritingModeNoFullSupport&&"vertical"===e.tabTextOrientation&&a&&e._fixTabStripNotChrome(n);break;case"wrap":if("vertical"===e.tabTextOrientation)if(e._flexWritingModeNoFullSupport)if(a)e._fixTabStripNotChrome(n);else{for(var o=n.children,r=o[0].offsetHeight,l=1;l<o.length;l++)r=Math.max(r,o[l].offsetHeight);for(var s=1;s<o.length;s++)o[s].style.height=r+"px";e._inlineStyleTabStripChildren=!0}else a||n.scrollHeight>n.offsetHeight&&(n.style.height=n.scrollHeight+"px",e._inlineStyleTabStrip=!0);else a&&n.scrollWidth>n.offsetWidth&&(n.style.width=n.scrollWidth+"px","right"===i&&(n.style.flexWrap="wrap-reverse"),e._inlineStyleTabStrip=!0);break;case"shrink":if(a){if(e._flexWritingModeNoFullSupport&&"vertical"===e.tabTextOrientation){for(var d=n.children,u=window.getComputedStyle(d[0].firstElementChild),c=parseInt(u.paddingLeft,10)+parseInt(u.paddingRight,10),p=0,m=0;m<d.length;m++)p=Math.max(p,d[m].firstElementChild.firstElementChild.offsetWidth);n.style.width=c+p+"px",e._inlineStyleTabStrip=!0;break}}else n.scrollWidth>n.offsetWidth&&n.$.addClass("shrink-tabs")}e._applyConditionalTabOverflow(),e._getTabCoordinates(),e._fixTabStripFlex(t),e._toggleNavigationElementsVisibility(),e._positionTabSelectionBar(e._tabLabelContainers[e.selectedIndex],!0)}},{key:"_checkOverflowScroll",value:function(){var e=this,t=e.$tabsHeaderSection,i=e.$.tabStrip,a=e.overflow;if("hidden"!==a){var n=void 0,o=void 0,r=void 0;"left"!==e.tabPosition&&"right"!==e.tabPosition?(n=Math.round(i.scrollWidth)>Math.round(i.offsetWidth),o=Math.round(i.scrollLeft)>0,r=Math.round(i.offsetWidth+i.scrollLeft)<Math.round(i.scrollWidth)):(n=Math.round(i.scrollHeight)>Math.round(i.offsetHeight),o=Math.round(i.scrollTop)>0,r=Math.round(i.offsetHeight+i.scrollTop)<Math.round(i.scrollHeight)),"scroll"===a&&(t.addClass("scroll-buttons-shown"),e.$scrollButtonNear.removeClass("jqx-hidden"),e.$scrollButtonFar.removeClass("jqx-hidden")),n?"auto"===a?(t.hasClass("scroll-buttons-shown")||t.addClass("scroll-buttons-shown"),
o?e.$scrollButtonNear.removeClass("jqx-hidden"):e.$scrollButtonNear.addClass("jqx-hidden"),r?e.$scrollButtonFar.removeClass("jqx-hidden"):e.$scrollButtonFar.addClass("jqx-hidden"),!1===(o&&r)?t.addClass("one-button-shown"):t.removeClass("one-button-shown"),e.disabled||(e.$.scrollButtonNear.disabled=!1,e.$.scrollButtonFar.disabled=!1)):(t.removeClass("one-button-shown"),e.disabled?(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0):(e.$.scrollButtonNear.disabled=!o,e.$.scrollButtonFar.disabled=!r)):!n&&"auto"===a&&t.hasClass("scroll-buttons-shown")?(t.removeClass("scroll-buttons-shown"),t.removeClass("one-button-shown"),e.$scrollButtonNear.addClass("jqx-hidden"),e.$scrollButtonFar.addClass("jqx-hidden")):n||"scroll"!==a||(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0)}}},{key:"_closeButtonVisibilityChangeHandler",value:function(e){var t=this,i=e.target.index;if("selected"===t.closeButtonMode)return void(t._tabLabelContainers[i].closeButtonEnabled=e.detail.hidden);e.detail.hidden?t._disableCloseButton(i):t._enableCloseButton(i)}},{key:"_closeDropDownButtonDropDown",value:function(){var e=this;e._dropDownButtonDropDownOpened&&(e.$dropDownButtonDropDown.addClass("jqx-hidden"),e._dropDownButtonDropDownOpened=!1)}},{key:"_closeGroupDropDown",value:function(){var e=this;e._openDropDown&&(e._openDropDown.rippleInProgress?setTimeout(function(){e._openDropDown&&(e._openDropDown.$.addClass("jqx-hidden"),delete e._openDropDown.rippleInProgress,e._openDropDown=void 0)},450):(e._openDropDown.$.addClass("jqx-hidden"),e._openDropDown=void 0))}},{key:"_containerHandler",value:function(e){var t=this,i=e.type;if(!(t.disabled||t.readonly||t._resizing&&"mouseout"!==i)&&("down"!==i&&"up"!==i||1===e.which||JQX.Utilities.Core.isMobile)){"up"===i&&e.stopPropagation();var a=e.originalEvent?e.originalEvent.target:e.target;if(!t.$.tabContentSection.contains(a))return t.$.dropDownButton.contains(a)?void t._dropDownButtonHandler(a,e):t.$.dropDownButtonDropDown.contains(a)?void t._dropDownButtonHandler(a,e,!0):void t._tabStripHandler(a,e)}}},{key:"_disableCloseButton",value:function(e){var t=this,i=t._tabLabelContainers[e];i.closeButtonEnabled=!1,t.closeButtons&&t._hideCloseButton(i)}},{key:"_documentMoveHandler",value:function(e){var t=this,i=t._orientationSettings;if(t._reordering){t._reorderStartThrown||(t._fireDragEvent(e,"dragStart"),t._reorderStartThrown=!0);for(var a=e[i.coordinate],n="wrap"!==t.tabLayout?function(e){return a>=e[i.from]&&a<=e[i.to]}:function(t){return e.pageX>=t.fromX&&e.pageX<=t.toX&&e.pageY>=t.fromY&&e.pageY<=t.toY},o=!1,r=0;r<t._tabCoordinates.length;r++){if(n(t._tabCoordinates[r])){o=r;break}}!0!==t._preventReorder&&!1!==o&&o!==t._draggedIndex&&(t._reorderTabs(t._draggedIndex,o),t._closeGroupDropDown(),t._draggedIndex=o,t._getReorderItems(),t._getTabCoordinates());var l=t._tabCoordinates[t._draggedIndex];"wrap"!==t.tabLayout&&(a<l[i.from]||a>l[i.to])||"wrap"===t.tabLayout&&(null!==e.originalEvent.target.closest(".jqx-tab-label-container")||null!==e.originalEvent.target.closest(".jqx-tab-group-container"))&&!(e.pageX>=l.fromX&&e.pageX<=l.toX&&e.pageY>=l.fromY&&e.pageY<=l.toY)?t._preventReorder=!0:t._preventReorder=!1}else t._resizing&&(t.$.resizeToken.style[i.edge]=e[i.coordinate]-t._tabsHeaderSectionCoordinate+"px",t.$resizeToken.removeClass("jqx-hidden"))}},{key:"_documentUpHandler",value:function(e){var t=this,i=e.originalEvent.target;t._endSwiping(e,Date.now()),!t._openDropDown||t._openDropDown.rippleInProgress||i!==document&&i.closest(".jqx-tab-group-container")===t._openDropDown.groupContainer||t._closeGroupDropDown(),t.$.dropDownButton.contains(i)||t._closeDropDownButtonDropDown(),t._endReordering(e,i),t._resize(e),void 0!==t._tabToResize&&(t._tabToResize=void 0)}},{key:"_dropDownButtonHandler",value:function(e,t,i){var a=this,n=t.type;if(i){if(e.classList.contains("jqx-tab-label-container"))switch(n){case"down":a._downTarget=e;break;case"mouseout":e.removeAttribute("hover");break;case"mouseover":e.setAttribute("hover","");break;case"up":e===a._downTarget&&(a.select(Array.from(a.$.dropDownButtonDropDown.children).indexOf(e)),a._closeDropDownButtonDropDown())}}else if("down"===n)a._downTarget=a.$.dropDownButton;else if("up"===n&&a._downTarget===a.$.dropDownButton)if(a._dropDownButtonDropDownOpened)a._closeDropDownButtonDropDown();else{var o=a.tabPosition,r=void 0,l=void 0;switch(o){case"top":r=a.$.dropDownButton.offsetLeft,l=a.$.tabsHeaderSection.offsetTop+a.$.dropDownButton.offsetHeight;break;case"bottom":r=a.$.dropDownButton.offsetLeft,l=a.$.tabsHeaderSection.offsetTop;break;case"left":r=a.$.dropDownButton.offsetWidth,l=a.$.dropDownButton.offsetTop;break;case"right":r=a.$.tabsHeaderSection.offsetLeft,l=a.$.dropDownButton.offsetTop}a.$.dropDownButtonDropDown.style.left=r+"px",a.$.dropDownButtonDropDown.style.top=l+"px",a.$dropDownButtonDropDown.removeClass("jqx-hidden"),a._dropDownButtonDropDownOpened=!0}}},{key:"_enableCloseButton",value:function(e){var t=this,i=t._tabLabelContainers[e];i.closeButtonEnabled=!0,t.closeButtons&&t._showCloseButton(i)}},{key:"_endReordering",value:function(e,t){var i=this;i._reordering&&(i._draggedHoveredTab&&(i._draggedHoveredTab.contains(t)||i._draggedHoveredTab.removeAttribute("hover"),delete i._draggedHoveredTab),i._reorderedIndex=void 0,i._reordering=!1,i._reorderStartThrown=!1,i.removeAttribute("dragged"),e&&i._fireDragEvent(e,"dragEnd"))}},{key:"_endSwiping",value:function(e,t){var i=this;if(i._dragStartDetails){var a=i._orientationSettings,n=i.$.tabStrip,o=Math.abs(i._dragStartDetails.startTime-t),r=200/o,l=(i._dragStartDetails[a.startCoordinate]-e[a.coordinate])*r,s=Math.abs(l),d=function(){return!(l>0&&n[a.scrollDirection]===n[a.scrollSize]-n[a.size]||l<0&&0===n[a.scrollDirection])},u=.03*Math.abs(l)*r,c=function e(){if(u>5){var t=(s-u)/Math.abs(l);t<.1?u/=1.25:t<.15?u/=1.2:t<.2?u/=1.15:t<.25?u/=1.1:t<.3&&(u/=1.05)}u=Math.round(u);var o=n[a.scrollDirection];n[a.scrollDirection]=l>0?Math.min(o+u,n[a.scrollSize]-n[a.size]):Math.max(o-u,0),s-=u,i._updateScrollButtonVisibility(!0);var r=d();s>0&&r?i._scrollingAnimationFrame=window.requestAnimationFrame(e):i._wheelInProgress=!1};i._scrollingAnimationFrame&&cancelAnimationFrame(i._scrollingAnimationFrame),o<500&&d()?i._scrollingAnimationFrame=window.requestAnimationFrame(c):i._wheelInProgress=!1,delete i._dragStartDetails,i._swiping&&delete i._swiping}}},{key:"_fireDragEvent",value:function(e,t){var i=this,a=i.$.tabStrip.children[i._draggedIndex],n=a.tab,o=void 0,r=void 0,l=void 0;n?(o=n.selected,r=n.index,l=n.label):l=a.group,i.$.fireEvent(t,{position:{left:e.pageX,top:e.pageY},target:a,selected:o,index:r,label:l})}},{key:"_fixTabStripNotChrome",value:function(e){function t(){for(var t=[].slice.call(e.children).filter(function(e){return!e._lazyRemove}),a=t[0].getBoundingClientRect(),n=a.left,o=n+t[0].offsetWidth,r=1;r<t.length;r++)a=t[r].getBoundingClientRect(),n=Math.min(n,a.left),o=Math.max(o,a.left+t[r].offsetWidth);e.style.width=o-n+"px",i._inlineStyleTabStrip=!0}var i=this;0!==i._tabs.length&&(t(),JQX.Utilities.Core.Browser.Safari&&setTimeout(function(){e.parentElement.classList.add("jqx-hidden"),setTimeout(function(){e.parentElement.classList.remove("jqx-hidden"),t()},10)},10),i.$.fireEvent("tabStripResize"))}},{key:"_fixTabStripFlex",value:function(e){var t=this;t._flexWritingModeNoFullSupport||"vertical"!==t.tabTextOrientation||"left"!==t.tabPosition&&"right"!==t.tabPosition||setTimeout(function(){t.$tabsHeaderSection.addClass("jqx-hidden"),setTimeout(function(){t.$tabsHeaderSection.removeClass("jqx-hidden"),t._getTabCoordinates(),"scroll"===e&&t._checkOverflowScroll()},10)},10)}},{key:"_getCorrespondingCustomElement",value:function(e){return e.$.hasClass("jqx-tab-label-container")?e.tab:this.$.tabContentSection.querySelector('jqx-tab-items-group[label="'+e.group+'"]')}},{key:"_getReorderItems",value:function(){var e=this,t=void 0;0===e._groups.length?t=e._tabLabelContainers:(t=Array.from(e.$.tabStrip.children),e.addNewTab&&t.pop()),e._reorderItems=t}},{key:"_getTabCoordinates",value:function(){var e=this;if((e.reorder||e.resize)&&"hidden"!==e.tabPosition){for(var t=[],i=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset,n=0;n<e._reorderItems.length;n++){var o=e._reorderItems[n],r=o.getBoundingClientRect(),l=window.getComputedStyle(o),s=parseFloat(l.marginLeft),d=parseFloat(l.marginRight),u=parseFloat(l.marginTop),c=parseFloat(l.marginBottom);t.push({fromX:r.left-s+i,toX:r.right+d+i,fromY:r.top-u+a,toY:r.bottom+c+a})}e._tabCoordinates=t}}},{key:"_getTabs",value:function(){var e=this,t=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-tab-item"):e.getElementsByTagName("jqx-tab-item");null!==e.selectedIndex&&(0===t.length?e.selectedIndex=null:e.selectedIndex=Math.max(0,Math.min(e.selectedIndex,t.length-1))),e._tabs=Array.from(t)}},{key:"_groupContainerHandler",value:function(e,t){var i=this,a=e.dropDown;if("down"===t)return i._downTarget=e,void(i.reorder&&i._reorderItems.length>1&&(i._getTabCoordinates(),i._reordering=!0,i.setAttribute("dragged",""),i._draggedIndex=Array.from(i.$.tabStrip.children).indexOf(e)));i._reordering||i._swiping||(a===i._openDropDown||"mouseover"!==t||e.classList.contains("jqx-tab-group-selected")?"mouseout"===t&&e.removeAttribute("hover"):e.setAttribute("hover","")),"up"!==t||i._downTarget!==e||void 0!==i._reorderedIndex||i._swiping||(a===i._openDropDown?(i._closeGroupDropDown(),e.classList.contains("jqx-tab-group-selected")||e.setAttribute("hover","")):i._openGroupDropDown(e))}},{key:"_handlePosition",value:function(e,t){var i=this;if(-1===[void 0,"top","left","hidden"].indexOf(t)||"bottom"!==e&&"right"!==e?"bottom"!==t&&"right"!==t||-1===["top","left","hidden"].indexOf(e)||i.$.container.insertBefore(i.$.tabsHeaderSection,i.$.tabContentSection):i.$.container.insertBefore(i.$.tabContentSection,i.$.tabsHeaderSection),"hidden"===e)return i._orientationSettings={coordinate:"pageY",dimension:"height",edge:"top",from:"fromY",size:"offsetHeight",to:"toY",scrollDirection:"scrollTop",scrollSize:"scrollHeight",startCoordinate:"startY",wheelOffset:35},i.removeAttribute("horizontal"),void i.removeAttribute("vertical");"top"===e||"bottom"===e?(i._orientationSettings={coordinate:"pageX",dimension:"width",edge:"left",from:"fromX",size:"offsetWidth",to:"toX",scrollDirection:"scrollLeft",scrollSize:"scrollWidth",startCoordinate:"startX",wheelOffset:70},i.removeAttribute("vertical"),i.setAttribute("horizontal",""),i.$arrowNear.removeClass("jqx-arrow-up"),i.$arrowNear.addClass("jqx-arrow-left"),i.$arrowFar.removeClass("jqx-arrow-down"),i.$arrowFar.addClass("jqx-arrow-right")):(i._orientationSettings={coordinate:"pageY",dimension:"height",edge:"top",from:"fromY",size:"offsetHeight",to:"toY",scrollDirection:"scrollTop",scrollSize:"scrollHeight",startCoordinate:"startY",wheelOffset:35},i.removeAttribute("horizontal"),i.setAttribute("vertical",""),i.$arrowNear.removeClass("jqx-arrow-left"),i.$arrowNear.addClass("jqx-arrow-up"),i.$arrowFar.removeClass("jqx-arrow-right"),i.$arrowFar.addClass("jqx-arrow-down")),i.$.dropDownButtonArrow.innerHTML=i._arrowCodes[i.tabPosition]}},{key:"_handleScrollButtonsPosition",value:function(e,t){var i=this,a=i.$.tabsHeaderItems;e!==t&&("both"===e?"near"===t?a.insertBefore(i.$.scrollButtonFar,i.$.dropDownButton):a.insertBefore(i.$.scrollButtonNear,i.$.tabStrip):"near"===e?("far"===t&&a.insertBefore(i.$.scrollButtonNear,i.$.tabStrip),a.insertBefore(i.$.scrollButtonFar,i.$.tabStrip)):("near"===t&&a.insertBefore(i.$.scrollButtonFar,i.$.dropDownButton),a.insertBefore(i.$.scrollButtonNear,i.$.scrollButtonFar)))}},{key:"_hideCloseButton",value:function(e){e.firstElementChild.children[0].$.removeClass("jqx-close-button-enabled"),e.firstElementChild.children[1].$.addClass("jqx-hidden")}},{key:"_indexChangeHandler",value:function(e){var t=this,i=e.detail.oldIndex,a=Math.max(0,Math.min(e.detail.newIndex,t._tabs.length-1));if(i!==a){if(0===t._groups.length)t._reorderTabs(i,a);else{var n=e.detail.tabItem;n._setIndex(i),t.remove(i),t.insert(a,{node:n}),t.selectedIndex===i&&t._select(a,!1)}t._reorderedIndex=void 0}}},{key:"_insertAddNewTab",value:function(){var e=this,t=e._addTabLabelContainer(void 0,!0).tabLabelContainer;t.$.addClass("jqx-add-new-tab"),e.$.tabStrip.appendChild(t),e._addNewTab=t}},{key:"_insertIntoExistingGroup",value:function(e){var t=this,i=e.jqxTabItemsGroup,a=e.tab,n=e.tabLabelContainer,o=e.group,r=t._groupLabels[t._groups.indexOf(o)],l=r.dropDown,s=e.index;s=Math.max(0,Math.min(s,i.childElementCount)),l.insertBefore(n,l.children[s]);var d=i.children[s],u=void 0;u=d?d.index:i.children[s-1].index+1,i.insertBefore(a,d),t._tabLabelContainers.splice(u,0,n),t.$.dropDownButtonDropDown.insertBefore(e.dropDownLabelContainer,t.$.dropDownButtonDropDown.children[u]||null),t._tabs.splice(u,0,a),s=u,a.group=o,t._updateIndexes(s)}},{key:"_insertIntoNewGroup",value:function(e){var t=this,i=e.tab,a=e.tabLabelContainer,n=e.group,o=t._addGroupContainer(n),r=o.label;o.dropDown.appendChild(a),t._groups.push(n);var l=Math.max(0,Math.min(e.index,t.$.tabStrip.childElementCount)),s=l;t._addNewTab&&s===t.$.tabStrip.childElementCount&&s--,t.$.tabStrip.insertBefore(r,t.$.tabStrip.children[s]||null),t._groupLabels.push(r);var d=document.createElement("jqx-tab-items-group");d.appendChild(i),t.$.tabContentSection.insertBefore(d,t.$.tabContentSection.children[l]),d.label=n;var u=d.previousElementSibling,c=0;u&&(u instanceof JQX.TabItem?c=u.index+1:u&&(c=u.lastElementChild.index+1)),t._tabLabelContainers.splice(c,0,a),t.$.dropDownButtonDropDown.insertBefore(e.dropDownLabelContainer,t.$.dropDownButtonDropDown.children[c]||null),t._tabs.splice(c,0,i),l=c,i.group=n,t._updateIndexes(l)}},{key:"_insertNearAGroup",value:function(e){var t=this,i=e.tab,a=e.tabLabelContainer,n=e.index;n=Math.max(0,Math.min(n,t._tabs.length));var o=t._tabs[n-1],r=t._tabs[n],l=r?r.group:void 0;o&&null!==o.group&&r&&null!==l?(r.tabLabelContainer.parentElement.insertBefore(a,r.tabLabelContainer),r.parentElement.insertBefore(i,r),i.group=l):r?null!==l?(t.$.tabStrip.insertBefore(a,t._groupLabels[t._groups.indexOf(l)]),t.$.tabContentSection.insertBefore(i,t.$.tabContentSection.querySelector('jqx-tab-items-group[label="'+l+'"]'))):(t.$.tabStrip.insertBefore(a,r.tabLabelContainer),t.$.tabContentSection.insertBefore(i,r)):(t.$.tabStrip.insertBefore(a,t._addNewTab||null),t.$.tabContentSection.appendChild(i)),t._tabLabelContainers.splice(n,0,a),t.$.dropDownButtonDropDown.insertBefore(e.dropDownLabelContainer,t.$.dropDownButtonDropDown.children[n]||null),t._tabs.splice(n,0,i),t._updateIndexes(n)}},{key:"_insertNoGrouping",value:function(e){var t=this,i=Math.max(0,Math.min(e.index,t._tabs.length)),a=e.tab,n=e.tabLabelContainer;t.$.tabStrip.insertBefore(n,t._tabLabelContainers[i]||t._addNewTab||null),t.$.tabContentSection.insertBefore(a,t._tabs[i]||null),t._tabLabelContainers.splice(i,0,n),t.$.dropDownButtonDropDown.insertBefore(e.dropDownLabelContainer,t.$.dropDownButtonDropDown.children[i]||null),t._tabs.splice(i,0,a),t._updateIndexes(i)}},{key:"_keydownHandler",value:function(e){var t=this,i=e.key;if(!(document.activeElement!==t||-1===["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","End","Home","Enter"," ","Escape"].indexOf(i)||t.disabled||t.readonly||"none"===t.selectionMode||!t.allowToggle&&null===t.selectedIndex||t._reordering||t._swiping)){e.preventDefault();var a=t._tabs.length-1,n=void 0,o=void 0,r=0;switch(i){case"ArrowLeft":case"ArrowUp":if(t.collapsible&&e.ctrlKey)return void("ArrowLeft"===i?"right"===t.tabPosition?t.expand():"left"===t.tabPosition&&t.collapse():"ArrowUp"===i&&("bottom"===t.tabPosition?t.expand():"top"===t.tabPosition&&t.collapse()));if(r=-1,0===t.selectedIndex){o=!0;break}n=t.selectedIndex+r;break;case"ArrowRight":case"ArrowDown":if(t.collapsible&&e.ctrlKey)return void("ArrowRight"===i?"right"===t.tabPosition?t.collapse():"left"===t.tabPosition&&t.expand():"ArrowDown"===i&&("bottom"===t.tabPosition?t.collapse():"top"===t.tabPosition&&t.expand()));if(r=1,t.selectedIndex===a){o=!0;break}n=t.selectedIndex+r;break;case"End":if(t.selectedIndex===a){o=!0;break}n=a;break;case"Home":if(0===t.selectedIndex){o=!0;break}n=0;break;case"Enter":case" ":if(!t.allowToggle)return;if(t._focusedItem){t.select(t._focusedItem.index);var l=t._focusedItem.tabLabelContainer.closest(".jqx-tab-group-drop-down");l&&t._openGroupDropDown(l.groupContainer)}return;case"Escape":return void(t._openDropDown&&t._closeGroupDropDown())}if(t.allowToggle&&t._tabs.length>0){t._focusedItem?t._focusedItem.tabLabelContainer.removeAttribute("focus"):t._focusedItem=t._focusedItem||t._tabs[t.selectedIndex]||t._tabs[0],t._focusedItem=t._tabs[Math.min(Math.max(0,t._focusedItem.index+r),a)],t._focusedItem.tabLabelContainer.setAttribute("focus",""),t.ensureVisible(t._focusedItem.index);var s=t._focusedItem.tabLabelContainer.closest(".jqx-tab-group-drop-down");return void(s&&s.groupContainer?(t._openDropDown&&t._openDropDown!==s.dropDown&&t._closeGroupDropDown(),t._openGroupDropDown(s.groupContainer)):t._openDropDown&&t._closeGroupDropDown())}o||t.select(n)}}},{key:"_labelContainerHandler",value:function(e,t,i){var a=this,n="up"===i&&a._downTarget===e;if("down"===i&&(a._downTarget=e,"click"===a.selectionMode&&e!==a._addNewTab))if(JQX.Utilities.Core.isMobile&&null===e.tab.group){var o=a.$.tabStrip[a._orientationSettings.scrollDirection];setTimeout(function(){if(o===a.$.tabStrip[a._orientationSettings.scrollDirection]){a._ripple(t,e)&&a._openDropDown&&a._openDropDown.contains(e)&&(a._openDropDown.rippleInProgress=!0)}},100)}else{var r=a._ripple(t,e);r&&a._openDropDown&&a._openDropDown.contains(e)&&(a._openDropDown.rippleInProgress=!0)}if(e===a._addNewTab)return void a._addNewTabHandler(e,i,n);var l=e.tab.index,s=!(a._reordering&&void 0!==a._reorderedIndex);n&&l===a.selectedIndex&&(a._closeGroupDropDown(),s&&null===e.tab.group&&a._toggleCollapsedState()),!a._swiping&&(s&&"click"===a.selectionMode&&n||!a._reordering&&(a.selectionMode===i||"mouseenter"===a.selectionMode&&"mouseover"===i))&&a._select(l,!0),a._reordering||a._swiping||"click"!==a.selectionMode&&"dblclick"!==a.selectionMode||("mouseover"!==i||e.hasAttribute("selected")?"mouseout"===i&&e.removeAttribute("hover"):e.setAttribute("hover","")),a.reorder&&"down"===i&&null===e.tab.group&&a._reorderItems.length>1&&(a._getTabCoordinates(),a._reordering=!0,a.setAttribute("dragged",""),e.hasAttribute("hover")&&(a._draggedHoveredTab=e),0===a._groups.length?a._draggedIndex=e.tab.index:a._draggedIndex=Array.from(a.$.tabStrip.children).indexOf(e))}},{key:"_labelSizeChangeHandler",value:function(e){var t=this,i=e.detail.size,a=void 0;"shrink"!==t.tabLayout&&(a=e.target instanceof JQX.TabItem?e.target.tabLabelContainer:t._groupLabels[t._groups.indexOf(e.target.label)],null!==i?a.style[t._orientationSettings.dimension]=parseInt(i,10)+"px":a.style.removeProperty(t._orientationSettings.dimension),t._applyTabOverflow())}},{key:"_openGroupDropDown",value:function(e){var t=this;e&&(t._openDropDown&&t._openDropDown.$.addClass("jqx-hidden"),e.dropDown.$.removeClass("jqx-hidden"),t._positionGroupDropDown(e),t._openDropDown=e.dropDown,e.removeAttribute("hover"))}},{key:"_orderTabs",value:function(){var e=this,t=e.getElementsByTagName("jqx-tab-items-group"),i=[],a=[],n=!0,o=!1;if(0===t.length)for(var r=0;r<e._tabs.length;r++){var l=e._tabs[r],s=l.index;if(n&&null!==s&&(n=!1),-1!==i.indexOf(s||0)&&(o=!0,null!==s))break;i.push(s||0),a.push({tab:l,index:s})}if(!o){var d=i.slice(0).sort(function(e,t){return e-t});JSON.stringify(i)===JSON.stringify(d)&&(n=!0)}if(n||o){n||e.warn(e.localize("ambiguousIndexes"));for(var u=0;u<e._tabs.length;u++)e._tabs[u]._setIndex(u)}else{a.sort(function(e,t){return e.index-t.index});for(var c=0;c<a.length;c++){var p=a[c].tab;p._setIndex(c),e.$.tabContentSection.removeChild(p)}for(var m=0;m<a.length;m++){var v=a[m].tab;e.$.tabContentSection.appendChild(v),e._tabs[m]=v}}}},{key:"_populateTabStrip",value:function(){for(var e=this,t=document.createDocumentFragment(),i=[],a=[],n=[],o=null,r=0;r<e._tabs.length;r++){var l=e._tabs[r],s=l.parentElement,d=s instanceof JQX.TabItemsGroup?s.label:null;l.group=d;var u=e._addTabLabelContainer(l),c=u.tabLabelContainer,p=u.dropDownLabelContainer;e.selectedIndex===r&&(c.$.addClass("jqx-tab-selected"),c.setAttribute("selected",""),o=c),l.tabLabelContainer=c,c.tab=l,i.push(c),null===d?t.appendChild(c):e._addGroupElements({documentFragment:t,groups:a,groupLabels:n,i:r,group:d,tabLabelContainer:c,jqxTabItemsGroup:s}),e.$.dropDownButtonDropDown.appendChild(p)}e.$.tabStrip.appendChild(t),e._tabLabelContainers=i,e._groups=a,e._groupLabels=n,e._positionTabSelectionBar(o,!0)}},{key:"_positionTabSelectionBar",value:function(e,t){function i(){a.$.tabSelectionBar.style.top=r,a.$.tabSelectionBar.style.height=s,a.$.tabSelectionBar.style.left=o,a.$.tabSelectionBar.style.width=l}var a=this;if(e){var n=a.tabPosition,o=void 0,r=void 0,l=void 0,s=void 0;t&&(a.$.tabSelectionBar.style.transition="none"),e.tab.group&&(e=a._groupLabels[a._groups.indexOf(e.tab.group)]),"top"===n||"bottom"===n?("wrap"===a.tabLayout?(r=e.offsetTop,"top"===n&&(r+=e.offsetHeight-a.$.tabSelectionBar.offsetHeight),r+="px"):r=null,s=null,o=-a.$.tabStrip.scrollLeft+e.offsetLeft+"px",l=e.offsetWidth+"px"):"left"!==n&&"right"!==n||("wrap"===a.tabLayout?(o=e.offsetLeft,"left"===n&&(o+=e.offsetWidth-a.$.tabSelectionBar.offsetWidth),o+="px"):o=null,l=null,r=-a.$.tabStrip.scrollTop+e.offsetTop+"px",s=e.offsetHeight+"px"),JQX.Utilities.Core.isMobile&&a.hasAnimation&&!t?requestAnimationFrame(function(){requestAnimationFrame(i)}):i(),t&&!a._tabPositionChanging&&requestAnimationFrame(function(){return a.$.tabSelectionBar.style.transition=null})}}},{key:"_positionGroupDropDown",value:function(e){var t=this,i=t.tabPosition,a=e.dropDown,n=window.getComputedStyle(t.$.tabsHeaderSection),o=parseFloat(n.paddingLeft),r=parseFloat(n.paddingTop);if("top"===i||"bottom"===i){if(a.style.left=e.offsetLeft-t.$.tabStrip.scrollLeft+o+"px","top"===i)a.style.top=e.offsetTop+e.offsetHeight+r+"px";else{var l=e.getBoundingClientRect().top-t.$.container.getBoundingClientRect().top+r;a.style.top=l+"px"}}else a.style.top=e.offsetTop-t.$.tabStrip.scrollTop+r+"px",a.style.left="left"===i?e.offsetLeft+e.offsetWidth+o+"px":e.getBoundingClientRect().left-t.$.container.getBoundingClientRect().left+o+"px"}},{key:"_processDataSource",value:function(){function e(t,i){var a=void 0;if(Array.isArray(t.items)&&t.items.length>0){a=document.createElement("jqx-tab-items-group");for(var n=0;n<t.items.length;n++)t.items[n].items||e(t.items[n],a)}else a=document.createElement("jqx-tab-item"),!0===t.closeButtonHidden&&(a.closeButtonHidden=!0),void 0!==t.content&&(a.innerHTML=t.content),void 0!==t.index&&(a.index=t.index),!0===t.selected&&(a.selected=t.selected);void 0!==t.label&&(a.label=t.label),void 0!==t.labelSize&&(a.labelSize=t.labelSize),i.appendChild(a)}var t=this,i=t.dataSource;if(t.$.tabContentSection.innerHTML="",null!==i)for(var a=0;a<i.length;a++){var n=i[a];e(n,t.$.tabContentSection)}}},{key:"_processHTML",value:function(){var e=this;e._getTabs(),e._orderTabs(),e._validateInitialSelection(),e._populateTabStrip(),e.addNewTab&&e._insertAddNewTab(),e._getReorderItems(),e._applyTabOverflow(),e.ensureVisible(e.selectedIndex)}},{key:"_removeInlineStyle",value:function(){var e=this,t=e.$.tabStrip;if(e._inlineStyleTabStripChildren){for(var i=t.children,a=0;a<i.length;a++)i[a].removeAttribute("style"),i[a].firstElementChild.firstElementChild.classList.remove("jqx-tab-label-text-container-full-height");delete e._inlineStyleTabStripChildren}e._inlineStyleTabStrip&&(t.removeAttribute("style"),delete e._inlineStyleTabStrip),t.$.removeClass("shrink-tabs"),t.$.removeClass("shrink-tabs-vertical")}},{key:"_reorderTabs",value:function(e,t){function i(e,t,i){var a=e[t];e.splice(t,1),e.splice(i,0,a)}var a=this;if(0===a._groups.length){var n=a._tabs,o=a._tabLabelContainers,r=e>t?t:t+1;a.selectedIndex===e?a.selectedIndex=t:a.selectedIndex<=t&&a.selectedIndex>e?a.selectedIndex--:a.selectedIndex>=t&&a.selectedIndex<e&&a.selectedIndex++;var l=void 0;l=o[r]?o[r]:a.addNewTab?a._addNewTab:null,a.$.tabStrip.insertBefore(o[e],l),a.$.dropDownButtonDropDown.insertBefore(a.$.dropDownButtonDropDown.children[e],a.$.dropDownButtonDropDown.children[r]||null),a.$.tabContentSection.insertBefore(n[e],n[r]||null),i(n,e,t),i(o,e,t),a._updateTabIndexes()}else a._reorderTabsGrouping(e,t);a.$.fireEvent("reorder",{newIndex:t,originalIndex:e}),a._reorderedIndex=t,a._positionTabSelectionBar(a._tabLabelContainers[a.selectedIndex],!0)}},{key:"_reorderTabsGrouping",value:function(e,t){var i=this,a=i.$.tabStrip.children,n=i.$.tabContentSection.children,o=e>t?t:t+1,r=i._tabs[i.selectedIndex];i.$.tabStrip.insertBefore(a[e],a[o]||null),i.$.tabContentSection.insertBefore(n[e],n[o]||null),i._groupLabels=Array.from(i.$.tabStrip.getElementsByClassName("jqx-tab-group-container")),i._groups=[];for(var l=0;l<i._groupLabels.length;l++)i._groups.push(i._groupLabels[l].group);i._tabs=Array.from(i.$.tabContentSection.getElementsByTagName("jqx-tab-item"));for(var s=document.createDocumentFragment(),d=[],u=0;u<i._tabs.length;u++)s.appendChild(i.$.dropDownButtonDropDown.children[i._tabs[u].index].cloneNode(!0));i.$.dropDownButtonDropDown.innerHTML="",i.$.dropDownButtonDropDown.appendChild(s);for(var c=0;c<i.$.tabStrip.childElementCount;c++){var p=i.$.tabStrip.children[c];p.$.hasClass("jqx-tab-label-container")&&p!==i._addNewTab?d.push(p):p.$.hasClass("jqx-tab-group-container")&&(d=d.concat(Array.from(p.dropDown.children)))}i._tabLabelContainers=d,i._updateTabIndexes(),r&&(i.selectedIndex=r.index)}},{key:"_resize",value:function(e){var t=this;if(t._resizing){var i=t._orientationSettings,a=e[i.coordinate]-t._resizeFrom,n=t._getCorrespondingCustomElement(t._tabToResize),o=void 0;o=null===n.labelSize?t._tabToResize[i.size]:n.labelSize;var r=Math.max(10,o+a);r!==o&&(n._preventPropertyChangedHandler=!0,n.labelSize=r,t._tabToResize.style[i.dimension]=parseInt(r,10)+"px"),t.$resizeToken.addClass("jqx-hidden"),t._applyTabOverflow(),t._resizing=!1,t.removeAttribute("resizing")}}},{key:"_ripple",value:function(e,t){if(this.hasRippleAnimation){var i=document.createElement("div");return i.className="ripple-agent",t.firstElementChild.appendChild(i),setTimeout(function(){t.firstElementChild.removeChild(i)},1e3),JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),!0}}},{key:"_scrollButtonClickHandler",value:function(e){var t=this,i=t.$.tabStrip,a=e.target.closest("jqx-repeat-button")===t.$.scrollButtonNear?-1:1;if("paging"===t.scrollMode){var n=t._orientationSettings,o={};return t._dragStartDetails={startX:0,startY:0,pageX:0,pageY:0,startTime:Date.now(),target:e.target},t._wheelInProgress=!0,o[n.coordinate]=-a*(i[n.size]/1.1428571428571428),void t._endSwiping(o,t._dragStartDetails.startTime+175)}t.hasAttribute("horizontal")?i.scrollLeft+=10*a:i.scrollTop+=10*a,t._updateScrollButtonVisibility(!0)}},{key:"_select",value:function(e,t,i){var a=this,n=a.hasAnimation;if(void 0===i&&(i=a.selectedIndex),e!==i||a.allowToggle&&(!a.allowToggle||"mouseenter"!==a.selectionMode)){var o=a._tabs[e];if(a._focusedItem&&a._focusedItem.tabLabelContainer.removeAttribute("focus"),null!==i){var r=a._tabs[i];n?a._animateSelection(o,r,e>i):r.$.addClass("jqx-visibility-hidden"),r.selected=!1,a._tabLabelContainers[i].$.removeClass("jqx-tab-selected"),a._tabLabelContainers[i].removeAttribute("selected"),a.closeButtons&&"selected"===a.closeButtonMode&&a._disableCloseButton(i)}!a.allowToggle||null!==e&&(void 0!==arguments[2]?i:a.selectedIndex)!==e?(o.selected=!0,a.$.tabContentSection.removeAttribute("show-placeholder"),null!==i&&n||o.$.removeClass("jqx-visibility-hidden"),a.selectedIndex=e,a._focusedItem=a._tabs[e],a._focusedItem.tabLabelContainer.$.addClass("jqx-tab-selected"),a._focusedItem.tabLabelContainer.setAttribute("selected",""),a._positionTabSelectionBar(a._focusedItem.tabLabelContainer,null===i)):(a.selectedIndex=null,a.$.tabContentSection.setAttribute("show-placeholder",""),a.allowToggle&&(a._focusedItem=a._tabs[null===e?i:e],a._focusedItem&&a._focusedItem.tabLabelContainer.setAttribute("focus",""))),null!==e&&(a._tabLabelContainers[e].removeAttribute("hover"),a.closeButtons&&"selected"===a.closeButtonMode&&a._enableCloseButton(e)),t&&(a.$.hiddenInput.value=a.selectedIndex,a.$.fireEvent("change",{index:a.selectedIndex,oldIndex:i})),a._closeGroupDropDown(),o&&null!==o.group?(a._selectedGroup&&a._selectedGroup.$.removeClass("jqx-tab-group-selected"),null!==a.selectedIndex&&(a._selectedGroup=a._groupLabels[a._groups.indexOf(o.group)],a._selectedGroup.$.addClass("jqx-tab-group-selected"))):a._selectedGroup&&(a._selectedGroup.$.removeClass("jqx-tab-group-selected"),delete a._selectedGroup)}}},{key:"_selectStartHandler",value:function(e){var t=this;(t._reordering||t._resizing)&&e.preventDefault()}},{key:"_setLabel",value:function(e,t,i){var a=e?document.getElementById(e):null;if(null!==a&&"template"===a.tagName.toLowerCase()){var n=document.importNode(a.content,!0);if(t.appendChild(n),i){var o=document.importNode(a.content,!0);i.appendChild(o)}}else""===e&&(e="&nbsp;"),t.innerHTML=e,i&&(i.innerHTML=e)}},{key:"_showCloseButton",value:function(e){e.closeButtonEnabled&&(e.firstElementChild.children[0].$.addClass("jqx-close-button-enabled"),e.firstElementChild.children[1].$.removeClass("jqx-hidden"))}},{key:"_tabContentSectionTransitionendHandler",value:function(e){var t=this,i=e.target;i instanceof JQX.TabItem&&(i===t._animatedOldTab?(i.$.addClass("jqx-hidden"),i.$.removeClass("animate"),i.$.removeClass(t._animatedOldTab.classToRemove),i.$.removeClass("jqx-hidden"),delete t._animatedOldTab):i===t._animatedTab&&(i.$.removeClass("animate"),delete t._animatedTab),i.classList.remove("left"),i.classList.remove("right"),i.classList.remove("top"),i.classList.remove("bottom"))}},{key:"_tabsHeaderItemsWheelHandler",value:function(e){var t=this,i=t._orientationSettings;if(t.enableMouseWheelAction&&!t._wheelInProgress&&!t.disabled&&t.$.tabStrip[i.size]!==t.$.tabStrip[i.scrollSize]){e.preventDefault(),t._dragStartDetails={startX:e.pageX,startY:e.pageY,pageX:e.pageX,pageY:e.pageY,startTime:Date.now(),target:e.target},t._wheelInProgress=!0;var a={};a[i.coordinate]=e[i.coordinate]+(e.deltaY>0?-1:1)*i.wheelOffset,t._endSwiping(a,t._dragStartDetails.startTime+100)}}},{key:"_tabStripHandler",value:function(e,t){var i=this,a=t.type;if("down"===a&&void 0!==i._tabToResize)return i._resizing=!0,void(i._tabsHeaderSectionCoordinate=i.$.tabsHeaderSection.getBoundingClientRect()[i._orientationSettings.edge]);"down"===a&&JQX.Utilities.Core.isMobile&&(i._dragStartDetails={startX:t.pageX,startY:t.pageY,pageX:t.pageX,pageY:t.pageY,startTime:Date.now(),originalTime:Date.now(),target:t.originalEvent.target});var n=e.closest("jqx-repeat-button");if("up"===a&&n)return i.focus(),void(i.resize&&i._getTabCoordinates());if(e.classList.contains("jqx-tab-close-button"))if("up"===a){if(e===i._downTarget){var o=e.parentElement.parentElement.tab.index,r=i.$.fireEvent("closing",{index:o});return void(r.defaultPrevented||(i.remove(o),i.$.fireEvent("close",{index:o})))}}else{if("down"===a)return void(i._downTarget=e);i._reordering||i._swiping||("mouseover"===a?e.setAttribute("hover",""):"mouseout"===a&&e.removeAttribute("hover"))}var l=e.closest(".jqx-tab-label-container");if(null!==l)return void i._labelContainerHandler(l,t,a);var s=e.closest(".jqx-tab-group-container");null!==s&&i._groupContainerHandler(s,a)}},{key:"_tabStripMouseleaveHandler",value:function(){var e=this;e.resize&&!e._resizing&&e.hasAttribute("resizing")&&e.removeAttribute("resizing")}},{key:"_tabStripMoveHandler",value:function(e){var t=this;if(t._dragStartDetails&&!t._dragStartDetails.checked&&(Date.now()-t._dragStartDetails.originalTime<500?(t._endReordering(void 0,void 0),t._dragStartDetails.checked=!0):delete t._dragStartDetails),t._dragStartDetails&&(Math.abs(t._dragStartDetails.pageX-e.pageX)>=5||Math.abs(t._dragStartDetails.pageY-e.pageY)>=5)){
var i=t._orientationSettings,a=t._dragStartDetails[i.coordinate]-e[i.coordinate],n=t.$.tabStrip[i.scrollDirection];return t.$.tabStrip[i.scrollDirection]+=a,n!==t.$.tabStrip[i.scrollDirection]&&t._updateScrollButtonVisibility(),t._dragStartDetails={startX:t._dragStartDetails.startX,startY:t._dragStartDetails.startY,pageX:e.pageX,pageY:e.pageY,startTime:t._dragStartDetails.startTime,originalTime:t._dragStartDetails.originalTime,target:e.originalEvent.target,checked:t._dragStartDetails.checked},void(t._swiping=!0)}if(t.resize&&!t._resizing&&!t._reordering&&"shrink"!==t.tabLayout){for(var o=t._orientationSettings,r=e[o.coordinate],l=t._tabCoordinates,s=void 0,d=0;d<l.length;d++){var u=l[d][o.to];if(r>=u-4&&r<=u+4){s=t._reorderItems[d],t._resizeFrom=r;break}}void 0!==s?(t._tabToResize=s,t.setAttribute("resizing","")):(t._tabToResize=void 0,t.removeAttribute("resizing"))}}},{key:"_toggleCollapsedState",value:function(){var e=this;e.collapsible&&(e.collapsed?e.expand():e.collapse())}},{key:"_toggleNavigationElementsVisibility",value:function(){var e=this,t=e._tabs.length,i=void 0;if(0===t)i="addClass";else{if(1!==t)return;i="removeClass"}"scroll"===e.tabLayout&&"scroll"===e.overflow?(e.$scrollButtonNear[i]("jqx-hidden"),e.$scrollButtonFar[i]("jqx-hidden")):"dropDown"===e.tabLayout&&e.$dropDownButton[i]("jqx-hidden")}},{key:"_updateIndexes",value:function(e){var t=this;null!==t.selectedIndex&&e<=t.selectedIndex&&t.selectedIndex++,t._updateTabIndexes()}},{key:"_updateScrollButtonVisibility",value:function(e){var t=this;if("scroll"!==t.tabLayout||"hidden"===t.overflow)return void t._positionTabSelectionBar(t._tabLabelContainers[t.selectedIndex],e);var i=t.$tabsHeaderSection,a=t.$.tabStrip,n=t._orientationSettings,o=!0,r=!0;if(0===Math.round(a[n.scrollDirection])&&(o=!1),Math.round(a[n.size]+a[n.scrollDirection])>=Math.round(a[n.scrollSize])-1&&(r=!1),"auto"===t.overflow){if(o&&r)return t.$scrollButtonNear.removeClass("jqx-hidden"),t.$scrollButtonFar.removeClass("jqx-hidden"),i.removeClass("one-button-shown"),void(t._tabLabelContainers[t.selectedIndex]&&t._positionTabSelectionBar(t._tabLabelContainers[t.selectedIndex],e));o?t.$scrollButtonNear.removeClass("jqx-hidden"):t.$scrollButtonNear.addClass("jqx-hidden"),r?t.$scrollButtonFar.removeClass("jqx-hidden"):t.$scrollButtonFar.addClass("jqx-hidden"),i.addClass("one-button-shown"),t._getTabCoordinates()}else"scroll"!==t.overflow||t.disabled||(t.$.scrollButtonNear.disabled=!o,t.$.scrollButtonFar.disabled=!r);t._tabLabelContainers[t.selectedIndex]&&t._positionTabSelectionBar(t._tabLabelContainers[t.selectedIndex],e)}},{key:"_updateTabIndexes",value:function(){var e=this;if(e._tabs.length>0)for(var t=0;t<e._tabs.length;t++)e._tabs[t]._setIndex(t);else e.selectedIndex=null}},{key:"_validateIndex",value:function(e,t){if(isNaN(parseInt(e,10))||"object"===(void 0===e?"undefined":babelHelpers.typeof(e))){var i=this;i.error(i.localize("invalidIndex",{method:t}))}}},{key:"_validateInitialSelection",value:function(){for(var e=this,t=e.selectedIndex,i=0;i<e._tabs.length;i++){var a=e._tabs[i];t===i?(a.selected=!0,a.$.removeClass("jqx-visibility-hidden")):a.selected?null===t?(t=i,a.$.removeClass("jqx-visibility-hidden")):(a.selected=!1,a.$.addClass("jqx-visibility-hidden")):a.$.addClass("jqx-visibility-hidden")}e._tabs.length>0&&null===t&&!e.allowToggle&&(t=0,e._tabs[0].selected=!0,e._tabs[0].$.removeClass("jqx-visibility-hidden")),e.selectedIndex=t,null!==e.selectedIndex&&(e._focusedItem=e._tabs[e.selectedIndex])}}],[{key:"properties",get:function(){return{addNewTab:{value:!1,type:"boolean"},allowToggle:{value:!1,type:"boolean"},closeButtonMode:{value:"default",allowedValues:["default","selected"],type:"string"},closeButtons:{value:!1,type:"boolean"},collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},enableMouseWheelAction:{value:!1,type:"boolean"},messages:{value:{en:{ambiguousIndexes:"jqx-tabs: Initially set jqx-tab-item indexes are ambiguous and are ignored in favour of the HTML structure.",detailsObjectRequired:'jqx-tabs: The method "insert" requires a details Object to be passed as a second argument.',invalidIndex:'jqx-tabs: "{{method}}" method accepts an index of type number.',referenceNodeNotChild:"jqx-tabs: Passed {{argument}} is not part of this jqx-tabs element.",tabItemRequired:'jqx-tabs: The method "{{method}}" requires a "jqx-tab-item" element to be passed as an argument.'}},type:"object",extend:!0},name:{value:"",type:"string"},overflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},reorder:{value:!1,type:"boolean"},resize:{value:!1,type:"boolean"},scrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},scrollMode:{value:"paging",allowedValues:["paging","continuous"],type:"string"},selectedIndex:{value:null,type:"number?"},selectionMode:{value:"click",allowedValues:["click","dblclick","mouseenter","none"],type:"string"},tabLayout:{value:"scroll",allowedValues:["scroll","dropDown","wrap","shrink"],type:"string",defaultReflectToAttribute:!0},tabPosition:{value:"top",allowedValues:["top","bottom","left","right","hidden"],type:"string"},tabTextOrientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"}}}},{key:"listeners",get:function(){return{closeButtonVisibilityChange:"_closeButtonVisibilityChangeHandler",indexChange:"_indexChangeHandler",keydown:"_keydownHandler",labelSizeChange:"_labelSizeChangeHandler",resize:"_applyTabOverflow",styleChanged:"_applyTabOverflow","container.dblclick":"_containerHandler","container.down":"_containerHandler","container.mouseout":"_containerHandler","container.mouseover":"_containerHandler","container.up":"_containerHandler","scrollButtonFar.click":"_scrollButtonClickHandler","scrollButtonNear.click":"_scrollButtonClickHandler","tabContentSection.transitionend":"_tabContentSectionTransitionendHandler","tabsHeaderItems.wheel":"_tabsHeaderItemsWheelHandler","tabStrip.mouseleave":"_tabStripMouseleaveHandler","tabStrip.move":"_tabStripMoveHandler","document.move":"_documentMoveHandler","document.selectstart":"_selectStartHandler","document.up":"_documentUpHandler"}}},{key:"requires",get:function(){return{"JQX.RepeatButton":"jqxbutton.js"}}},{key:"styleUrls",get:function(){return["jqx.tabs.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-time-picker",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                <div id="header" class="jqx-header jqx-unselectable">\n                    <div id="hourMinuteContainer" class="jqx-hour-minute-container">\n                        <div id="hourContainer" class ="jqx-hour-container"></div>\n                        <div>:</div>\n                        <div id="minuteContainer" class="jqx-minute-container"></div>\n                    </div>\n                    <div id="ampmContainer" class="jqx-am-pm-container">\n                        <div id="amContainer" class="jqx-am-container">AM</div>\n                        <div id="pmContainer" class="jqx-pm-container">PM</div>\n                    </div>\n                </div>\n                <div id="main" class="jqx-main-container">\n                    <div id="svgContainer" class="jqx-svg-container">\n                        <div id="picker" class="jqx-svg-picker"></div>\n                    </div>\n                    <div id="footer" class="jqx-footer"></div>\n                </div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n            </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this._createElement()}},{key:"setHours",value:function(e){var t=this;e=24===e?0:Math.max(0,Math.min(e,23)),e<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:e>12&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||e>12),t._drawArrow(!0,e,arguments[2]),t.hasAnimation||(t._inInnerCircle=!1))}},{key:"setMinutes",value:function(e){var t=this;e=60===e?0:Math.max(0,Math.min(e,59)),t._updateMinutes(e),"minute"===t.selection&&t._drawArrow(!0,e,arguments[1])}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this;switch(e){case"disabled":case"unfocusable":n._setFocusable();break;case"footer":case"view":n._resizeHandler();break;case"footerTemplate":n._validateFooterTemplate();break;case"format":var o=n.value.getHours();"12-hour"===a?(n.$ampmContainer.removeClass("jqx-hidden"),n.value.getHours()<12?n._selectAmPm("am"):n._selectAmPm("pm"),0===o?o=12:o>12&&(o-=12)):n.$ampmContainer.addClass("jqx-hidden"),n.$.hourContainer.innerHTML=o,"hour"===n.selection&&(n._draw.clear(),n._renderSVG());break;case"minuteInterval":var r=Math.max(1,Math.min(a,60));r!==a&&(n.minuteInterval=r),"minute"===n.selection&&(n.interval=r);break;case"selection":"hour"===a?n._changeToHourSelection():n._changeToMinuteSelection();break;case"value":n._oldValue=i,n._validateValue();var l=n.value.getHours()===i.getHours(),s=n.value.getMinutes()===i.getMinutes();l&&s||(s?n.setHours(n.value.getHours()):(l||n.setHours(n.value.getHours(),!0),n.setMinutes(n.value.getMinutes()))),delete n._oldValue}}},{key:"_applyInitialSettings",value:function(){var e=this,t=e.value,i=void 0,a=void 0;i=t.getHours(),a=t.getMinutes(),"12-hour"===e.format?i<12?(e._ampm="am",e.$amContainer.addClass("jqx-selected"),0===i&&(i=12)):(e._ampm="pm",e.$pmContainer.addClass("jqx-selected"),i>12&&(i-=12)):e.$ampmContainer.addClass("jqx-hidden"),a=a.toString(),1===a.length&&(a="0"+a),e.$.hourContainer.innerHTML=i,e.$.minuteContainer.innerHTML=a,"hour"===e.selection?e.$hourContainer.addClass("jqx-selected"):e.$minuteContainer.addClass("jqx-selected")}},{key:"_changeSelection",value:function(e,t){var i=this,a=e.pageX,n=e.pageY,o=i._getCenterCoordinates(),r=Math.sqrt(Math.pow(o.x-a,2)+Math.pow(o.y-n,2));if(i._measurements.center=o,"down"===e.type){if(r>i._measurements.radius)return void e.stopPropagation();i._dragging=!0}"24-hour"===i.format&&"hour"===i.selection&&r<i._measurements.radius-50?i._inInnerCircle=!0:i._inInnerCircle=!1;var l=Math.atan2(n-o.y,a-o.x),s=-1*l*180/Math.PI;s<0&&(s+=360),i._angle=s;var d=i._numericProcessor.getValueByAngle(i._angle);"hour"===i.selection?("24-hour"===i.format&&i._inInnerCircle?0!==d&&12!==d?d+=12:d=0:0===d&&(d=12),i._updateHours(d)):(60===d&&(d=0),i._updateMinutes(d)),void 0!==i._oldTimePart&&(cancelAnimationFrame(i._animationFrameId),i._drawArrow(!0,d,t))}},{key:"_changeToHourSelection",value:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;cancelAnimationFrame(e._animationFrameId),e.interval=1,e.$hourContainer.addClass("jqx-selected"),e.$minuteContainer.removeClass("jqx-selected"),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),"24-hour"===e.format&&(0===e.value.getHours()||e.value.getHours()>12)&&(e._inInnerCircle=!0),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1}},{key:"_changeToMinuteSelection",value:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;e._inInnerCircle=!1,cancelAnimationFrame(e._animationFrameId),e.interval=e.minuteInterval,e.$hourContainer.removeClass("jqx-selected"),e.$minuteContainer.addClass("jqx-selected"),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderMinutes(),e._drawArrow(!0,void 0,!0)}},{key:"_computeArrowBodyPoints",value:function(e,t,i,a){var n=this,o=Math.sin(t),r=Math.cos(t),l=e-i*r+a*o,s=e+i*o+a*r,d=e+i*r+a*o,u=e-i*o+a*r,c=e+i*r,p=e-i*o,m=e-i*r,v=e+i*o,h="M "+c+","+p+" L "+m+","+v+" L "+l+","+s+" "+d+","+u;return n._headCenter={x:(l+d)/2,y:(s+u)/2},h}},{key:"_createElement",value:function(){var e=this;if(e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},e._validateInitialPropertyValues(),e._applyInitialSettings(),e._numericProcessor=new JQX.Utilities.DecimalNumericProcessor(e),e._draw=new JQX.Utilities.Draw(e.$.picker),!e._isVisible())return void(e._renderingSuspended=!0);e._setPickerSize(),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable()}},{key:"_documentMoveHandler",value:function(e){var t=this;t._dragging&&t._changeSelection(e,!0)}},{key:"_documentUpHandler",value:function(){var e=this;e._dragging&&(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&"hour"===e.selection&&(e.hasAnimation?(e.$picker.addClass("animate"),setTimeout(function(){e.selection="minute",e._changeToMinuteSelection()},250),setTimeout(function(){e.$picker.removeClass("animate")},550)):(e.selection="minute",e._changeToMinuteSelection())))}},{key:"_drawArrow",value:function(e,t,i){function a(){l+=s,l=parseFloat((l%d).toFixed(1)),l<0&&(l+=d),n._drawArrowSVG(e,l),l!==t%d&&(n._animationFrameId=requestAnimationFrame(a))}var n=this,o="hour"===n.selection,r="12-hour"===n.format,l=n._oldTimePart;if(delete n._oldTimePart,void 0===t&&(o?(t=n.value.getHours(),r&&t>12&&(t-=12)):t=n.value.getMinutes()),void 0===l||i||!n.hasAnimation)return void n._drawArrowSVG(e,t);if(o&&!r)return void n._animate24HourView(l,t);var s=void 0,d=void 0;o?(s=.2,d=12,t%=d,l%=d):(s=1,d=60);var u=t-l,c=l-t;u<0&&(u+=d),c<0&&(c+=d),c<u&&(s*=-1),n._animationFrameId=requestAnimationFrame(a)}},{key:"_animate24HourView",value:function(e,t){function i(o){a._inInnerCircle=o,o?(e=parseFloat((e+n).toFixed(1)),e<0?e+=24:e<1&&(e+=12),12!==e&&24!==e||(e=0)):(e+=n,12!==e&&(e=parseFloat((e%12).toFixed(1))),e<=0&&(e+=12)),a._drawArrowSVG(!0,e),e!==t?a._animationFrameId=requestAnimationFrame(function(){i(o)}):a._inInnerCircle=!1}var a=this,n=.2;a._inInnerCircle=!1;var o=0===e||e>12,r=0===t||t>12;if(o!==r){if(e=o?Math.abs(e-12):(e+12)%24,a._inInnerCircle=r,a._drawArrowSVG(!0,e),e===t)return}else a._inInnerCircle=r;var l=e,s=t;a._inInnerCircle&&(0===s&&l<18?s=12:0===l&&s<18&&(l=12));var d=s-l,u=l-s;d<0&&(d+=12),u<0&&(u+=12),u<d&&(n*=-1),a._animationFrameId=requestAnimationFrame(function(){i(a._inInnerCircle)})}},{key:"_drawArrowSVG",value:function(e,t){var i=this,a=i._measurements,n=i._numericProcessor.getAngleByValue(t),o=void 0;o=i._inInnerCircle?i._computeArrowBodyPoints(a.radius,n,1,a.innerRadius-i._largestLabelSize/2-45):i._computeArrowBodyPoints(a.radius,n,1,a.innerRadius-i._largestLabelSize/2),e?(i._arrow.setAttribute("d",o),i._head.setAttribute("cx",i._headCenter.x),i._head.setAttribute("cy",i._headCenter.y),i._head.setAttribute("r",i._largestLabelSize),i._headRect=i._head.getBoundingClientRect(),t%1==0&&i._highlightLabel(t)):(i._arrow=i._draw.path(o,{class:"jqx-needle"}),i._head=i._draw.circle(i._headCenter.x,i._headCenter.y,i._largestLabelSize,{class:"jqx-needle-central-circle"}),i._headRect=i._head.getBoundingClientRect())}},{key:"_drawLabel",value:function(e,t,i){var a=this,n=a._measurements,o=n.radius,r={class:"jqx-label jqx-unselectable","font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,"font-style":n.fontStyle};"hour"===a.selection?a._plotInnerCircle?t>0?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t);var l=a._draw.measureText(t,0,r),s=o-i-a._largestLabelSize/2,d=o+s*Math.sin(e),u=o+s*Math.cos(e);a._draw.text(t,Math.round(d)-l.width/2,Math.round(u)-l.height/2,l.width,l.height,0,r).setAttribute("value",parseFloat(t))}},{key:"_getCenterCoordinates",value:function(){var e=this,t=e.$.picker.getBoundingClientRect(),i=e._measurements.radius,a=document.body.scrollLeft||document.documentElement.scrollLeft,n=document.body.scrollTop||document.documentElement.scrollTop;return{x:t.left+a+i,y:t.top+n+i}}},{key:"_getMeasurements",value:function(){var e=this,t=e._measurements,i=document.createElement("div"),a=void 0,n=void 0,o=void 0,r=void 0,l=void 0,s=void 0;i.className="jqx-label",i.style.position="absolute",i.style.visibility="hidden",e.$.svgContainer.appendChild(i),"hour"===e.selection?(a="1",n="23",e.max=12,e._drawMax="12",e._range=12):(a="00",n="55",e.max=60,e._drawMax="60",e._range=60),i.innerHTML=a,o=i.offsetWidth,l=i.offsetHeight,i.innerHTML=n,r=i.offsetWidth,s=i.offsetHeight,e._largestLabelSize=Math.max(o,l,r,s),e._tickIntervalHandler.labelsSize.minLabelSize=l,e._tickIntervalHandler.labelsSize.maxLabelSize=s;var d=window.getComputedStyle(i);t.fontSize=d.fontSize,t.fontFamily=d.fontFamily,t.fontWeight=d.fontWeight,t.fontStyle=d.fontStyle,e.$.svgContainer.removeChild(i)}},{key:"_headerClickHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly)switch(e.target){case t.$.hourContainer:"hour"!==t.selection&&(t.selection="hour",t._changeToHourSelection());break;case t.$.minuteContainer:"minute"!==t.selection&&(t.selection="minute",t._changeToMinuteSelection());break;case t.$.amContainer:if(!t.$amContainer.hasClass("jqx-selected")){t._selectAmPm("am");var i=new Date(t.value.getTime());t.value.setHours(t.value.getHours()-12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:i})}break;case t.$.pmContainer:if(!t.$pmContainer.hasClass("jqx-selected")){t._selectAmPm("pm");var a=new Date(t.value.getTime());t.value.setHours(t.value.getHours()+12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:a})}}}},{key:"_highlightLabel",value:function(e){var t=this;if(t._highlightedLabel){if(parseFloat(t._highlightedLabel.getAttribute("value"))===e)return;t._highlightedLabel.classList.remove("jqx-selected"),t._highlightedLabel=void 0}var i=void 0;"hour"===t.selection?(void 0===e&&(e=t.value.getHours()),"12-hour"===t.format&&(0===e?e=12:e>12&&(e-=12)),i=e):(void 0===e&&(e=t.value.getMinutes()),60===(i=5*Math.round(e/5))&&(i=0));var a=t.$.picker.querySelector('.jqx-label[value="'+i+'"]');a&&(i===e||t._overlapsLabel(a))&&(t._highlightedLabel=a,a.classList.add("jqx-selected"))}},{key:"_isVisible",value:function(){var e=this;return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}},{key:"_keydownHandler",value:function(e){var t=this;if(!t._dragging){var i=t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement,a=e.key;if(!t.$.header.contains(i)||"Enter"!==a&&" "!==a){if(i===t.$.picker&&!e.altKey){var n=void 0;if("ArrowRight"===a||"ArrowUp"===a?n=1:"ArrowLeft"!==a&&"ArrowDown"!==a||(n=-1),n)if(e.preventDefault(),"hour"===t.selection){var o=t.value.getHours();0===o&&-1===n?o=23:23===o&&1===n?o=0:o+=n,"12-hour"===t.format&&(o>=12&&t.$amContainer.hasClass("jqx-selected")?o-=12:o<12&&t.$pmContainer.hasClass("jqx-selected")&&(o+=12)),t.setHours(o,void 0,!0)}else{var r=t.value.getMinutes();n*=t.minuteInterval,r+n>=60?r=0:r<-1*n?r=60%n==0?60+n:60-60%n:r+=n,t.setMinutes(r,!0)}}}else e.preventDefault(),t._headerClickHandler({target:i})}}},{key:"_overlapsLabel",value:function(e){var t=this,i=e.getBoundingClientRect(),a=t._headRect;return 0===a.height&&(a=t._headRect=t._head.getBoundingClientRect()),!(i.right-10<a.left||i.left+10>a.right||i.bottom-10<a.top||i.top+10>a.bottom)}},{key:"_parseDateString",value:function(e,t){var i=e.indexOf("Date("),a=e.indexOf(")"),n=e;if(-1!==i&&-1!==a){if(n=e.slice(i+5,a),n=n.replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),""===n.trim())return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(n))return n=n.replace(/\s/g,""),n=n.split(","),n.map(function(e,t){n[t]=parseInt(e)}),n.unshift(null),n=new(Function.prototype.bind.apply(Date,n))}if(""===n.trim())return t;if(!isNaN(n))return new Date(parseInt(n,10));try{n=new Date(n)}catch(e){n=t}return isNaN(n.getTime())?t:n}},{key:"_pickerDownHandler",value:function(e){var t=this;t.disabled||t.readonly||!JQX.Utilities.Core.isMobile&&1!==e.which||t._changeSelection(e)}},{key:"_pickerMoveHandler",value:function(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}},{key:"_renderHours",value:function(){var e=this;e._highlightedLabel=void 0,e._majorTicksInterval=1,e._numericProcessor.addGaugeTicksAndLabels(),"24-hour"===e.format&&(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._numericProcessor.addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10)}},{key:"_renderMinutes",value:function(){var e=this;e._highlightedLabel=void 0,e._majorTicksInterval=5,e._numericProcessor.addGaugeTicksAndLabels()}},{key:"_renderSVG",value:function(){var e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);if(e._centralCircle=e._draw.circle(e._measurements.radius,e._measurements.radius,4,{class:"jqx-needle-central-circle"}),"hour"===e.selection&&"24-hour"===e.format&&(0===e.value.getHours()||e.value.getHours()>12)&&(e._inInnerCircle=!0),e._drawArrow(!1),e._inInnerCircle=!1,"hour"===e.selection){e.interval=1,e._renderHours();var t=e.value.getHours();"12-hour"===e.format&&t>12&&(t-=12),e._highlightLabel(t)}else e.interval=e.minuteInterval,e._renderMinutes(),e._highlightLabel(e.value.getMinutes())}},{key:"_resizeHandler",value:function(){var e=this,t=!1;if(!e._isVisible())return void(e._renderingSuspended=!0);e._renderingSuspended=!1,t=!0,e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())}},{key:"_selectAmPm",value:function(e){var t=this;"am"===e?(t._ampm="am",t.$pmContainer.removeClass("jqx-selected"),t.$amContainer.addClass("jqx-selected")):(t._ampm="pm",t.$amContainer.removeClass("jqx-selected"),t.$pmContainer.addClass("jqx-selected"))}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return e.$.hourContainer.removeAttribute("tabindex"),e.$.minuteContainer.removeAttribute("tabindex"),e.$.amContainer.removeAttribute("tabindex"),e.$.pmContainer.removeAttribute("tabindex"),void e.$.picker.removeAttribute("tabindex");var t=e.tabIndex>0?e.tabIndex:0;e.$.hourContainer.tabIndex=t,e.$.minuteContainer.tabIndex=t,e.$.amContainer.tabIndex=t,e.$.pmContainer.tabIndex=t,e.$.picker.tabIndex=t}},{key:"_setPickerSize",value:function(){var e=this,t=e.$.svgContainer.offsetWidth,i=e.$.svgContainer.offsetHeight,a=.9*Math.min(t,i);void 0!==e._pickerSize&&e._pickerSize!==a?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=a,e._measurements.radius=a/2,e._measurements.innerRadius=e._measurements.radius-10,a+="px",e.$.picker.style.width=a,e.$.picker.style.height=a}},{key:"_updateHours",value:function(e,t){var i=this,a=e;"12-hour"===i.format?"am"===i._ampm?12===a&&(a=0):a<12&&(a+=12):a=e;var n=void 0!==i._oldValue?i._oldValue:new Date(i.value.getTime()),o=n.getHours();if(a===o)return void delete i._oldTimePart;i._oldTimePart=o,void 0===i._oldValue&&i.value.setHours(a),i.$.hourContainer.innerHTML=e,!0!==t&&(i.$.hiddenInput.value=i.value,i.$.fireEvent("change",{value:i.value,oldValue:n}))}},{key:"_updateMinutes",value:function(e){var t=this,i=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),a=i.getMinutes();if(e===a)return void delete t._oldTimePart;t._oldTimePart=a,void 0===t._oldValue&&t.value.setMinutes(e),e=e.toString(),1===e.length&&(e="0"+e),t.$.minuteContainer.innerHTML=e,t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:i})}},{key:"_validateFooterTemplate",value:function(){var e=this,t=e.footerTemplate;if(null===t)return void(e.$.footer.innerHTML="");var i=void 0;if(t instanceof HTMLTemplateElement?i=t:"string"==typeof t&&((i=document.getElementById(t))instanceof HTMLTemplateElement||(i=void 0)),void 0===i)return e.footerTemplate=null,void(e.$.footer.innerHTML="");var a=document.importNode(i.content,!0);if(e.enableShadowDOM)return e.$.footer.innerHTML="<slot></slot>",void e.appendChild(a);e.$.footer.appendChild(a)}},{key:"_validateInitialPropertyValues",value:function(){var e=this;e._validateFooterTemplate(),e.minuteInterval=Math.max(1,Math.min(e.minuteInterval,60)),e._validateValue()}},{key:"_validateValue",value:function(){var e=this,t=e.value,i=void 0!==e._oldValue?this._oldValue:new Date;if(!(t instanceof Date))if("string"==typeof t){if(/^\d{1,2}:\d{1,2}$/.test(t)){var a=t.split(":");return void(e.value=new Date(i.getFullYear(),i.getMonth(),i.getDate(),parseFloat(a[0]),parseFloat(a[1])))}e.value=e._parseDateString(t,i)}else e.value=i}}],[{key:"properties",get:function(){return{autoSwitchToMinutes:{value:!1,type:"boolean"},footer:{value:!1,type:"boolean"},footerTemplate:{value:null,type:"any?"},format:{value:"12-hour",allowedValues:["12-hour","24-hour"],type:"string"},minuteInterval:{value:1,type:"number"},name:{value:"",type:"string"},selection:{value:"hour",allowedValues:["hour","minute"],type:"string"},value:{value:new Date,type:"any",reflectToAttribute:!1},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"}}}},{key:"listeners",get:function(){return{keydown:"_keydownHandler",resize:"_resizeHandler","header.click":"_headerClickHandler","picker.down":"_pickerDownHandler","picker.move":"_pickerMoveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}},{key:"requires",get:function(){return{"JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.Draw":"jqxdraw.js"}}},{key:"styleUrls",get:function(){return["jqx.timepicker.css"]}}]),t}(JQX.BaseElement)),JQX("jqx-toast",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return""}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"value":var o=n._instances[n._instances.length-1];o&&((n.enableShadowDOM?o.shadowRoot:o).querySelector(".jqx-toast-item-content").innerHTML=a);break;case"appendTo":case"modal":case"position":n._handleContainers();break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"attached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this);for(var e=this,i=["TopLeft","TopRight","BottomLeft","BottomRight","Custom","Modal"],a=0;a<i.length;a++){var n=e.$["toastContainer"+i[a]];n&&n.children.length&&("Custom"===i[a]?e._appendTo.appendChild(e._container):document.body.appendChild(n))}}},{key:"detached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this);for(var e=this,i=["TopLeft","TopRight","BottomLeft","BottomRight","Custom","Modal"],a=0;a<i.length;a++){var n=e.$["toastContainer"+i[a]];n&&(e._removeContainerListeners(n),n.parentElement.removeChild(n)),e.closeAll()}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e.value=e.innerHTML=e.value?e.value:e.innerHTML,e._instances=[],e.autoOpen&&e.open()}},{key:"closeAll",value:function(){for(var e=this,t=e._instances.length-1;t>-1;t--)e._close(e._instances[t])}},{key:"closeItem",value:function(e){var t=this;e&&0!==t._instances.length&&("string"==typeof e?e=document.getElementById(e):e instanceof HTMLElement&&(e=e.closest(".jqx-toast-item")),e&&-1!==t._instances.indexOf(e)&&t._close(e))}},{key:"closeLast",value:function(){var e=this;e._instances.length>0&&e._close(e._instances[e._instances.length-1])}},{key:"open",value:function(){var e=this;if(!e.disabled){e._handleContainers();var t=document.createElement("div");t.className="jqx-toast-item",e.value instanceof HTMLElement?(t.innerHTML=e._defaultItemTemplate(""),t.getElementsByClassName("jqx-toast-item-content")[0].appendChild(e.value)):t.innerHTML=e._handleItemTemplate()||e._defaultItemTemplate(e.value),e.showCloseButton&&t.setAttribute("show-close-button","");for(var i=0;i<e.classList.length;i++)e.classList[i].indexOf("jqx-")<0&&t.classList.add(e.classList[i]);if(e.type&&t.classList.add(e.type),t.setAttribute("animation",e.animation),e.enableShadowDOM&&!t.shadowRoot){for(var a=document.createDocumentFragment();t.childNodes.length;)a.appendChild(t.firstChild);t.attachShadow({mode:"open"});for(var n=[].slice.call(e.shadowRoot.children).filter(function(e){return"LINK"===e.tagName}),o=0;o<n.length;o++)t.shadowRoot.insertBefore(n[o].cloneNode(),t.shadowRoot.firstChild);t.shadowRoot.appendChild(a)}e._container.appendChild(t),t._parent=e._container,e._instances.push(t),e.$.fireEvent("open",{instance:t}),setTimeout(function(){t.setAttribute("opened","")},10),e.autoClose&&(t._autoCloseTimeout=setTimeout(function(){e._close(t)},e.autoCloseDelay))}}},{key:"_containerClickHandler",value:function(e){var t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target,a=i.closest(".jqx-toast-item-close-button"),n=(i.getRootNode().host||i).closest(".jqx-toast-item");a||n?(t.$.fireEvent("click",{instance:n}),a&&t._close(n)):t.modal&&t.closeAll()}},{key:"_close",value:function(e){var t=this;if(t._instances.indexOf(e)>-1){var i=window.getComputedStyle(e,null).getPropertyValue("transition-duration"),a=i.indexOf("ms")>-1?parseInt(i):1e3*parseFloat(i);e.removeAttribute("opened"),t._instances.splice(t._instances.indexOf(e),1),setTimeout(function(){clearTimeout(e._autoCloseTimeout),t.$.fireEvent("close",{instance:e}),e.parentNode&&e.parentNode.removeChild(e);var i=e._parent;i&&!i.children.length&&i.parentElement&&(t._removeContainerListeners(i),i.parentElement.removeChild(i))},a)}}},{key:"_defaultItemTemplate",value:function(e){return'<div class ="jqx-toast-item-header">\n                    <span class ="jqx-toast-item-close-button"></span>\n                </div>\n                <div class ="jqx-toast-item-container">\n                    <span class ="jqx-toast-item-icon"></span><span class ="jqx-toast-item-content">'+e+"</span>\n                </div>"}},{key:"_handleContainers",value:function(){var e=this,t=void 0;if("string"==typeof e.appendTo?t=document.getElementById(e.appendTo):e.appendTo instanceof HTMLElement&&(t=e.appendTo),e._container=e._getToastContainer(t),t)return e._appendTo=t,void(e._container.parentElement||(e._addContainerListeners(e._container),e._appendTo.appendChild(e._container)));t||!e.$.toastContainerCustom||e.$.toastContainerCustom.children.length||(e._removeContainerListeners(e.$.toastContainerCustom),e.$.toastContainerCustom.parentElement&&e.$.toastContainerCustom.parentElement.removeChild(e.$.toastContainerCustom)),e._container.parentElement||(e._addContainerListeners(e._container),document.body.appendChild(e._container))}},{key:"_addContainerListeners",value:function(e){var t=this;if(e){var i=e.getAttribute("jqx-id"),a=t["$"+i];a&&(a.listen("click",t._containerClickHandler.bind(t)),a.listen("swipeleft",t._swipeHandler.bind(t)),a.listen("swiperight",t._swipeHandler.bind(t)),a.listen("swipetop",t._swipeHandler.bind(t)),a.listen("swipebottom",t._swipeHandler.bind(t)))}}},{key:"_removeContainerListeners",value:function(e){var t=this;if(e){var i=e.getAttribute("jqx-id"),a=t["$"+i];a&&(a.unlisten("click"),a.unlisten("swipeleft"),a.unlisten("swiperight"),a.unlisten("swipetop"),a.unlisten("swipebottom"))}}},{key:"_getToastContainer",
value:function(e){var t=this,i=void 0;e?i="Custom":t.modal?i="Modal":(i=JQX.Utilities.Core.toCamelCase(t.position),i=i.charAt(0).toUpperCase()+i.slice(1));var a="toastContainer"+i;if(!t.$[a]){var n=document.createElement("div");n.setAttribute("jqx-id",a),n.classList.add("jqx-toast-container"),n.classList.add("jqx-toast-container-"+JQX.Utilities.Core.toDash(i)),t.$["toastContainer"+i]=n,t["$toastContainer"+i]=JQX.Utilities.Extend(n)}return t.$[a]}},{key:"_handleItemTemplate",value:function(){var e=this,t=e.itemTemplate;if(!("content"in document.createElement("template")))return void e.error(e.localize("htmlTemplateNotSuported",{elementType:e.nodeName.toLowerCase()}));if(!t)return e._defaultItemTemplate(e.value);if(null===(t=document.getElementById(t))||!("content"in t))return void e.error(e.localize("invalidTemplate",{elementType:e.nodeName.toLowerCase(),property:"template"}));var i=t.innerHTML,a=/{{\w+}}/g;return i.replace(a,e.value)}},{key:"_swipeHandler",value:function(e){var t=this,i=e.originalEvent.target.closest(".jqx-toast-item");e.stopPropagation(),i&&t.$.fireEvent(e.type,{instance:i})}}],[{key:"properties",get:function(){return{appendTo:{value:null,type:"any"},autoClose:{value:!1,type:"boolean"},autoCloseDelay:{value:3e3,type:"number"},autoOpen:{value:!1,type:"boolean"},itemTemplate:{value:null,type:"string?"},modal:{value:!1,type:"boolean"},position:{allowedValues:["top-left","top-right","bottom-left","bottom-right"],value:"top-right",type:"string"},showCloseButton:{value:!1,type:"boolean"},type:{allowedValues:["info","warning","success","error","mail","time",null],value:"info",type:"string?"},value:{value:"",type:"any"}}}},{key:"styleUrls",get:function(){return["jqx.toast.css"]}}]),t}(JQX.ContentElement)),JQX("jqx-tooltip",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="content" class="jqx-tooltip-content" inner-h-t-m-l="[[innerHTML]]">\n                        <content></content>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a);var n=this,o=void 0;switch(e){case"openMode":n.close(),n._handleEventListeners(i),n._handleResize();break;case"selector":n._oldOwnerElement=n._ownerElement,n._handleSelector(a),n._handleEventListeners();break;case"tooltipTemplate":n._handleTemplate(i);break;case"value":n.tooltipTemplate?n._handleTemplate():n.$.content.innerHTML=n.value;break;case"visible":o=a?"open":"close",n.$.fireEvent(o,{owner:n._ownerElement})}n._applyPosition()}},{key:"ready",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),e._isParentPositionStatic="static"===window.getComputedStyle(e.parentElement||document.querySelector("body")).position,e._handleSelector(e.selector),e.visible&&e._applyPosition(),e._handleEventListeners(),e._handleResize(),e.value=e.$.content.innerHTML=e.value?e.value:e.innerHTML,e._handleTemplate()}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}));t.$.content.appendChild(e),t._applyPosition()}},{key:"close",value:function(){var e=this;e._isOpening&&clearTimeout(e._isOpening),e.visible&&(e.$.fireEvent("close",{owner:e._ownerElement}),e.visible=!1)}},{key:"insertBefore",value:function(e,t){var i=this;if(!i.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,a.concat(Array.prototype.slice.call(arguments)))}if(!e||!t)return void i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}));i.$.content.insertBefore(e,t),i._applyPosition()}},{key:"open",value:function(){var e=this;e.disabled||e.readonly||e.visible||(e._isOpening=setTimeout(function(){e._applyPosition(),e.$.fireEvent("open",{owner:e._ownerElement});var t=e.context;e.context=e,e.visible=!0,e.context=t},e.delay))}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}));t.$.content.removeChild(e),t._applyPosition()}},{key:"toggle",value:function(){var e=this;e.visible?e.close():e.open()}},{key:"_applyPosition",value:function(){function e(e){for(var i=[],a=e.parentElement;a&&"BODY"!==a.nodeName;)i.push(a),a=!t.enableShadowDOM||a.parentElement?a.parentElement:a.getRootNode().host;return i}var t=this;if(t._ownerElement&&t.parentElement){t._isParentPositionStatic="static"===window.getComputedStyle(t.parentElement).position;var i=t._ownerElement.getBoundingClientRect(),a=t.parentElement?t.parentElement.getBoundingClientRect():{top:0,left:0},n=void 0,o=void 0;t.parentElement&&"BODY"===t.parentElement.nodeName.toUpperCase()?(n=i.top+window.scrollY+parseInt(t.offset[1]),o=i.left+window.scrollX+parseInt(t.offset[0])):(n=i.top-a.top+parseInt(t.offset[1]),o=i.left-a.left+parseInt(t.offset[0]));var r=function(){for(var i=e(t),a=i.length,n=null,o=t._ownerElement.getBoundingClientRect(),r=0;r<a;r++){if("static"!==window.getComputedStyle(i[r]).getPropertyValue("position")){n=i[r];break}}return{top:o.top,left:o.left,nonStaticParent:n}}(),l=t.position,s=void 0;switch(l){case"auto":case"bottom":case"top":case"left":case"right":var d=t["_position"+l.charAt(0).toUpperCase()+l.slice(1)](o,n,r);n=d.top,o=d.left,s=d.translate;break;case"absolute":n=parseInt(t.offset[1])||0,o=parseInt(t.offset[0])||0}s?t.$.container.style.setProperty("--jqx-tooltip-arrow-translate",s+"px"):t.$.container.style.removeProperty("--jqx-tooltip-arrow-translate"),t.style.top=n+"px",t.style.left=o+"px"}}},{key:"_positionAuto",value:function(e,t,i){for(var a=this,n=a._ownerElement.parentElement,o=void 0;n;){if("hidden"===getComputedStyle(n).getPropertyValue("overflow")){o=n;break}n=n.parentElement}o||(o=document.body);var r=o.getBoundingClientRect(),l=parseFloat(window.getComputedStyle(a).getPropertyValue("--jqx-tooltip-arrow-width"))||0,s=a._positionTop(e,t,i),d=i.nonStaticParent,u=a.offsetWidth/2-l,c=0,p=0;if(d){var m=d.getBoundingClientRect();c=m.top,p=m.left}return s.top+c>=r.top?(t=s.top,e=Math.max(r.left-p,s.left+Math.min(0,r.right-(s.left+p+a.offsetWidth))),{left:e,top:t,translate:Math.max(-u,Math.min(u,s.left-e))}):(s=a._positionBottom(e,t,i),s.top+a.offsetHeight+c<=r.bottom?(t=s.top,e=Math.max(r.left-p,s.left+Math.min(0,r.right-(s.left+p+a.offsetWidth))),{left:e,top:t,translate:Math.max(-u,Math.min(u,s.left-e))}):(s=a._positionLeft(e,t,i),t=s.top,u=a.offsetHeight/2-l,t=Math.max(r.top-c,s.top+Math.min(0,r.bottom-(s.top+c+a.offsetHeight))),s.left+p>=r.left?e=s.left:(s=a._positionRight(e,t,i),e=s.left),{left:e,top:t,translate:Math.max(-u,Math.min(u,s.top-t))}))}},{key:"_positionTop",value:function(e,t,i){var a=this;if(a.set("arrowDirection","bottom"),null===i.nonStaticParent)return t=i.top+window.scrollY-a.offsetHeight,e=i.left+window.scrollX-a.offsetWidth/2+a._ownerElement.offsetWidth/2,{left:e,top:t};if(a._isParentPositionStatic){if(t=a._ownerElement.offsetTop-a.offsetHeight,e=a._ownerElement.offsetLeft-a.offsetWidth/2+a._ownerElement.offsetWidth/2,a._ownerElement instanceof SVGElement){var n=a._ownerElement.getBoundingClientRect(),o=a._ownerElement.parentNode.getBoundingClientRect();t=n.top-o.top-a.offsetHeight/2,e=n.left-a.offsetWidth/2+o.left/2}return{left:e,top:t}}if(a._ownerElement instanceof SVGElement&&a._ownerElement.parentElement){var r=a._ownerElement.getBoundingClientRect(),l=a._ownerElement.parentNode.getBoundingClientRect();return t=r.top-l.top-a.offsetHeight,e=r.left-l.left-a.offsetWidth/2+r.width/2,{left:e,top:t}}return t-=a.offsetHeight,e=e-a.offsetWidth/2+a._ownerElement.offsetWidth/2,{left:e,top:t}}},{key:"_positionBottom",value:function(e,t,i){var a=this;return a.set("arrowDirection","top"),null===i.nonStaticParent?(t=i.top+window.scrollY+a._ownerElement.offsetHeight,e=i.left+window.scrollX-a.offsetWidth/2+a._ownerElement.offsetWidth/2,{left:e,top:t}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+a._ownerElement.offsetHeight,e=a._ownerElement.offsetLeft-a.offsetWidth/2+a._ownerElement.offsetWidth/2,{left:e,top:t}):(t+=a._ownerElement.offsetHeight,e=e-a.offsetWidth/2+a._ownerElement.offsetWidth/2,{left:e,top:t})}},{key:"_positionLeft",value:function(e,t,i){var a=this;return a.set("arrowDirection","right"),null===i.nonStaticParent?(t=i.top+window.scrollY+a._ownerElement.offsetHeight/2-a.$.content.offsetHeight/2,e=i.left+window.scrollX-a.offsetWidth,{left:e,top:t}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+a._ownerElement.offsetHeight/2-a.$.content.offsetHeight/2,e=a._ownerElement.offsetLeft-a.offsetWidth,{left:e,top:t}):(t=t+a._ownerElement.offsetHeight/2-a.$.content.offsetHeight/2,e-=a.offsetWidth,{left:e,top:t})}},{key:"_positionRight",value:function(e,t,i){var a=this;return a.set("arrowDirection","left"),null===i.nonStaticParent?(t=i.top+window.scrollY+a._ownerElement.offsetHeight/2-a.$.content.offsetHeight/2,e=i.left+window.scrollX+a._ownerElement.offsetWidth,{left:e,top:t}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+a._ownerElement.offsetHeight/2-a.$.content.offsetHeight/2,e=a._ownerElement.offsetLeft+a._ownerElement.offsetWidth,{left:e,top:t}):(t=t+a._ownerElement.offsetHeight/2-a.$.content.offsetHeight/2,e+=a._ownerElement.offsetWidth,{left:e,top:t})}},{key:"_eventsHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly)return"click"===e.type?void(t.visible?this.close():this.open()):void("mouseenter"===e.type||"focus"===e.type?this.open():this.close())}},{key:"_handleEventListeners",value:function(e){var t=this;if(t._oldOwnerElement&&"manual"!==t.openMode&&(t._oldOwnerElement.$.unlisten("mouseenter.tooltip"),t._oldOwnerElement.$.unlisten("mouseleave.tooltip"),t._oldOwnerElement.$.unlisten("focus.tooltip"),t._oldOwnerElement.$.unlisten("blur.tooltip"),t._oldOwnerElement.$.unlisten("click.tooltip"),t._oldOwnerElement=null),t._ownerElement){if(e)switch(e){case"hover":t._ownerElement.$.unlisten("mouseenter.tooltip"),t._ownerElement.$.unlisten("mouseleave.tooltip");break;case"focus":t._ownerElement.$.unlisten("focus.tooltip"),t._ownerElement.$.unlisten("blur.tooltip");break;case"click":t._ownerElement.$.unlisten("click.tooltip")}if("manual"!==t.openMode)switch(t._ownerElement instanceof JQX.BaseElement||(t._ownerElement.$=JQX.Utilities.Extend(t._ownerElement)),t.openMode){case"hover":t._ownerElement.$.listen("mouseenter.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("mouseleave.tooltip",t._eventsHandler.bind(t));break;case"focus":t._ownerElement.$.listen("focus.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("blur.tooltip",t._eventsHandler.bind(t));break;case"click":t._ownerElement.$.listen("click.tooltip",t._eventsHandler.bind(t))}}}},{key:"_handleResize",value:function(){function e(){t._applyPosition()}var t=this;"click"===t.openMode?window.addEventListener("resize",e):window.removeEventListener("resize",e)}},{key:"_handleSelector",value:function(e){var t=this;return"string"==typeof e?void(t._ownerElement=e.length>0?document.getElementById(e):void 0):e instanceof HTMLElement||e instanceof SVGElement?void(t._ownerElement=e):null===e?void(t._ownerElement=void 0):void t.error(t.localize("invalidSelector",{elementType:t.nodeName.toLowerCase(),property:"selector"}))}},{key:"_handleTemplate",value:function(e){var t=this,i=t.tooltipTemplate;if(e&&(t.$.content.innerHTML=t.value?t.value:""),null!==i&&i){if("function"==typeof t.tooltipTemplate)return void t.tooltipTemplate(t.$.content,{value:t.value});if(!("content"in document.createElement("template")))return void t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}));if(null===(i=document.getElementById(i))||!("content"in i))return void t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"template"}));for(var a=i.content,n=a.childNodes.length,o=/{{\w+}}/g,r=void 0,l=[],s=0;s<n;s++)for(r=o.exec(a.childNodes[s].innerHTML);r;)l.push({childNodeIndex:s,bindingString:r[0]}),r=o.exec(a.childNodes[s].innerHTML);for(var d=l.length,u=document.importNode(i.content,!0),c=void 0,p=void 0,m=0;m<d;m++){c=u.childNodes[l[m].childNodeIndex],p=l.length;for(var v=0;v<p;v++)c.innerHTML=c.innerHTML.replace(l[m].bindingString,t.value)}t.$.content.innerHTML="";for(var h=0;h<u.childNodes.length;h++)u.childNodes[h].outerHTML&&(t.$.content.innerHTML+=u.childNodes[h].outerHTML)}}}],[{key:"properties",get:function(){return{arrow:{value:!1,type:"boolean"},arrowDirection:{allowedValues:["bottom","top","left","right"],value:"bottom",type:"string"},delay:{value:0,type:"number"},messages:{extend:!0,value:{en:{invalidSelector:'{{elementType}}: "{{property}}" must be a String, an HTMLElement or null.',htmlTemplateNotSuported:"{{elementType}}: Browser doesn't support HTMLTemplate elements.",invalidTemplate:'{{elementType}}: "{{property}}" property accepts a string that must match the id of an HTMLTemplate element from the DOM.',invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},offset:{value:[0,0],type:"array"},openMode:{allowedValues:["click","focus","hover","manual"],value:"hover",type:"string"},position:{allowedValues:["bottom","top","left","right","absolute","auto"],value:"top",type:"string"},selector:{value:null,type:"any?"},tooltipTemplate:{value:null,type:"any"},value:{value:"",type:"string",reflectToAttribute:!1},visible:{value:!1,type:"boolean"}}}},{key:"styleUrls",get:function(){return["jqx.tooltip.css"]}}]),t}(JQX.ContentElement)),JQX("jqx-tree-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"ready",value:function(){Object.defineProperty(this,"hasStyleObserver",{get:function(){return!1}}),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this)}},{key:"propertyChangedHandler",value:function(e,t,i){var a=this,n=a.menu;if("level"===e)return void(a.level=t);if("disabled"!==e&&"separator"!==e&&n){var o=n.context;switch(n.context=n,e){case"label":var r=n.sorted&&n.autoSort;a.firstElementChild.firstElementChild.firstElementChild.innerHTML=i,r&&(n._unsortItems(n.$.mainContainer),n._applyGrouping(n.$.mainContainer)),n._state.filter&&n._applyFilter(n._state.filter);break;case"selected":a.selected=t,i?n.select(a):n.unselect(a);break;case"shortcut":var l=a.firstElementChild.children[1];l||(l=document.createElement("div"),l.className="jqx-tree-item-shortcut",a.firstElementChild.appendChild(l)),l.innerHTML=i;break;case"value":n.sort&&n.sorted&&n.autoSort&&n._refreshSorting()}n.context=o}}}],[{key:"properties",get:function(){return{selected:{value:!1,type:"boolean"}}}}]),t}(JQX.MenuItem)),JQX("jqx-tree-items-group",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"ready",value:function(){Object.defineProperty(this,"hasStyleObserver",{get:function(){return!1}}),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this)}},{key:"propertyChangedHandler",value:function(e,t,i){var a=this,n=a.menu;if("level"===e)return void(a.level=t);if("disabled"!==e&&"separator"!==e&&n){var o=n.context;switch(n.context=n,e){case"expanded":a.expanded=t,i?n.expandItem(a):n.collapseItem(a);break;case"label":var r=n.sorted&&n.autoSort;a.firstElementChild.firstElementChild.firstElementChild.innerHTML=i,r&&(n._unsortItems(n.$.mainContainer),n._applyGrouping(n.$.mainContainer)),n._state.filter&&n._applyFilter(n._state.filter);break;case"selected":a.selected=t,i?n.select(a):n.unselect(a);break;case"value":n.sort&&n.sorted&&n.autoSort&&n._refreshSorting()}n.context=o}}}],[{key:"properties",get:function(){return{selected:{value:!1,type:"boolean"}}}}]),t}(JQX.MenuItemsGroup)),JQX("jqx-tree",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div class="jqx-tree-filter-input-container">\n                        <input id="filterInput" class="jqx-filter-input" disabled="[[disabled]]" placeholder="[[filterInputPlaceholder]]" type="text" />\n                    </div>\n                    <jqx-repeat-button id="scrollButtonNear" class="jqx-tree-scroll-button jqx-spin-button jqx-scroll-button-near jqx-hidden" animation="[[animation]]" unfocusable>\n                        <div id="arrowNear" class="jqx-arrow jqx-arrow-up"></div>\n                    </jqx-repeat-button>\n                    <jqx-scroll-viewer id="scrollViewer" animation="[[animation]]" horizontal-scroll-bar-visibility="hidden" right-to-left="[[right-to-left]]">\n                        <div id="mainContainer" class="jqx-tree-main-container">\n                            <content></content>\n                        </div>\n                        <input type="text" id="editInput" class="jqx-tree-edit-input jqx-hidden" />\n                    </jqx-scroll-viewer>\n                    <jqx-repeat-button id="scrollButtonFar" class="jqx-tree-scroll-button jqx-spin-button jqx-scroll-button-far jqx-hidden" animation="[[animation]]" unfocusable>\n                        <div id="arrowFar" class="jqx-arrow jqx-arrow-down"></div>\n                    </jqx-repeat-button>\n                    <div id="loadingIndicatorContainer" class="jqx-loader-container jqx-hidden">\n                        <span id="loadingIndicator" class="jqx-loader"></span>\n                        <span id="loadingIndicatorPlaceHolder" class="jqx-loader-label jqx-hidden">[[loadingIndicatorPlaceholder]]</span>\n                    </div>\n                </div>'}},{key:"addAfter",value:function(e,t){var i=this;void 0!==(t=i.getItem(t))&&i.addTo(e,t.parentItem,t,!0)}},{key:"addBefore",value:function(e,t){var i=this;void 0!==(t=i.getItem(t))&&i.addTo(e,t.parentItem,t)}},{key:"addTo",value:function(e,t){var i=this;if(e instanceof JQX.TreeItem||e instanceof JQX.TreeItemsGroup){var a=void 0,n=void 0;if(void 0===t)t=i.$.mainContainer,a=1,n=t;else{if((t=i.getItem(t))instanceof JQX.TreeItemsGroup==!1)return;a=t.level+1,n=t.itemContainer}i._createItemHTMLStructure(e,a,t,n.childElementCount,0);var o=i.sorted&&i.autoSort,r=i._state.filter,l=i.selectedIndexes.slice(0);o&&i._unsortItems(i.$.mainContainer),e instanceof JQX.TreeItemsGroup&&i._processHTML(e,a+1,!1);var s=arguments[2];s&&arguments[3]&&(s=s.nextElementSibling),s?(n.insertBefore(e,s),i._menuItems={},i._refreshItemPaths(i.$.mainContainer,!0,void 0,i.sorted&&!i.autoSort)):n.appendChild(e),o&&i._applyGrouping(i.$.mainContainer),r&&i._applyFilter(r),i._checkOverflow(),i._expandItemsByDefault(),i.selectedIndexes=[],i._applySelection(!0,l)}}},{key:"clearSelection",value:function(){var e=this,t=e.selectedIndexes.slice(0);e.selectedIndexes=[],e._applySelection(!1,t)}},{key:"collapseAll",value:function(e){var t=this,i=t.animation,a=!1===e&&t.hasAnimation;a&&(t.animation="none"),t._collapseAll(!0),a&&(t.animation=i)}},{key:"ensureVisible",value:function(e){var i=this;if(void 0!==(e=i.getItem(e))&&!e.hidden){var a=!1;e.level>1&&!i._isBranchExpanded(e)&&(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"expandItem",this).call(this,e.parentItem,void 0,!1),(a=i.hasAnimation)&&(i._ensureVisibleOnTransitionend=e)),a||i._ensureVisible(e)}}},{key:"expandAll",value:function(e){var t=this,i=t.animation,a=!1===e&&t.hasAnimation,n=1,o=(t.enableShadowDOM?t.shadowRoot:t).querySelectorAll('jqx-tree-items-group[level="1"]');for(a&&(t.animation="none");o.length>0;){for(var r=0;r<o.length;r++){var l=o[r];l.expanded||t._menuItemsGroupSelectionHandler(l,{target:l,type:"expand"})}n++,o=(t.enableShadowDOM?t.shadowRoot:t).querySelectorAll('jqx-tree-items-group[level="'+n+'"]')}a&&(t.animation=i)}},{key:"expandItem",value:function(e,t){var i=this;if(void 0!==(e=i.getItem(e))&&e instanceof JQX.TreeItemsGroup!=!1&&!i._isContainerOpened(e.container.level,e.container)){var a=!1===t&&i.hasAnimation,n=i.animation;a&&(i.animation="none"),i._discardKeyboardHover(),i._menuItemsGroupSelectionHandler(e,{target:e,type:"expand"},arguments[2]),a&&(i.animation=n)}}},{key:"filter",value:function(e){var t=this;t.filterable&&(t._applyFilter(e),t.$.filterInput.value=e)}},{key:"getState",value:function(){return JSON.parse(JSON.stringify(this._state))}},{key:"insert",value:function(e,t){function i(e){var t=e[a.itemsMember]||[],n="jqx-tree-items-group"===e.tagName||t.length>0?"jqx-tree-items-group":"jqx-tree-item",o=document.createElement(n);if(e.disabled&&(o.disabled=!0),e[a.displayMember]&&(o.label=e[a.displayMember]),e.separator&&(o.separator=!0),e[a.valueMember]&&(o.value=e[a.valueMember]),"jqx-tree-items-group"===n){e.expanded&&(o.expanded=!0);for(var r=0;r<t.length;r++)o.appendChild(i(t[r]))}else e.shortcut&&(o.shortcut=e.shortcut);return o}var a=this,n=void 0;if(e instanceof JQX.TreeItem||e instanceof JQX.TreeItemsGroup){if(a.contains(e))return;n=e}else{if("object"!==(void 0===e?"undefined":babelHelpers.typeof(e))||e.constructor!==Object)return;n=i(e)}if(void 0===t)return void a.addTo(n);if("number"==typeof t)t=t.toString();else if(t instanceof JQX.TreeItem||t instanceof JQX.TreeItemsGroup){if(!a.contains(t))return;t=t.path}else if("string"!=typeof t)return;var o=t.split("."),r=void 0,l=void 0;1===o.length?(l=a._menuItems[o[0]],l?a.addBefore(n,l):a.addTo(n)):(l=a._menuItems[t],r=a._menuItems[o.slice(0,o.length-1).join(".")],l?a.addBefore(n,l):r&&r instanceof JQX.TreeItemsGroup&&a.addTo(n,r))}},{key:"loadState",value:function(e){var t=this,i=t.selectedIndexes.slice(0),a=[];if(!e){if(!t.id)return void t.warn(t.localize("noId"));e=window.localStorage.getItem("jqxTree"+t.id)}"string"==typeof e&&(e=JSON.parse(e)),e.filter&&!t.filterable&&(e.filter="");var n=e.filter!==t._state.filter;e.sorted!==t.sorted?(t.sorted=e.sorted,t._updateState("sorted",t.sorted),e.sorted?t._applyGrouping(t.$.mainContainer):t._unsortItems(t.$.mainContainer),(e.filter||n)&&(t._applyFilter(e.filter),t.$.filterInput.value=e.filter)):n&&(t._applyFilter(e.filter),t.$.filterInput.value=e.filter),t._menuItemsGroupsToExpand=[];for(var o=0;o<e.expanded.length;o++){var r=t.getItem(e.expanded[o]);r&&t._menuItemsGroupsToExpand.push(r)}t._expandItemsByDefault(!0);for(var l=0;l<e.selected.length;l++){var s=t.getItem(e.selected[l]);s&&a.push(s.path)}t.selectedIndexes=a,t._applySelection(!1,i)}},{key:"moveDown",value:function(e){var t=this;e=t.getItem(e);var i=e.nextElementSibling;void 0!==e&&i&&!t.sorted&&(t._moveTreeItem(e,i,2,[t]),t.filterable&&t._state.filter&&t._applyFilter(t._state.filter))}},{key:"moveUp",value:function(e){var t=this;e=t.getItem(e);var i=e.previousElementSibling;void 0!==e&&i&&!t.sorted&&(t._moveTreeItem(e,i,0,[t]),t.filterable&&t._state.filter&&t._applyFilter(t._state.filter))}},{key:"refresh",value:function(){this._checkOverflow()}},{key:"removeItem",value:function(e){var t=this;if(void 0!==(e=t.getItem(e))){if(e instanceof JQX.TreeItemsGroup){var i=e.container;t._isContainerOpened(i.level,i)&&t._closeSubContainersTreeMode(i.level,i)}var a=t.sorted&&t.autoSort;a&&t._unsortItems(t.$.mainContainer),e.parentElement.removeChild(e),t._menuItems={},t._refreshItemPaths(t.$.mainContainer,!0,void 0,t.sorted&&!t.autoSort),a&&t._applyGrouping(t.$.mainContainer);var n=t._state.filter,o=t.selectedIndexes.slice(0);n&&t._applyFilter(n),t._checkOverflow(),t.selectedIndexes=[],t._applySelection(!0,o)}}},{key:"saveState",value:function(){var e=this;return e.id?window.localStorage.setItem("jqxTree"+e.id,JSON.stringify(e._state)):e.warn(e.localize("noId")),JSON.parse(JSON.stringify(e._state))}},{key:"select",value:function(e){var t=this;void 0===(e=t.getItem(e))||e.selected||e.templateApplied||t._handleSelection(e,{type:"programmatic"})}},{key:"unselect",value:function(e){var t=this;void 0!==(e=t.getItem(e))&&e.selected&&!e.templateApplied&&t._handleSelection(e,{type:"programmatic"})}},{key:"updateItem",value:function(e,t){if(void 0!==(e=this.getItem(e))&&void 0!==t){var i=e instanceof JQX.TreeItem;for(var a in t)if(t.hasOwnProperty(a)){if(i){if(-1===["disabled","label","level","selected","separator","shortcut","value"].indexOf(a))continue}else if(-1===["disabled","expanded","label","level","selected","separator","value"].indexOf(a))continue;e[a]=t[a]}}}},{key:"propertyChangedHandler",value:function(e,t,i){var a=this;switch(e){case"allowDrag":case"allowDrop":case"autoLoadState":case"autoSort":case"editable":case"filterInputPlaceholder":case"loadingIndicatorPlaceholder":case"selectionDisplayMode":case"showLines":case"showRootLines":case"toggleElementPosition":case"toggleMode":break;case"autoHideToggleElement":i?a.$mainContainer.addClass("hidden-arrows"):a.$mainContainer.removeClass("hidden-arrows");break;case"autoSaveState":if(!i)return;if(!a.id)return a.warn(a.localize("noId")),void(a.autoSaveState=!1);window.localStorage.setItem("jqxTree"+a.id,JSON.stringify(a._state));break;case"dataSource":var n=a.selectedIndexes.slice(0);a.selectedIndexes=[],a._menuItems={},a._processDataSource(),a._checkOverflow(),a._expandItemsByDefault(),a._applySelection(!0,n);var o=a._state.filter;o&&a._applyFilter(o);break;case"disabled":a._setFocusable(),a.$.scrollButtonNear.disabled=i,a.$.scrollButtonFar.disabled=i,i||a._updateScrollButtonVisibility();break;case"displayLoadingIndicator":i?(a._discardKeyboardHover(!0),a.$loadingIndicatorContainer.removeClass("jqx-hidden")):a.$loadingIndicatorContainer.addClass("jqx-hidden");break;case"filterable":!1===i&&(a._applyFilter(""),a.$.filterInput.value=""),a._checkOverflow();break;case"filterMode":a.filterable&&a._state.filter&&a._applyFilter(a._state.filter);break;case"hasThreeStates":if("checkBox"!==a.selectionMode)return;if(i)a._applySelection(!1);else for(var r=(a.enableShadowDOM?a.shadowRoot:a).querySelectorAll("[indeterminate]"),l=0;l<r.length;l++)r[l].removeAttribute("indeterminate");break;case"loadingIndicatorPosition":"center"===i?a.$loadingIndicatorPlaceHolder.addClass("jqx-hidden"):a.$loadingIndicatorPlaceHolder.removeClass("jqx-hidden");break;case"overflow":if("scrollbar"===a.scrollMode)return void(a.$.scrollViewer.verticalScrollBarVisibility="scroll"===i?"visible":"auto");a.$.scrollViewer.scrollTop=0,"hidden"===i?(a.$scrollViewer.removeClass("scroll-buttons-shown"),a.$scrollButtonNear.addClass("jqx-hidden"),a.$scrollButtonFar.addClass("jqx-hidden")):(a.$.scrollButtonNear.disabled=a.disabled,a.$.scrollButtonFar.disabled=a.disabled,"auto"===i?(a.$scrollButtonNear.addClass("jqx-hidden"),a.$scrollButtonFar.addClass("jqx-hidden"),a._checkOverflow()):(a.$scrollViewer.addClass("scroll-buttons-shown"),a.$scrollViewer.removeClass("one-button-shown"),a.$scrollButtonNear.removeClass("jqx-hidden"),a.$scrollButtonFar.removeClass("jqx-hidden"),a._updateScrollButtonVisibility())),a.$.scrollViewer.refresh();break;case"rightToLeft":var s=void 0,d=void 0;i?(s="paddingLeft",d="paddingRight"):(s="paddingRight",d="paddingLeft");for(var u in a._menuItems)if(a._menuItems.hasOwnProperty(u)){var c=a._menuItems[u],p=c.firstElementChild;p.style[s]="",a._setIndentation(p,c.level,d)}break;case"scrollMode":if("hidden"===a.overflow)return;if(a.$.scrollViewer.scrollTop=0,"scrollButtons"===i)return"scroll"===a.overflow&&(a.$scrollViewer.addClass("scroll-buttons-shown"),a.$scrollButtonNear.removeClass("jqx-hidden"),a.$scrollButtonFar.removeClass("jqx-hidden")),a.$.scrollViewer.verticalScrollBarVisibility="auto",void a._checkOverflow();a.$scrollViewer.removeClass("scroll-buttons-shown"),a.$scrollViewer.removeClass("one-button-shown"),a.$scrollButtonNear.addClass("jqx-hidden"),a.$scrollButtonFar.addClass("jqx-hidden"),"auto"===a.overflow?a.$.scrollViewer.verticalScrollBarVisibility="auto":a.$.scrollViewer.verticalScrollBarVisibility="visible";break;case"selectedIndexes":a._applySelection(!1,t);break;case"selectionMode":if(void 0===a._menuItems[0])return;if("one"===t&&"none"!==i&&"checkBox"!==i&&"radioButton"!==i||-1!==t.indexOf("oneOrMany")&&-1!==i.indexOf("oneOrMany")||"none"===t&&(-1!==i.indexOf("zero")||"checkBox"===i)||"zeroOrMany"===i&&"checkBox"!==t||"radioButton"===t&&-1!==i.indexOf("Many")||!a.hasThreeStates&&("checkBox"===i||"checkBox"===t&&"zeroOrMany"===i))return void(a._lastSelectedItem="one"===i||"oneOrManyExtended"===i?a._menuItems[a.selectedIndexes[a.selectedIndexes.length-1]]:void 0);if(a.hasThreeStates&&"checkBox"===t)for(var m=(a.enableShadowDOM?a.shadowRoot:a).querySelectorAll("[indeterminate]"),v=0;v<m.length;v++)m[v].removeAttribute("indeterminate");a._applySelection(!1);break;case"sort":if(!a.sorted)return;a._refreshSorting();break;case"sortDirection":a.sorted&&!a.sort&&(a._unsortItems(a.$.mainContainer),a._applyGrouping(a.$.mainContainer));break;case"sorted":if(!i&&!a.autoSort)return a._refreshItemPathsAndSelection(),void a._updateState("sorted",!1);i?a._applyGrouping(a.$.mainContainer):a._unsortItems(a.$.mainContainer);var h=a._state.filter;h&&a._applyFilter(h),a._updateState("sorted",i),a._checkOverflow();break;case"unfocusable":a._setFocusable()}}},{key:"_addDragFeedback",value:function(){var e=this,t=document.createElement("div");return t.className="jqx-tree-item-feedback",t.setAttribute("parent-tree-id",e.id),e.theme&&t.classList.add(e.theme),e.dragFeedbackFormatFunction?t.innerHTML=e.dragFeedbackFormatFunction(e._dragDetails.Items):1===e._dragDetails.Items.length?t.innerHTML=e._dragDetails.Item.label:(t.classList.add("multiple"),t.innerHTML="&#xf0c5;"),document.body.appendChild(t),t}},{key:"_applyFilter",value:function(e){function t(e,t){e?(t.hidden&&t.$.removeClass("jqx-hidden"),t.hidden=!1):(t.hidden||t.$.addClass("jqx-hidden"),t.hidden=!0)}function i(n,o){var r=!1,l=0,s=void 0;o=Array.from(o);for(var d=0;d<o.length;d++){var u=o[d];u instanceof JQX.TreeItem?t(a._findItem(u,e),u):i(u,u.itemContainer.children),u.hidden||(l++,s=u),r=r||!u.hidden}if(n!==a.$.mainContainer){var c=a._findItem(n,e);t(r||c,n),r&&null===c?n.$.addClass("filtered-child"):n.$.removeClass("filtered-child"),!r&&o.length>0?(n.hiddenChildren=!0,n.$.addClass("hidden-children"),a.collapseItem(n,void 0,!1)):(n.hiddenChildren=!1,n.$.removeClass("hidden-children"))}""!==e&&l>0&&s.$.addClass("last-filtered-child")}var a=this;if(""!==e||a.hasAttribute("filter-applied")){for(var n=Array.from(a.getElementsByClassName("last-filtered-child")),o=0;o<n.length;o++)n[o].$.removeClass("last-filtered-child");i(a.$.mainContainer,a.$.mainContainer.children),""!==e?a.setAttribute("filter-applied",""):a.removeAttribute("filter-applied"),a._updateState("filter",e),a._checkOverflow()}}},{key:"_applyHierarchicalSelection",value:function(e,t){for(var i=this,a=e!==i.$.mainContainer,n=a?e.itemContainer.children:e.children,o=0,r=0,l=0;l<n.length;l++){var s=n[l];e.selected&&s.set("selected",!0),s instanceof JQX.TreeItemsGroup?i._applyHierarchicalSelection(s,t):s.selected&&t.push(s.path),a&&(s.selected?o++:s.hasAttribute("indeterminate")&&r++)}
a&&(i._setThreeStateCheckbox(e,o,r),e.selected&&t.push(e.path))}},{key:"_applyRadioButtonSelection",value:function(e,t,i){for(var a=this,n=e!==a.$.mainContainer?e.itemContainer.children:e.children,o=[],r=void 0,l=0;l<n.length;l++){var s=n[l];s instanceof JQX.TreeItemsGroup&&a._applyRadioButtonSelection(s,t,i),s.set("selected",!1),-1!==t.indexOf(s.path)&&o.push(s)}r=0===o.length?n[0]:o[o.length-1],r.set("selected",!0),i.push(r.path)}},{key:"_applySelection",value:function(e,t){var i=this,a=i.selectedIndexes.slice(0);if(void 0===t&&(t=a.slice(0)),void 0===i._menuItems[0])return i.selectedIndexes=[],i._lastSelectedItem=void 0,void(i.isCompleted&&JSON.stringify(t)!==JSON.stringify([])&&i.$.fireEvent("change",{selectedIndexes:i.selectedIndexes,oldSelectedIndexes:t}));for(var n=i.selectionMode,o=Array.from((i.enableShadowDOM?i.shadowRoot:i).querySelectorAll("jqx-tree-item[selected], jqx-tree-items-group[selected]")),r=a.length-1;r>=0;r--){void 0===i._menuItems[a[r]]&&a.splice(r,1)}if(e)for(var l=0;l<o.length;l++)-1===a.indexOf(o[l].path)&&a.push(o[l].path);else{for(var s=0;s<o.length;s++)o[s].set("selected",!1);o.length=0}switch(i._sortPathCollection(a),n){case"none":a.length=0;for(var d=0;d<o.length;d++)o[d].set("selected",!1);break;case"one":case"zeroOrOne":"zeroOrOne"!==n&&0===a.length&&a.push("0");for(var u=0;u<a.length;u++){var c=i._menuItems[a[u]];if(u===a.length-1){c.set("selected",!0),a=[a[u]];break}-1!==o.indexOf(c)&&c.set("selected",!1)}break;case"oneOrMany":case"oneOrManyExtended":0===a.length&&a.push("0");for(var p=0;p<a.length;p++)i._menuItems[a[p]].set("selected",!0);break;case"zeroOrMany":case"checkBox":for(var m=0;m<a.length;m++)i._menuItems[a[m]].set("selected",!0);if("checkBox"===n&&i.hasThreeStates){var v=[];i._applyHierarchicalSelection(i.$.mainContainer,v),i._sortPathCollection(v),a=v}break;case"radioButton":var h=[];i._applyRadioButtonSelection(i.$.mainContainer,a,h),i._sortPathCollection(h),a=h}i.selectedIndexes=a,i._updateState("selected"),i._lastSelectedItem="one"===n||"oneOrManyExtended"===n?i._menuItems[a[a.length-1]]:void 0,i.isCompleted&&!1!==arguments[2]&&JSON.stringify(t)!==JSON.stringify(a)&&i.$.fireEvent("change",{selectedIndexes:i.selectedIndexes,oldSelectedIndexes:t})}},{key:"_autoLoadState",value:function(e){for(var t=this,i=[],a=0;a<t._menuItemsGroupsToExpand.length;a++)t._menuItemsGroupsToExpand[a].set("expanded",!1);t._menuItemsGroupsToExpand=[];for(var n=0;n<e.expanded.length;n++){var o=t.getItem(e.expanded[n]);o&&t._menuItemsGroupsToExpand.push(o)}t.filterable&&e.filter&&(t._applyFilter(e.filter),t.$.filterInput.value=e.filter);for(var r=0;r<e.selected.length;r++){var l=t.getItem(e.selected[r]);l&&i.push(l.path)}t.selectedIndexes=i}},{key:"_blurHandler",value:function(){this._discardKeyboardHover(!0)}},{key:"_canItemBeHovered",value:function(e){var t=e.level;return!1===e.disabled&&!0!==e.templateApplied&&!0!==e.hidden&&(1===t||t>1&&this._isContainerOpened(t,e.parentElement.container)&&e.getBoundingClientRect().height>0)}},{key:"_canItemBeSelected",value:function(e){return!1===e.disabled&&!0!==e.templateApplied}},{key:"_checkOverflow",value:function(){var e=this,t=e.$.scrollViewer,i=e.overflow;if("scrollbar"===e.scrollMode||"hidden"===i)return void t.refresh();var a=t.scrollTop;"auto"===i&&(t.$.removeClass("scroll-buttons-shown"),t.$.removeClass("one-button-shown"),e.$scrollButtonNear.addClass("jqx-hidden"),e.$scrollButtonFar.addClass("jqx-hidden"));var n=Math.round(t.$.scrollViewerContentContainer.offsetHeight)>Math.round(t.$.scrollViewerContainer.offsetHeight),o=Math.round(t.scrollTop)>0,r=Math.round(t.$.scrollViewerContainer.offsetHeight+t.scrollTop)<Math.round(t.$.scrollViewerContentContainer.offsetHeight);n?"auto"===i?(t.$.addClass("scroll-buttons-shown"),o&&e.$scrollButtonNear.removeClass("jqx-hidden"),r&&e.$scrollButtonFar.removeClass("jqx-hidden"),!1===(o&&r)&&t.$.addClass("one-button-shown"),e.disabled||(e.$.scrollButtonNear.disabled=!1,e.$.scrollButtonFar.disabled=!1),t.scrollTop=a):(e.$scrollButtonNear.removeClass("jqx-hidden"),e.$scrollButtonFar.removeClass("jqx-hidden"),e.disabled?(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0):(e.$.scrollButtonNear.disabled=!o,e.$.scrollButtonFar.disabled=!r)):"scroll"===i&&(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0),t.refresh()}},{key:"_createElement",value:function(){var e=this,t=window.getComputedStyle(e.$.scrollViewer);e.$.scrollViewer.onVerticalChange=e._verticalScrollbarHandler,Object.defineProperty(e,"dataSource",{get:function(){return e.context===e?e.properties.dataSource.value:e._getDataSource()},set:function(t){e.updateProperty(e,e._properties.dataSource,t)}}),e.id||!e.autoLoadState&&!e.autoSaveState||(e.warn(e.localize("noId")),e.autoLoadState=!1,e.autoSaveState=!1),e.mode="tree",e._element="tree",e._isMobile=JQX.Utilities.Core.isMobile,e._edgeMacFF=!1,e._autoScrollCoefficient=JQX.Utilities.Core.Browser.Firefox?4:JQX.Utilities.Core.Browser.Edge?8:2,e._scrollViewerPadding=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)||0,e._state={expanded:[],filter:"",selected:[]},e._dblclickObject={numberOfClicks:0},e.autoHideToggleElement&&e.$mainContainer.addClass("hidden-arrows"),e.disabled&&(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0),"scrollbar"===e.scrollMode&&"scroll"===e.overflow&&(e.$.scrollViewer.verticalScrollBarVisibility="visible"),null===e.dataSource&&e.$.mainContainer.firstElementChild instanceof HTMLUListElement&&e._processUList();var i=e.getElementsByTagName("jqx-tree-item"),a=function(){var t=void 0;e.autoLoadState&&(t=window.localStorage.getItem("jqxTree"+e.id))&&(t=JSON.parse(t),e.sorted=t.sorted),e._setFocusable(),e._menuItems={},null===e.dataSource?e._processHTML(e.$.mainContainer,1):e._processDataSource(),"scrollButtons"===e.scrollMode&&"scroll"===e.overflow&&(e.$scrollViewer.addClass("scroll-buttons-shown"),e.$scrollButtonNear.removeClass("jqx-hidden"),e.$scrollButtonFar.removeClass("jqx-hidden"),e._updateScrollButtonVisibility()),e._checkOverflow(),t&&e._autoLoadState(t),e._expandItemsByDefault(),e._applySelection(!0),e._updateState("sorted",e.sorted),e.displayLoadingIndicator&&e.$loadingIndicatorContainer.removeClass("jqx-hidden"),"center"!==e.loadingIndicatorPosition&&e.$loadingIndicatorPlaceHolder.removeClass("jqx-hidden"),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted())};0===i.length?a():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(i,a))}},{key:"_dblclickHandler",value:function(e,t,i){var a=this;"dblclick"!==a.toggleMode||e instanceof JQX.TreeItem||t||a._menuItemsGroupSelectionHandler(e,i)}},{key:"_discardKeyboardHover",value:function(e,t){var i=this;!t&&i._hoveredViaKeyboard&&(!e&&i._hoveredViaKeyboard instanceof JQX.MenuItemsGroup&&i._isContainerOpened(i._hoveredViaKeyboard.level+1,i._hoveredViaKeyboard.container)||(i._hoveredViaKeyboard.removeAttribute("focus"),i._hoveredViaKeyboard=void 0))}},{key:"_documentUpHandler",value:function(e){var t=this,i=t._downItem,a=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(delete t._downItem,t._editedItem&&!t._editInputDown&&(!t._isMobile&&a!==t.$.editInput||t._isMobile&&document.elementFromPoint(e.clientX,e.clientY)!==t.$.editInput))return void t._endEditing();if(delete t._editInputDown,i){var n=a.closest("jqx-tree-item")||a.closest("jqx-tree-items-group");!n||!n.selected||n!==i||t._dragDetails&&t._dragDetails.FeedbackShown||n instanceof JQX.TreeItemsGroup&&(a.closest(".jqx-tree-items-group-arrow")||a===n.container||a===n.container.firstElementChild)||t._handleSelection(n,e)}var o=t._dragDetails;if(o){var r=JQX.Tree.hoveredTree,l=JQX.Tree.hoveredItem;if(delete t._dragDetails,delete JQX.Tree.treeItemDragged,delete JQX.Tree.hoveredTree,delete JQX.Tree.hoveredItem,t.$.scrollViewer._scrollView.disableSwipeScroll=!1,o.FeedbackShown){var s=r||document.elementFromPoint(e.clientX,e.clientY),d=void 0;document.body.classList.remove("jqx-dragging"),document.body.removeChild(o.Feedback),r&&clearInterval(r._dragInterval);var u=o.Item,c=o.Items,p=o.ValidItems;if(s){if(!l||u.contains(l))return void t.$.fireEvent("dragEnd",{item:u,items:c,target:s,data:o,previousContainer:t,container:r||s,originalEvent:e});if(r&&r.allowDrop&&!r.disabled){var m=[r],v=void 0;if(l.classList.remove("drop-target"),l.classList.contains("top")?(l.classList.remove("top"),v="top",d=0):l.classList.contains("bottom")?(l.classList.remove("bottom"),v="bottom",d=2):(v="inside",d=1),o.DropDetails={item:l,position:v},r!==t)m.push(t);else if(o.ValidateOnDrop)for(var h=0;h<p.length;h++)if(p[h].contains(l))return;if(!t.$.fireEvent("dragEnd",{item:u,items:c,target:l,data:o,previousContainer:t,container:r,originalEvent:e}).defaultPrevented){r.sorted&&r.autoSort&&r._unsortItems(r.$.mainContainer);for(var f=0;f<p.length;f++)t._moveTreeItem(p[f],l,d,m);r.sorted&&r.autoSort&&r._applyGrouping(r.$.mainContainer),r!==t&&r._state.filter&&r._applyFilter(r._state.filter)}}}}}}},{key:"_editInputBlurHandler",value:function(){this._endEditing()}},{key:"_endEditing",value:function(e){var t=this,i=t._editedItem;if(i&&(delete t._editedItem,t.$editInput.addClass("jqx-hidden"),t.focus(),!e)){var a=t.$.editInput.value,n=t.sorted&&t.autoSort,o=t._state.filter;a!==i.label&&(i.set("label",a),i.firstElementChild.firstElementChild.firstElementChild.innerHTML=a,n&&(t._unsortItems(t.$.mainContainer),t._applyGrouping(t.$.mainContainer)),o&&t._applyFilter(o))}}},{key:"_ensureVisible",value:function(e){var t=this;t._ensureVisibleTreeMode(e,e.getBoundingClientRect(),t.$.scrollViewer,t.$.scrollViewer.getBoundingClientRect(),t._scrollViewerPadding),t._ensureVisibleCallback&&t._ensureVisibleCallback(e)}},{key:"_filterInputKeydownHandler",value:function(e){if("PageDown"!==e.key)return void("PageUp"===e.key&&(e.preventDefault(),e.stopPropagation()));var t=this,i=void 0;if(e.preventDefault(),e.stopPropagation(),t.selectedIndexes.length>0){var a=t.selectedIndexes.slice(0);i=t._lastSelectedItem||t._menuItems[t.selectedIndexes[t.selectedIndexes.length-1]],"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&(t.selectedIndexes=[i.path],t._applySelection(!1,a)),t.focus()}else i=t._getFirstEnabledChild(t.$.mainContainer),t.focus(),i&&t._hoverViaKeyboard(i);t._ensureVisible(i)}},{key:"_focusHandler",value:function(){var e=this;e.selectedIndexes.length>0&&!e._hoveredViaKeyboard&&(e._lastSelectedItem?e._hoverViaKeyboard(e._lastSelectedItem,!1,void 0,!1):e._hoverViaKeyboard(e._menuItems[e.selectedIndexes[e.selectedIndexes.length-1]],!1,void 0,!1))}},{key:"_getDataSource",value:function(){function e(t,i){for(var a=0;a<t.length;a++){var n=t[a],o={label:n.label};n.disabled&&(o.disabled=!0),n.selected&&(o.selected=!0),n.separator&&(o.separator=!0),null!==n.value&&(o.value=n.value),n instanceof JQX.TreeItem?n.shortcut&&(o.shortcut=n.shortcut):(n.expanded&&(o.expanded=!0),o.items=[],e(n.itemContainer.children,o.items)),i.push(o)}}var t=this,i=[];return e(t.$.mainContainer.children,i),i}},{key:"_handleHierarchicalSelection",value:function(e,t){function i(e,t){for(var a=e.itemContainer.children,n=0;n<a.length;n++){var o=a[n];o.set("selected",t),o.removeAttribute("indeterminate"),o instanceof JQX.TreeItemsGroup&&i(o,t)}}var a=this,n=e;for(e.selected?e.set("selected",!1):(e.set("selected",!0),e.removeAttribute("indeterminate"));n.parentItem;){for(var o=n.parentItem,r=o.itemContainer.children,l=0,s=0,d=0;d<r.length;d++)r[d].selected?l++:r[d].hasAttribute("indeterminate")&&s++;a._setThreeStateCheckbox(o,l,s),n=o}e instanceof JQX.TreeItemsGroup&&i(e,e.selected),t.length=0;for(var u=Array.from((a.enableShadowDOM?a.shadowRoot:a).querySelectorAll("[selected]")),c=0;c<u.length;c++)t.push(u[c].path);a._sortPathCollection(t)}},{key:"_handleSelection",value:function(e,t){var i=this,a=i.selectionMode;if("none"!==a&&("programmatic"===t.type||i._canItemBeSelected(e))){var n=e.selected;if(!n||"down"!==t.type){var o=i.selectedIndexes.slice(0),r=o.slice(0);switch(a){case"one":if(n)return;i._menuItems[r[0]].set("selected",!1),i.selectedIndexes=[e.path],e.set("selected",!0),i._lastSelectedItem=e;break;case"zeroOrOne":n?(i.selectedIndexes=[],e.set("selected",!1)):(void 0!==r[0]&&i._menuItems[r[0]].set("selected",!1),i.selectedIndexes=[e.path],e.set("selected",!0));break;case"oneOrMany":case"zeroOrMany":if(n){if(1===r.length&&"zeroOrMany"!==a)return;r.splice(r.indexOf(e.path),1),e.set("selected",!1)}else r.push(e.path),i._sortPathCollection(r),e.set("selected",!0);i.selectedIndexes=r;break;case"oneOrManyExtended":var l=t.ctrlKey,s=t.shiftKey;if(!l&&!s||s&&e===i._lastSelectedItem){for(var d=0;d<r.length;d++)i._menuItems[r[d]].set("selected",!1);r=[e.path],e.set("selected",!0),i._lastSelectedItem=e}else if(l)e.selected&&r.length>1?(r.splice(r.indexOf(e.path),1),e.set("selected",!1)):e.selected||(r.push(e.path),i._sortPathCollection(r),e.set("selected",!0),i._lastSelectedItem=e);else if(s){for(var u=0;u<r.length;u++)i._menuItems[r[u]].set("selected",!1);r=i._selectItemRange(i._lastSelectedItem,e)}i.selectedIndexes=r;break;case"checkBox":i.hasThreeStates?i._handleHierarchicalSelection(e,r):n?(r.splice(r.indexOf(e.path),1),e.set("selected",!1)):(r.push(e.path),i._sortPathCollection(r),e.set("selected",!0)),i.selectedIndexes=r;break;case"radioButton":if(e.selected)return;for(var c=void 0,p=0;p<e.parentElement.children.length;p++){var m=e.parentElement.children[p];if(m.selected){c=m;break}}var v=r.indexOf(c.path);c.set("selected",!1),e.set("selected",!0),r.splice(v,1),r.push(e.path),i._sortPathCollection(r),i.selectedIndexes=r}if(i._discardKeyboardHover(!0),i._hoverViaKeyboard(e,!1,void 0,!i._treeAnimationInProgress),i._updateState("selected"),JSON.stringify(o)!==JSON.stringify(i.selectedIndexes)){if(i.ownerElement&&!i.ownerElement.isCompleted)return;i.$.fireEvent("change",{item:e,selectedIndexes:i.selectedIndexes,oldSelectedIndexes:o})}}}}},{key:"_hoverViaKeyboard",value:function(e,t,i,a){if(e){var n=this;e.setAttribute("focus",""),n._hoveredViaKeyboard=e,!1!==a&&n._ensureVisible(e),t&&n._handleSelection(e,i),n._hoverViaKeyboardCallback&&n._hoverViaKeyboardCallback(e)}}},{key:"_keydownHandler",value:function(e){function t(t){for(var i=t;i<r.length;i++){var a=r[i];if(n._canItemBeHovered(a)){if(s){if(s===a)break;s.removeAttribute("focus")}n._hoverViaKeyboard(a,l,e);break}}}function i(t){for(var i=t;i>=0;i--){var a=r[i];if(n._canItemBeHovered(a)){if(s){if(s===a)break;s.removeAttribute("focus")}n._hoverViaKeyboard(a,l,e);break}}}function a(){s.level>1&&(s.removeAttribute("focus"),n._hoverViaKeyboard(s.parentItem,l,e))}var n=this,o=e.key;if(n._editedItem)return void("Enter"===o?n._endEditing():"Escape"===o&&n._endEditing(!0));if(document.activeElement===n&&-1!==["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Enter","F2","Home","PageDown","PageUp"," "].indexOf(o)&&!n.disabled&&!n.displayLoadingIndicator){e.preventDefault();var r=Array.from(n.$.mainContainer.querySelectorAll("jqx-tree-item, jqx-tree-items-group")),l="one"===n.selectionMode||"oneOrManyExtended"===n.selectionMode&&!e.ctrlKey,s=n.$.mainContainer.querySelector("[focus]"),d=void 0;switch(o){case"ArrowDown":d=s?r.indexOf(s)+1:0,t(d);break;case"ArrowLeft":if(!s)return;if(s instanceof JQX.TreeItem)a();else{if(n._isContainerOpened(s.level+1,s.container))return void n._closeSubContainersTreeMode(s.level+1,s.container,!0,!0);a()}break;case"ArrowRight":if(!s||s instanceof JQX.TreeItem)return;n._isContainerOpened(s.level+1,s.container)?(s.removeAttribute("focus"),n._hoverViaKeyboard(n._getFirstEnabledChild(s.itemContainer),l,e)):n._menuItemsGroupSelectionHandler(s,{target:s,type:"keydown"});break;case"ArrowUp":d=s?r.indexOf(s)-1:r.length-1,i(d);break;case"End":i(r.length-1);break;case"Enter":s&&s instanceof JQX.TreeItemsGroup&&n._menuItemsGroupSelectionHandler(s,{target:s,type:"keydown"});break;case"F2":n.editable&&n._startEditing(s);break;case"Home":t(0);break;case"PageDown":n._pageDownHandler(r,s,l,e);break;case"PageUp":n._pageUpHandler(r,s,l,e);break;case" ":s&&n._handleSelection(s,e)}}}},{key:"_mainContainerSwipeHandler",value:function(e){JQX.Tree.treeItemDragged&&e.stopPropagation()}},{key:"_menuItemsGroupSelectionHandler",value:function(e,t,i){var a=this,n=a.toggleMode,o=!!t.originalEvent&&t.originalEvent.target.classList.contains("jqx-tree-items-group-arrow"),r=e.container;if(!(a._waitAnimation&&a._treeAnimationInProgress===r||("down"!==t.type||o||"dblclick"===n&&1!==a._dblclickObject.numberOfClicks||a._handleSelection(e,t),"down"===t.type&&!o&&("dblclick"===n&&2!==a._dblclickObject.numberOfClicks||"click"===n&&a._dblclickObject.numberOfClicks>1||"arrow"===n)||e.hiddenChildren))){var l=r.level,s=a.hasAnimation;if("keydown"===t.type&&a._discardKeyboardHover(),a._treeAnimationInProgress&&(r.removeEventListener("transitionend",a._transitionendHandlerExpand),r.removeEventListener("transitionend",a._transitionendHandlerCollapse)),a._isContainerOpened(l,r))a._closeSubContainersTreeMode(l,r,!0,!1!==i);else{if(a.$.fireEvent("expanding",{item:e,label:e.label,path:e.path,value:e.value,children:e.itemContainer.children}).defaultPrevented)return;if(s&&("expand"!==t.type&&(a._ensureVisibleOnTransitionend=e),a._expandSection(r)),r.$.removeClass("jqx-visibility-hidden"),"keydown"===t.type&&(e.setAttribute("focus",""),a._hoveredViaKeyboard=e),e.$.addClass("jqx-tree-items-group-opened"),e.$.addClass("jqx-tree-items-group-expanded"),a._addOpenedContainer(l,r),void 0===t.type&&a._hoverViaKeyboard(a._getFirstEnabledChild(e.itemContainer)),!1!==i){var d={item:e,label:e.label,path:e.path,value:e.value,children:e.itemContainer.children};a.toggleCallback?(d.type="expand",a.toggleCallback(d)):a.$.fireEvent("expand",d)}}s||(a._checkOverflow(),"expand"!==t.type&&a._ensureVisible(e))}}},{key:"_mouseenterHandler",value:function(){var e=this;e.autoHideToggleElement&&e.$mainContainer.removeClass("hidden-arrows"),JQX.Tree.treeItemDragged&&e.allowDrop&&!e.disabled&&(JQX.Tree.hoveredTree=e)}},{key:"_mouseleaveHandler",value:function(){var e=this;if(e.autoHideToggleElement&&e.$mainContainer.addClass("hidden-arrows"),JQX.Tree.treeItemDragged){JQX.Tree.hoveredTree&&(clearInterval(JQX.Tree.hoveredTree._dragInterval),delete JQX.Tree.hoveredTree);var t=JQX.Tree.hoveredItem;t&&(t.classList.remove("drop-target"),t.classList.remove("top"),t.classList.remove("bottom"),delete JQX.Tree.hoveredItem)}}},{key:"_moveHandler",value:function(e){var t=this,i=t._dragDetails;if(i){if(!i.FeedbackShown){if(!(Math.abs(i.StartPosition.left-e.pageX)>5||Math.abs(i.StartPosition.top-e.pageY)>5))return;if(t.$.fireEvent("dragStart",{item:i.Item,items:i.Items,data:i,container:t,previousContainer:t,originalEvent:i.OriginalEvent}).defaultPrevented)return delete t._dragDetails,delete JQX.Tree.treeItemDragged,delete JQX.Tree.hoveredTree,delete JQX.Tree.hoveredItem,void(t.$.scrollViewer._scrollView.disableSwipeScroll=!1);document.body.classList.add("jqx-dragging"),i.Feedback=t._addDragFeedback(),i.FeedbackShown=!0}var a=t.dragOffset,n=void 0,o=void 0,r=void 0;if(t.$.fireEvent("dragging",{item:i.Item,items:i.Items,data:i,originalEvent:e}),i.Feedback.style.left=e.pageX+a[0]+"px",i.Feedback.style.top=e.pageY+a[1]+"px",t._isMobile){var l=JQX.Tree.hoveredItem;l&&(l.classList.remove("drop-target"),l.classList.remove("top"),l.classList.remove("bottom"),delete JQX.Tree.hoveredItem);var s=document.elementFromPoint(e.clientX,e.clientY);JQX.Tree.hoveredTree&&(clearInterval(JQX.Tree.hoveredTree._dragInterval),delete JQX.Tree.hoveredTree),s&&(n=s.closest("jqx-tree"))&&n.allowDrop&&(JQX.Tree.hoveredTree=n,o=s.closest("jqx-tree-item")||s.closest("jqx-tree-items-group"),o?r=o:o=s)}if(n=JQX.Tree.hoveredTree){var d=n.filterable?n.$.filterInput.offsetHeight+10:0;if(clearInterval(n._dragInterval),n._dragInterval=setInterval(function(){var i=n.getBoundingClientRect();n.$.scrollViewer.scrollHeight>0&&i.left<=e.clientX&&i.left+i.width>=e.clientX?e.clientY>=i.top+d&&e.clientY<=i.top+20+d?(n.$.scrollViewer.scrollTop-=t._autoScrollCoefficient,"scrollButtons"===n.scrollMode&&n._updateScrollButtonVisibility()):e.clientY>=i.top+i.height-20&&e.clientY<=i.top+i.height?(n.$.scrollViewer.scrollTop+=t._autoScrollCoefficient,"scrollButtons"===n.scrollMode&&n._updateScrollButtonVisibility()):clearInterval(n._dragInterval):clearInterval(n._dragInterval)},1),t._isMobile||(o=e.originalEvent.target,o&&o.enableShadowDOM&&(o=e.originalEvent.composedPath()[0]),o&&o.closest&&(r=o.closest("jqx-tree-item")||o.closest("jqx-tree-items-group"))),r){if(JQX.Tree.hoveredItem&&r!==JQX.Tree.hoveredItem&&(JQX.Tree.hoveredItem.classList.remove("drop-target"),JQX.Tree.hoveredItem.classList.remove("top"),JQX.Tree.hoveredItem.classList.remove("bottom")),JQX.Tree.hoveredItem=r,i.Item.contains(r))return;var u=r.getBoundingClientRect();r instanceof JQX.TreeItem?e.clientY-u.top<=u.height/2?(r.classList.remove("bottom"),r.classList.add("top")):(r.classList.remove("top"),r.classList.add("bottom")):e.clientY-u.top<=10?(r.classList.remove("bottom"),r.classList.add("top")):!r.expanded&&u.bottom-e.clientY<=10?(r.classList.remove("top"),r.classList.add("bottom")):(r.classList.remove("top"),r.classList.remove("bottom")),r.classList.add("drop-target")}else if(JQX.Tree.hoveredItem&&(JQX.Tree.hoveredItem.classList.remove("drop-target"),JQX.Tree.hoveredItem.classList.remove("top"),JQX.Tree.hoveredItem.classList.remove("bottom")),o===n.$.scrollViewer.$.scrollViewerContainer)if(n._menuItems[0]){for(var c=n.$.mainContainer.lastElementChild,p=n.$.mainContainer.childElementCount-1;c.hidden&&(p--,c=n.$.mainContainer.children[p]););c?(JQX.Tree.hoveredItem=c,JQX.Tree.hoveredItem.classList.add("bottom")):JQX.Tree.hoveredItem=n.$.container,JQX.Tree.hoveredItem.classList.add("drop-target")}else JQX.Tree.hoveredItem=n.$.container,JQX.Tree.hoveredItem.classList.add("drop-target");else delete JQX.Tree.hoveredItem}}}},{key:"_moveSubItems",value:function(e,t,i){for(var a=this,n=0;n<e.length;n++){var o=e[n];o.menu=t,o.set("level",o.parentItem.level+1),o.firstElementChild.style.paddingLeft="",o.firstElementChild.style.paddingRight="",a._setIndentation(o.firstElementChild,o.level,i),o.hidden=!1,o.$.removeClass("jqx-hidden"),o.$.removeClass("filtered-child"),o.$.removeClass("last-filtered-child"),o instanceof JQX.TreeItemsGroup&&(o.$.removeClass("hidden-children"),o.container.level=o.level+1,a._moveSubItems(o.itemContainer.children,t,i),t!==a&&o.expanded&&(t._menuItemsGroupsToExpand.push(o),a._updateState("expanded",o.id,!1)))}}},{key:"_moveTreeItem",value:function(e,t,i,a){var n=this,o=e.level;if(0===i){if(t.previousElementSibling===e)return;t.parentElement.insertBefore(e,t),e.set("level",t.level)}else if(2===i){if(t.nextElementSibling===e)return;t.parentElement.insertBefore(e,t.nextElementSibling||null),e.set("level",t.level)}else if(t===a[0].$.container)a[0].$.mainContainer.appendChild(e),e.set("level",1);else{if(t.itemContainer.lastElementChild===e)return;t.itemContainer.appendChild(e),e.set("level",t.level+1)}var r=a[0].rightToLeft?"paddingRight":"paddingLeft";if(e.menu=a[0],e.parentItem=e.parentElement.menuItemsGroup,e.firstElementChild.style.paddingLeft="",e.firstElementChild.style.paddingRight="",n._setIndentation(e.firstElementChild,e.level,r),e.hidden=!1,e.$.removeClass("jqx-hidden"),e.$.removeClass("filtered-child"),e.$.removeClass("last-filtered-child"),e instanceof JQX.TreeItemsGroup&&(e.$.removeClass("hidden-children"),e.container.level=e.level+1,n._moveSubItems(e.itemContainer.children,a[0],r),e.expanded)){var l=n._openedContainers[o+1].indexOf(e.container);-1!==l&&n._openedContainers[o+1].splice(l,1),a[0]._menuItemsGroupsToExpand.push(e),2===a.length&&n._updateState("expanded",e.id,!1)}for(var s=0;s<a.length;s++){var d=a[s],u=d.context,c=d.selectedIndexes.slice(0);d.context=d,d._menuItems={},d._refreshItemPaths(d.$.mainContainer,!0,void 0,d.sorted&&!d.autoSort),d.selectedIndexes=[],d._applySelection(!0,c,!1),d._checkOverflow(),d.context=u}a[0]._expandItemsByDefault()}},{key:"_overriddenMenuHandler",value:function(){}},{key:"_pageDownHandler",value:function(e,t,i,a){function n(){for(var t=e.length-1;t>=0;t--){var i=e[t];if(o._canItemBeHovered(i)&&o._getOffsetTop(i)+i.firstElementChild.offsetHeight<=r.scrollTop+r.$.container.offsetHeight)return i}}var o=this,r=o.$.scrollViewer;if(t){var l=n();l&&(t!==l?(t.removeAttribute("focus"),o._hoverViaKeyboard(l,i,a)):r.scrollTop+r.$.container.offsetHeight!==r.$.scrollViewerContentContainer.offsetHeight&&(o.$.scrollViewer.scrollTop+=r.$.container.offsetHeight,"scrollButtons"===o.scrollMode&&o._updateScrollButtonVisibility(),l=n(),t.removeAttribute("focus"),o._hoverViaKeyboard(l,i,a)))}}},{key:"_pageUpHandler",value:function(e,t,i,a){function n(){for(var t=0;t<e.length;t++){var i=e[t];if(o._canItemBeHovered(i)&&o._getOffsetTop(i)>=r.scrollTop)return i}}var o=this,r=o.$.scrollViewer;if(t){var l=n();l&&(t!==l?(t.removeAttribute("focus"),o._hoverViaKeyboard(l,i,a)):0!==r.scrollTop?(o.$.scrollViewer.scrollTop-=r.$.container.offsetHeight,"scrollButtons"===o.scrollMode&&o._updateScrollButtonVisibility(),l=n(),t.removeAttribute("focus"),o._hoverViaKeyboard(l,i,a)):o.filterable&&o.$.filterInput.focus())}}},{key:"_refreshItemPathsAndSelection",value:function(){var e=this,t=e.selectedIndexes.slice(0);e._menuItems={},e._refreshItemPaths(e.$.mainContainer,!0),e.selectedIndexes=[],e._applySelection(!0,t)}},{key:"_refreshSorting",value:function(){var e=this;e._unsortItems(e.$.mainContainer),e._applyGrouping(e.$.mainContainer);var t=e._state.filter;t&&e._applyFilter(t),e._checkOverflow()}},{key:"_scroll",value:function(e){var t=this;t.$.scrollViewer.scrollTop=t.$.scrollViewer.scrollTop+10*e,t._updateScrollButtonVisibility(),t.focus()}},{key:"_scrollButtonFarClickHandler",value:function(){var e=this;e.$.scrollButtonFar.disabled||e._scroll(1)}},{key:"_scrollButtonNearClickHandler",value:function(){var e=this;e.$.scrollButtonNear.disabled||e._scroll(-1)}},{key:"_scrollViewerDownHandler",value:function(e){function t(){var t=a.closest("jqx-tree-item")||a.closest("jqx-tree-items-group");if(t&&i._canItemBeSelected(t)){var n=a.closest(".jqx-tree-items-group-arrow"),o=void 0;if(t instanceof JQX.TreeItem)o="_handleSelection";else{if(a===t.container||a===t.container.firstElementChild)return;o="_menuItemsGroupSelectionHandler"}if(clearTimeout(i._dblclickTimeout),t!==i._dblclickObject.target&&(i._dblclickObject.numberOfClicks=0),i._dblclickObject.target=t,i._dblclickObject.numberOfClicks++,i._dblclickTimeout=setTimeout(function(){i._dblclickObject.numberOfClicks=0},300),2===i._dblclickObject.numberOfClicks){if(i.editable)return void i._startEditing(t);i._dblclickHandler(t,n,e),i._dblclickObject.numberOfClicks=0}t.selected&&(i._downItem=t),i[o](t,e),i._discardKeyboardHover(!0),i._hoverViaKeyboard(t,!1,void 0,!1),n||i._startDragging(t,e)}}var i=this;if(!(e.target!==i.$.scrollViewer||i.disabled||i.displayLoadingIndicator||!i._isMobile&&1!==e.which)){var a=e.originalEvent.target;if(a===i.$.editInput)return void(i._editInputDown=!0);if(i._isMobile){var n=i.$.scrollViewer.scrollTop;setTimeout(function(){if(i.$.scrollViewer.scrollTop===n){var e=i.context;i.context=i,t(),i.context=e}},250)}else t()}}},{key:"_scrollViewerWheelHandler",value:function(){var e=this;"scrollButtons"===e.scrollMode&&"hidden"!==e.overflow&&e._updateScrollButtonVisibility()}},{key:"_selectItemRange",value:function(e,t){for(var i=this,a=Array.from(i.$.mainContainer.querySelectorAll("jqx-tree-item, jqx-tree-items-group")),n=a.indexOf(e),o=a.indexOf(t),r=[],l=Math.min(n,o);l<=Math.max(n,o);l++){var s=a[l];i._canItemBeHovered(s)&&(r.push(s.path),s.set("selected",!0))}return r}},{key:"_setFocusable",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_setFocusable",this).call(this);var e=this;if(e.disabled||e.unfocusable)return void(e.$.filterInput.tabIndex=-1);e.$.filterInput.removeAttribute("tabindex")}},{key:"_setIndentation",value:function(e,t,i){e.style[i]=20*t-10+"px"}},{key:"_setThreeStateCheckbox",value:function(e,t,i){t===e.itemContainer.childElementCount?(e.removeAttribute("indeterminate"),e.set("selected",!0)):0===t&&0===i?(e.removeAttribute("indeterminate"),e.set("selected",!1)):(e.setAttribute("indeterminate",""),e.set("selected",!1))}},{key:"_sortItems",value:function(e){var t=this;if(t.sorted){var i=void 0;e instanceof JQX.TreeItemsGroup?i=e.container.firstElementChild:e===t.$.mainContainer&&(i=e);var a=Array.from(i.children);if(t.sort){var n=t.sort(a,e);Array.isArray(n)&&(a=n)}else"asc"===t.sortDirection?a.sort(function(e,t){return e.label.localeCompare(t.label)}):a.sort(function(e,t){return t.label.localeCompare(e.label)});for(var o=a.length-1;o>=0;o--)i.insertBefore(a[o],i.firstElementChild)}}},{key:"_sortPathCollection",value:function(e){e.sort(function(e,t){for(var i=e.split("."),a=t.split("."),n=Math.max(i.length,a.length),o=0;o<n;o++){var r=parseFloat(i[o]),l=parseFloat(a[o]);if(isNaN(r))return-1;if(isNaN(l))return 1;if(r<l)return-1;if(r>l)return 1}})}},{key:"_startDragging",value:function(e,t){var i=this,a=i.selectionMode;if(i.allowDrag&&!i._editedItem&&"none"!==a){var n=[],o=[],r=void 0;if(-1!==["one","zeroOrOne","checkBox","radioButton"].indexOf(a))r=!1,n.push(e),o.push(e);else{r=!0;for(var l=0;l<i.selectedIndexes.length;l++)n.push(i._menuItems[i.selectedIndexes[l]]),o.push(n[l]);for(var s=0;s<n.length;s++){var d=n[s];if(-1!==o.indexOf(d))for(var u=o.length-1;u>=0;u--){var c=o[u];if(c===d)break;d.contains(c)&&o.splice(u,1)}}}i._dragDetails={StartPosition:{left:t.pageX,top:t.pageY},Items:n,ValidItems:o,Item:e,FeedbackShown:!1,ValidateOnDrop:r,OriginalEvent:t,StartTime:new Date,Dragging:!0},JQX.Tree.treeItemDragged=!0,i.$.scrollViewer._scrollView.disableSwipeScroll=!0,i.allowDrop&&(JQX.Tree.hoveredTree=i,JQX.Tree.hoveredItem=e)}}},{key:"_startEditing",value:function(e){var t=this,i=t.$.editInput,a=void 0,n=void 0;if(t._canItemBeSelected(e)){var o=e.firstElementChild,r=o.firstElementChild;t.rightToLeft?(a=function(){return o.offsetWidth-r.offsetLeft-r.offsetWidth},n="paddingRight"):(a=function(){return r.offsetLeft+parseFloat(window.getComputedStyle(o).borderLeftWidth)},n="paddingLeft"),e instanceof JQX.TreeItemsGroup?(i.style[n]=a()+(t.showLines?parseFloat(window.getComputedStyle(r.firstElementChild).paddingLeft):0)-1+"px",i.style.height=o.offsetHeight+"px"):(i.style[n]=e.offsetWidth+parseInt(o.style[n],10)-o.offsetWidth+parseFloat(window.getComputedStyle(r.firstElementChild).paddingLeft)-2+"px",i.style.height=e.offsetHeight+"px"),i.style.top=t._getOffsetTop(e)+"px",t.$editInput.removeClass("jqx-hidden"),i.value=e.label,t._editedItem=e,setTimeout(function(){i.focus()},0)}}},{key:"_styleChangedHandler",value:function(e){e.detail.styleProperties&&e.detail.styleProperties["font-size"]&&this._checkOverflow()}},{key:"_updateScrollButtonVisibility",value:function(){var e=this,t=e.overflow;if("scrollbar"!==e.scrollMode&&"hidden"!==t){var i=!0,a=!0;if(0===Math.round(e.$.scrollViewer.scrollTop)&&(i=!1),Math.round(e.$.scrollViewer.$.scrollViewerContainer.offsetHeight+e.$.scrollViewer.scrollTop)>=Math.round(e.$.scrollViewer.$.scrollViewerContentContainer.offsetHeight)&&(a=!1),"auto"===t){if(i&&a)return e.$scrollButtonNear.removeClass("jqx-hidden"),e.$scrollButtonFar.removeClass("jqx-hidden"),e.$scrollViewer.removeClass("one-button-shown"),void e.$.scrollViewer.refresh();i?e.$scrollButtonNear.removeClass("jqx-hidden"):e.$scrollButtonNear.addClass("jqx-hidden"),a?e.$scrollButtonFar.removeClass("jqx-hidden"):e.$scrollButtonFar.addClass("jqx-hidden"),e.$scrollViewer.addClass("one-button-shown"),e.$.scrollViewer.refresh()}else"scroll"!==t||e.disabled||(e.$.scrollButtonNear.disabled=!i,e.$.scrollButtonFar.disabled=!a)}}},{key:"_updateState",value:function(e,t,i){var a=this;switch(e){case"expanded":var n=a._state.expanded.indexOf(t);if(i&&-1===n)a._state.expanded.push(t);else{if(i||-1===n)return;a._state.expanded.splice(n,1)}break;case"filter":a._state.filter=void 0!==t?t:a.$.filterInput.value;break;case"selected":a._state.selected=[]
;for(var o=0;o<a.selectedIndexes.length;o++){var r=a._menuItems[a.selectedIndexes[o]];a._state.selected.push(r.id)}break;case"sorted":a._state.sorted=t}a.autoSaveState&&window.localStorage.setItem("jqxTree"+a.id,JSON.stringify(a._state))}},{key:"_verticalScrollbarHandler",value:function(){var e=this,t=e.$.verticalScrollBar,i=t.value;if(!e.disabled){if(t.max===i)return void(e._bottomReached||(e.$.fireEvent("scrollBottomReached"),delete e._topReached,e._bottomReached=!0));if(t.min===i)return void(e._topReached||(e.$.fireEvent("scrollTopReached"),delete e._bottomReached,e._topReached=!0));delete e._topReached,delete e._bottomReached}}}],[{key:"properties",get:function(){return{allowDrag:{value:!1,type:"boolean"},allowDrop:{value:!1,type:"boolean"},autoHideToggleElement:{value:!1,type:"boolean"},autoLoadState:{value:!1,type:"boolean"},autoSaveState:{value:!1,type:"boolean"},autoSort:{value:!0,type:"boolean"},displayLoadingIndicator:{value:!1,type:"boolean"},dragFeedbackFormatFunction:{value:null,type:"function?"},dragOffset:{value:[10,10],type:"array"},editable:{value:!1,type:"boolean"},filterable:{value:!1,type:"boolean"},filterInputPlaceholder:{value:"",type:"string"},filterMode:{value:"containsIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},hasThreeStates:{value:!1,type:"boolean"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{value:{en:{noId:"jqx-tree: Saving and loading the element's state are not available if the element has no id."}},type:"object",extend:!0},scrollMode:{value:"scrollbar",allowedValues:["scrollbar","scrollButtons"],type:"string"},selectedIndexes:{value:[],type:"array"},selectionDisplayMode:{value:"row",allowedValues:["row","label"],type:"string"},selectionMode:{value:"one",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},showLines:{value:!1,type:"boolean"},showRootLines:{value:!1,type:"boolean"},sort:{value:null,type:"function?"},sortDirection:{value:"asc",allowedValues:["asc","desc"],type:"string"},sorted:{value:!1,type:"boolean"},toggleElementPosition:{value:"near",allowedValues:["near","far"],type:"string"},toggleMode:{value:"dblclick",allowedValues:["click","dblclick","arrow"],type:"string"}}}},{key:"listeners",get:function(){return{blur:"_blurHandler",focus:"_focusHandler",keydown:"_keydownHandler",mouseenter:"_mouseenterHandler",mouseleave:"_mouseleaveHandler",resize:"_checkOverflow",styleChanged:"_styleChangedHandler",transitionend:"_overriddenMenuHandler","container.click":"_overriddenMenuHandler","container.mouseout":"_overriddenMenuHandler","container.mouseover":"_overriddenMenuHandler","editInput.blur":"_editInputBlurHandler","filterInput.keydown":"_filterInputKeydownHandler","filterInput.keyup":"_filterInputKeyupHandler","mainContainer.click":"_overriddenMenuHandler","mainContainer.mouseleave":"_overriddenMenuHandler","mainContainer.mouseout":"_overriddenMenuHandler","mainContainer.mouseover":"_overriddenMenuHandler","mainContainer.swipeleft":"_mainContainerSwipeHandler","mainContainer.swiperight":"_mainContainerSwipeHandler","scrollButtonFar.click":"_scrollButtonFarClickHandler","scrollButtonNear.click":"_scrollButtonNearClickHandler","scrollViewer.down":"_scrollViewerDownHandler","scrollViewer.kineticScroll":"_scrollViewerWheelHandler","mainContainer.wheel":"_scrollViewerWheelHandler","document.move":"_moveHandler","document.up":"_documentUpHandler"}}},{key:"requires",get:function(){return{"JQX.ScrollBar":"jqxscrollbar.js"}}},{key:"styleUrls",get:function(){return["jqx.scrollbar.css","jqx.scrollviewer.css","jqx.tree.css"]}}]),t}(JQX.Menu)),JQX("jqx-window",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="headerSection" class="jqx-header-section">\n                        <div id="header" class="jqx-header">[[label]]</div>\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <jqx-button id="pinButton" class="jqx-pin-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="collapseButton" class="jqx-collapse-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="minimizeButton" class="jqx-minimize-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="maximizeButton" class="jqx-maximize-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="closeButton" class="jqx-close-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                        </div>\n                    </div>\n                    <div class="jqx-content" inner-h-t-m-l="[[innerHTML]]"><content></content></div>\n                    <div id="footer" class="jqx-footer"></div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"collapsed":a?n.collapse(!0):n.expand(!0);break;case"disabled":case"unfocusable":n._setFocusable();break;case"headerTemplate":case"footerTemplate":n._applyLayoutTemplate(n.$[e.split(/[T]/)[0]],a);break;case"headerButtons":n._setHeaderButtons();break;case"headerPosition":n.style.width="",n.style.height="";break;case"label":n.$.header.innerHTML=n.label;break;case"maximized":a?n.maximize(!0):n.restore(e);break;case"modal":n._setModal();break;case"minimized":a?n.minimize(!0):n.restore(e);break;case"opened":a?n.open(!0):n.close(!0);break;case"resizeMode":n.$.container.className="jqx-container";break;case"windowParent":n._setElementParent(a);break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this,i=e.animation;e.opened||(e.animation="none"),e.$.addClass("jqx-window"),e._createElement(),e._windowParent={initialParent:e.parentElement},e._setElementParent(e.windowParent),e._setHeaderButtons(),e.headerTemplate&&e._applyLayoutTemplate(e.$.header,e.headerTemplate),e.footerTemplate&&e._applyLayoutTemplate(e.$.footer,e.footerTemplate),e.opened?e.open():e.close(),e.maximized&&e.maximize(!0),e.minimized&&e.minimize(!0),e.collapsed&&e.collapse(!0),e.pinned?e.pin():e.unpin(),e._setFocusable(),e.animation=i}},{key:"_styleChangedHandler",value:function(){this.maximized}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)e.removeAttribute("tabindex");else{var t=e.tabIndex>0?e.tabIndex:0;e.setAttribute("tabindex",t)}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}));t.$.content.appendChild(e)}},{key:"collapse",value:function(e){var t=this;!e&&t.collapsed||(t.collapsed=!0,t.$.fireEvent("collapse"),"left"===t.headerPosition||"right"===t.headerPosition?t.style.width="":t.style.height="")}},{key:"close",value:function(e){var t=this;if(e||!t.$.hasClass("jqx-visibility-hidden")){if(t.isCompleted){if(t.$.fireEvent("closing").defaultPrevented)return;t.$.addClass("jqx-visibility-hidden"),t.opened=!1,t.$.fireEvent("close")}else t.$.addClass("jqx-visibility-hidden"),t.opened=!1;t._setModal(),t.removeAttribute("ontop")}}},{key:"attached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this);var e=this;e._windowParent.parent!==document.body&&e._windowParent.parent.querySelectorAll("jqx-window, jqx-dialog-window, jqx-progress-window, jqx-wait-window, jqx-alert-window, jqx-prompt-window, jqx-multiline-prompt-window")&&(e._windowParent.parent.style.position="relative"),e.opened&&e._modal&&e.parentElement.insertBefore(e._modal,e)}},{key:"bringToFront",value:function(){var e=this;if(e.parentElement){var t=e.parentElement.closest(".jqx-window");if(t)return void t.bringToFront();for(var i=document.body.getElementsByClassName("jqx-window"),a=0;a<i.length;a++)i[a].removeAttribute("ontop");1===i.length&&i[0]===e||e.setAttribute("ontop","")}}},{key:"clear",value:function(){var e=this;e.isCompleted&&"JQX-WINDOW"===e.nodeName&&(e.$.content.innerHTML="")}},{key:"detached",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this);var e=this;e._windowParent.parent.querySelectorAll("jqx-window, jqx-dialog-window, jqx-progress-window, jqx-wait-window, jqx-alert-window, jqx-prompt-window, jqx-multiline-prompt-window")||(e._windowParent.parent.style.position=""),e._modal&&e._modal.parentElement&&e._modal.parentElement.removeChild(e._modal),e._resizeDummy&&e._resizeDummy.parentElement&&e._handleWindowResizeDummy(),e._refreshMinimizedWindowsPosition()}},{key:"expand",value:function(e){var t=this;(e||t.collapsed)&&(t.collapsed=!1,t.$.fireEvent("expand"),t.maximized?"left"===t.headerPosition||"right"===t.headerPosition?t.style.width=Math.max(t._windowParent.scrollElement.scrollWidth,t._windowParent.element.clientWidth)-t._windowParent.borderWidth+"px":t.style.height=Math.max(t._windowParent.scrollElement.scrollHeight,t._windowParent.element.clientHeight)-t._windowParent.borderWidth+"px":"left"===t.headerPosition||"right"===t.headerPosition?t.style.width=t.className.indexOf("jqx-window-snapped-")<0&&t._dragDetails?t._dragDetails.width+"px":"":t.style.height=t.className.indexOf("jqx-window-snapped-")<0&&t._dragDetails?t._dragDetails.height+"px":"")}},{key:"maximize",value:function(e){function t(){if(i.maximized&&i.hasAnimation){var e=i._windowParent.scrollElement.scrollHeight,a=i._windowParent.element.clientHeight,n=Math.max(e,a);"top"===i.headerPosition||"bottom"===i.headerPosition?i.collapsed||(i.style.height=e>a?n-i._windowParent.borderWidth+"px":"100%"):i.style.height=e>a?n-i._windowParent.borderWidth+"px":"100%",i.removeEventListener("transitionend",t)}}var i=this;if(e||!i.maximized){i.minimized&&i._restoreFromMinimization(e),i._setDragDetails(),"none"!==i.resizeMode&&(i.$.container.className="jqx-container"),i._snapDummy&&i.$.hasClass("jqx-window-snapped-"+i._snapDummy._position)&&i.classList.remove("jqx-window-snapped-"+i._snapDummy._position),i.maximized=!0,i.$.fireEvent("maximize"),i.style.left=i.style.top="0px",i.style.maxWidth=i.style.maxHeight="none";var a=i._windowParent.scrollElement.scrollHeight,n=i._windowParent.scrollElement.scrollWidth,o=i._windowParent.element.clientHeight,r=i._windowParent.element.clientWidth,l=Math.max(a,o),s=Math.max(n,r);"top"===i.headerPosition||"bottom"===i.headerPosition?(i.style.width=n>r?s-i._windowParent.borderWidth+"px":"100%",i.collapsed||(i.style.height=a>o?l-i._windowParent.borderWidth+"px":"100%")):(i.collapsed||(i.style.width=n>r?s-i._windowParent.borderWidth+"px":"100%"),i.style.height=a>o?l-i._windowParent.borderWidth+"px":"100%"),"100%"!==i.style.height&&i.addEventListener("transitionend",t)}}},{key:"minimize",value:function(e){var t=this;if(e||!t.minimized){t.maximized&&t.restore(),t._setDragDetails(),t.minimized=!0,t.$.fireEvent("minimize"),t._snapDummy&&t.$.hasClass("jqx-window-snapped-"+t._snapDummy._position)&&(t.$.removeClass("jqx-window-snapped-"+t._snapDummy._position),t.style.right=t.style.top=t.style.left="");var i=t._getAllMinimizedWindows(t._windowParent.element);if(i.length>0){var a=i[i.length-1];t.style.left=(a.offsetLeft+a.offsetWidth+t._dragDetails.minWidth+10>t._windowParent.element.clientWidth?a.offsetLeft:a.offsetLeft+a.offsetWidth+5)+"px",t.style.top=a.offsetTop+"px"}else t.style.left="5px",t.style.top=t._windowParent.element.clientHeight+t._windowParent.scrollElement.scrollTop-t.$.headerSection.offsetHeight-5+"px";t.style.width="",t.style.height=t.$.headerSection.offsetHeight+"px"}}},{key:"_createElement",value:function(){}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}));t.$.content.removeChild(e)}},{key:"restore",value:function(e){var t=this;if("maximized"===e||t.maximized?(t.maximized=!1,t.style.width=t.style.height=t.style.top=t.style.left=""):("minimized"===e||t.minimized)&&t._restoreFromMinimization(e),t.$.fireEvent("restore"),t.style.maxWidth=t.style.maxHeight="",t._dragDetails){if(t.style.left=Math.max(0,Math.min(t._dragDetails.windowX,t._windowParent.element.clientWidth-t._dragDetails.width))+"px",t.style.top=Math.max(0,Math.min(t._dragDetails.windowY,t._windowParent.scrollElement.scrollHeight-t._dragDetails.height))+"px",t.collapsed)return void("top"===t.headerPosition||"bottom"===t.headerPosition?t.style.width=t._dragDetails.width+"px":t.style.height=t._dragDetails.height+"px");t._dragDetails.resized&&(t.style.width=t._dragDetails.width+"px",t.style.height=t._dragDetails.height+"px")}}},{key:"open",value:function(e){function t(){i.focus(),i.removeEventListener("transitionend",t)}var i=this;if(e||i.$.hasClass("jqx-visibility-hidden")){if(i.isCompleted){if(i.$.fireEvent("opening").defaultPrevented)return;i.$.removeClass("jqx-visibility-hidden"),i.opened=!0,i.$.fireEvent("open")}else i.$.removeClass("jqx-visibility-hidden"),i.opened=!0;i.bringToFront(),i._setModal(),i._handleActiveState(),i.hasAnimation?i.addEventListener("transitionend",t):t()}}},{key:"pin",value:function(){this.pinned=!0}},{key:"unpin",value:function(){this.pinned=!1}},{key:"_applyLayoutTemplate",value:function(e,t){var i=this;return t?"content"in document.createElement("template")?(t instanceof HTMLTemplateElement||(t=document.getElementById(t)),null!==t&&"content"in t?(e.innerHTML="",void e.appendChild(document.importNode(t.content,!0))):void i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:e===i.$.footer?"footerTemplate":"headerTemplate"}))):void i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()})):(e.innerHTML="",void(e===i.$.header&&i.label&&(e.innerHTML=i.label)))}},{key:"_cancelDragging",value:function(e){var t=this;if(t._dragDetails&&t._dragDetails.started&&"drag"===t._dragDetails.type){if(!e){var i=t.getBoundingClientRect();e={pageX:i.left,pageY:i.top}}t.$.fireEvent("dragEnd",{x:e.pageX,y:e.pageY}),t.removeAttribute("dragged"),t._dragDetails.started=!1,delete t._mouseManipulation}}},{key:"_documentFocusInEventHandler",value:function(e){var t=this;t._changingFocus&&(t.contains(e.target)||t.focus(),delete t._changingFocus)}},{key:"_downHandler",value:function(e){var t=this,i=JQX.Utilities.Core.isMobile?document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target;if(e.stopPropagation(),!t.disabled&&(JQX.Utilities.Core.isMobile||1===e.which)&&(t._tabsWindow&&(t._tabsWindow._isAutoHideWindowClicked=!0),t.hasAttribute("ontop")||t.bringToFront(),!i.closest||i.closest(".jqx-buttons-container")!==t.$.buttonsContainer||(t._buttonPressed=i.closest("jqx-button"),!t._buttonPressed))){t._isWindowContentClicked=e.originalEvent.target.closest(".jqx-content")&&e.originalEvent.target.closest(".jqx-window");var a=t.closest("jqx-docking-layout");if(!(t instanceof JQX.TabsWindow&&a&&a.disabled))return t._handleActiveState(),t instanceof JQX.TabsWindow&&a?void(t.$.hasClass("jqx-docking-layout-auto-hide-window")&&(JQX.Utilities.Core.isMobile&&t._moveHandler(e),"none"!==t.resizeMode&&t.$.container.className.indexOf("jqx-window-resizing")>-1&&(t._mouseManipulation=!0,t._setDragDetails("resize",e)))):e.originalEvent.target.closest(".jqx-header-section")===t.$.headerSection&&(void 0===t._dblClickDetails&&(t._dblClickDetails={clicks:0}),clearTimeout(t._dblClickDetails.timeOut),t._dblClickDetails.clicks++,t._dblClickDetails.timeOut=setTimeout(function(){t._dblClickDetails&&(t._dblClickDetails.clicks=0)},300),2===t._dblClickDetails.clicks)?(t._headerDblCickHandler(e),void(t._dblClickDetails.clicks=0)):void(t.maximized||(JQX.Utilities.Core.isMobile&&t._moveHandler(e),!t.pinned&&!t.minimized&&t.$.container.className.indexOf("jqx-window-resizing")<0&&(i=i.closest(".jqx-header-section"))&&i===t.$.headerSection&&(t._mouseManipulation=!0,t._setDragDetails("drag",e)),"none"!==t.resizeMode&&t.$.container.className.indexOf("jqx-window-resizing")>-1&&(t._mouseManipulation=!0,t._setDragDetails("resize",e))))}}},{key:"_documentMoveHandler",value:function(e){var t=this;!t._dragDetails||!t._dragDetails.started||t.minimized||!t._mouseManipulation||Math.abs(e.pageX-t._dragDetails.x)<=5&&Math.abs(e.pageY-t._dragDetails.y)<=5||(t.hasAttribute("dragged")||t.hasAttribute("resized")||t.$.fireEvent(t._dragDetails.type+"Start",{left:e.pageX,top:e.pageY,width:t.offsetWidth,height:t.offsetHeight}),e.stopPropagation(),"drag"!==t._dragDetails.type||t.pinned?(t._dragDetails.resized=!0,t._resize(t._dragDetails.side,e),t._dragDetails.x=Math.max(t._windowParent.offsetLeft+t._dragDetails.left,Math.min(t._windowParent.offsetLeft+t._dragDetails.left+(t._dragDetails.side.toLowerCase().indexOf("left")>-1?0:t._dragDetails.newWidth),e.pageX)),t._dragDetails.y=Math.max(t._windowParent.offsetTop+t._dragDetails.top,Math.min(t._windowParent.offsetTop+t._dragDetails.top+(t._dragDetails.side.toLowerCase().indexOf("top")>-1?0:t._dragDetails.newHeight),e.pageY))):(t.setAttribute("dragged",""),t._snapDummy&&t.$.hasClass("jqx-window-snapped-"+t._snapDummy._position)&&(t.$.removeClass("jqx-window-snapped-"+t._snapDummy._position),t.style.right=t.style.top=t.style.left="",t.collapsed||(t.style.height=t._dragDetails.height+"px",t.style.width=t._dragDetails.width+"px")),t._drag(e,"both"),t._dragDetails.x=Math.max(t._windowParent.offsetLeft+t._dragDetails.offsetX-t._windowParent.scrollElement.scrollLeft,Math.min(t._windowParent.offsetLeft+t._windowParent.element.offsetWidth-(t._windowParent.element.offsetWidth-t.offsetLeft)+t._dragDetails.offsetX,e.pageX)),t._dragDetails.y=Math.max(t._windowParent.offsetTop+t._dragDetails.offsetY-t._windowParent.scrollElement.scrollTop,Math.min(t._windowParent.offsetTop+t._windowParent.element.offsetHeight-(t._windowParent.element.offsetHeight-t.offsetTop)+t._dragDetails.offsetY,e.pageY)),e.pageX>=t._windowParent.offsetLeft+t._windowParent.scrollElement.scrollWidth-1?t._handleSnapping("right"):e.pageY<=t._windowParent.offsetTop?t._handleSnapping("top"):e.pageX<=t._windowParent.offsetLeft?t._handleSnapping("left"):t._handleSnapping()))}},{key:"_documentUpHandler",value:function(e){var t=this,i=e.originalEvent.target;if(t.disabled)return t.removeAttribute("active"),delete t._buttonPressed,void delete t._isWindowContentClicked;if(t._dragDetails&&t._dragDetails.started&&(t.hasAttribute("resized")&&(t.$.fireEvent(t._dragDetails.type+"End",{x:e.pageX,y:e.pageY,width:t._dragDetails.newWidth,height:t._dragDetails.newHeight}),t.removeAttribute("resized"),t._handleWindowResizeDummy(),t.$.container.className="jqx-container"),setTimeout(function(){t.$.removeClass("no-transition")},20),t.hasAttribute("dragged")&&(t.$.fireEvent(t._dragDetails.type+"End",{x:e.pageX,y:e.pageY}),t.removeAttribute("dragged")),t._dragDetails.started=!1,delete t._mouseManipulation),t._snapDummy&&!t._snapDummy.classList.contains("jqx-visibility-hidden")){switch(t._snapDummy._position){case"left":case"top":t.style.left=t.style.top="0",t.style.right="auto";break;case"right":t.style.left="auto",t.style.top=t.style.right="0"}t.style.width="top"===t._snapDummy._position?"100%":"50%",t.style.height="100%",t.$.addClass("jqx-window-snapped-"+t._snapDummy._position),t._handleSnapping()}if(t._modal&&e.originalEvent.target===t._modal&&!t._isWindowContentClicked&&(t.closeOnMaskClick?t.close():t.focus()),t._isWindowButton(e.originalEvent.target)&&t.focus(),delete t._isWindowContentClicked,delete t._buttonPressed,t.hasAttribute("active")&&document.activeElement!==t&&i.closest){for(var a=i.closest(".jqx-window");a&&a!==t;)a=a.parentElement.closest(".jqx-window");a!==t&&t.removeAttribute("active")}}},{key:"_documentSelectStartHandler",value:function(e){var t=this;t._dragDetails&&t._dragDetails.started&&e.preventDefault()}},{key:"_drag",value:function(e,t){var i=this;if(e&&!i.pinned&&!i.maximized){var a=void 0,n=void 0;i._dragDetails&&i._dragDetails.started||i._setDragDetails("drag",e),i.$.addClass("no-transition"),"object"===(void 0===e?"undefined":babelHelpers.typeof(e))?(a=e.pageX-i._dragDetails.x,n=e.pageY-i._dragDetails.y):a=n=e;var o=Math.max(i._windowParent.element.clientHeight,i._windowParent.scrollElement.scrollHeight),r=Math.max(i._windowParent.element.clientWidth,i._windowParent.scrollElement.scrollWidth);switch(t){case"horizontal":i._dragDetails.windowX=Math.max(0,Math.min(i._dragDetails.windowX+a,r-i.offsetWidth)),i.style.left=i._dragDetails.windowX+"px";break;case"vertical":i._dragDetails.windowY=Math.max(0,Math.min(i._dragDetails.windowY+n,o-i.offsetHeight)),i.style.top=i._dragDetails.windowY+"px";break;case"both":i._dragDetails.windowX=Math.max(0,Math.min(i._dragDetails.windowX+a,r-i.offsetWidth)),i._dragDetails.windowY=Math.max(0,Math.min(i._dragDetails.windowY+n,o-i.offsetHeight)),i.style.left=i._dragDetails.windowX+"px",i.style.top=i._dragDetails.windowY+"px"}i._dragDetails.top=i.offsetTop,i._dragDetails.left=i.offsetLeft}}},{key:"_dragStartHandler",value:function(e){var t=this;t._dragDetails&&t._dragDetails.started&&e.preventDefault()}},{key:"_focusHandler",value:function(e){var t=this;"focus"===e.type?(t.setAttribute("focus",""),t.bringToFront()):t._buttonPressed||(t.removeAttribute("focus"),t._dragDetails&&t._dragDetails.started&&t._handleWindowResizeDummy())}},{key:"_getAllMinimizedWindows",value:function(e){var t=this,i=[];e||(e=t._windowParent.element);for(var a=e.getElementsByTagName("jqx-window"),n=0;n<a.length;n++)a[n]!==t&&a[n].hasAttribute("minimized")&&i.push(a[n]);return i.sort(function(e,t){var i=e.getBoundingClientRect(),a=t.getBoundingClientRect();return i.right-a.right}),i}},{key:"_handleSnapping",value:function(e){function t(){i._snapDummy.classList.contains("jqx-visibility-hidden")&&i._snapDummy.parentElement&&i._snapDummy.parentElement.removeChild(i._snapDummy)}var i=this;if(!e)return void(i._snapDummy&&i._snapDummy.parentElement&&i._snapDummy.classList.add("jqx-visibility-hidden"));i.disableSnap||i.collapsed||(i._snapDummy||(i._snapDummy=document.createElement("div"),i._snapDummy.addEventListener("transitionend",t)),i._snapDummy.className="jqx-window-snap-"+e+"-feedback",i._snapDummy._position=e,i._snapDummy.parentElement||i._windowParent.element.appendChild(i._snapDummy))}},{key:"_headerDblCickHandler",value:function(e){var t=this,i=e.originalEvent.target;i!==t.$.headerSection&&i!==t.$.header||t.$.maximizeButton&&0===t.$.maximizeButton.offsetHeight||(t.maximized?t.restore():t.maximize())}},{key:"_isWindowButton",value:function(e){var t=this;if(e.closest&&e.closest(".jqx-buttons-container")===t.$.buttonsContainer){var i=/jqx-(\w+[-]*\w*)-button/gi;if((e=e.closest("jqx-button"))&&e===t._buttonPressed)switch(e){case t.$.closeButton:return t.close(),!0;case t.$.collapseButton:return t.collapsed?t.expand():t.collapse(),!0;case t.$.maximizeButton:return t.maximized?t.restore():t.maximize(),!0;case t.$.minimizeButton:return t.minimized?t.restore():t.minimize(),!0;case t.$.pinButton:return t.pinned?t.unpin():t.pin(),!0;default:if(!i.test(e.className))return;return t.$.fireEvent(JQX.Utilities.Core.toCamelCase(e.className.match(i).toString().replace("jqx-","").replace("-button","")),{button:e}),!0}}}},{key:"_keyDownHandler",value:function(e){var t=this;if(delete t._changingFocus,!(t.disabled||(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&t._mouseManipulation)){e.stopPropagation();var i="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":if(t.minimized||document.activeElement!==t)return;var a=e.key.indexOf("Right")>-1||e.key.indexOf("Left")>-1;if(e.preventDefault(),!a&&e.altKey)return void("ArrowUp"===e.key?t.maximize():t.restore());if(t.maximized)return;if(t.$.addClass("no-transition"),e.ctrlKey&&"none"!==t.resizeMode&&!t.collapsed)return a=-1===["horizontal","vertical","both"].indexOf(t.resizeMode)?t.resizeMode:a?"right":"bottom",t.hasAttribute("dragged")&&t._cancelDragging(e),t.hasAttribute("resized")||t.$.fireEvent("resizeStart",{position:{x:e.pageX,y:e.pageY}}),void t._resize(a,i);t.pinned||(t.hasAttribute("dragged")||(t.setAttribute("dragged",""),t.$.fireEvent("dragStart",{position:{left:e.pageX,top:e.pageY}})),t._drag(i,a?"horizontal":"vertical")),t.$.removeClass("no-transition");break;case"Escape":t.headerButtons.indexOf("close")>-1&&document.activeElement===t&&t.close();break;case"p":e.altKey&&t.headerButtons.indexOf("pin")>-1&&(t.pinned?t.unpin():t.pin());break;case"c":e.altKey&&t.headerButtons.indexOf("collapse")>-1&&(t.collapsed?t.expand():t.collapse());break;case"m":e.altKey&&t.headerButtons.indexOf("minimize")>-1&&(t.minimized?t.restore():t.minimize());break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":var n=e.target.closest&&e.target.closest("jqx-button");if(!n)return;t._isWindowButton(t._buttonPressed=n),delete t._buttonPressed}}}},{key:"_keyUpHandler",value:function(e){var t=this;if(e.key){if("Control"===e.key&&t._dragDetails&&t.hasAttribute("resized")&&!t._mouseManipulation){if(!t._dragDetails.started)return;"drag"!==t._dragDetails.type&&(t.removeAttribute("resized"),t.$.fireEvent("resizeEnd",{x:e.pageX,y:e.pageY,width:t._dragDetails.newWidth,height:t._dragDetails.newHeight}),t._handleWindowResizeDummy()),t._dragDetails.started=!1}e.key.indexOf("Arrow")>-1&&t.hasAttribute("dragged")&&!t._mouseManipulation&&t._cancelDragging(e)}}},{key:"_mouseWheelHandler",value:function(e){var t=this;if(!t.disabled&&t._dragDetails&&t._dragDetails.started)return e.deltaY<0&&t._windowParent.scrollElement.scrollTop+e.deltaY<=0?void(t.style.top=Math.max(0,t._dragDetails.windowY)+"px"):void(e.deltaY>0&&(t._dragDetails.windowY+t.offsetHeight+e.deltaY>=t._windowParent.scrollElement.scrollHeight||t._windowParent.scrollElement.scrollTop+t._windowParent.element.clientHeight===t._windowParent.scrollElement.scrollHeight)||("drag"===t._dragDetails.type?(t._dragDetails.windowY+=e.deltaY,t.style.top=t._dragDetails.windowY+"px"):(t._dragDetails.height+=e.deltaY,t.style.height=t._dragDetails.height+"px")))}},{key:"_moveHandler",value:function(e){var t=this;if(!(t.disabled||t.collapsed||t.maximized||t.minimized||(JQX.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&t.hasAttribute("dragged")&&e.originalEvent.preventDefault(),t._mouseManipulation||(t.$.container.className.indexOf("jqx-window-resizing")>-1&&(t.$.container.className="jqx-container"),"none"===t.resizeMode)))){var i=t.getBoundingClientRect(),a=e.clientY<i.top+10,n=e.clientY>i.bottom-10,o=e.clientX>i.right-10,r=e.clientX<i.left+10;switch(t.resizeMode){case"none":break;case"both":if(t.resizeIndicator)return void(n&&o&&t.$.container.classList.add("jqx-window-resizing-bottom-right"));if(r||o)return a?void(r?t.$.container.classList.add("jqx-window-resizing-top-left"):t.$.container.classList.add("jqx-window-resizing-top-right")):n?void(r?t.$.container.classList.add("jqx-window-resizing-bottom-left"):t.$.container.classList.add("jqx-window-resizing-bottom-right")):void(r?t.$.container.classList.add("jqx-window-resizing-left"):t.$.container.classList.add("jqx-window-resizing-right"));if(a||n){if(o)return void(a?t.$.container.classList.add("jqx-window-resizing-top-right"):t.$.container.classList.add("jqx-window-resizing-bottom-right"));if(r)return void(a?t.$.container.classList.add("jqx-window-resizing-top-left"):t.$.container.classList.add("jqx-window-resizing-bottom-left"));a?t.$.container.classList.add("jqx-window-resizing-top"):t.$.container.classList.add("jqx-window-resizing-bottom")}break;case"horizontal":if(t.resizeIndicator)return void(n&&o&&t.$.container.classList.add("jqx-window-resizing-right"));if(r)return void t.$.container.classList.add("jqx-window-resizing-left");o&&t.$.container.classList.add("jqx-window-resizing-right");break;case"vertical":if(t.resizeIndicator)return void(n&&o&&t.$.container.classList.add("jqx-window-resizing-bottom"));if(a)return void t.$.container.classList.add("jqx-window-resizing-top");n&&t.$.container.classList.add("jqx-window-resizing-bottom");break;case"top":if(a){if(t.resizeIndicator&&!r)return;t.$.container.classList.add("jqx-window-resizing-top")}break;case"bottom":if(n){if(t.resizeIndicator&&!o)return;t.$.container.classList.add("jqx-window-resizing-bottom")}break;case"left":if(r){if(t.resizeIndicator&&!a)return;t.$.container.classList.add("jqx-window-resizing-left")}break;case"right":if(o){if(t.resizeIndicator&&!n)return;t.$.container.classList.add("jqx-window-resizing-right")}}}}},{key:"_handleActiveState",value:function(){for(var e=this,t=document.getElementsByClassName("jqx-window"),i=0;i<t.length;i++)t[i].contains(e)||e.contains(t[i])||t[i].removeAttribute("active");e.setAttribute("active","")}},{key:"_handleWindowResizeDummy",value:function(){var e=this;if(e._resizeDummy||(e._resizeDummy=document.createElement("div"),e._resizeDummy.classList.add("jqx-window-resize-feedback")),!e.hasAttribute("resized"))return e._resizeDummy.parentElement&&e._resizeDummy.parentElement.removeChild(e._resizeDummy),void(!e.liveResize&&"resize"===e._dragDetails.type&&e._dragDetails.started&&(e.style.top=e._dragDetails.top+"px",e.style.left=e._dragDetails.left+"px",e.style.width=e._dragDetails.newWidth+"px",e.style.height=e._dragDetails.newHeight+"px"));e._resizeDummy.parentElement||(e._resizeDummy.style.width=e.offsetWidth+"px",e._resizeDummy.style.height=e.offsetHeight+"px",e._resizeDummy.style.top=e.offsetTop+"px",e._resizeDummy.style.left=e.offsetLeft+"px",e._windowParent.element.appendChild(e._resizeDummy))}},{key:"_resize",value:function(e,t){var i=this,a=void 0;if((!i._dragDetails||i._dragDetails&&"drag"===i._dragDetails.type)&&i._setDragDetails("resize"),i._dragDetails){i._dragDetails.started=!0,i.hasAttribute("resized")||(i.setAttribute("resized",""),i.hasAnimation&&i.$.addClass("no-transition")),i.liveResize||i._handleWindowResizeDummy();var n=i._snapDummy&&i.$.hasClass("jqx-window-snapped-"+i._snapDummy._position)?"snapWindowWidth":"width";switch(e){case"left":a="object"===(void 0===t?"undefined":babelHelpers.typeof(t))?t.pageX-i._dragDetails.x:t,a=a>0?Math.min(a,i._dragDetails[n]-i._dragDetails.minWidth):-1*Math.min(i._dragDetails.maxWidth?i._dragDetails.maxWidth-i._dragDetails[n]:i._dragDetails.left,Math.abs(a)),i._dragDetails[n]=Math.min(i._dragDetails[n]+i._dragDetails.left-i._windowParent.scrollElement.scrollLeft,i._dragDetails[n]-a),i._dragDetails.windowX=Math.max(i._windowParent.scrollElement.scrollLeft,i._dragDetails.windowX+a),"object"!==(void 0===t?"undefined":babelHelpers.typeof(t))&&(i._dragDetails[n]=Math.max(i._dragDetails[n],i._dragDetails.minWidth)),i._dragDetails[n]>=i._dragDetails.minWidth&&(i._dragDetails.left=i._dragDetails.windowX,i._dragDetails.newWidth=i._dragDetails[n]);break;case"right":
var o=i._windowParent.element.clientWidth!==i._windowParent.element.offsetWidth?i._windowParent.borderWidth:0,r=i._snapDummy&&i.$.hasClass("jqx-window-snapped-"+i._snapDummy._position)?"snapWindowWidth":"width";a="object"===(void 0===t?"undefined":babelHelpers.typeof(t))?t.pageX-i._dragDetails.x:t,a>0&&i._dragDetails.maxWidth&&(a=Math.min(i._dragDetails.maxWidth-i._dragDetails[r],a)),i._dragDetails[r]=Math.min(i._windowParent.element.clientWidth+i._windowParent.scrollElement.scrollLeft-i._dragDetails.left-o,Math.max(0,i._dragDetails[r]+a)),"object"!==(void 0===t?"undefined":babelHelpers.typeof(t))&&(i._dragDetails[r]=Math.max(i._dragDetails[r],i._dragDetails.minWidth)),i._dragDetails.left=i.offsetLeft,i._dragDetails.newWidth=Math.max(i._dragDetails.minWidth,i._dragDetails[r]);break;case"top":i._snapDummy&&i.$.hasClass("jqx-window-snapped-"+i._snapDummy._position)&&(i._dragDetails.height=i._dragDetails.snapWindowHeight),a="object"===(void 0===t?"undefined":babelHelpers.typeof(t))?t.pageY-i._dragDetails.y:t,a=a>0?Math.min(a,i._dragDetails.height-i._dragDetails.minHeight):-1*Math.min(i._dragDetails.maxHeight?i._dragDetails.maxHeight-i._dragDetails.height:i._dragDetails.top,Math.abs(a)),i._dragDetails.snapWindowHeight=i._dragDetails.height=Math.min(i._dragDetails.height+i._dragDetails.top-i._windowParent.scrollElement.scrollTop,i._dragDetails.height-a),i._dragDetails.windowY=Math.max(i._windowParent.scrollElement.scrollTop,i._dragDetails.windowY+a),"object"!==(void 0===t?"undefined":babelHelpers.typeof(t))&&(i._dragDetails.snapWindowHeight=i._dragDetails.height=Math.max(i._dragDetails.height,i._dragDetails.minHeight)),i._dragDetails.height>=i._dragDetails.minHeight&&(i._dragDetails.top=i._dragDetails.windowY,i._dragDetails.newHeight=i._dragDetails.height),i._dragDetails.newWidth=Math.max(i._dragDetails[n],i._dragDetails.newWidth);break;case"bottom":i._snapDummy&&i.$.hasClass("jqx-window-snapped-"+i._snapDummy._position)&&(i._dragDetails.height=i._dragDetails.snapWindowHeight),a="object"===(void 0===t?"undefined":babelHelpers.typeof(t))?t.pageY-i._dragDetails.y:t,a>0&&i._dragDetails.maxHeight&&(a=Math.min(i._dragDetails.maxHeight-i._dragDetails.height,a)),i._dragDetails.snapWindowHeight=i._dragDetails.height=Math.min(i._windowParent.element.clientHeight+i._windowParent.scrollElement.scrollTop-i._dragDetails.top-i._windowParent.borderWidth,Math.max(0,i._dragDetails.height+a)),"object"!==(void 0===t?"undefined":babelHelpers.typeof(t))&&(i._dragDetails.snapWindowHeight=i._dragDetails.height=Math.max(i._dragDetails.height,i._dragDetails.minHeight)),i._dragDetails.newHeight=Math.max(i._dragDetails.minHeight,i._dragDetails.height),i._dragDetails.newWidth=Math.max(i._dragDetails[n],i._dragDetails.newWidth);break;case"bottomLeftCorner":i._resize("bottom",t),i._resize("left",t);break;case"bottomRightCorner":i._resize("bottom",t),i._resize("right",t);break;case"topLeftCorner":i._resize("top",t),i._resize("left",t);break;case"topRightCorner":i._resize("top",t),i._resize("right",t)}var l=i.liveResize?i:i._resizeDummy;i._dragDetails.newHeight=Math.max(i._dragDetails.snapWindowHeight,i._dragDetails.newHeight),l.style.top=i._dragDetails.top+"px",l.style.left=i._dragDetails.left+"px",l.style.width=i._dragDetails.newWidth+"px",l.style.height=i._dragDetails.newHeight+"px"}}},{key:"_restoreFromMinimization",value:function(){var e=this;e.minimized=!1,e.style.width=e.style.height=e.style.top=e.style.left="",e._refreshMinimizedWindowsPosition()}},{key:"_refreshMinimizedWindowsPosition",value:function(){var e=this,t=e._getAllMinimizedWindows();if(0!==t.length){t[0].style.left="5px";for(var i=void 0,a=1;a<t.length;a++)parseFloat(t[a-1].style.left)+t[a-1].offsetWidth+t[a].offsetWidth+10<e._windowParent.element.clientWidth?(t[a].style.left=parseFloat(t[a-1].style.left)+t[a-1].offsetWidth+5+"px",t[a].style.top=t[a-1].offsetTop+"px",i=t[a]):(t[a].style.left=parseFloat(i.style.left)+"px",t[a].style.top=i.offsetTop+"px")}}},{key:"_setHeaderButtons",value:function(){for(var e=this,t=e.headerButtons,i=e.$.buttonsContainer.children,a=0;a<i.length;a++)i[a].$.addClass("jqx-hidden");if(t.length>0)for(var n=0;n<t.length;n++){var o=function(t){var i=e.$.buttonsContainer.getElementsByClassName("jqx-"+(t+"").split(/(?=[A-Z])/).join("-").toLowerCase()+"-button")[0];return i&&i.$.removeClass("jqx-hidden"),i}(t[n]);o||(o=document.createElement("jqx-button"),o.$.addClass("jqx-"+(t[n]+"").split(/(?=[A-Z])/).join("-").toLowerCase()+"-button"),o.theme=e.theme),e.$.buttonsContainer.insertBefore(o,e.$.buttonsContainer.firstElementChild)}}},{key:"_setDragDetails",value:function(e,t){var i=this;if(i._dragDetails||(i._dragDetails={}),void 0===i._dragDetails.minWidth||void 0===i._dragDetails.minHeight||void 0===i._dragDetails.maxWidth||void 0===i._dragDetails.maxHeight){var a=getComputedStyle(i);i._dragDetails.minWidth=parseFloat(a.getPropertyValue("min-width"))||0,i._dragDetails.minHeight=parseFloat(a.getPropertyValue("min-height"))||0,i._dragDetails.maxWidth=parseFloat(a.getPropertyValue("max-width"))||0,i._dragDetails.maxHeight=parseFloat(a.getPropertyValue("max-height"))||0}i._dragDetails.windowX=i.offsetLeft,i._dragDetails.windowY=i.offsetTop;var n=i.getBoundingClientRect();if(i._snapDummy&&i.$.hasClass("jqx-window-snapped-"+i._snapDummy._position))"right"===i.headerPosition&&i.collapsed&&(i._dragDetails.offsetX=n.left+i.offsetWidth-t.clientX);else{var o=i.parentElement===document.body?document.documentElement.getBoundingClientRect():i.parentElement.getBoundingClientRect(),r=window.scrollX||window.pageXOffset,l=window.scrollY||window.pageYOffset;i._windowParent.offsetLeft=o.left+r,i._windowParent.offsetTop=o.top+l,t&&"object"===(void 0===t?"undefined":babelHelpers.typeof(t))&&(i._dragDetails.offsetX=t.clientX-n.left,i._dragDetails.offsetY=t.clientY-n.top),i.collapsed||(i._dragDetails.width=i.offsetWidth,i._dragDetails.height=i.offsetHeight,(i.style.width||i.style.height)&&(i._dragDetails.resized=!0))}if("minimize"!==e&&e&&(i._dragDetails.type=e,i._dragDetails.started=!0,i._dragDetails.snapWindowWidth=i.offsetWidth,i._dragDetails.snapWindowHeight=i.offsetHeight,t&&"object"===(void 0===t?"undefined":babelHelpers.typeof(t))?(i._dragDetails.x=t.pageX,i._dragDetails.y=t.pageY):(i._dragDetails.x=i.offsetLeft,i._dragDetails.y=i.offsetTop),"resize"===e)){if("none"===i.resizeMode)return void delete i._dragDetails;i._dragDetails.top=i.offsetTop,i._dragDetails.left=i.offsetLeft,i._dragDetails.newWidth=i._dragDetails.width,i._dragDetails.newHeight=i._dragDetails.height,i.$container.hasClass("jqx-window-resizing-right")?i._dragDetails.side="right":i.$container.hasClass("jqx-window-resizing-left")?i._dragDetails.side="left":i.$container.hasClass("jqx-window-resizing-top")?i._dragDetails.side="top":i.$container.hasClass("jqx-window-resizing-bottom")?i._dragDetails.side="bottom":i.$container.hasClass("jqx-window-resizing-top-left")?i._dragDetails.side="topLeftCorner":i.$container.hasClass("jqx-window-resizing-bottom-left")?i._dragDetails.side="bottomLeftCorner":i.$container.hasClass("jqx-window-resizing-top-right")?i._dragDetails.side="topRightCorner":i.$container.hasClass("jqx-window-resizing-bottom-right")&&(i._dragDetails.side="bottomRightCorner")}}},{key:"_setElementParent",value:function(e){var t=this;if(t._windowParent.element=void 0,t._windowParent.parent&&!t._windowParent.parent.querySelectorAll("jqx-window, jqx-dialog-window, jqx-progress-window, jqx-wait-window, jqx-alert-window, jqx-prompt-window, jqx-multiline-prompt-window")&&(t._windowParent.parent.style.position=""),e instanceof HTMLElement?t._windowParent.element=e:"string"==typeof e&&(t._windowParent.element="body"===e?document.body:document.getElementById(e)),t._windowParent.element||(t._windowParent.element=t._windowParent.initialParent.parentElement?t._windowParent.initialParent:document.body),t.parentElement!==t._windowParent.element&&t._windowParent.element.appendChild(t),t._windowParent.element===document.body)t._windowParent.element=document.documentElement,t._windowParent.scrollElement=document.scrollingElement,t._windowParent.parent=document.body,t._windowParent.borderWidth=0;else{t._windowParent.element instanceof JQX.Window&&(t._windowParent.element=t._windowParent.element.$.content);var i=getComputedStyle(t.parentElement),a=i.getPropertyValue("position");t._windowParent.borderWidth=2*parseInt(i.getPropertyValue("border-width")||0),t._windowParent.parent=t.parentElement,t._windowParent.scrollElement=t._windowParent.element,"relative"!==a&&(t.parentElement.style.position="relative")}t._setModal(),t.style.left&&t.offsetLeft>t._windowParent.scrollElement.scrollWidth&&(t.style.left=t._windowParent.scrollElement.scrollWidth-t.offsetWidth+"px"),t.style.top&&t.offsetTop>t._windowParent.scrollElement.scrollHeight&&(t.style.top=t._windowParent.scrollElement.scrollHeight-t.offsetHeight+"px")}},{key:"_setModal",value:function(){var e=this;if(delete e._changingFocus,e._windowParent.element){if(!e.modal)return void(e._modal&&e._modal.parentElement&&(e._modal.parentElement.removeChild(e._modal),delete e._modal));if(e._modal||(e._modal=document.createElement("div"),e._modal.classList.add("jqx-modal")),e._windowParent.parent!==document.body?e._modal.setAttribute("nested-modal",""):e._modal.removeAttribute("nested-modal"),e._modal._window=e,e.opened&&!e._modal.parentElement){var t=parseInt(getComputedStyle(e).getPropertyValue("z-index"));isNaN(t)||(e._modal.style.zIndex=t-1),e.parentElement.insertBefore(e._modal,e)}else e._modal.parentElement&&e._modal.parentElement.removeChild(e._modal)}}},{key:"hasStyleObserver",get:function(){return!1}}],[{key:"properties",get:function(){return{collapsed:{value:!1,type:"boolean"},closeOnMaskClick:{value:!1,type:"boolean"},disableSnap:{value:!1,type:"boolean"},footerPosition:{value:"bottom",allowedValues:["bottom","none"],type:"string"},footerTemplate:{value:null,type:"any"},headerButtons:{value:["close","maximize","minimize"],type:"array"},headerPosition:{value:"top",allowedValues:["top","bottom","left","right","none"],type:"string"},headerTemplate:{value:null,type:"any"},label:{value:"",type:"string"},liveResize:{value:!1,type:"boolean"},maximized:{value:!1,type:"boolean"},modal:{value:!1,type:"boolean"},minimized:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},pinned:{value:!1,type:"boolean"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{allowedValues:["none","horizontal","vertical","both","top","bottom","left","right"],value:"none",type:"string"},windowParent:{value:null,type:"any"}}}},{key:"listeners",get:function(){return{"document.dragstart":"_dragStartHandler","document.focusin":"_documentFocusInEventHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.wheel":"_mouseWheelHandler","document.selectstart":"_documentSelectStartHandler",down:"_downHandler",focus:"_focusHandler",blur:"_focusHandler",move:"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",stylechanged:"_styleChangedHandler"}}},{key:"requires",get:function(){return{"JQX.Button":"jqxbutton.js"}}}]),t}(JQX.ContentElement)),JQX("jqx-dialog-window",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="headerSection" class="jqx-header-section">\n                        <div id="header" class="jqx-header">[[label]]</div>\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <jqx-button id="pinButton" class="jqx-pin-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="collapseButton" class="jqx-collapse-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="minimizeButton" class="jqx-minimize-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="maximizeButton" class="jqx-maximize-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="closeButton" class="jqx-close-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                        </div>\n                    </div>\n                    <div class="jqx-content">\n                        <content></content>\n                    </div>\n                    <div id="footer" class="jqx-footer">\n                        <jqx-button id="confirmButton" class="jqx-confirm-button" animation="[[animation]]" theme="[[theme]]">[[confirmLabel]]</jqx-button>\n                        <jqx-button id="cancelButton" class="jqx-cancel-button" animation="[[animation]]" theme="[[theme]]">[[cancelLabel]]</jqx-button>\n                    </div>\n                </div>'}},{key:"_footerClickHandler",value:function(e){var t=this,i=e.target;i.closest(".jqx-confirm-button")?t.$.fireEvent("confirm"):i.closest(".jqx-cancel-button")&&t.$.fireEvent("cancel")}},{key:"_keyDownHandler",value:function(e){var t=this;if(delete t._changingFocus,!(t.disabled||(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&t._mouseManipulation)){e.stopPropagation();var i="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":if(t.minimized||document.activeElement!==t)return;var a=e.key.indexOf("Right")>-1||e.key.indexOf("Left")>-1;if(e.preventDefault(),!a&&e.altKey)return void("ArrowUp"===e.key?t.maximize():t.restore());if(t.$.addClass("no-transition"),t.maximized)return;if(e.ctrlKey&&"none"!==t.resizeMode)return t.hasAttribute("dragged")&&t._cancelDragging(e),t.hasAttribute("resized")||t.$.fireEvent("resizeStart",{position:{x:e.pageX,y:e.pageY}}),void t._resize(a?"right":"bottom",i);t.pinned||(t.hasAttribute("dragged")||(t.setAttribute("dragged",""),t.$.fireEvent("dragStart",{position:{left:e.pageX,top:e.pageY}})),t._drag(i,a?"horizontal":"vertical")),t.$.removeClass("no-transition");break;case"Escape":t.headerButtons.indexOf("close")>-1&&document.activeElement===t&&t.close();break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":var n=e.target.closest&&e.target.closest("jqx-button");if(!n)return;t._isWindowButton(t._buttonPressed=n),delete t._buttonPressed}}}}],[{key:"properties",get:function(){return{cancelLabel:{value:"Cancel",type:"string"},confirmLabel:{value:"Ok",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0}}}},{key:"listeners",get:function(){return{"footer.click":"_footerClickHandler"}}}]),t}(JQX.Window)),JQX("jqx-alert-window",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,null,[{key:"properties",get:function(){return{headerButtons:{value:[],type:"array"}}}}]),t}(JQX.DialogWindow)),JQX("jqx-prompt-window",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="headerSection" class="jqx-header-section">\n                        <div id="header" class="jqx-header">[[label]]</div>\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <jqx-button id="closeButton" class="jqx-close-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                        </div>\n                    </div>\n                    <div class="jqx-content">\n                        <content></content>\n                        <jqx-text-box id="textBox"\n                            animation="[[animation]]"\n                            auto-complete="[[autoComplete]]"\n                            max-length="[[maxLength]]"\n                            value="{{value}}"\n                            form="[[form]]"\n                            label="[[promptLabel]]"\n                            hint="[[hint]]"\n                            display-mode="[[displayMode]]"\n                            max-length="[[maxLength]]"\n                            placeholder="[[placeholder]]"\n                            required="[[required]]"\n                            required-message="[[requiredMessage]]"\n                            select-all-on-focus="[[selectAllOnFocus]]"\n                            theme="[[theme]]">\n                        </jqx-text-box>\n                    </div>\n                    <div id="footer" class="jqx-footer">\n                        <jqx-button id="confirmButton" class="jqx-confirm-button flat" animation="[[animation]]" theme="[[theme]]">[[confirmLabel]]</jqx-button>\n                        <jqx-button id="cancelButton" class="jqx-cancel-button flat" animation="[[animation]]" theme="[[theme]]">[[cancelLabel]]</jqx-button>\n                    </div>\n                </div>'}},{key:"_footerClickHandler",value:function(e){var t=this,i=e.target;i.closest(".jqx-confirm-button")?t.$.fireEvent("confirm",{value:t.$.textBox.value}):i.closest(".jqx-cancel-button")&&t.$.fireEvent("cancel",{value:t.$.textBox.value})}},{key:"_keyDownHandler",value:function(e){function t(){i._dragDetails&&(i._dragDetails.started=!1),i.$.removeClass("no-transition")}var i=this;if(delete i._changingFocus,!(i.disabled||i._dragDetails&&i._dragDetails.started)){e.stopPropagation();var a="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10;switch(i.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(document.activeElement!==i)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?i.maximize():i.restore(),void t();if(i.$.addClass("no-transition"),e.ctrlKey)return i._resize("bottom",a),void t();i._drag(a,"vertical");break;case"ArrowLeft":case"ArrowRight":if(document.activeElement!==i)return;if(e.preventDefault(),i.$.addClass("no-transition"),e.ctrlKey)return i._resize("right",a),void t();i._drag(a,"horizontal"),i.$.removeClass("no-transition");break;case"Escape":i.headerButtons.indexOf("close")>-1&&document.activeElement===i&&i.close();break;case"Tab":i.opened&&i.modal&&(i._changingFocus=!0);break;case"Enter":case" ":var n=e.target.closest&&e.target.closest("jqx-button");if(!n)return;i._isWindowButton(i._buttonPressed=n),delete i._buttonPressed}t()}}}],[{key:"properties",get:function(){return{autoComplete:{allowedValues:["none","manual","auto","inline"],type:"string",value:"manual"},confirmLabel:{value:"Ok",type:"string"},cancelLabel:{value:"Cancel",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},displayMode:{value:"default",allowedValues:["default","escaped"],type:"string"},headerButtons:{value:["close"],type:"array"},form:{value:"",type:"string"},hint:{value:null,type:"any?"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}."}},type:"object"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},name:{value:"",type:"string"},placeholder:{value:"",type:"string"},promptLabel:{value:"",type:"string?"},required:{value:!1,type:"boolean"},requiredMessage:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},value:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{"footer.click":"_footerClickHandler"}}},{key:"requires",get:function(){return{"JQX.TextBox":"jqxtextbox.js"}}}]),t}(JQX.DialogWindow)),JQX("jqx-multiline-prompt-window",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="headerSection" class="jqx-header-section">\n                        <div id="header" class="jqx-header">[[label]]</div>\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <jqx-button id="closeButton" class="jqx-close-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                        </div>\n                    </div>\n                    <div class="jqx-content">\n                        <content></content>\n                       <jqx-multiline-text-box id="textBox"\n                            animation="[[animation]]"\n                            horizontal-scroll-bar-visibility= "[[horizontalScrollBarVisibility]]"\n                            vertical-scroll-bar-visibility= "[[verticalScrollBarVisibility]]"\n                            auto-capitalize="[[autoCapitalize]]"\n                            auto-expand = "[[autoExpand]]"\n                            selection-direction= "[[selectionDirection]]"\n                            selection-end= "[[selectionEnd]]"\n                            selection-start="[[selectionStart]]"\n                            spell-check= "[[spellCheck]]"\n                            wrap="[[wrap]]"\n                            max-length="[[maxLength]]"\n                            value="{{value}}"\n                            form="[[form]]"\n                            label="[[promptLabel]]"\n                            hint="[[hint]]"\n                            display-mode="[[displayMode]]"\n                            max-length="[[maxLength]]"\n                            placeholder="[[placeholder]]"\n                            required="[[required]]"\n                            required-message="[[requiredMessage]]"\n                            select-all-on-focus="[[selectAllOnFocus]]"\n                            theme="[[theme]]">\n                       </jqx-multiline-text-box>\n                    </div>\n                    <div id="footer" class="jqx-footer">\n                        <jqx-button id="confirmButton" class="jqx-confirm-button flat" animation="[[animation]]" theme="[[theme]]">[[confirmLabel]]</jqx-button>\n                        <jqx-button id="cancelButton" class="jqx-cancel-button flat" animation="[[animation]]" theme="[[theme]]">[[cancelLabel]]</jqx-button>\n                    </div>\n                </div>'}},{key:"_footerClickHandler",value:function(e){var t=this,i=e.target;i.closest(".jqx-confirm-button")?t.$.fireEvent("confirm",{value:t.$.textBox.value}):i.closest(".jqx-cancel-button")&&t.$.fireEvent("cancel",{value:t.$.textBox.value})}}],[{key:"properties",get:function(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoExpand:{value:!1,type:"boolean"},headerButtons:{value:["close"],type:"array"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}},{key:"listeners",get:function(){return{"footer.click":"_footerClickHandler"}}},{key:"requires",get:function(){return{"JQX.MultilineTextBox":"jqxmultilinetextbox.js"}}}]),t}(JQX.PromptWindow)),JQX("jqx-progress-window",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="headerSection" class="jqx-header-section">\n                        <div id="header" class="jqx-header">[[label]]</div>\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <jqx-button id="closeButton" class="jqx-close-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                        </div>\n                    </div>\n                    <div class="jqx-content" inner-h-t-m-l="[[innerHTML]]">\n                        <content></content>\n                    </div>\n                    <div id="footer" class="jqx-footer">\n                        <jqx-progress-bar id="progressBar"\n                            animation="[[animation]]"\n                            min="[[min]]"\n                            max="[[max]]"\n                            indeterminate="[[inditerminate]]"\n                            inverted="[[inverted]]"\n                            format-function="[[formatFunction]]"\n                            show-progress-value="[[showProgressValue]]"\n                            theme="[[theme]]"\n                            value="{{value}}">\n                        </jqx-progress-bar>\n                        <jqx-button id="completeButton" class="jqx-complete-button jqx-visibility-hidden" animation="[[animation]]" theme="[[theme]]">[[completeLabel]]</jqx-button>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch(e){case"value":n._handleCompletion();break;default:babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a)}}},{key:"_createElement",value:function(){this._handleCompletion()}},{key:"_handleCompletion",value:function(){var e=this;e.$.completeButton&&(e.value>=e.max?(e.$completeButton.removeClass("jqx-visibility-hidden"),e.$progressBar.addClass("jqx-visibility-hidden")):(e.$completeButton.addClass("jqx-visibility-hidden"),e.$progressBar.removeClass("jqx-visibility-hidden")))}},{key:"_keyDownHandler",value:function(e){function t(){i._dragDetails&&(i._dragDetails.started=!1),i.$.removeClass("no-transition")}var i=this;if(delete i._changingFocus,!(i.disabled||i._dragDetails&&i._dragDetails.started)){e.stopPropagation();var a="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10;switch(i.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(document.activeElement!==i)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?i.maximize():i.restore(),void t();if(i.$.addClass("no-transition"),e.ctrlKey)return i._resize("bottom",a),void t();i._drag(a,"vertical"),i.$.removeClass("no-transition");break;case"ArrowLeft":case"ArrowRight":if(document.activeElement!==i)return;if(e.preventDefault(),i.$.addClass("no-transition"),e.ctrlKey)return i._resize("right",a),void t();i._drag(a,"horizontal"),i.$.removeClass("no-transition");break;case"Escape":i.headerButtons.indexOf("close")>-1&&document.activeElement===i&&i.close();break;case"Tab":i.opened&&i.modal&&(i._changingFocus=!0);break;case"Enter":case" ":var n=e.target.closest&&e.target.closest("jqx-button");if(!n)return;i._isWindowButton(i._buttonPressed=n),delete i._buttonPressed}t()}}}],[{key:"properties",get:function(){return{completeLabel:{value:"Continue",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}},{key:"requires",get:function(){return{"JQX.ProgressBar":"jqxprogressbar.js"}}}]),t}(JQX.Window)),JQX("jqx-tabs-window",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="headerSection" class="jqx-header-section">\n                        <div id="header" class="jqx-header">[[label]]</div>\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <jqx-button id="minimizeButton" class="jqx-minimize-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="maximizeButton" class="jqx-maximize-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                            <jqx-button id="closeButton" class="jqx-close-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                        </div>\n                    </div>\n                    <div id="contentSection" class="jqx-content">\n                       <jqx-tabs id="tabsElement"\n                            animation="[[animation]]"\n                            add-new-tab="[[addNewTab]]"\n                            allow-toggle="[[allowToggle]]"\n                            close-button-mode="[[tabCloseButtonMode]]"\n                            close-buttons="[[tabCloseButtons]]"\n                            disabled="[[disabled]]"\n                            overflow="[[tabOverflow]]"\n                            reorder="[[tabReorder]]"\n                            resize="[[tabResize]]"\n                            scroll-buttons-position="[[tabScrollButtonsPosition]]"\n                            selected-index="{{selectedIndex}}"\n                            selection-mode="[[selectionMode]]"\n                            tab-layout="[[tabLayout]]"\n                            tab-position="[[tabPosition]]"\n                            tab-text-orientation="[[tabTextOrientation]]"\n                            theme="[[theme]]">\n                            <content></content>\n                        </jqx-tabs>\n                    </div>\n                    <div id="footer" class="jqx-footer jqx-hidden"></div>\n                </div>'}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}));e instanceof JQX.TabItem||t.error(t.localize("tabItemRequired",{method:"removeChild"})),t.$.tabsElement.appendChild(e)}},{key:"insert",value:function(e,t){this.$.tabsElement.insert(e,t)}},{key:"insertBefore",value:function(e,t){this.$.tabsElement.insertBefore(e,t)}},{key:"remove",value:function(e){this.$.tabsElement.remove(e)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,i.concat(Array.prototype.slice.call(arguments)))}if(!e)return void t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}));e instanceof JQX.TabItem||t.error(t.localize("tabItemRequired",{method:"removeChild"})),t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.$.tabsElement.removeChild(e)}},{key:"select",value:function(e){this.$.tabsElement.select(e)}},{key:"update",
value:function(e,t,i){this.$.tabsElement.update(e,t,i)}},{key:"propertyChangedHandler",value:function(e,i,a){var n=this;switch("collapsed"!==e&&babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a),e){case"theme":""!==i&&(n.$.closeButton.classList.remove(i),n.$.collapseButton.classList.remove(i),n.$.maximizeButton.classList.remove(i),n.$.pinButton.classList.remove(i)),n._applyTheme(a);break;case"autoHideWindow":n._handleAutoHideWindow();break;case"autoHide":a||(null!==n.$.tabsElement.selectedIndex&&(n.$.tabsElement._tabs[n.$.tabsElement.selectedIndex]._autoHideWindowSize=void 0),n._autoHideWindow&&n._autoHideWindow.close());break;case"dataSource":n.$.tabsElement.dataSource=a;break;case"layout":n._handleLayoutProperty();break;case"collapsible":case"collapsed":case"locked":case"max":case"min":case"size":var o=n.closest("jqx-docking-layout"),r=n.closest("jqx-splitter-item");if(!o)return void("collapsed"===e&&babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,i,a));r&&(r[e]=a)}}},{key:"_applyTheme",value:function(e){var t=this;if(""!==e)for(var i=t.$.buttonsContainer.children,a=0;a<i.length;a++)i[a].classList.add(e)}},{key:"_autoHideWindowCloseHandler",value:function(){var e=this;e.allowToggle&&null!==e.$.tabsElement.selectedIndex&&e.$.tabsElement.select(e.$.tabsElement.selectedIndex),e._autoHideWindow&&e._moveContent(e._autoHideWindow.items[0],e._autoHideWindow._tab)}},{key:"_autoHideWindowOpenHandler",value:function(){var e=this;e.$.tabsElement.selectedIndex&&e._handleAutoHide(e.$.tabsElement.selectedIndex)}},{key:"_createElement",value:function(){var e=this;e.$.tabsElement.$.tabHeaderControls.innerHTML||e.$.tabsElement.$tabHeaderControls.addClass("jqx-hidden"),e.$.tabsElement.dataSource=e.dataSource,e._applyTheme(e.theme),e._handleAutoHideWindow(),e.autoHide&&e._handleAutoHide(e.$.tabsElement.selectedIndex),e.allowToggle||e.selectedIndex||null===e.$.tabsElement.selectedIndex||(e.selectedIndex=e.$.tabsElement.selectedIndex,e.$.tabsElement.setAttribute("selected-index",e.selectedIndex)),e._handleLayoutProperty();var t=e.closest("jqx-docking-layout"),i=e.closest("jqx-splitter-item");t&&i&&(i.collapsible=e.collapsible,i.collapsed=e.collapsed,i.min=e.min,i.max=e.max,i.size=e.size,i.locked=e.locked)}},{key:"_handleLayoutProperty",value:function(){var e=this,t=e.closest("jqx-docking-layout");if(JQX.DockingLayout)return t?void(e.layout=t):void(e.layout instanceof JQX.DockingLayout||"string"==typeof e.layout&&(e.layout=document.getElementById(e.layout)))}},{key:"_headerDblCickHandler",value:function(e){var t=this,i=e.originalEvent.target;e.ctrlKey||i!==t.$.headerSection&&i!==t.$.header||t.$.maximizeButton&&0===t.$.maximizeButton.offsetHeight||(t.maximized?t.restore():t.maximize())}},{key:"_documentUpHandler",value:function(e){var i=this,a=e.originalEvent.target.closest?e.originalEvent.target.closest(".jqx-window"):e.originalEvent.target,n=a===i||a===i._autoHideWindow||i._isAutoHideWindowClicked,o=i.closest("jqx-docking-layout");if(o&&o.disabled)return void delete i._isWindowContentClicked;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_documentUpHandler",this).call(this,e),delete i._isAutoHideWindowClicked,i.autoHide&&i._autoHideWindow&&(n&&i._autoHideWindow.opened||(i.selectedIndex=null,i._autoHideWindow.parentElement&&i._autoHideWindow.parentElement.closest(".jqx-window")===i&&i._autoHideWindow.close()))}},{key:"_handleAutoHide",value:function(e){var t=this;if(t.autoHide&&null!==e&&(t._autoHideWindow||t._handleAutoHideWindow(!0),t._autoHideWindow)){t._autoHideWindow._tabsWindow&&t._autoHideWindow._tabsWindow!==t&&(t._autoHideWindow._tabsWindow.selectedIndex=null);var i=t.$.tabsElement._tabs[e];t._autoHideWindow._tab!==i&&t._moveContent(t._autoHideWindow.items[0],t._autoHideWindow._tab),t._autoHideWindow.label=i.label,t._autoHideWindow.draggable=i.draggable,t._autoHideWindow.floatable=i.floatable,t._autoHideWindow._tab=i,t._moveContent(t._autoHideWindow._tab,t._autoHideWindow.items[0]),t._autoHideWindow.bringToFront(),t._setAutoHideWindowSize(e),t._autoHideWindow.open(),t._autoHideWindow._tabsWindow=t}}},{key:"_moveHandler",value:function(e){var i=this,a=i.closest("jqx-docking-layout");if(a){if(a.items.indexOf(i)>-1)return}JQX.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&i.layout instanceof JQX.DockingLayout&&i.layout.hasAttribute("dragged")&&e.originalEvent.preventDefault(),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_moveHandler",this).call(this,e)}},{key:"_setAutoHideWindowSize",value:function(e){var t=this;if(t._autoHideWindow){t._autoHideWindow.$.addClass("no-transition"),t._autoHideWindow.style.maxWidth=t._autoHideWindow.style.maxHeight="";var i=t.$.tabsElement._tabs[e],a=t._autoHideWindow.closest("jqx-docking-layout")||t._autoHideWindow.parentElement,n=a.getBoundingClientRect(),o=t.$.tabsElement.getBoundingClientRect();if(i){if("top"===t.tabPosition||"bottom"===t.tabPosition){t._autoHideWindow.resizeMode="top"===t.tabPosition?"bottom":"top",t._autoHideWindow.style.width=t.$.tabsElement.offsetWidth+"px";var r=i._autoHideWindowSize?parseFloat(i._autoHideWindowSize)||"":"";JQX.DockingLayout&&a instanceof JQX.DockingLayout&&(r&&(r=Math.min(a.$.itemsContainer.offsetHeight,r)+"px"),t._autoHideWindow.style.maxHeight=a.$.itemsContainer.offsetHeight+"px"),t._autoHideWindow.style.height=r,t._autoHideWindow.style.left=o.left-n.left+"px",t._autoHideWindow&&("top"===t.tabPosition?t._autoHideWindow.style.top=o.top+-n.top+o.height+"px":t._autoHideWindow.style.top=o.top-n.top-t._autoHideWindow.offsetHeight+"px")}else{t._autoHideWindow.resizeMode="left"===t.tabPosition?"right":"left",t._autoHideWindow.style.height=t.$.tabsElement.offsetHeight+"px";var l=i._autoHideWindowSize?parseFloat(i._autoHideWindowSize)||"":"";a instanceof JQX.DockingLayout&&(l&&(l=Math.min(a.$.itemsContainer.offsetWidth,l)+"px"),t._autoHideWindow.style.maxWidth=a.$.itemsContainer.offsetWidth+"px"),t._autoHideWindow.style.width=l,t._autoHideWindow.style.top=o.top-n.top+"px","left"===t.tabPosition?t._autoHideWindow.style.left=o.left-n.left+t.$.tabsElement.offsetWidth+"px":t._autoHideWindow.style.left=o.left-n.left-t._autoHideWindow.offsetWidth+"px"}t._autoHideWindow._dragDetails&&(t._autoHideWindow._dragDetails.maxWidth=void 0),t._autoHideWindow._setDragDetails("resize"),t._autoHideWindow.$.removeClass("no-transition")}}}},{key:"_handleAutoHideWindow",value:function(e){var t=this;if(t.autoHideWindow){if(t._autoHideWindow&&t._autoHideWindow.parentElement.removeChild(t._autoHideWindow),"string"==typeof t.autoHideWindow)return void(t._autoHideWindow=document.getElementById(t.autoHideWindow));if(t.autoHideWindow instanceof JQX.Window)return void(t._autoHideWindow=t.autoHideWindow)}if(!(!e||t._autoHideWindow||2===t.$.contentSection.children.length&&t.$.contentSection.children[1]instanceof JQX.Window)){var i=document.createElement("jqx-window");i.$=JQX.Utilities.Extend(i),i.disableSnap=i.pinned=!0,i.headerButtons=["close"],t.$.contentSection.appendChild(i),t._autoHideWindow=i}}},{key:"_moveContent",value:function(e,t){if(e&&t)for(var i=[].slice.call(e.$.content.childNodes),a=0;a<i.length;a++)t.appendChild(i[a])}},{key:"_tabsChangeHandler",value:function(e){var t=this;if(e.target===t.$.tabsElement&&t.autoHide){if(t._autoHideWindow||t._handleAutoHideWindow(!0),null!==e.detail.oldIndex&&t._autoHideWindow.opened){t.$.tabsElement._tabs[e.detail.oldIndex]._autoHideWindowSize=t._autoHideWindow.style["right"===t.$.tabsElement.tabPosition||"left"===t.$.tabsElement.tabPosition?"width":"height"]}if(!t.autoHide||null===e.detail.index||void 0===e.detail.index)return void t._autoHideWindow.close();t._handleAutoHide(e.detail.index)}}},{key:"_tabsFocusHandler",value:function(e){var t=this;"focus"===e.type?(t.bringToFront(),t.setAttribute("focus","")):t.removeAttribute("focus")}},{key:"items",get:function(){var e=this;if(e.isCompleted&&e.$.tabsElement)return this.$.tabsElement._tabs}},{key:"itemLabels",get:function(){if(this.$)return this.$.tabsElement._tabLabelContainers}},{key:"siblings",get:function(){var e=this,t=[];if(!e.isCompleted)return t;var i=e.closest("jqx-splitter");if(!i||!i.closest("jqx-docking-layout"))return t;var a=i._items;if(!a||!a.length)return t;for(var n=0;n<a.length;n++){var o=a[n];if(o!==e.closest("jqx-splitter-item")){o.querySelector("jqx-tabs-window").closest("jqx-splitter")===i&&t.push(o.querySelector("jqx-tabs-window"))}}return t}}],[{key:"properties",get:function(){return{disableSnap:{value:!0,readOnly:!0,type:"boolean"},dropPosition:{value:["all"],type:"array"},addNewTab:{value:!1,type:"boolean"},allowToggle:{value:!1,type:"boolean"},autoHide:{value:!1,type:"boolean"},autoHideWindow:{value:null,type:"any"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},tabCloseButtonMode:{value:"default",allowedValues:["default","selected"],type:"string"},tabCloseButtons:{value:!1,type:"boolean"},messages:{value:{en:{ambiguousIndexes:"jqx-tabs: Initially set jqx-tab-item indexes are ambiguous and are ignored in favour of the HTML structure.",detailsObjectRequired:'jqx-tabs: The method "insert" requires a details Object to be passed as a second argument.',invalidIndex:'jqx-tabs: "{{method}}" method accepts an index of type number.',referenceNodeNotChild:"jqx-tabs: Passed {{argument}} is not part of this jqx-tabs element.",tabItemRequired:'jqx-tabs: The method "{{method}}" requires a "jqx-tab-item" element to be passed as an argument.'}},type:"object",extend:!0},tabOverflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},tabReorder:{value:!1,type:"boolean"},tabResize:{value:!1,type:"boolean"},tabScrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedIndex:{value:null,type:"number?"},selectionMode:{value:"click",allowedValues:["click","dblclick","mouseenter","none"],type:"string"},collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"},max:{value:"",type:"any"},min:{value:"",type:"any"},size:{value:"",type:"any"},tabLayout:{value:"scroll",allowedValues:["scroll","dropdown","wrap","shrink"],type:"string",defaultReflectToAttribute:!0},tabPosition:{value:"top",allowedValues:["top","bottom","left","right","hidden"],type:"string"},tabTextOrientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},layout:{value:null,type:"any"}}}},{key:"listeners",get:function(){return{"tabsElement.blur":"_tabsFocusHandler","tabsElement.change":"_tabsChangeHandler","tabsElement.focus":"_tabsFocusHandler","autoHideWindow.close":"_autoHideWindowCloseHandler","autoHideWindow.open":"_autoHideWindowOpenHandler"}}},{key:"requires",get:function(){return{"JQX.Tabs":"jqxtabs.js"}}}]),t}(JQX.Window)),JQX("jqx-wait-window",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="headerSection" class="jqx-header-section">\n                        <div id="header" class="jqx-header">[[label]]</div>\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <jqx-button id="closeButton" class="jqx-close-button" animation="[[animation]]" theme="[[theme]]"></jqx-button>\n                        </div>\n                    </div>\n                    <div class="jqx-content">\n                        <content></content>\n                        <jqx-progress-bar id="progressBar" animation="[[animation]]" indeterminate theme="[[theme]]"></jqx-progress-bar>\n                    </div>\n                    <div id="footer" class="jqx-footer"></div>\n                </div>'}},{key:"_keyDownHandler",value:function(e){function t(){i._dragDetails&&(i._dragDetails.started=!1),i.$.removeClass("no-transition")}var i=this;if(delete i._changingFocus,!(i.disabled||i._dragDetails&&i._dragDetails.started)){e.stopPropagation();var a="ArrowDown"===e.key||"ArrowRight"===e.key?10:-10;switch(i.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(document.activeElement!==i)return;if(e.preventDefault(),e.altKey)return"ArrowUp"===e.key?i.maximize():i.restore(),void t();if(i.$.addClass("no-transition"),e.ctrlKey)return i._resize("bottom",a),void t();i._drag(a,"vertical");break;case"ArrowLeft":case"ArrowRight":if(document.activeElement!==i)return;if(e.preventDefault(),i.$.addClass("no-transition"),e.ctrlKey)return i._resize("right",a),void t();i._drag(a,"horizontal");break;case"Tab":i.opened&&i.modal&&(i._changingFocus=!0);break;case"Enter":case" ":var n=e.target.closest&&e.target.closest("jqx-button");if(!n)return;i._isWindowButton(i._buttonPressed=n),delete i._buttonPressed}t()}}}],[{key:"properties",get:function(){return{headerButtons:{value:[],type:"array"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},pinned:{value:!0,type:"boolean",readOnly:!0}}}}]),t}(JQX.ProgressWindow));
//# sourceMappingURL=jqxelements.js.map
