"use strict";JQX("jqx-slider",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                <div id="scaleNear" class="jqx-scale jqx-scale-near"></div>\n                <div id="trackContainer" class="jqx-track-container">\n                    <jqx-repeat-button id="leftButton" class="jqx-spin-button" animation="[[animation]]" unfocusable>\n                        <div id="leftArrow" class="jqx-arrow"></div>\n                    </jqx-repeat-button>\n                    <div id="track" class="jqx-track">\n                        <div id="fill" class="jqx-value"></div>\n                        <div id="trackTicksContainer" class="jqx-track-ticks-container jqx-hidden"></div>\n                        <div id="thumb" class="jqx-thumb">\n                            <span id="thumbLabel" class="jqx-thumb-label"></span>\n                            <div id="tooltip" class="jqx-tooltip">\n                                <div id="tooltipContent" class="jqx-tooltip-content jqx-unselectable"></div>\n                            </div>\n                        </div>\n                        <div id="secondThumb" class="jqx-thumb">\n                            <span id="secondThumbLabel" class="jqx-thumb-label"></span>\n                            <div id="secondTooltip" class="jqx-tooltip">\n                                <div id="secondTooltipContent" class="jqx-tooltip-content jqx-unselectable"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <jqx-repeat-button id="rightButton" class="jqx-spin-button" animation="[[animation]]" unfocusable>\n                        <div id="rightArrow" class="jqx-arrow"></div>\n                    </jqx-repeat-button>\n                </div>\n                <div id="scaleFar" class="jqx-scale jqx-scale-far"></div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n            </div>'}},{key:"_createElement",value:function(){var e=this,t="numeric"===e.mode;if(e._renderingSuspended||(t?e._redefineProperty("values"):t||e._handleDateScale()),e._setSettingsObject(),e._setDrawVariables(),e._getLayoutType(),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,!e._isVisible())return void(e._renderingSuspended=!0);e._renderingSuspended=!1,e._setInitialComponentDisplay(),e._measurements={},e._getMeasurements(),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength);var a=e._valuesHandler=e.rangeSlider?new JQX.Utilities.SliderMultipleValueHandler(e):new JQX.Utilities.SliderSingleValueHandler(e);t&&(e._getEventValue=function(){return e._valuesHandler.getValue()}),e._validateInitialPropertyValues(),e._setTicksAndInterval(),a.validate(!0),a.updateTooltipValue(),window.requestAnimationFrame(function(){e.$thumb.addClass("enable-animation"),e.$secondThumb.addClass("enable-animation"),e.$fill.addClass("enable-animation")}),e._setFocusable(),e._makeThumbAccessible(),e.$.hiddenInput.value=e._getEventValue()}},{key:"val",value:function(e){var t=this,a=t._valuesHandler;if(void 0===e)return t._getEventValue();"date"===t.mode&&(t.rangeSlider?(e[0]=JQX.Utilities.DateTime.validateDate(e[0]),e[1]=JQX.Utilities.DateTime.validateDate(e[1]),e[0]=e[0].getTimeStamp(),e[1]=e[1].getTimeStamp()):(e=JQX.Utilities.DateTime.validateDate(e),e=e.getTimeStamp())),a.areDifferent(e)&&a.validate(!1,e,!0)}},{key:"getOptimalSize",value:function(){var e=this;if(e._renderingSuspended)return{width:0,height:0};var t=window.getComputedStyle(e),a=window.getComputedStyle(e.$.trackContainer),i=0,n=void 0,o=void 0,l=void 0,r=void 0,s=void 0,d=void 0,u=void 0;return n="all"===e.labelsVisibility?e._numericProcessor._longestLabelSize:"endPoints"===e.labelsVisibility?Math.max(e._tickIntervalHandler.labelsSize.minLabelOtherSize,e._tickIntervalHandler.labelsSize.maxLabelOtherSize):0,"horizontal"===e.orientation?(i+=parseFloat(a.marginTop)+parseFloat(a.marginBottom)+e.$.track.offsetHeight,"near"!==e.scalePosition&&"both"!==e.scalePosition||(i+=n,l=e.$.scaleNear.getElementsByClassName("jqx-label"),r=l[0],s=l[l.length-1],i+=parseFloat(window.getComputedStyle(r).bottom)),"far"!==e.scalePosition&&"both"!==e.scalePosition||(i+=n,l=e.$.scaleFar.getElementsByClassName("jqx-label"),r=l[0],s=l[l.length-1],i+=parseFloat(window.getComputedStyle(r).top)),i+=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),o=e.offsetWidth,"none"!==e.scalePosition&&(d=r.getBoundingClientRect(),u=s.getBoundingClientRect(),d.left+r.offsetWidth-u.left>0&&(o=r.offsetWidth+s.offsetWidth+Math.max(10,e.$.thumb.offsetWidth))),{width:o,height:i}):(i+=parseFloat(a.marginLeft)+parseFloat(a.marginRight)+e.$.track.offsetWidth,"near"!==e.scalePosition&&"both"!==e.scalePosition||(i+=n,l=e.$.scaleNear.getElementsByClassName("jqx-label"),r=l[0],s=l[l.length-1],i+=parseFloat(window.getComputedStyle(r).right)),"far"!==e.scalePosition&&"both"!==e.scalePosition||(i+=n,l=e.$.scaleFar.getElementsByClassName("jqx-label"),r=l[0],s=l[l.length-1],i+=parseFloat(window.getComputedStyle(r).left)),i+=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),o=e.offsetHeight,"none"!==e.scalePosition&&(d=r.getBoundingClientRect(),u=s.getBoundingClientRect(),d.top+r.offsetHeight-u.top>0&&(o=r.offsetHeight+s.offsetHeight+Math.max(10,e.$.thumb.offsetHeight))),{width:i,height:o})}},{key:"propertyChangedHandler",value:function(e,a,i){function n(){o._setTicksAndInterval(),r.validate(!1,r.getValue(),!0)}var o=this,l=["disabled","mode","readonly","showThumbLabel","tooltipPosition","unfocusable","validation"];if(!o._isVisible()||o._renderingSuspended)return void(o._renderingSuspended=!0);if(-1!==l.indexOf(e))return void babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,a,i);var r=o._valuesHandler;if("values"!==e&&i!=a||"values"===e&&(i[0]!=a[0]||i[1]!==a[1]))switch(e){case"coerce":if(i){var s=r.getValue();r.validate(!1,s.slice(0),!0),o._valueBeforeCoercion=s}else void 0!==o._valueBeforeCoercion&&r.validate(!1,o._valueBeforeCoercion.slice(0),!0);break;case"customInterval":case"customTicks":babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,a,i),o.customInterval&&r.validate(!1,r.getValue(),!0);break;case"dateLabelFormatString":"date"===o.mode&&n();break;case"decimalSeparator":case"scientificNotation":if("date"===o.mode)return;n();break;case"interval":o._numericProcessor.validateInterval(i),r.validate(!1,r.getValue(),!0);break;case"inverted":o._getLayoutType(),o._normalLayout&&(o.$.fill.style[o._settings.margin]="0px"),n();break;case"labelFormatFunction":case"showUnit":case"unit":n();break;case"labelsVisibility":case"ticksVisibility":return;case"logarithmicScale":if("date"===o.mode)return void(o.logarithmicScale=!1);o._validateMinMax("both"),n();break;case"min":case"max":"date"===o.mode&&(delete o._dateInterval,o[e]=JQX.Utilities.DateTime.validateDate(i).getTimeStamp()),o._validateMinMax(e,!1,a),n();break;case"orientation":o.$.container.removeAttribute("style"),o.$.trackContainer.removeAttribute("style"),o.$.fill.removeAttribute("style"),o.$.thumb.removeAttribute("style"),o.$.secondThumb.removeAttribute("style"),o._setSettingsObject(),o._getLayoutType(),o._getMeasurements(),n(),"horizontal"===i?(o.$leftArrow.removeClass("jqx-arrow-up"),o.$rightArrow.removeClass("jqx-arrow-down"),o.$leftArrow.addClass("jqx-arrow-left"),o.$rightArrow.addClass("jqx-arrow-right")):(o.$leftArrow.removeClass("jqx-arrow-left"),o.$rightArrow.removeClass("jqx-arrow-right"),o.$leftArrow.addClass("jqx-arrow-up"),o.$rightArrow.addClass("jqx-arrow-down"));break;case"precisionDigits":case"significantDigits":if("date"===o.mode)return;"precisionDigits"===e&&"integer"===o.scaleType&&o.error(o.localize("noInteger",{elementType:o.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==o.precisionDigits?o.precisionDigits=null:"precisionDigits"===e&&null!==o.significantDigits&&(o.significantDigits=null),n();break;case"rangeSlider":i?(o.values=[o.min,o.value],o._drawValues=[o._drawMin,o._drawValue],"date"===o.mode&&(o._valueDate=[o._minDate.clone(),o._valueDate]),void 0!==o._valueBeforeCoercion&&(o._valueBeforeCoercion=[o.min,o._valueBeforeCoercion]),r=o._valuesHandler=new JQX.Utilities.SliderMultipleValueHandler(o)):(o.value=o.values[1],o._drawValue=o._drawValues[1],"date"===o.mode&&(o._valueDate=o._valueDate[1]),void 0!==o._valueBeforeCoercion&&(o._valueBeforeCoercion=o._valueBeforeCoercion[1]),r=o._valuesHandler=new JQX.Utilities.SliderSingleValueHandler(o),o.$.fill.style.marginTop=0,o.$.fill.style.marginLeft=0),r.validate(!1,r.getValue(),!0);break;case"scalePosition":o._setInitialComponentDisplay(),n();break;case"scaleType":if("date"===o.mode)return void(o.scaleType="integer");o._numericProcessor=new JQX.Utilities.NumericProcessor(o,"scaleType"),o._validateMinMax("both"),o._setTicksAndInterval(),r.validate(!0);break;case"showButtons":i?(o.$leftButton.removeClass("jqx-hidden"),o.$rightButton.removeClass("jqx-hidden")):(o.$leftButton.addClass("jqx-hidden"),o.$rightButton.addClass("jqx-hidden")),o._setTicksAndInterval(),r.moveThumbBasedOnValue(r.getDrawValue(),void 0,!0);break;case"showTooltip":babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,a,i),i||(o.$tooltip.addClass("jqx-hidden"),o.$secondTooltip.addClass("jqx-hidden"));break;case"theme":babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,a,i),n();break;case"ticksPosition":"scale"===i?(o.$trackTicksContainer.addClass("jqx-hidden"),o.$.trackTicksContainer.innerHTML=""):o.$trackTicksContainer.removeClass("jqx-hidden"),o._setTicksAndInterval();break;case"value":case"values":if("value"===e&&o.rangeSlider||"values"===e&&!o.rangeSlider)return;if(o[e]=a,"date"===o.mode)if("value"===e){if(i=JQX.Utilities.DateTime.validateDate(i),i=i.getTimeStamp(),o.value=i,0===i.compare(a))return}else if(i[0]=JQX.Utilities.DateTime.validateDate(i[0]),i[1]=JQX.Utilities.DateTime.validateDate(i[1]),i[0]=i[0].getTimeStamp(),i[1]=i[1].getTimeStamp(),o.values=i,0===i[0].compare(a[0])&&0===i[1].compare(a[1]))return;r.validate(!1,i,!0);break;case"wordLength":if("date"===o.mode)return void(o.wordLength="uint64");o._wordLengthNumber=o._numericProcessor.getWordLength(i),o._validateMinMax("both"),n()}else"string"!=typeof i&&"string"==typeof a&&(o[e]=a)}},{key:"_addMovedThumbClass",value:function(){var e=this;e.rangeSlider&&(e._movedThumb.$.addClass("jqx-moved-thumb"),e._movedThumb===e.$.thumb?e.$secondThumb.removeClass("jqx-moved-thumb"):e.$thumb.removeClass("jqx-moved-thumb"))}},{key:"_setInitialComponentDisplay",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_setInitialComponentDisplay",this).call(this);var e=this;e.$secondTooltip.addClass("jqx-hidden"),e.showButtons||(e.$leftButton.addClass("jqx-hidden"),e.$rightButton.addClass("jqx-hidden"))}},{key:"_getMeasurements",value:function(){var e=this,t=e._measurements,a=e.$.track,i=e.$.thumb;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);"horizontal"===e.orientation?(t.trackWidth=a.offsetHeight,t.thumbSize=i.offsetWidth,t.borderWidth=parseFloat(window.getComputedStyle(e.$.track).borderLeftWidth)):(t.trackWidth=a.offsetWidth,t.thumbSize=i.offsetHeight,t.borderWidth=parseFloat(window.getComputedStyle(e.$.track).borderTopWidth)),t.halfThumbSize=t.thumbSize/2}},{key:"_layout",value:function(){var e=this,t=e._measurements,a=e.$.container.style,i=t.halfThumbSize,n=e._tickIntervalHandler.labelsSize,o=void 0,l=void 0,r=void 0,s=void 0;if("none"!==e.scalePosition?(o=n.minLabelSize/2,l=n.maxLabelSize/2):(o=0,l=0),e.showButtons){var d=e.$.leftButton[e._settings.size],u=d+i;r=Math.max(o-u,0)+"px",s=Math.max(l-u,0)+"px"}else r=Math.max(i,o)+"px",s=Math.max(i,l)+"px";"horizontal"===e.orientation?(e.inverted?(a.paddingLeft=s,a.paddingRight=r):(a.paddingLeft=r,a.paddingRight=s),t.trackLength=e.$.track.clientWidth,e.$leftArrow.addClass("jqx-arrow-left"),e.$rightArrow.addClass("jqx-arrow-right")):(e.inverted?(a.paddingBottom=s,a.paddingTop=r):(a.paddingBottom=r,a.paddingTop=s),t.trackLength=e.$.track.clientHeight,e.$leftArrow.addClass("jqx-arrow-up"),e.$rightArrow.addClass("jqx-arrow-down"))}},{key:"_trackDownHandler",value:function(e){var t=this,a=t.mechanicalAction;if(!(t.disabled||t.readonly||!t.rangeSlider&&e.target===t.$.thumb)){if(t._stopTrackDownHandler)return void(t._stopTrackDownHandler=!1);"switchWhileDragging"!==a&&(t._valueAtDragStart=t._valuesHandler.getValue()),t._getTrackStartAndEnd(),t._valuesHandler.setActiveThumbOnTrackClick(e),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==a),t._thumbDragged=!0,t.setAttribute("dragged",""),t.showTooltip&&t._movedTooltip.removeClass("jqx-hidden")}}},{key:"_trackMoveHandler",value:function(){}},{key:"_thumbDownHandler",value:function(e){var t=this;t.disabled||t.readonly||(t._getTrackStartAndEnd(),(e[t._settings.page]<t._trackStart||e[t._settings.page]>t._trackEnd)&&(t._stopTrackDownHandler=!0),"switchWhileDragging"!==t.mechanicalAction&&(t._valueAtDragStart=t._valuesHandler.getValue()),window.getSelection().removeAllRanges(),t._thumbDragged=!0,t.setAttribute("dragged",""),t.$track.addClass("jqx-dragged"),t._movedThumb=e.target,t._addMovedThumbClass(),t._movedTooltip=t.$tooltip,t.rangeSlider&&(t._movedThumb===t.$.thumb?(t._staticThumb=t.$.secondThumb,t.$secondTooltip.addClass("jqx-hidden")):(t._staticThumb=t.$.thumb,t._movedTooltip=t.$secondTooltip,t.$tooltip.addClass("jqx-hidden"))),t.showTooltip&&t._movedTooltip.removeClass("jqx-hidden"),e.stopPropagation())}},{key:"_thumbMoveMouseleaveHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var a=e.target;if("move"===e.type){var i=a.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset,l=(i.left+i.right)/2+n,r=(i.top+i.bottom)/2+o,s=Math.pow(i.width/2,2);if(Math.pow(e.pageX-l,2)+Math.pow(e.pageY-r,2)>s)return;a.setAttribute("hover","")}else a.removeAttribute("hover")}}},{key:"_documentMoveHandler",value:function(e){var t=this;t._thumbDragged&&(t.$thumb.removeClass("enable-animation"),t.$secondThumb.removeClass("enable-animation"),t.$fill.removeClass("enable-animation"),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction))}},{key:"_documentUpHandler",value:function(e,t){var a=this;a._thumbDragged&&(a.$thumb.addClass("enable-animation"),a.$secondThumb.addClass("enable-animation"),a.$fill.addClass("enable-animation"),t||("switchUntilReleased"===a.mechanicalAction?a._valuesHandler.validate(!1,a._valueAtDragStart):"switchWhenReleased"===a.mechanicalAction&&a._moveThumbBasedOnCoordinates(e,!0,!0)),a.showTooltip&&a._movedTooltip.addClass("jqx-hidden"),a._thumbDragged=!1,a.removeAttribute("dragged"),a._makeThumbAccessible(),a._movedThumb=void 0,a.$track.removeClass("jqx-dragged"))}},{key:"_spinButtonClickHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){var a=void 0;a=t.$.leftButton.contains(e.target)===t._normalLayout?"subtract":"add",t._valuesHandler.incrementOrDecrement(a)}}},{key:"_keydownHandlerSlider",value:function(e){var t=this,a=e.key;if("Escape"===a&&t._thumbDragged&&"switchWhenReleased"===t.mechanicalAction)return t._documentUpHandler(void 0,!0),void t._valuesHandler.validate(!1,t._valueAtDragStart);-1===["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].indexOf(a)||t.coerce||(t.$thumb.removeClass("enable-animation"),t.$secondThumb.removeClass("enable-animation"),t.$fill.removeClass("enable-animation"),t._restoreAnimationClass=!0),this._valuesHandler.keydownHandler(e)}},{key:"_keyupHandlerSlider",value:function(){var e=this;e._restoreAnimationClass&&(e.$thumb.addClass("enable-animation"),e.$secondThumb.addClass("enable-animation"),e.$fill.addClass("enable-animation"))}},{key:"_resizeAndStyleChangedHandler",value:function(e){var t=this,a=t._valuesHandler;if(!t._isVisible())return void(t._renderingSuspended=!0);if(t._renderingSuspended)return void t._createElement();if(!t._renderingSuspended&&(t._getMeasurements(),t._setTicksAndInterval(),a.validate(!1,a.getValue(),!0),"styleChanged"===e.type)){var i=e.detail.styleProperties;if(i["font-size"]||i["font-family"]||i["font-style"]||i["font-weight"]){var n=t.getOptimalSize();t.style.width=n.width+"px",t.style.height=n.height+"px"}}}},{key:"_moveThumbBasedOnCoordinates",value:function(e,t,a){var i=this,n=i._numericProcessor,o=i._trackStart,l=i._settings.margin,r=e[i._settings.page];t&&(r=i._valuesHandler.restrictThumbCoordinates(r,o,i._trackEnd));var s=n.pxToValue(r);i.rangeSlider&&i._movedThumb===i.$.thumb&&1===n.compare(s,i.values[1],!0)&&(s=n.createDescriptor(i.values[1]));var d=s;i.logarithmicScale?(s=n.getCoercedValue(Math.log10(s)),d=parseFloat(Math.pow(10,s).toFixed(11))):(s=n.getCoercedValue(s),d=s),r=n.valueToPx(s)+o;var u=r-o;i._movedThumb.style[l]=u-i._measurements.halfThumbSize+"px",i._valuesHandler.updateFillSizeAndPosition(u,l,d,!0,a),JQX.Utilities.Core.isMobile&&e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}},{key:"_moveThumbBasedOnValue",value:function(e,t,a,i){var n=this,o=n._numericProcessor.valueToPx(t),l=n._settings.margin;e.style[l]=o-n._measurements.halfThumbSize+"px";var r=n._getSingleActualValue(t);i?n.rangeSlider&&(n._firstPassSize=o):n._valuesHandler.updateFillSizeAndPosition(o,l,r,a,a)}},{key:"_validate",value:function(e,t,a,i){this._valuesHandler.validate(e,t,i)}},{key:"_updateValue",value:function(e){var t=this._valuesHandler;t.updateValue(t.getActualValue(e))}},{key:"_makeThumbAccessible",value:function(){var e=this;e.rangeSlider&&(e.$.thumb[e._settings.offset]===e.$.secondThumb[e._settings.offset]&&!1===e._numericProcessor.compare(e.values[1],e.max)?e.$thumb.addClass("accessible"):e.$thumb.removeClass("accessible"))}},{key:"_getSingleActualValue",value:function(e){return this.logarithmicScale?parseFloat(Math.pow(10,e).toFixed(11)):e.toString()}},{key:"_coerceCustomInterval",value:function(){var e=this;if(e.coerce){var t=e._valueBeforeCoercion;e._valuesHandler.validate(!1,e._valuesHandler.getValue()),e._valueBeforeCoercion=t}}},{key:"_wheelHandler",value:function(e){var t=this;document.activeElement===t&&t.enableMouseWheelAction&&(e.stopPropagation(),e.preventDefault(),e.wheelDelta>0?t._keydownHandlerSlider({key:"ArrowRight",which:39,preventDefault:function(){}}):t._keydownHandlerSlider({key:"ArrowLeft",which:37,preventDefault:function(){}}))}},{key:"_handleDateScale",value:function(){var e=this,a=JQX.Utilities.DateTime;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handleDateScale",this).call(this),Object.defineProperty(e,"values",{get:function(){return e.context===e?e.properties.values.value:e._valueDate},set:function(t){function a(e,t){return t instanceof JQX.Utilities.BigNumber?t.toString():t}var i=e.properties.values.value;if(JSON.stringify(i,a)!==JSON.stringify(t,a)&&(e.properties.values.value=t,e.isReady&&(!e.ownerElement||e.ownerElement&&e.ownerElement.isReady)&&e.context!==e)){var n=e.context;e.context=e,e.propertyChangedHandler("values",i,t),e.context=n}}}),e.rangeSlider&&(e._valueDate=[a.validateDate(e.values[0]),a.validateDate(e.values[1])],e.values=[e._valueDate[0].getTimeStamp(),e._valueDate[1].getTimeStamp()]),e._properties.values.serialize="_serializeValue"}},{key:"_setTicksAndInterval",value:function(){var e=this;e._skipTrackReset?delete e._skipTrackReset:e.$.track.style[e._settings.dimension]=null,babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_setTicksAndInterval",this).call(this),e.$.track[e._settings.size]<10&&(e._skipTrackReset=!0,e.$.track.style[e._settings.dimension]=e.getOptimalSize()[e._settings.dimension]+"px",e._getMeasurements(),e._setTicksAndInterval(),e._valuesHandler.validate(!1,e._valuesHandler.getValue()))}}],[{key:"properties",get:function(){return{enableMouseWheelAction:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string",defaultReflectToAttribute:!0},rangeSlider:{value:!1,type:"boolean"},showButtons:{value:!1,type:"boolean"},values:{value:["0","100"],type:"array"}}}},{key:"listeners",get:function(){return{"track.down":"_trackDownHandler","thumb.down":"_thumbDownHandler","secondThumb.down":"_thumbDownHandler","thumb.mouseleave":"_thumbMoveMouseleaveHandler","secondThumb.mouseleave":"_thumbMoveMouseleaveHandler","thumb.move":"_thumbMoveMouseleaveHandler","secondThumb.move":"_thumbMoveMouseleaveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","leftButton.click":"_spinButtonClickHandler","rightButton.click":"_spinButtonClickHandler",keydown:"_keydownHandlerSlider",keyup:"_keyupHandlerSlider",resize:"_resizeAndStyleChangedHandler",styleChanged:"_resizeAndStyleChangedHandler","document.selectstart":"_selectStartHandler",wheel:"_wheelHandler"}}},{key:"requires",get:function(){return{"JQX.RepeatButton":"jqxbutton.js"}}},{key:"styleUrls",get:function(){return["jqx.slider.css","jqx.button.css"]}}]),t}(JQX.Tank)),JQX.Utilities.Assign("SliderSingleValueHandler",function(){function e(t){babelHelpers.classCallCheck(this,e),this.context=t,"date"===t.mode&&(t._getEventValue=function(e){return void 0!==e?JQX.Utilities.DateTime.fromFullTimeStamp(e):t._valueDate.clone()})}return babelHelpers.createClass(e,[{key:"applyFunctionToValue",value:function(e,t){var a=this,i=a.context;return void 0===t&&(t=i.value),e.apply(i,[t])}},{key:"areDifferent",value:function(e){return this.context.value!==e}},{key:"incrementOrDecrement",value:function(e){var t=this.context,a=t._keyIncrementDecrement(e);this.validate(!1,a)}},{key:"setActiveThumbOnTrackClick",value:function(){var e=this.context;e._movedThumb=e.$.thumb,e._addMovedThumbClass(),e._movedTooltip=e.$tooltip}},{key:"getActualValue",value:function(e){return this.context._getSingleActualValue(e)}},{key:"getCoercedLogarithmicValue",value:function(e){var t=this.context;if(t.logarithmicScale){var a=t._numericProcessor.getCoercedValue(Math.log10(e));return this.getActualValue(a)}return e}},{key:"getDrawValue",value:function(){return this.context._drawValue}},{key:"getValue",value:function(){return this.context.value}},{key:"keydownHandler",value:function(e){this.context._keydownHandler(e)}},{key:"moveThumbBasedOnValue",value:function(e,t,a){var i=this.context;if(void 0===e&&(e=i.value),i._moveThumbBasedOnValue(i.$.thumb,e,t),!0!==a){i._drawValue=e;var n=this.getActualValue(e),o=void 0;o=void 0!==i._valueNoRangeValidation?i._valueNoRangeValidation.toString():n.toString(),"date"===i.mode&&(i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(o)),i.value=o,delete i._valueBeforeCoercion,this.updateTooltipValue(n)}}},{key:"restrictThumbCoordinates",value:function(e,t,a){return e=Math.max(e,t),e=Math.min(e,a)}},{key:"updateFillSizeAndPosition",value:function(e,t,a,i,n){var o=this.context,l=o.$.fill.style,r=o._settings.dimension;if(o._normalLayout?l[r]=e+"px":(l[r]=o._measurements.trackLength-e+"px",l[t]=e+"px"),i){var s=o.value,d=o._getEventValue(s),u=o._numericProcessor;if(u.compare(u.createDescriptor(a),u.createDescriptor(s))&&(this.updateTooltipValue(a),n)){var c=void 0;if(o._drawValue=o.logarithmicScale?Math.log10(a):a,c=void 0!==o._valueNoRangeValidation?o._valueNoRangeValidation.toString():a.toString(),"date"===o.mode&&(o._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(c)),o.value=c,delete o._valueBeforeCoercion,!0!==o._programmaticValueIsSet){var m=o._getEventValue();o.$.hiddenInput.value=m,o.$.fireEvent("change",{value:m,oldValue:d})}}}}},{key:"updateTooltipValue",value:function(e){var t=this.context;void 0===e&&(e=t.value);var a=t._formatLabel(e);t.$.tooltipContent.innerHTML!==a&&(t.$.tooltipContent.innerHTML=a,t.$.thumbLabel.innerHTML=a)}},{key:"updateValue",value:function(e){var t=this.context,a=t._numericProcessor.createDescriptor(e,!0,!1);t._drawValue=t.logarithmicScale?Math.log10(a):a,this.moveThumbBasedOnValue(t._drawValue,!0)}},{key:"validate",value:function(e,t,a){var i=this.context,n=i._numericProcessor,o=void 0;i._programmaticValueIsSet=a&&"interaction"===i.validation,o=e?i.value:t;var l=void 0;i.coerce&&(o=i._numericProcessor.createDescriptor(o,!0,!0,!0)),o=i.logarithmicScale?this.getCoercedLogarithmicValue(o):n.getCoercedValue(o),"strict"===i.validation?(i._valueNoRangeValidation=n.createDescriptor(o,!0,!0,!0),l=i._valueNoRangeValidation):(i._valueNoRangeValidation=n.createDescriptor(o,!0,!0,!1),l=n.validate(i._valueNoRangeValidation,i._minObject,i._maxObject)),e?(i._drawValue=i.logarithmicScale?Math.log10(l):l,o=i._valueNoRangeValidation.toString(),"date"===i.mode&&(i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(o)),i.value=o,this.moveThumbBasedOnValue(i._drawValue,void 0,!0)):this.updateValue(l),delete i._valueNoRangeValidation,i._programmaticValueIsSet=!1}}]),e}()),JQX.Utilities.Assign("SliderMultipleValueHandler",function(){function e(t){babelHelpers.classCallCheck(this,e),this.context=t,"date"===t.mode&&(t._getEventValue=function(e,a){var i=[t._valueDate[0].clone(),t._valueDate[1].clone()];return void 0!==e&&(i[a]=JQX.Utilities.DateTime.fromFullTimeStamp(e)),i})}return babelHelpers.createClass(e,[{key:"applyFunctionToValue",value:function(e,t){var a=this,i=a.context,n=[];return void 0===t&&(t=i.values),n[0]=e.apply(i,[t[0]]),n[1]=e.apply(i,[t[1]]),n}},{key:"areDifferent",value:function(e){var t=this.context.values;return t[0]!==e[0]||t[1]!==e[1]}},{key:"incrementOrDecrement",value:function(e){var t=this.context,a=t.values.slice(0),i=void 0;i="add"===e?1:0,a[i]=this.keyIncrementDecrement(e,i),this.validate(!1,a)}},{key:"keydownHandler",value:function(e){var t=this.context;if(!t.disabled&&!t.readonly){var a=e.charCode?e.charCode:e.which;if(-1!==[35,36,37,38,39,40].indexOf(a)){e.preventDefault();var i=t.values.slice(0),n=void 0;switch(a){case 40:case 37:n=this.keyIncrementDecrement("subtract",0),i[0]=n,t._movedThumb=t.$.thumb;break;case 38:case 39:n=this.keyIncrementDecrement("add",1),i[1]=n,t._movedThumb=t.$.secondThumb;break;case 36:t._drawValues[0]=t._drawMin,i[0]=t.min,t._movedThumb=t.$.thumb;break;case 35:t._drawValues[1]=t._drawMax,i[1]=t.max,t._movedThumb=t.$.secondThumb}return this.validate(!1,i),!1}}}},{key:"keyIncrementDecrement",value:function(e,t){var a=this.context,i=void 0,n=void 0;if(a.customInterval&&a.coerce)return i=this.getValue()[t],a._keyIncrementDecrement(e,i.toString());if("date"===a.mode)return i=a._valueDate[t],n=i[a._dateIncrementMethod](("add"===e?1:-1)*parseFloat(a.interval),!0),n=n.getTimeStamp(),-1===n.compare(a._drawMin)?new JQX.Utilities.BigNumber(a._drawMin):1===n.compare(a._drawMax)?new JQX.Utilities.BigNumber(a._drawMax):n;var o=a._drawValues[t];return i=a._numericProcessor.createDescriptor(o),n=a._numericProcessor.incrementDecrement(i,e,a._validInterval),a.logarithmicScale&&(a._drawValues[t]=n,n=parseFloat(Math.pow(10,Math.round(n)).toFixed(11))),n}},{key:"setActiveThumbOnTrackClick",value:function(e){var t=this.context,a=t._trackStart+t._measurements.halfThumbSize,i=t._settings.offset,n=t.$.thumb,o=t.$.secondThumb,l=n[i],r=o[i],s=e[t._settings.page],d=t._normalLayout?a+l+(r-l)/2:a+r+(l-r)/2;t._normalLayout&&s<=d||!t._normalLayout&&s>d?(t._movedThumb=n,t._staticThumb=o,t._movedTooltip=t.$tooltip,t.$secondTooltip.addClass("jqx-hidden")):(t._movedThumb=o,t._staticThumb=n,t._movedTooltip=t.$secondTooltip,t.$tooltip.addClass("jqx-hidden")),t._addMovedThumbClass()}},{key:"getActualValue",value:function(e){return this.context.logarithmicScale?[parseFloat(Math.pow(10,e[0].toString()).toFixed(11)),parseFloat(Math.pow(10,e[1].toString()).toFixed(11))]:[e[0].toString(),e[1].toString()]}},{key:"getCoercedLogarithmicValue",value:function(e){var t=this.context;if(t.logarithmicScale){var a=[];return a[0]=t._numericProcessor.getCoercedValue(Math.log10(e[0])),a[1]=t._numericProcessor.getCoercedValue(Math.log10(e[1])),this.getActualValue(a)}return e}},{key:"getDrawValue",value:function(){return this.context._drawValues}},{key:"getValue",value:function(){return this.context.values.slice(0)}},{key:"moveThumbBasedOnValue",value:function(e,t,a){var i=this.context,n=void 0===t;if(void 0===e&&(e=i.values),i._numericProcessor.restrictValue(e),(n||1===t)&&(i._movedThumb=i.$.secondThumb,i._moveThumbBasedOnValue(i.$.secondThumb,e[1],!0,n)),(n||0===t)&&(i._movedThumb=i.$.thumb,i._moveThumbBasedOnValue(i.$.thumb,e[0],!0)),delete i._firstPassSize,!0!==a){i._drawValues=e;var o=this.getActualValue(e),l=void 0;l=i._valuesNoRangeValidation?[i._valuesNoRangeValidation[0].toString(),i._valuesNoRangeValidation[1].toString()]:o,"date"===i.mode&&(i._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(o[0]),JQX.Utilities.DateTime.fromFullTimeStamp(o[1])]),i.values=l,delete i._valueBeforeCoercion,this.updateTooltipValue()}}},{key:"restrictThumbCoordinates",value:function(e,t,a){var i=this.context,n=t+i._staticThumb[i._settings.offset]+i._measurements.halfThumbSize;return i._movedThumb===i.$.thumb&&i._normalLayout||i._movedThumb===i.$.secondThumb&&!i._normalLayout?(e=Math.max(e,t),e=Math.min(e,a,n)):(e=Math.max(e,t,n),e=Math.min(e,a)),e}},{key:"updateFillSizeAndPosition",value:function(e,t,a,i,n){var o=this.context,l=o.$.fill.style,r=o._settings.dimension,s=o._settings.offset,d=o._measurements.halfThumbSize,u=void 0,c=void 0;if(o._movedThumb===o.$.thumb?(u=e-d,c=void 0!==o._firstPassSize?o._firstPassSize-d:o.$.secondThumb[s]):(u=void 0!==o._firstPassSize?o._firstPassSize-d:o.$.thumb[s],c=e-d),o._normalLayout?(l[r]=Math.max(0,c-u)+"px",l[t]=u+d+"px"):(l[r]=Math.max(0,u-c)+"px",l[t]=c+d+"px"),i){var m=o._numericProcessor,v=o._movedThumb===o.$.thumb?0:1,h=o.values[v],_=o._getEventValue(h,v);if(m.compare(m.createDescriptor(a),m.createDescriptor(h))){var g=o.values.slice(0);if(g[v]=a.toString(),this.updateTooltipValue(a,v),n){var p=void 0;if(this.updateDrawValues(g),p=o._valuesNoRangeValidation?[o._valuesNoRangeValidation[0].toString(),o._valuesNoRangeValidation[1].toString()]:g,"date"===o.mode&&(o._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(g[0]),JQX.Utilities.DateTime.fromFullTimeStamp(g[1])]),o.values=p,delete o._valueBeforeCoercion,!0!==o._programmaticValueIsSet){var b=o._getEventValue();o.$.hiddenInput.value=b,o.$.fireEvent("change",{value:b,oldValue:_})}}}}}},{key:"updateDrawValues",value:function(e){var t=this.context;t.logarithmicScale?(t._drawValues[0]=Math.log10(e[0]),t._drawValues[1]=Math.log10(e[1])):t._drawValues=e.slice(0)}},{key:"updateTooltipValue",value:function(e,t){var a=this.context;if(void 0===e){var i=a.values,n=a._formatLabel(i[0]),o=a._formatLabel(i[1]);a.$.tooltipContent.innerHTML!==n&&(a.$.tooltipContent.innerHTML=n,a.$.thumbLabel.innerHTML=n),a.$.secondTooltipContent.innerHTML!==o&&(a.$.secondTooltipContent.innerHTML=o)}else{var l=a._formatLabel(e);(0===t&&a.$.tooltipContent.innerHTML!==l||void 0===t)&&(a.$.tooltipContent.innerHTML=l,a.$.thumbLabel.innerHTML=l),(1===t&&a.$.secondTooltipContent.innerHTML!==l||void 0===t)&&(a.$.secondTooltipContent.innerHTML=l,a.$.secondThumbLabel.innerHTML=l)}}},{key:"updateValue",value:function(e){var t=this.context,a=[],i=void 0;a[0]=t._numericProcessor.createDescriptor(e[0],!0,!1),a[1]=t._numericProcessor.createDescriptor(e[1],!0,!1),this.updateDrawValues(a),t._movedThumb===t.$.secondThumb&&(i=1),this.moveThumbBasedOnValue(t._drawValues.slice(0),i)}},{key:"validate",value:function(e,t,a){var i=this.context,n=i._numericProcessor,o=[],l=void 0;i._programmaticValueIsSet=a&&"interaction"===i.validation,l=e?i.values.slice(0):t,i.coerce&&(l[0]=n.createDescriptor(l[0],!0,!0,!0),l[1]=n.createDescriptor(l[1],!0,!0,!0)),
i.logarithmicScale?l=this.getCoercedLogarithmicValue(l):(l[0]=n.getCoercedValue(l[0]),l[1]=n.getCoercedValue(l[1])),i._valuesNoRangeValidation=[],i._valuesNoRangeValidation[0]=n.createDescriptor(l[0],!0,!0,!1),i._valuesNoRangeValidation[1]=n.createDescriptor(l[1],!0,!0,!1),i._numericProcessor.restrictValue(i._valuesNoRangeValidation),o[0]=n.validate(i._valuesNoRangeValidation[0],i._minObject,i._maxObject),o[1]=n.validate(i._valuesNoRangeValidation[1],i._minObject,i._maxObject),e?(i._drawValues=[],this.updateDrawValues(o),l=[i._valuesNoRangeValidation[0].toString(),i._valuesNoRangeValidation[1].toString()],"date"===i.mode&&(i._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(o[0]),JQX.Utilities.DateTime.fromFullTimeStamp(o[1])]),i.values=l,this.moveThumbBasedOnValue(i._drawValues,void 0,!0)):this.updateValue(o),delete i._valuesNoRangeValidation,i._programmaticValueIsSet=!1}}]),e}());
//# sourceMappingURL=jqxslider.js.map
