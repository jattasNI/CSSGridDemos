"use strict";JQX("jqx-accordion-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <div id="accordionItemHeader" class ="jqx-accordion-item-header jqx-unselectable">\n                        <span id="arrow" class ="jqx-arrow"></span>\n                        <span id="label" class ="jqx-label" inner-h-t-m-l=\'[[label]]\'></span>\n                    </div>\n                    <div id="accordionItemContent" class ="jqx-accordion-item-content">\n                        <div id="contentContainer" class ="jqx-content-container"><content></content></div>\n                    </div>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,n,a){if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,n,a),n=parseInt(n),a=parseInt(a),"index"===e&&!isNaN(n)&&!isNaN(a)){var i=this,r=i.parentElement.parentElement._items.length;a<0?a=0:a>=r&&(a=r-1),a!==n&&i.$.fireEvent("indexChange",{newIndex:a,oldIndex:n}),i.index=a}}},{key:"_headerMouseEnterHandler",value:function(){var e=this;e.disabled||e.setAttribute("hovered","")}},{key:"_headerMouseLeaveHandler",value:function(){var e=this;e.disabled||e.removeAttribute("hovered")}},{key:"_ripple",value:function(e){var t=this;t.disabled||t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t.$.container,e.pageX,e.pageY)}},{key:"_setIndex",value:function(e){var t=this,n=t.context;t.context=t,t.index=e,t.context=n}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{dragged:{value:!1,type:"boolean"},expanded:{value:!1,type:"boolean"},focused:{value:!1,type:"boolean"},index:{value:null,type:"number?"},label:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{"accordionItemHeader.mouseenter":"_headerMouseEnterHandler","accordionItemHeader.mouseleave":"_headerMouseLeaveHandler","accordionItemHeader.down":"_ripple"}}}]),t}(JQX.ContentElement)),JQX("jqx-accordion",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                    <content></content>\n                </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this._createElement()}},{key:"propertyChangedHandler",value:function(e,n,a){function i(){r._toggleItems("expand",[0]),r.expandedIndexes=[0]}var r=this;if("expandedIndexes"===e){if(n.toString()===a.toString())return;var o=[];if(r._items.length>0)for(var d=0;d<a.length;d++){var s=parseInt(a[d]);if(!isNaN(s)){if(r._expandModeIs(["single","singleFitHeight","toggle"])){o.length<1&&s>=0&&s<r._items.length&&o.push(s);break}s>=0&&s<=r._items.length&&-1===o.indexOf(s)&&o.push(s)}}if(0===o.length&&r._expandModeIs(["single","singleFitHeight"]))return a=n.slice(),void(r.expandedIndexes=a);a=o;var l=r._compareExpandedIndexes(n,a);return r._toggleItems("collapse",l.collapse),r._toggleItems("expand",l.expand),void(r.expandedIndexes=a)}switch(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,n,a),e){case"disabled":r._setFocusable(),r._enableDisableHandler();break;case"expandMode":if(0===r._items.length)break;if("multiple"===n&&"none"!==a||"none"===n&&"multiple"!==a){var c=r.expandedIndexes.slice(1);r._toggleItems("collapse",c),0===r.expandedIndexes.length&&r._expandModeIs(["single","singleFitHeight"])&&i()}else"toggle"===n&&r._expandModeIs(["single","singleFitHeight"])&&0===r.expandedIndexes.length&&i();if(!r._supportCSSVariables||!r._usedCSSVariables){var p=r.expandedIndexes[0];"singleFitHeight"===n?r._items[p].$.accordionItemContent.style.height="":"singleFitHeight"===a&&(r._items[p].$.accordionItemContent.style.height=r._expandedItemsContainerHeight-1+"px")}break;case"unfocusable":r._setFocusable()}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&(e.classList.contains("jqx-resize-trigger-container")||e.classList.contains("jqx-measure-element"))){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e instanceof JQX.AccordionItem||t.error(t.localize("accordionItemRequired",{method:"appendChild"})),t.insert(t._items.length,e)}},{key:"collapse",value:function(e,t){var n=this;if(e=n._validateItemsIndex(e,"collapse"),!isNaN(e)){!n._items[e].expanded||n._expandModeIs(["single","singleFitHeight"])&&n.expandedIndexes.indexOf(e)>-1||n._collapseItem(e,t)}}},{key:"expand",value:function(e,t){var n=this;if(e=n._validateItemsIndex(e,"expand"),!isNaN(e)){n._items[e].expanded||(n._expandModeIs(["single","singleFitHeight","toggle"])&&n._toggleItems("collapse",n.expandedIndexes),n._expandItem(e,t))}}},{key:"insert",value:function(e,t){var n=this,a=0===n._items.length,i=void 0,r=void 0;if(t||("number"==typeof e?t=[{label:"",content:""}]:(t=[{label:e?e.toString():"",content:e?e.toString():""}],e=0)),t instanceof HTMLElement)t instanceof JQX.AccordionItem?i=t:n.error(n.localize("accordionItemRequired",{method:"insert"}));else if(Array.isArray(t)){r=document.createDocumentFragment();for(var o=0;o<t.length;o++){var d=n._createItem(t[o]);r.appendChild(d)}}else i=t instanceof Object?n._createItem(t):"string"==typeof t||"number"==typeof t?n._createItem({label:t.toString(),content:t.toString()}):n._createItem({label:"",content:""});e>n._items.length?i?n.$.container.appendChild(i):n.$.container.appendChild(r):i?n.$.container.insertBefore(i,n._items[e]):n.$.container.insertBefore(r,n._items[e]),i&&(i.tabIndex=n._tabIndex),n._storeItems(),a&&n._expandModeIs(["single","singleFitHeight"])?n._expandItem(0):n.expandedIndexes=n._getExpandedIndexes(),n._updateExpanedContentHeight(),n._updateInlineHeight(),n._storeItemsCoordinates(),n._updateItemsIndexProperty()}},{key:"insertBefore",value:function(e,t){var n=this;if(!n.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}void 0!==e&&void 0!==t&&e instanceof JQX.AccordionItem&&t instanceof JQX.AccordionItem||n.error(n.localize("accordionItemRequired",{method:"insertBefore"})),void 0!==t&&null!==t?(n.contains(t)||n.error(n.localize("referenceNodeNotChild",{argument:"referenceNode"})),n.insert(n._items.indexOf(t),e)):n.insert(n._items.indexOf(t),e)}},{key:"remove",value:function(e){var t=this,n=void 0;if(e instanceof HTMLElement)e instanceof JQX.AccordionItem?t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})):t.error(t.localize("accordionItemRequired",{method:"remove"})),n=e,e=n.index;else{if(e=t._validateItemsIndex(e,"remove"),isNaN(e))return;n=t._items[e]}n&&(n.parentNode.removeChild(n),t._storeItems(),t._expandModeIs(["singleFitHeight"])&&(t._preventAnimation=!0),t._expandModeIs(["single","singleFitHeight"])&&e===t.expandedIndexes[0]&&t._items.length>0&&(t._expandItem(0),t._selectedItem=t._items[0],t._selectedItemIndex=0,t._itemIsFocussed=!0),t.expandedIndexes=t._getExpandedIndexes(),t._updateExpanedContentHeight(),t._updateInlineHeight(),t._storeItemsCoordinates(),t._updateItemsIndexProperty())}},{key:"removeChild",value:function(e){var n=this;if(!n.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(n,a.concat(Array.prototype.slice.call(arguments)))}if(e instanceof HTMLElement||n.error(n.localize("accordionItemRequired",{method:"removeChild"})),"jqx-resize-trigger-container"===e.className)return void babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e);e instanceof JQX.AccordionItem||n.error(n.localize("accordionItemRequired",{method:"removeChild"})),n.contains(e)||n.error(n.localize("referenceNodeNotChild",{argument:"node"})),n.remove(e)}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable){e.removeAttribute("tabindex");for(var t=0;t<e._items.length;t++)e._items[t].removeAttribute("tabindex")}else{e.tabIndex=e._tabIndex;for(var n=0;n<e._items.length;n++)e._items[n].tabIndex=e._tabIndex}}},{key:"update",value:function(e,t){var n=this;if(e=n._validateItemsIndex(e,"update"),!isNaN(e)){var a=n._items[e];if(t||n.error(n.localize("invalidSettings",{elementType:n.nodeName.toLowerCase(),method:"update"})),a)if(Array.isArray(t)&&(t=0===t.length?{label:"",content:""}:t[0]),"string"==typeof t)a.content=t;else for(var i in t)a[i]=t[i];var r=n._getItemsHeights(e);n._updateExpanedContentLocalHeight(n._items[e],r),n._updateInlineHeight(),n._storeItemsCoordinates()}}},{key:"_adjustHeightValue",value:function(e){for(var t=this,n=t._items.length,a=void 0,i=void 0,r=0;r<n&&(t._items[r].expanded?a=t._items[r]:i=t._items[r],!a||!i);r++);if(a||(a=t._items[0]),a||i){var o=a.expanded;a.expanded=!0;var d=window.getComputedStyle(a,null),s=!!i&&window.getComputedStyle(i,null),l=parseInt(d.getPropertyValue("margin-top"))+parseInt(d.getPropertyValue("margin-bottom")),c=s?parseInt(s.getPropertyValue("margin-top"))+parseInt(s.getPropertyValue("margin-bottom")):0;return a.expanded=o,e-((n-1)*c+l)}}},{key:"_collapseItem",value:function(e,t){var n=this,a=n._items[e];if(a.expanded&&("none"!==n.expandMode||!t)){if(a.expanded=!1,n.$.fireEvent("collapsing",{index:e,label:a.label,content:a.content.innerHTML}),n.expandedIndexes.indexOf(e)>-1){var i=n.expandedIndexes.indexOf(e),r=n.expandedIndexes.slice();r.splice(i,1),n.expandedIndexes=r}a.$.accordionItemContent.style.height="",n._handleAnimationsDuration(a,e,"collapsed")}}},{key:"_compareExpandedIndexes",value:function(e,t){for(var n=[],a=[],i=[],r=e.length,o=t.length,d=0;d<r;d++)-1===t.indexOf(e[d])?-1===n.indexOf(e[d])&&n.push(e[d]):-1===a.indexOf(e[d])&&a.push(e[d]);for(var s=0;s<o;s++)-1===a.indexOf(t[s])&&i.push(t[s]);return{collapse:n,expand:i}}},{key:"_createElement",value:function(){var e=this;e._reorderItemsByIndex(),e._usedCSSVariables=Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-accordion-animation-duration")),e._supportCSSVariables=JQX.Utilities.Core.CSSVariablesSupport(),e._storeItems(),e._enableDisableHandler(),e._expandedIndexesHandler(),e._updateExpanedContentHeight(),e._tabIndex=e.tabIndex<=0?0:e.tabIndex,e._setFocusable(),e._updateItemsIndexProperty(),e._updateInlineHeight();for(var t=0;t<e._items.length;t++)e._items[t].$.arrow.classList.add("jqx-animate-trigger")}},{key:"_createItem",value:function(e){var t=this,n=document.createElement("jqx-accordion-item");if(e)return n.disabled=t.disabled,t._tabIndex>-1&&(n.tabIndex=t._tabIndex),"string"==typeof e||"number"==typeof e?(n.label=e+"",n.content=e+"",n):(n.label=e.label||"",n.content=e.content||"",n)}},{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||t.readonly||"none"===t.expandMode||t._toggled)){var n=t.enableShadowDOM?t.shadowRoot.elementFromPoint(e.pageX,e.pageY):e.originalEvent.target,a=n.closest(".jqx-accordion-item-header"),i=n.closest("jqx-accordion-item");if(!a)return void(i&&(i.focused=!0));t._selectedItem=i,t._itemIsPressed=t._itemIsFocussed=!0,t._reorderedIndex=t._selectedItemIndex=t._items.indexOf(i),t._storeItemsCoordinates()}}},{key:"_enableDisableHandler",value:function(){var e=this;if(e.disabled)for(var t=0;t<e._items.length;t++)e._items[t].disabled=!0;else for(var n=0;n<e._items.length;n++)e._items[n].disabled=!1}},{key:"_expandedIndexesHandler",value:function(){var e=this,t=e._getExpandedIndexes("initial"),n=t.length,a=e.expandedIndexes.length;if(0!==e._items.length){if(0===a&&n>0&&(e.expandedIndexes=t,a=n),e._expandModeIs(["multiple","none"])||1===a)return void e._toggleItems("expand",e.expandedIndexes);switch(e.expandMode){case"single":case"singleFitHeight":0===a?e._toggleItems("expand",[0]):a>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes));break;case"toggle":a>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes))}}}},{key:"_expandItem",value:function(e,t){var n=this,a=n._items[e];if(!(a.expanded||"none"===n.expandMode&&t)){if(a.$.container.style.getPropertyValue("--jqx-accordion-expanded-content-local-height")||(a.expanded=!0,a.$.container.style.setProperty("--jqx-accordion-expanded-content-local-height",a.$.accordionItemContent.scrollHeight+"px"),a.expanded=!1),a.expanded=!0,n.$.fireEvent("expanding",{index:e,label:a.label,content:a.content.innerHTML}),-1===n.expandedIndexes.indexOf(e)){var i=n.expandedIndexes.slice();i.push(e),n.expandedIndexes=i}n._supportCSSVariables&&n._usedCSSVariables||"singleFitHeight"!==n.expandMode||(a.$.accordionItemContent.style.height=n._expandedItemsContainerHeight-1+"px"),n._handleAnimationsDuration(a,e,"expanded")}}},{key:"_expandModeIs",value:function(e){var t=this;return e.indexOf(t.expandMode)>-1}},{key:"_focusHandler",value:function(){var e=this;e.disabled||0===e._items.length||(e._itemIsFocussed?e._selectedItem.focused=!1:e._items[0].focused=!1)}},{key:"_getExpandedIndexes",value:function(e){for(var t=this,n=[],a=0;a<t._items.length;a++)"initial"===e?t._items[a].hasAttribute("expanded")&&(n.push(a),t._items[a].removeAttribute("expanded")):t._items[a].expanded&&n.push(a);return n.slice()}},{key:"_getItemsHeights",value:function(e){var t=this,n=t._items,a=n.length,i=[];if(0!==a){if(!isNaN(e)&&e>=0&&e<a){var r=n[e],o=0;return r.expanded?o=r.$.accordionItemContent.scrollHeight:(r.expanded=!0,o=r.$.accordionItemContent.scrollHeight,r.expanded=!1),o+"px"}for(var d=0;d<a;d++){var s=n[d],l=0;s.expanded?l=s.$.accordionItemContent.scrollHeight:(s.expanded=!0,l=s.$.accordionItemContent.scrollHeight,s.expanded=!1),i.push(l+"px")}return t._heightCalcAfterInitialization=!0,i}}},{key:"_handleAnimationsDuration",value:function(e,t,n){var a=this;if(!a._animationAfterInitialization)return void(a._animationAfterInitialization=!0);if(1===a._items.length&&"singleFitHeight"===a.expandMode)return void a.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML});if(!1===a.hasAnimation||!a._supportCSSVariables)return void a.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML});if(a._preventAnimation)return a.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML}),void(a._preventAnimation=!1);a._toggled=!0;var i=window.getComputedStyle(a).animationDuration,r=void 0;if(i.indexOf("ms")>-1)i=parseFloat(i.substring(0,i.length-2)),r=isNaN(i)||i<0?0:i-50;else{if(!(i.indexOf("s")>-1))return void a.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML});i=parseFloat(i.substring(0,i.length-1)),r=isNaN(i)||i<0?0:1e3*i-50}e instanceof JQX.AccordionItem&&(e.$.addClass("jqx-toggled-item"),a.$container.addClass("jqx-toggling"),setTimeout(function(){e.$.removeClass("jqx-toggled-item"),a.$container.removeClass("jqx-toggling"),a.$.fireEvent(n,{index:t}),a._toggled=!1},r))}},{key:"_indexChangeHandler",value:function(e){var t=this,n=t._items,a=n.length,i=e.detail;i.newIndex>=a?t.$.container.appendChild(n[i.oldIndex]):i.newIndex>i.oldIndex?t.$.container.insertBefore(n[i.oldIndex],n[i.newIndex+1]):t.$.container.insertBefore(n[i.oldIndex],n[i.newIndex]);var r=t.enableShadowDOM?t.shadowRoot.querySelectorAll("jqx-accordion-item"):t.getElementsByTagName("jqx-accordion-item");t._items=Array.from(r),t._updateItemsIndexProperty()}},{key:"_keyDownHandler",value:function(e){function t(e){e===o||isNaN(e)||(r.focused=!1,o=e,r=a._items[o],r.focused=!0)}function n(e){if("up"===e)return void t(o-1<0?0:o-1);t(o+1>s?s:o+1)}var a=this,i=e.key;if(!("none"===a.expandMode||a.disabled||a.readonly||a._toggled)&&-1!==["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","End","Home"," ","Enter","Tab"].indexOf(i)&&document.activeElement instanceof JQX.AccordionItem){"Tab"!==i&&e.preventDefault();for(var r=void 0,o=void 0,d=a._items.length,s=d-1,l=0;l<d;l++){var c=a._items[l];c.focused&&(r=c,o=l)}switch(i){case"Tab":n(e.shiftKey?"up":"down");break;case"ArrowLeft":a.collapse(o);break;case"ArrowDown":n("down");break;case"ArrowRight":a.expand(o);break;case"ArrowUp":n("up");break;case"End":t(s);break;case"Home":t(0);break;case" ":case"Enter":if(r.expanded)return void a.collapse(o);a.expand(o);break;default:return}}}},{key:"_moveHandler",value:function(e){var t=this;if(t._itemIsPressed&&t.reorder&&!t.readonly&&!(t._items.length<2))if(t._dragStart){if(t.$container.addClass("jqx-reordering"),!t._dragging){var n=t._selectedItem;t.$.fireEvent("dragStart",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:n.label,content:n.content.innerHTML}),t._selectedItem.dragged=t._dragging=!0}for(var a=e.clientY,i=!1,r=0;r<t._itemsCoordinates.length;r++){var o=t._itemsCoordinates[r];if(a>=o.fromY&&a<=o.toY){i=r;break}}if(!0!==t._preventReorder&&!1!==i&&i!==t._reorderedIndex){if(Math.abs(t._reorderedIndex-i)>1){var d=t._reorderedIndex-i<0?-1:1;t._swapItems(t._reorderedIndex,i+d)}t._swapItems(t._reorderedIndex,i),t._reorderedIndex=i,t._storeItemsCoordinates()}a<t._itemsCoordinates[t._reorderedIndex].fromY||a>t._itemsCoordinates[t._reorderedIndex].toY?t._preventReorder=!0:t._preventReorder=!1,Math.abs(t._reorderedIndex-i)>1&&(t._preventReorder=!1)}else t._dragStart=!0}},{key:"_reorderItemsByIndex",value:function(){var e=this,t=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-accordion-item"):e.getElementsByTagName("jqx-accordion-item"),n=Array.from(t),a=!1,i=n.map(function(e){return null!==e.index?a=!0:e.index=0,e.index});if(a){var r=n.length;if(!(r<2)){var o=i.slice();if(o.sort(function(e,t){return parseInt(e)-parseInt(t)}),i.toString()!==o.toString())for(var d=0;d<r;d++){for(var s=void 0,l=0;l<r;l++)t[l].index===o[d]&&(s=t[l]);e.$.container.insertBefore(s,t[d])}}}}},{key:"_resizeHandler",value:function(){var e=this;e._updateExpanedContentHeight(),e._updateInlineHeight(),e._storeItemsCoordinates()}},{key:"_storeItems",value:function(){var e=this,t=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-accordion-item"):e.getElementsByTagName("jqx-accordion-item");if(e._items=Array.from(t),0===e._items.length)return void e.$container.addClass("jqx-empty");e.$container.removeClass("jqx-empty");for(var n=e._getItemsHeights(),a=0;a<e._items.length;a++)e._updateExpanedContentLocalHeight(e._items[a],n[a])}},{key:"_storeItemsCoordinates",value:function(){var e=this;if(!e.disabled&&e.reorder){for(var t=[],n=0;n<e._items.length;n++){var a=e._items[n],i=a.getBoundingClientRect();t.push({fromY:i.top+(window.scrollY||window.pageYOffset),toY:i.bottom+(window.scrollY||window.pageYOffset)})}e._itemsCoordinates=t}}},{key:"_swapItems",value:function(e,t){var n=this,a=Math.min(e,t),i=Math.max(e,t),r=n._items,o=n.expandedIndexes.slice();if(n._items[e].expanded&&!n._items[t].expanded){o[o.indexOf(e)]=t,n.expandedIndexes=o.slice()}else if(n._items[t].expanded&&!n._items[e].expanded){var d=o.indexOf(t);o[d]=e,n.expandedIndexes=o.slice()}n.selectedIndex=n.selectedIndex===e?t:e,n.$.container.insertBefore(r[i],r[a]),function(e,t,n){var a=e[n];e[n]=e[t],e[t]=a}(r,e,t),n._items[e].$.removeClass("hovered"),n._reorderedIndex=t}},{key:"_toggleItems",value:function(e,t){var n=this,a=t.length;if(a>0)for(var i=0;i<a;i++)n["_"+e+"Item"](t[i])}},{key:"_updateExpanedContentHeight",value:function(){var e=this;e.$.container.style.setProperty("--jqx-accordion-item-header-height","");var t=e._items.length,n=e.$.container.offsetHeight,a=e._items[e.expandedIndexes[0]],i=0,r=0,o=0,d=0;if(1===t){var s=e._items[0];s.expanded=!1,i=s.offsetHeight,r=s.$.accordionItemHeader.offsetHeight,s.expanded=!0}else for(;0===i&&d<t;){var l=e._items[d];l instanceof JQX.AccordionItem&&!l.expanded&&(i=l.offsetHeight,r=l.$.accordionItemHeader.offsetHeight),d++}if(t>1&&a instanceof JQX.AccordionItem){o=a.$.accordionItemHeader.offsetHeight-r}var c=getComputedStyle(e.$.root),p=i*t,m=n-p-o-parseFloat(c.paddingBottom)-parseFloat(c.paddingTop);"singleFitHeight"===e.expandMode&&(m=e._adjustHeightValue(m)),m=m>=0?m:0,e.$.container.style.setProperty("--jqx-accordion-expanded-content-height",m+"px"),e.$.container.style.setProperty("--jqx-accordion-item-header-height",r+"px"),e._expandedItemsContainerHeight=m}},{key:"_updateExpanedContentLocalHeight",value:function(e,t){var n=this;n._supportCSSVariables&&n._usedCSSVariables&&e.$.container.style.setProperty("--jqx-accordion-expanded-content-local-height",t)}},{key:"_updateInlineHeight",value:function(){var e=this;e._supportCSSVariables&&e._usedCSSVariables||"singleFitHeight"!==e.expandMode||0===e._items.length||(e._items[e.expandedIndexes[0]].$.accordionItemContent.style.height=e._expandedItemsContainerHeight-1+"px")}},{key:"_updateItemsIndexProperty",value:function(){for(var e=this,t=[],n=0;n<e._items.length;n++)e._items[n]._setIndex(n),e._items[n].expanded&&t.push(n);e.expandedIndexes=t.slice()}},{key:"_upHandler",value:function(e){var t=this;if(t._itemIsPressed&&!t.disabled&&!t.readonly){for(var n=0;n<t._items.length;n++)n!==t._selectedItemIndex&&(t._items[n].focused=!1);if(t._selectedItem.focused=!0,t._dragging){var a=t._selectedItem;t.$container.removeClass("jqx-reordering"),t.$.fireEvent("dragEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:a.label,content:a.content.innerHTML})}else t._selectedItem.expanded?t.collapse(t._selectedItemIndex,!0):t.expand(t._selectedItemIndex,!0);t._reorderedIndex=void 0,t._dragStart=!1,t._dragging=!1,t._itemIsPressed=!1,t._selectedItem.dragged=!1,t._updateItemsIndexProperty()}}},{key:"_validateItemsIndex",value:function(e,t){var n=this;return isNaN(parseInt(e))||e<0||e>n._items.length-1?void n.log(n.localize("indexOutOfBound",{elementType:n.nodeName.toLowerCase(),method:t})):parseInt(e)}}],[{key:"properties",get:function(){return{expandedIndexes:{value:[],type:"array"},expandMode:{allowedValues:["single","singleFitHeight","multiple","toggle","none"],value:"singleFitHeight",type:"string"},messages:{extend:!0,value:{en:{accordionItemRequired:'{{elementType}}: "{{method}}" requires an item from type "jqx-accordion-item".',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.',missingReference:"{{elementType}}: Missing reference to {{files}}.",noItems:"{{elementType}}: No child elements found.",overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.'}},type:"object"},reorder:{value:!1,type:"boolean"}}}},{key:"listeners",get:function(){return{down:"_downHandler",focus:"_focusHandler",indexChange:"_indexChangeHandler",keydown:"_keyDownHandler",move:"_moveHandler",resize:"_resizeHandler",styleChanged:"_resizeHandler","document.up":"_upHandler"}}},{key:"styleUrls",get:function(){return["jqx.accordion.css"]}}]),t}(JQX.BaseElement));
//# sourceMappingURL=jqxaccordion.js.map
