"use strict";JQX.Utilities.Assign("Grid.Column",function(){function t(e){babelHelpers.classCallCheck(this,t);var o=this;"string"!=typeof e?Object.assign(o,e):(o.label=e,o.dataField=e),o.dataType||(o.dataType="string"),o.columnGroup||(o.columnGroup=""),o.canNotify=!0;var n="left";switch(o.dataType){case"string":case"date":n="left";break;case"number":n="right";break;case"boolean":n="center"}void 0===o.index&&(o.index=-1),void 0===o.visibleIndex&&(o.visibleIndex=-1),void 0===o.selected&&(o.selected=!1),o.label||(o.label=""),o.menuItems||(o.menuItems=null),o.icon||(o.icon="jqx-icon-user"),o.displayField||(o.displayField=o.dataField),o.template||(o.template=""),o.editor||(o.editor="input"),"string"==typeof o.editor?o.editor={template:o.editor,autoFocus:!0}:void 0===o.editor.autoFocus&&(o.editor.autoFocus=!0),o.menu=null,void 0===o.allowActionButtonAnimation&&(o.grid?o.allowActionButtonAnimation=o.grid.appearance.allowColumnActionButtonAnimation:o.allowActionButtonAnimation=!1),void 0===o.allowSortButtonAnimation&&(o.grid?o.allowSortButtonAnimation=o.grid.appearance.allowColumnSortButtonAnimation:o.allowSortButtonAnimation=!1),void 0===o.autoShowActionButton&&(o.grid?o.autoShowActionButton=o.grid.appearance.autoShowColumnActionButton:o.autoShowActionButton=!1),void 0===o.autoShowSortButton&&(o.grid?o.autoShowSortButton=o.grid.appearance.autoShowColumnSortButton:o.autoShowSortButton=!0),void 0===o.showSortButton&&(o.grid?o.showSortButton=o.grid.appearance.showColumnSortButton:o.showSortButton=!1),void 0===o.showIcon&&(o.grid?o.showIcon=o.grid.appearance.showColumnIcon:o.showIcon=!1),void 0===o.showDescriptionButton&&(o.grid?o.showDescriptionButton=o.grid.appearance.showColumnDescriptionButton:o.showDescriptionButton=!1),void 0===o.showCustomButton&&(o.grid?o.showCustomButton=o.grid.appearance.showColumnCustomButton:o.showCustomButton=!1),void 0===o.showActionButton&&(o.grid?o.showActionButton=o.grid.appearance.showColumnActionButton:o.showActionButton=!1),void 0===o.allowLabelAnimation&&(o.grid?o.allowLabelAnimation=o.grid.appearance.allowColumnLabelAnimation:o.allowLabelAnimation=!1),void 0===o.autoShowFilterButton&&(o.grid?o.autoShowFilterButton=o.grid.appearance.autoShowColumnFilterButton:o.autoShowFilterButton=!1),void 0===o.showFilterButton&&(o.grid?o.showFilterButton=o.grid.appearance.showColumnFilterButton:o.showFilterButton=!1),void 0===o.autoCloseMenu&&(o.grid?o.autoCloseMenu=o.grid.columnMenu.autoClose:o.autoCloseMenu=!0),o.formatFunction||(o.formatFunction=null),o.sortOrder||(o.sortOrder=null),o.sortIndex||(o.sortIndex=null),o.filter||(o.filter=null),o.filterMenuMode||(o.filterMenuMode="default"),o.align||(o.align=n),o.cellsAlign||(o.cellsAlign=n),o.minWidth||(o.minWidth=30),o.width||(o.width="auto"),o.grid&&o.grid.columnWidth&&(o.width=o.grid.columnWidth),void 0===o.visible&&(o.visible=!0),void 0===o.allowResize&&(o.allowResize=!0),void 0===o.allowReorder&&(o.allowReorder=!0),void 0===o.allowHide&&(o.allowHide=!0),void 0===o.allowSort&&(o.allowSort=!0),void 0===o.allowSelect&&(o.allowSelect=!0),void 0===o.allowSortToggleOnClick&&(o.allowSortToggleOnClick=!0),void 0===o.allowGroup&&(o.allowGroup=!0),void 0===o.allowFilter&&(o.allowFilter=!0),void 0===o.allowEdit&&(o.allowEdit=!0),void 0===o.allowExport&&(o.allowExport=!0),void 0===o.description&&(o.description=""),void 0===o.group&&(o.group=!1),o.summary||(o.summary=[]),o.selected=!1,o.sorted=!1,o.filtered=!1,o.parent=null,o.children=[]}return babelHelpers.createClass(t,[{key:"refresh",value:function(){var t=this;t.element&&t.element._refresh()}},{key:"render",value:function(){var t=this;t.element.column=t,t.element&&t.element._render()}},{key:"setProperty",value:function(t,e){var o=this,n=o.getProperty(t);n!==e&&(o.canNotify=!1,o[t]=e,o.propertyChanged(t,n,e),o.canNotify=!0)}},{key:"getProperty",value:function(t){var e=this;if("selected"===t){var o=!1;return e.grid._selection.cells["column"+e.dataField]&&(o=null),e.grid&&e.grid._selection.columns[e.dataField]&&(o=!0),e.grid.columns.canNotify=!1,e[t]=o,e.grid.columns.canNotify=!0,o}return"group"===t?!(!e.dataSource||!e.dataSource.groupBy)&&e.dataSource.groupBy.indexOf(e.dataField)>=0:e[t]}},{key:"propertyChanged",value:function(t,e,o){var n=this;if("allowSort"===t||"allowFilter"===t)return void n.refresh();if("showIcon"===t)return void n.refresh();if("visible"===t)return void n.grid.refresh(n.grid.grouping.enabled);if("showCustomButton"===t&&(o?n.element._showCustomButton():n.element._hideCustomButton()),"showDescriptionButton"===t&&(o?n.element._showDescriptionButton():n.element._hideDescriptionButton()),"filter"===t&&(n.filter?(n.grid.addFilter(n.dataField,n.filter),n.filtered=!0):(n.grid.removeFilter(n.dataField),n.filtered=!1),(n.autoShowFilterButton||n.showFilterButton)&&(o?n.element._showFilterButton():n.element._hideFilterButton())),"sortIndex"===t)return void("many"===n.grid.sorting.mode&&n.grid.context===document&&n.grid.sortBy(n.dataField,n.sortOrder));if("selected"===t&&(n.selectionColumn&&n.refresh(),o?n.grid._selection.columns[n.dataField]||(n.grid._selection.columns[n.dataField]=!0):!1===o&&n.grid._selection.columns[n.dataField]&&delete n.grid._selection.columns[n.dataField],n.grid._recycle(!1)),"sortOrder"===t)return n.sorted=!1,null===o?n.element._hideSortButton():(n.element._showSortButton(),n.sorted=!0),void(n.grid.context===document&&n.grid.sortBy(n.dataField,n.sortOrder));if("group"===t)return void(n.grid.context===document&&(o?n.grid.addGroup(n.dataField):n.grid.removeGroup(n.dataField)));if("showActionButton"===t&&(n.element.allowAnimations=!1,o?n.element._showActionButton():n.element._hideActionButton(),n.element.allowAnimations=!0),"autoShowActionButton"===t&&(n.element.allowAnimations=!1,o?n.element._hideActionButton():n.element._showActionButton(),n.element.allowAnimations=!0),"showFilterButton"===t&&(n.element.allowAnimations=!1,void 0===n._autoShowFilterButton&&(n._autoShowFilterButton=n.autoShowFilterButton),o?(n.autoShowFilterButton=!1,n.element._showFilterButton()):(n.element._hideFilterButton(),n.autoShowFilterButton=n._autoShowFilterButton),n.element.allowAnimations=!0),"showSortButton"===t&&(n.element.allowAnimations=!1,void 0===n._autoShowSortButton&&(n._autoShowSortButton=n.autoShowSortButton),o?(n.autoShowSortButton=!1,n.element._showSortButton()):(n.element._hideSortButton(),n.autoShowSortButton=n._autoShowSortButton),n.element.allowAnimations=!0),"autoShowSortButton"===t&&(n.element.allowAnimations=!1,n._autoShowSortButton=n.autoShowSortButton,o?n.element._hideSortButton():n.element._showSortButton(),n.element.allowAnimations=!0),"menu"===t&&(o?n.element.setAttribute("aria-controls",n.menu.id):(n.element.removeAttribute("aria-controls"),n.autoShowActionButton&&n.element._hideActionButton())),"label"!==t&&"width"!==t&&"minWidth"!==t||n.grid.refresh(),"freeze"===t){if(o)n.element.setAttribute("freeze",""),n.freeze&&(!0===n.freeze||"near"===n.freeze?n.grid._frozenNearColumns.push(n):n.grid._frozenFarColumns.push(n));else if(!0===n.freeze||"near"===n.freeze){n.element.removeAttribute("freeze");var i=n.grid._frozenNearColumns.indexOf(n);i>=0&&n.grid._frozenNearColumns.splice(i,0,0)}else if("far"===n.freeze){var l=n.grid._frozenFarColumns.indexOf(n);l>=0&&n.grid._frozenFarColumns.splice(l,0,0)}n.grid._createColumnHeaderCellElements(),n.grid.refresh()}}},{key:"createElement",value:function(){var t=this,e=document.createElement("jqx-grid-column");return e._initialize(t),t.element=e,t.grid.notify(function(e,o,n){switch(e){case"appearance_allowColumnLabelAnimation":t.setProperty("allowLabelAnimation",n);break;case"appearance_allowColumnSortAnimation":t.setProperty("allowSortAnimation",n);break;case"appearance_allowColumnSortButtonAnimation":t.setProperty("allowSortButtonAnimation",n);break;case"appearance_allowColumnActionButtonAnimation":t.setProperty("allowActionButtonAnimation",n);break;case"appearance_allowColumnFilterButtonAnimation":t.setProperty("allowFilterButtonAnimation",n);break;case"appearance_autoShowColumnActionButton":t.setProperty("autoShowActionButton",n);break;case"appearance_autoShowColumnSortButton":t.setProperty("autoShowSortButton",n);break;case"appearance_autoShowColumnFilterButton":t.setProperty("autoShowFilterButton",n);break;case"appearance_showColumnActionButton":t.setProperty("showActionButton",n);break;case"appearance_showColumnFilterButton":t.setProperty("showFilterButton",n);break;case"appearance_showColumnCustomButton":t.setProperty("showCustomButton",n);break;case"appearance_showColumnDescriptionButton":t.setProperty("showDescriptionButton",n);break;case"appearance_showColumnSortButton":t.setProperty("showSortButton",n);break;case"appearance_showFrozenColumnBackground":case"appearance_showSortColumnBackground":case"appearance_showFilterColumnBackground":t.grid._recycle(!1)}}),e}},{key:"properties",get:function(){return["allowExport","allowGroup","allowSelect","verticalAlign","columnGroup","cellsVerticalAlign","autoCloseMenu","autoShowActionButton","autoShowSortButton","autoShowFilterButton","allowLabelAnimation","allowActionButtonAnimation","allowSortButtonAnimation","allowHide","allowEdit","allowFilter","allowSort","allowSortToggleOnClick","allowResize","allowReorder","canNotify","description","grid","icon","menuItems","menu","summary","cellsFormat","formatFunction","index","sortIndex","sortOrder","sorted","groups","element","level","group","filtered","filter","filterMenuMode","dataField","displayField","label","dataType","align","cellsAlign","minWidth","width","visible","freeze","showActionButton","selected","showIcon","showDescriptionButton","adaptiveVisible","treeColumn","computedWidth","computedHeight","overflowWidth","parent","children","onAction","left","top","showCustomButton","showFilterButton","showSortButton","editor","template","visibleIndex"]}}]),t}()),JQX("jqx-grid-column",function(t){function e(){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return babelHelpers.inherits(e,t),babelHelpers.createClass(e,[{key:"_showSortButton",value:function(t){var e=this;e.column&&(e.column.autoGenerated||(e.sortButton.classList.remove("asc"),e.sortButton.classList.remove("desc"),e.column.autoShowSortButton||e.column.allowSort&&e.sortButton.classList.add("jqx-icon-sort","jqx-grid-icon"),"asc"===e.column.sortOrder?e.sortButton.classList.add("asc"):"desc"===e.column.sortOrder&&e.sortButton.classList.add("desc"),e.column.showSortButton&&(e.sortButton.classList.add("show"),!1!==t&&e._refresh())))}},{key:"_hideSortButton",value:function(t){var e=this;e.column&&(e.sortButton.classList.remove("asc"),e.sortButton.classList.remove("desc"),e.column.showSortButton&&!e.column.autoShowSortButton||(e.sortButton.classList.remove("show"),e.sortButton.classList.remove("jqx-icon-sort"),!1!==t&&e._refresh()))}},{key:"_showFilterButton",value:function(){var t=this;t.column&&!t.column.autoGenerated&&(t.filterButton.classList.add("show"),t._refresh())}},{key:"_hideFilterButton",value:function(){var t=this;t.column&&(t.filterButton.classList.remove("show"),t._refresh())}},{key:"_showDescriptionButton",value:function(){var t=this;t.column&&!t.column.autoGenerated&&(t.descriptionButton.setAttribute("title",t.column.description),t.descriptionButton.classList.add("show"),t._refresh())}},{key:"_hideDescriptionButton",value:function(){var t=this;t.column&&(t.descriptionButton.classList.remove("show"),t._refresh())}},{key:"_showIcon",value:function(){var t=this;t.column&&!t.column.autoGenerated&&(t.icon.classList.add("show"),t._refresh())}},{key:"_hideIcon",value:function(){var t=this;t.icon.classList.remove("show"),t._refresh()}},{key:"_showCustomButton",value:function(){var t=this;t.column&&!t.column.autoGenerated&&(t.customButton.classList.add("show"),t._refresh())}},{key:"_hideCustomButton",value:function(){var t=this;t.column&&(t.customButton.classList.remove("show"),t._refresh())}},{key:"_showActionButton",value:function(){var t=this;t.column&&t.column.showActionButton&&t.column.grid.hasColumnMenu(t.column)&&t.actionButton&&(t.actionButton.classList.add("show"),t._refresh())}},{key:"_hideActionButton",value:function(){var t=this;t.column&&t.column.showActionButton&&t.actionButton&&!t.hasAttribute("aria-controls")&&(t.actionButton.classList.remove("show"),t._refresh())}},{key:"_rotate",value:function(){var t=this,e=document.createElement("span");return t.label.innerHTML="",e.innerHTML=t.column.label,t.label.appendChild(e),e.className="rotate",e.style.transform="rotate("+t.column.rotationAngle+"deg)",t.column.grid._recycleRotate(t.label,e,t.column.align,t.column.verticalAlign,t.column.label)}},{key:"_align",value:function(){var t=this;switch(t.column.align){case"left":t.label.classList.add("align-left");break;case"center":t.label.classList.add("align-center");break;case"right":t.label.classList.add("align-right")}switch(t.column.verticalAlign){case"top":t.label.classList.add("align-top");break;case"middle":t.label.classList.add("align-middle");break;case"bottom":t.label.classList.add("align-bottom")}}},{key:"_refresh",value:function(){var t=this;if(t.sortButton.classList.remove("filter"),t.sortButton.classList.remove("action"),t.label.className="jqx-label","_checkBoxColumn"===t.column.dataField){var e=t.column.grid,o=e.getVisibleRows();e.paging.enabled&&"page"===e.selection.checkBoxes.selectAllMode&&(o=o.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize));var n=e.paging.enabled&&"page"===e.selection.checkBoxes.selectAllMode?e._getSelectedRows(!0,!0):e._getSelectedRows(!0,!1);return e.selection.checkBoxes.autoShow?t.setAttribute("auto-show",""):t.removeAttribute("auto-show"),n.length===o.length?t.setAttribute("selected",""):n.length>0&&n.length<o.length?t.setAttribute("selected","indeterminate"):0!==n.length&&0!==o.length||t.removeAttribute("selected"),t.removeAttribute("checkbox"),t.label.classList.remove("jqx-input"),void("none"!==e.selection.checkBoxes.selectAllMode&&(t.setAttribute("checkbox",""),t.label.classList.add("jqx-input")))}if("_commandColumn"===t.column.dataField){var i=t.column.grid,l="icon"!==i.editing.commandColumn.displayMode,a="label"!==i.editing.commandColumn.displayMode,r=i.editing.commandColumn.dataSource.commandColumnMenu,s='<div class="jqx-grid-command-item">',u="{{messages}}"===r.label?i.localize("commandColumnMenu"):r.label,c=r.icon;a&&l?(s+='<span class="jqx-grid-icon '+c+'"></span>',s+='<span class="jqx-grid-label">'+u+"</span>"):a&&!l?s+='<span class="jqx-grid-icon '+c+'"></span>':l&&!a&&(s+='<span class="jqx-grid-label">'+u+"</span>"),s+="</div>",r.visible&&(t.label.innerHTML=s)}var d=t.column.getProperty("selected");!1===d&&t.hasAttribute("selected")?t.removeAttribute("selected"):!0===d?t.setAttribute("selected",""):null===d&&t.setAttribute("selected","indeterminate"),t.column.allowSortButtonAnimation?t.sortButton.classList.add("jqx-animate"):t.sortButton.classList.remove("jqx-animate"),t.column.sorted?t._showSortButton(!1):t._hideSortButton(!1),t.column.allowFilterButtonAnimation?t.filterButton.classList.add("jqx-animate"):t.filterButton.classList.remove("jqx-animate"),t.column.allowActionButtonAnimation&&!1!==t.allowAnimations?t.buttonsGroup.classList.add("jqx-animate"):t.buttonsGroup.classList.remove("jqx-animate"),t.column.allowLabelAnimation&&!1!==t.allowAnimations?t.label.classList.add("jqx-animate"):t.label.classList.remove("jqx-animate"),t.buttonsGroup.classList.remove("action"),t.actionButton.classList.contains("show")&&t.buttonsGroup.classList.add("action"),t.column.showIcon?t.icon.classList.add("show"):t.icon.classList.remove("show"),t.icon.classList.contains("show")&&t.icon.classList.add(t.column.icon);for(var m=t.column.showIcon?1:0,h=0;h<t.buttonsGroup.children.length;h++)t.buttonsGroup.children[h].classList.contains("show")&&m++;switch(m){case 1:t.label.classList.add("one");break;case 2:t.label.classList.add("two");break;case 3:t.label.classList.add("three");break;case 4:t.label.classList.add("four");break;case 5:t.label.classList.add("five");break;case 6:t.label.classList.add("six")}if(t.classList.remove("jqx-visibility-hidden"),!t.column.adaptiveVisible&&t.column.visible||t.classList.add("jqx-visibility-hidden"),t.column.grid._columnGap>0?t.classList.add("jqx-grid-column-border"):t.classList.remove("jqx-grid-column-border"),t.column.grid.appearance.showColumnHeaderLines?t.classList.remove("jqx-grid-vertical-border-collapse"):t.classList.add("jqx-grid-vertical-border-collapse"),t.column.rotationAngle){if(!t._rotate())return}t._align()}},{key:"_render",value:function(){var t=this,e=t.column.dataField?t.column.dataField:"",o=t.column===t.column.grid._lastVisibleColumn;t.label.firstChild?t.label.firstChild.textContent!==t.column.label&&(t.label.firstChild.textContent=t.column.label):t.label.innerHTML="<span>"+t.column.label+"</span>",t._refresh(),t.column.autoGenerated||o?t.style.width=t.column.computedWidth+"px":t.style.width=t.column.computedWidth-t.column.grid._columnGap+"px",t.style.height!==t.column.computedHeight+"px"&&(t.style.height=t.column.computedHeight+"px"),t.style.lineHeight!==t.column.computedHeight+"px"&&(t.style.lineHeight=t.column.computedHeight+"px"),t.style.left!==t.column.left+"px"&&(t.style.left=t.column.left+"px"),t.style.top!==t.column.top+"px"&&(t.style.top=t.column.top+"px"),t.getAttribute("data-field")!==e&&t.setAttribute("data-field",e),t.setAttribute("header",""),t.column.freeze&&t.setAttribute("freeze",""),t.column.level>0&&(t.style.top=t.column.top+"px")}},{key:"addThemeClass",value:function(){}},{key:"addDefaultClass",value:function(){}},{key:"_initialize",value:function(t){var e=this,o=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div");e.column=t,e.classList.add("jqx-visibility-hidden"),s.classList.add("jqx-icon","jqx-grid-icon"),o.classList.add("jqx-label"),n.classList.add("jqx-sort-button","jqx-grid-icon"),i.classList.add("jqx-filter-button","jqx-icon-filter","jqx-grid-icon"),l.classList.add("jqx-action-button","jqx-grid-icon"),l.setAttribute("aria-haspopup",""),a.classList.add("jqx-description-button","jqx-icon-info-circled","jqx-grid-icon"),r.classList.add("jqx-custom-button",t.customButtonIcon?t.customButtonIcon:"jqx-icon-tools","jqx-grid-icon"),u.classList.add("jqx-buttons-group"),l.innerHTML="<div></div>",e.style.width=e.column.computedWidth+"px",e.appendChild(s),e.appendChild(o),e.appendChild(u),u.appendChild(n),u.appendChild(i),u.appendChild(a),u.appendChild(r),u.appendChild(l),e.icon=s,e.label=o,e.sortButton=n,e.filterButton=i,e.actionButton=l,e.descriptionButton=a,e.customButton=r,e.buttonsGroup=u;var c=window.PointerEvent?"pointerdown":"mousedown",d=window.PointerEvent?"pointerup":"mouseup";e.filterButton.addEventListener(c,function(t){t.preventDefault(),t.stopPropagation(),e.column.onAction&&e.column.onAction(t)}.bind(e)),e.filterButton.addEventListener(d,function(t){t.preventDefault(),t.stopPropagation()}),e.actionButton.addEventListener(d,function(t){t.preventDefault(),t.stopPropagation()}),e.actionButton.addEventListener(c,function(t){t.preventDefault(),t.stopPropagation(),e.column.onAction&&e.column.onAction(t)}.bind(e)),!e.column.autoShowActionButton&&e.column.showActionButton&&e._showActionButton(),!e.column.autoShowSortButton&&e.column.showSortButton&&e._showSortButton(),!e.column.autoShowFilterButton&&e.column.showFilterButton&&e._showFilterButton(),e.column.showDescriptionButton&&e._showDescriptionButton(),e.column.showCustomButton&&e._showCustomButton(),e.column.showIcon&&e._showIcon(),"_rowHeaderColumn"===e.column.dataField&&e.classList.add("top-near-corner"),e.customButton.onclick=function(t){e.column.onCustomButtonClick&&e.column.onCustomButtonClick(t)}.bind(e)}},{key:"template",value:function(){return""}},{key:"hasStyleObserver",get:function(){return!1}},{key:"enableShadowDOM",get:function(){return!1}},{key:"isUtilityElement",get:function(){return!0}}]),e}(JQX.BaseElement));
//# sourceMappingURL=jqxgrid.column.js.map
