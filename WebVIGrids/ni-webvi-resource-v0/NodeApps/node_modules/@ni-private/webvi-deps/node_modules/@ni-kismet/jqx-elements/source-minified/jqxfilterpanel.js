"use strict";JQX("jqx-filter-panel",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                <div id="label" class="jqx-filter-panel-label"></div>\n                <div id="mainContainer"></div>\n                <div id="buttonContainer" class="jqx-filter-panel-button-container">\n                    <jqx-button id="filterButton" class="primary" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                    <jqx-button id="clearButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                    <jqx-button id="cancelButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                </div>\n            </div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this,l=e.filterType;e._localize(),e._setButtonsVisibility(),e._filterType=l+"Filter",e._filterHandler=new(JQX.Utilities[l.slice(0,1).toUpperCase()+l.slice(1)+"FilterHandler"])(e)}},{key:"cancel",value:function(){var e=this;e._filterHandler[e.mode+"Cancel"](),e.$.fireEvent("cancel")}},{key:"clear",value:function(){var e=this;e._filterHandler[e.mode+"Clear"](),e.$.fireEvent("clear")}},{key:"reset",value:function(){var e=this;e.$.clearButton.removeAttribute("hover"),e.$.filterButton.removeAttribute("hover"),e.$.cancelButton.removeAttribute("hover"),e._filterHandler[e.mode+"Clear"](),e._filterHandler.filterObject=new JQX.Utilities.FilterGroup}},{key:"getFilter",value:function(){if(this._filterHandler){var e=new JQX.Utilities.FilterGroup;for(var t in this._filterHandler.filterObject)e[t]=this._filterHandler.filterObject[t];return e}return null}},{key:"evaluate",value:function(e){try{return this._filterHandler.evaluate(e)}catch(e){return!1}}},{key:"filter",value:function(){var e=this;e._filterHandler[e.mode+"Filter"](),e.$.fireEvent("filter")}},{key:"getState",value:function(){return this._filterHandler.cachedFilter}},{key:"loadState",value:function(e){try{var t=this;t._filterHandler.cachedFilter=e,t._filterHandler[t.mode+"Cancel"]()}catch(e){}}},{key:"propertyChangedHandler",value:function(e,l,a){function i(){var e=["cachedFilter","caseSensitive","customExcelFilterObjects","customItems","dataSource","defaultListSelection","defaultListSource","displayMode","filterBuilder","filterBuilderObject","filterBuilderOperations","filterObject","firstInput","firstList","operationsMapping","operatorList","secondInput","secondList","timeOnly","tree"];e.forEach(function(t){delete s[e[t]]}),delete n._filterHandler}function r(){n.$.mainContainer.innerHTML="",i(),n._filterHandler=new(JQX.Utilities[n.filterType.slice(0,1).toUpperCase()+n.filterType.slice(1)+"FilterHandler"])(n)}babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,l,a);var n=this,s=n._filterHandler;switch(e){case"animation":case"disabled":case"unfocusable":switch(n.mode){case"default":[s.firstList,s.firstInput,s.logicalOperatorList,s.secondList,s.secondInput].forEach(function(t){t[e]=a});break;case"excel":s.tree[e]=a;break;case"filterBuilder":s.filterBuilder[e]=a,s.caseSensitive&&(s.caseSensitive[e]=a)}break;case"buttons":n._setButtonsVisibility();break;case"data":case"dataField":"excel"!==n.mode||Array.isArray(n.dataSource)||r();break;case"dataSource":"excel"===n.mode&&r();break;case"filterType":n._filterType=a+"Filter",r();break;case"mode":r();break;case"formatString":if("date"!==n.filterType)return;switch(n.mode){case"default":s.firstInput.formatString=a,s.secondInput.formatString=a;break;case"excel":r();break;case"filterBuilder":s.filterBuilder.formatStringDate=a,s.filterBuilder.formatStringDateTime=a}break;case"locale":case"messages":switch(n._localize(),n.mode){case"default":var o=s.firstList.selectedIndexes,c=s.logicalOperatorList.selectedIndexes,u=s.secondList.selectedIndexes;if(s.setDefaults(),s.firstList.dataSource=s.defaultListSource,s.logicalOperatorList.dataSource=[{value:0,label:n.localize("and")},{value:1,label:n.localize("or")}],s.secondList.dataSource=s.defaultListSource,"date"===n.filterType){[s.firstInput,s.secondInput].forEach(function(t){t.messages[n.locale]||(t.messages[n.locale]={}),t.messages[n.locale].dateTabLabel=n.localize("dateTabLabel"),t.messages[n.locale].timeTabLabel=n.localize("timeTabLabel"),"locale"===e?t.locale=n.locale:(t.$.selectDate.innerHTML=t.messages[n.locale].dateTabLabel,t.$.selectTime.innerHTML=t.messages[n.locale].timeTabLabel),"timePicker"===t._dropDownDisplayMode?(t.placeholder=n.localize("placeholderTime"),t.placeholder=n.localize("placeholderTime")):(t.placeholder=n.localize("placeholderDate"),t.placeholder=n.localize("placeholderDate"))})}s.firstList.selectedIndexes=o,s.logicalOperatorList.selectedIndexes=c,s.secondList.selectedIndexes=u;break;case"excel":s.tree.selectAll.label=n.localize("selectAll"),s.tree.blanks&&(s.tree.blanks.label=n.localize("blanks"));break;case"filterBuilder":s.localizeFilterBuilder(),"messages"===e&&(s.filterBuilder._localizeInitialValues(),s.filterBuilder._refresh()),s.filterBuilder.$.scrollableContainer.refresh()}}}},{key:"_localize",value:function(){var e=this;e.$.label.innerHTML=e.localize("showRows"),e.$.filterButton.innerHTML=e.localize("filter"),e.$.clearButton.innerHTML=e.localize("clear"),e.$.cancelButton.innerHTML=e.localize("cancel")}},{key:"_setButtonsVisibility",value:function(){var e=this,t=e.buttons;["cancel","clear","filter"].forEach(function(l){-1!==t.indexOf(l)?e["$"+l+"Button"].removeClass("jqx-hidden"):e["$"+l+"Button"].addClass("jqx-hidden")})}}],[{key:"properties",get:function(){return{buttons:{value:["clear","filter"],type:"array"},data:{value:null,type:"array?",reflectToAttribute:!1},dataField:{value:null,type:"string?"},dataSource:{value:null,type:"any",reflectToAttribute:!1},evaluateFilterExpression:{value:null,type:"function?",reflectToAttribute:!1},filterType:{value:"string",allowedValues:["numeric","string","date","boolean"],type:"string"},formatString:{value:"d",type:"string"},messages:{value:{en:{addCondition:"Add Condition",addGroup:"Add Group",and:"and",blanks:"(Blanks)",cancel:"Cancel",clear:"Clear",contains:"contains",containsCaseSensitive:"contains (case sensitive)",dateTabLabel:"DATE",doesNotContain:"does not contain",doesNotContainCaseSensitive:"does not contain (case sensitive)",empty:"empty",endsWith:"ends with",endsWithCaseSensitive:"ends with (case sensitive)",equal:"equal",equalCaseSensitive:"equal (case sensitive)",filter:"Filter",filterBuilderPlaceholder:"&lt;enter a value&gt;",greaterThan:"greater than",greaterThanOrEqual:"greater than or equal",lessThan:"less than",lessThanOrEqual:"less than or equal",mismatchedProperties:'jqxFilterPanel: The "filterType" and the data type of the selected "dataField" are mismatched.',missingProperty:'jqxFilterPanel: When mode is \'excel\', either "data" and "dataField" or "dataSource" of type Array have to be set.',notEmpty:"not empty",notEqual:"not equal",notNull:"not null",null:"null ",or:"or",placeholderDate:"Enter date",placeholderTime:"Enter time",selectAll:"(Select All)",showRows:"Show rows where:",startsWith:"starts with",startsWithCaseSensitive:"starts with (case sensitive)",timeTabLabel:"TIME"}},type:"object",extend:!0},mode:{value:"default",allowedValues:["default","excel","filterBuilder"],type:"string"}}}},{key:"listeners",get:function(){return{"cancelButton.click":"cancel","clearButton.click":"clear","filterButton.click":"filter"}}},{key:"requires",get:function(){return{"JQX.Button":"jqxbutton.js","JQX.DateTimePicker":"jqxdatetimepicker.js","JQX.DropDownList":"jqxdropdownlist.js","JQX.FilterBuilder":"jqxfilterbuilder.js","JQX.NumericTextBox":"jqxnumerictextbox.js","JQX.Tree":"jqxtree.js","JQX.FilterGroup":"jqxfilter.js"}}}]),t}(JQX.BaseElement)),JQX.Utilities.Assign("BaseFilterHandler",function(){function e(t){babelHelpers.classCallCheck(this,e);var l=this;if(l.context=t,l.filterObject=new JQX.Utilities.FilterGroup,l.setDefaults(),"date"===t.filterType){var a=new JQX.Utilities.DateTime,i=t.formatString,r=a.getParseRegExp(a.calendar,i.replace(/y+/g,"yyyyy"));l.displayMode=JQX.Utilities.DateTime.detectDisplayMode(a,i,r),l.timeOnly="timePicker"===l.displayMode}if("default"===t.mode)return void l.createDefaultHTMLStructure();l.operationsMapping={"=":"EQUAL","<>":"NOT_EQUAL","<":"LESS_THAN",">":"GREATER_THAN","<=":"LESS_THAN_OR_EQUAL",">=":"GREATER_THAN_OR_EQUAL",isblank:"EMPTY",isnotblank:"NOT_EMPTY",contains:"CONTAINS",notcontains:"DOES_NOT_CONTAIN",startswith:"STARTS_WITH",endswith:"ENDS_WITH",NULL:"NULL",NOT_NULL:"NOT_NULL"},"excel"===t.mode?l.createExcelHTMLStructure():"filterBuilder"===t.mode&&l.createBuilderHTMLStructure()}return babelHelpers.createClass(e,[{key:"setDefaults",value:function(){var e=this,t=e.context;e.defaultListSource=[{value:"EQUAL",label:t.localize("equal")},{value:"NOT_EQUAL",label:t.localize("notEqual")},{value:"LESS_THAN",label:t.localize("lessThan")},{value:"LESS_THAN_OR_EQUAL",label:t.localize("lessThanOrEqual")},{value:"GREATER_THAN",label:t.localize("greaterThan")},{value:"GREATER_THAN_OR_EQUAL",label:t.localize("greaterThanOrEqual")},{value:"NULL",label:t.localize("null")},{value:"NOT_NULL",label:t.localize("notNull")}],e.filterBuilderOperations=["<","=","<>","<=",">",">=","NULL","NOT_NULL"],e.defaultListSelection=2}},{key:"createDefaultHTMLStructure",value:function(){var e=this,t=e.context,l=document.createElement("jqx-drop-down-list"),a=document.createElement("jqx-drop-down-list"),i=document.createElement("jqx-drop-down-list"),r=document.createDocumentFragment();l.classList.add("jqx-filter-panel-list"),l.dataSource=e.defaultListSource,l.selectedIndexes=[e.defaultListSelection],a.classList.add("jqx-filter-panel-operator-list"),a.dataSource=[{value:0,label:t.localize("and")},{value:1,label:t.localize("or")}],i.classList.add("jqx-filter-panel-list"),i.dataSource=e.defaultListSource,i.selectedIndexes=[e.defaultListSelection],e.firstList=l,e.logicalOperatorList=a,e.secondList=i,e.appendInputs(),e.firstInput.classList.add("jqx-filter-panel-input"),e.secondInput.classList.add("jqx-filter-panel-input"),a.dropDownHeight="auto",a.selectedIndexes=[0],[l,e.firstInput,a,i,e.secondInput].forEach(function(e){e.animation=t.animation,e.disabled=t.disabled,e.unfocusable=t.unfocusable,e.dropDownPosition="bottom",e.dropDownAppendTo="body",e.dropDownMaxHeight=200,e.dropDownWidth="auto",r.appendChild(e)}),e.context.$.mainContainer.appendChild(r),e.cacheFilter(e.defaultListSelection,0,e.defaultListSelection)}},{key:"cacheFilter",value:function(e,t,l){var a=this;a.cachedFilter={firstFilterComparison:e,firstFilterValue:a.firstInput.value,logicalOperator:t,secondFilterComparison:l,secondFilterValue:a.secondInput.value}}},{key:"defaultFilter",value:function(){var e=this,t=e.context,l=e.firstList.selectedValues[0],a=e.getFilterInputValue(e.firstInput),i=parseFloat(e.logicalOperatorList.selectedValues[0]),r=e.secondList.selectedValues[0],n=e.getFilterInputValue(e.secondInput),s=e.filterObject;if(s.clear(),""!==a||-1!==["NULL","NOT_NULL","EMPTY","NOT_EMPTY"].indexOf(l)){var o=s.createFilter(t._filterType,a,l,void 0,t.formatString,t.locale,"timePicker"===e.firstInput._dropDownDisplayMode);s.addFilter(i,o)}if(""!==n||-1!==["NULL","NOT_NULL","EMPTY","NOT_EMPTY"].indexOf(r)){var c=s.createFilter(t._filterType,n,r,void 0,t.formatString,t.locale,"timePicker"===e.secondInput._dropDownDisplayMode);s.addFilter(i,c)}e.cacheFilter(e.firstList.selectedIndexes[0],e.logicalOperatorList.selectedIndexes[0],e.secondList.selectedIndexes[0])}},{key:"getFilterInputValue",value:function(e){return e.value}},{key:"excelFilter",value:function(){var e=this,t=e.context;if(Array.isArray(t.dataSource))return void e.customExcelFilter();var l=e.tree,a=e.filterObject;if(a.clear(),e.customItems=[],!l._menuItems[0].selected){var i=l.selectedIndexes;i.forEach(function(i){var r=l._menuItems[i];if(r instanceof JQX.TreeItem){var n=r.value;if(r.hasAttribute("default-item")){var s=e.getExcelComparison(n),o=a.createFilter(t._filterType,n,s,void 0,t.formatString,t.locale,e.timeOnly);a.addFilter("or",o)}else e.customItems.push(r)}}),e.cachedFilter=i.slice(0)}}},{key:"customExcelFilter",value:function(){var e=this,t=e.tree;if(delete e.customExcelFilterObjects,!t._menuItems[0].selected){var l=e.context,a=[],i=t.selectedIndexes;i.forEach(function(i){var r=t._menuItems[i];if(r instanceof JQX.TreeItem){var n=r.value;if(!Array.isArray(n))return;Array.isArray(n[0])||(n=[n]);for(var s=new JQX.Utilities.FilterGroup,o=0;o<n.length;o++){var c=n[o],u=e.operationsMapping[c[1]],d=s.createFilter(l._filterType,c[2],u,void 0,l.formatString,l.locale,e.timeOnly);s.addFilter("and",d)}a.push(s)}}),e.customExcelFilterObjects=a,e.cachedFilter=i.slice(0)}}},{key:"getExcelComparison",value:function(e){return""===e?"NULL":"EQUAL"}},{key:"filterBuilderFilter",value:function(){function e(l,i){var r=new JQX.Utilities.FilterGroup,n=l[1];i.logicalOperator=n;for(var s=0;s<l.length;s++)if(1!==s){var o=l[s];if(Array.isArray(o))if(Array.isArray(o[0])){var c={filters:[]};i.filters.push(c),e(o,c)}else r.addFilter(n,t.createFilterBuilderFilter(r,o,a))}r.filters.length>0&&i.filters.push(r)}var t=this,l=t.filterBuilder.value,a="string"===t.context.filterType&&t.caseSensitive.checked,i={filters:[]};e(l,i),t.filterBuilderObject=i,t.cachedFilter={filterBuilder:JSON.parse(JSON.stringify(t.filterBuilder.value),function(e,t){return/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/.test(t)?new Date(t):t}),caseSensitive:a}}},{key:"createFilterBuilderFilter",value:function(e,t,l){var a=this,i=a.context,r=a.operationsMapping[t[1]];return l&&-1!==["CONTAINS","DOES_NOT_CONTAIN","STARTS_WITH","ENDS_WITH","EQUAL"].indexOf(r)&&(r+="_CASE_SENSITIVE"),e.createFilter(i._filterType,t[2],r,void 0,i.formatString,i.locale,!1)}},{key:"defaultClear",value:function(){var e=this;e.firstList.selectedIndexes=[e.defaultListSelection],e.firstInput.value="",e.logicalOperatorList.selectedIndexes=[0],e.secondList.selectedIndexes=[e.defaultListSelection],e.secondInput.value="",e.filterObject.clear(),e.cacheFilter(e.defaultListSelection,0,e.defaultListSelection)}},{key:"excelClear",value:function(){var e=this;e.tree.select("0"),e.filterObject.clear(),e.cachedFilter=e.tree.selectedIndexes.slice(0)}},{key:"filterBuilderClear",value:function(){var e=this;e.filterBuilder.value=["and"],"string"===e.context.filterType&&(e.caseSensitive.checked=!1),e.cachedFilter={filterBuilder:["and"],caseSensitive:!1}}},{key:"defaultCancel",value:function(){var e=this;e.firstList.selectedIndexes=[e.cachedFilter.firstFilterComparison],e.firstInput.value=e.cachedFilter.firstFilterValue,e.logicalOperatorList.selectedIndexes=[e.cachedFilter.logicalOperator],e.secondList.selectedIndexes=[e.cachedFilter.secondFilterComparison],e.secondInput.value=e.cachedFilter.secondFilterValue}},{key:"excelCancel",value:function(){var e=this;e.tree.selectedIndexes=e.cachedFilter.slice(0)}},{key:"filterBuilderCancel",value:function(){var e=this;e.filterBuilder.value=e.cachedFilter.filterBuilder,"string"===e.context.filterType&&(e.caseSensitive.checked=e.cachedFilter.caseSensitive)}},{key:"createExcelHTMLStructure",value:function(){var e=this,t=e.context,l=document.createElement("jqx-tree"),a={data:t.data,dataField:t.dataField,filterType:t._filterType};if(t.dataSource&&Array.isArray(t.dataSource))e.processCustomDataSource(l);else{if(t.data&&t.dataField||t.error(t.localize("missingProperty")),"date"===t.filterType){a.formatString=t.formatString,a.displayMode=e.displayMode,e.dataSource=e.filterObject.getUniqueValues(a,t);try{e.getHierarchicalDataSource(e.displayMode)}catch(e){t.error(t.localize("mismatchedProperties"))}e.timeOnly?l.classList.add("standard-excel"):l.classList.add("date-excel")}else e.dataSource=e.filterObject.getUniqueValues(a,t),l.classList.add("standard-excel");"function"==typeof t.dataSource&&(e.dataSource=t.dataSource(e.dataSource)||e.dataSource)}l.animation=t.animation,l.disabled=t.disabled,l.unfocusable=t.unfocusable,l.dataSource=[{label:t.localize("selectAll"),value:"",items:e.dataSource,expanded:!0,selected:!0}],l.selectionMode="checkBox",l.hasThreeStates=!0,l.toggleMode="arrow",l.addEventListener("collapsing",function(e){1===e.detail.item.level&&e.preventDefault()}),l._onCompleted=function(){if(e.cachedFilter=l.selectedIndexes.slice(0),l.classList.contains("date-excel")){for(var a in l._menuItems)if("0"!==a){var i=l._menuItems[a];i.firstElementChild.style.paddingLeft=20*(i.level-1)-10+"px"}}else l._menuItems[0].firstElementChild.style.paddingLeft=0;l.selectAll=l._menuItems[0],l.blanks=l.querySelector('[label="'+t.localize("blanks")+'"]')},e.tree=l,t.$.mainContainer.appendChild(l)}},{key:"processCustomDataSource",value:function(e){var t=this,l=t.context,a=l.dataSource;e.classList.add("standard-excel"),t.dataSource=a}},{key:"createBuilderHTMLStructure",value:function(){var e=this,t=e.context,l=document.createElement("jqx-filter-builder"),a=t.dataField,i="numeric"===t.filterType?"number":t.filterType;if(e.filterBuilder=l,l.animation=t.animation,l.disabled=t.disabled,l.unfocusable=t.unfocusable,l.value=["and"],l.fields=[{label:a,dataField:a,dataType:i,filterOperations:e.filterBuilderOperations}],e.localizeFilterBuilder(),t.$.mainContainer.appendChild(l),"string"===i){var r=document.createElement("jqx-check-box");r.classList.add("case-sensitive"),r.innerHTML="Case sensitive",r.animation=t.animation,r.disabled=t.disabled,r.unfocusable=t.unfocusable,r.checked=!1,e.caseSensitive=r,t.$.mainContainer.appendChild(r)}e.filterBuilderObject={filters:[]},e.cachedFilter={filterBuilder:["and"],caseSensitive:!1}}},{key:"localizeFilterBuilder",value:function(){var e=this,t=e.context,l=e.filterBuilder,a=l.messages[t.locale];a||(a={},l.messages[t.locale]=a),l.customOperations=[{name:"NULL",label:t.localize("null"),hideValue:!0},{name:"NOT_NULL",label:t.localize("notNull"),hideValue:!0}],a.addCondition=t.localize("addCondition"),a.addGroup=t.localize("addGroup"),a["<"]=t.localize("lessThan"),a["<="]=t.localize("lessThanOrEqual"),a["<>"]=t.localize("notEqual"),a["="]=t.localize("equal"),a[">"]=t.localize("greaterThan"),a[">="]=t.localize("greaterThanOrEqual"),a.and=t.localize("and"),a.contains=t.localize("contains"),a.endswith=t.localize("endsWith"),a.isblank=t.localize("empty"),a.isnotblank=t.localize("notEmpty"),a.notcontains=t.localize("doesNotContain"),a.or=t.localize("or"),a.startswith=t.localize("startsWith"),a.dateTabLabel=t.localize("dateTabLabel"),a.timeTabLabel=t.localize("timeTabLabel"),l.formatStringDate=t.formatString,l.formatStringDateTime=t.formatString,l.locale=t.locale,l.valuePlaceholder=t.localize("filterBuilderPlaceholder")}},{key:"evaluate",value:function(e){function t(l){for(var a="and"===l.logicalOperator,i=0;i<l.filters.length;i++){var r=void 0;r=l.filters[i]instanceof JQX.Utilities.FilterGroup?l.filters[i].evaluate(e):t(l.filters[i]),a="and"===l.logicalOperator?a&&r:a||r}return a}var l=this,a=l.context;if("default"===a.mode)return l.filterObject.evaluate(e);if("excel"===a.mode){var i=!1;if(Array.isArray(a.dataSource)){if(!l.customExcelFilterObjects||0===l.customExcelFilterObjects.length)return!0;for(var r=0;r<l.customExcelFilterObjects.length;r++)i=i||l.customExcelFilterObjects[r].evaluate(e);return i}if(l.customItems&&l.customItems.length>0){if(l.filterObject.filters.length>0&&(i=l.filterObject.evaluate(e)),l.customItems&&a.evaluateFilterExpression)for(var n=0;n<l.customItems.length;n++){var s=a.evaluateFilterExpression(e,l.customItems[n].value);void 0!==s&&(i=i||s)}}else i=l.filterObject.evaluate(e);return i}return!l.filterBuilderObject.logicalOperator||t(l.filterBuilderObject)}}]),e}()),JQX.Utilities.Assign("NumericFilterHandler",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"appendInputs",value:function(){var e=this,t=document.createElement("jqx-numeric-text-box"),l=document.createElement("jqx-numeric-text-box");t.inputFormat="floatingPoint",t.nullable=!0,t.spinButtons=!0,t.value=null,l.inputFormat="floatingPoint",l.nullable=!0,l.spinButtons=!0,l.value=null,e.firstInput=t,e.secondInput=l}},{key:"getFilterInputValue",value:function(e){return null===e.value||""===e.value?"":parseFloat(e.value)}}]),t}(JQX.Utilities.BaseFilterHandler)),JQX.Utilities.Assign("StringFilterHandler",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"setDefaults",value:function(){var e=this,t=e.context;e.defaultListSource=[{value:"EMPTY",label:t.localize("empty")},{value:"NOT_EMPTY",label:t.localize("notEmpty")},{value:"CONTAINS",label:t.localize("contains")},{value:"CONTAINS_CASE_SENSITIVE",label:t.localize("containsCaseSensitive")},{value:"DOES_NOT_CONTAIN",label:t.localize("doesNotContain")},{value:"DOES_NOT_CONTAIN_CASE_SENSITIVE",label:t.localize("doesNotContainCaseSensitive")},{value:"STARTS_WITH",label:t.localize("startsWith")},{value:"STARTS_WITH_CASE_SENSITIVE",label:t.localize("startsWithCaseSensitive")},{value:"ENDS_WITH",label:t.localize("endsWith")},{value:"ENDS_WITH_CASE_SENSITIVE",label:t.localize("endsWithCaseSensitive")},{value:"EQUAL",label:t.localize("equal")},{value:"EQUAL_CASE_SENSITIVE",label:t.localize("equalCaseSensitive")},{value:"NULL",label:t.localize("null")},{value:"NOT_NULL",label:t.localize("notNull")}],e.filterBuilderOperations=["contains","isblank","isnotblank","notcontains","startswith","endswith","=","NULL","NOT_NULL"],e.defaultListSelection=2}},{key:"appendInputs",value:function(){var e=this,t=document.createElement("input"),l=document.createElement("input");t.classList.add("jqx-input"),l.classList.add("jqx-input"),e.firstInput=t,e.secondInput=l}},{key:"getExcelComparison",value:function(e){return""===e?"EMPTY":"EQUAL_CASE_SENSITIVE"}}]),t}(JQX.Utilities.BaseFilterHandler)),JQX.Utilities.Assign("DateFilterHandler",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"appendInputs",value:function(){var e=this,t=e.context,l=document.createElement("jqx-date-time-picker"),a=document.createElement("jqx-date-time-picker");l.calendarButton=!0,l.editMode="partial",l.formatString=t.formatString,l.dropDownDisplayMode="auto",l.locale=t.locale,l.messages[t.locale]||(l.messages[t.locale]={}),l.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),l.messages[t.locale].timeTabLabel=t.localize("timeTabLabel"),l.nullable=!0,l.value=null,a.calendarButton=!0,a.editMode="partial",a.formatString=t.formatString,a.dropDownDisplayMode="auto",a.locale=t.locale,a.messages[t.locale]||(a.messages[t.locale]={}),a.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),a.messages[t.locale].timeTabLabel=t.localize("timeTabLabel"),a.nullable=!0,a.value=null,a._onCompleted=function(){"timePicker"===a._dropDownDisplayMode?(l.placeholder=t.localize("placeholderTime"),l.placeholder=t.localize("placeholderTime")):(l.placeholder=t.localize("placeholderDate"),l.placeholder=t.localize("placeholderDate"))},e.firstInput=l,e.secondInput=a}},{key:"getFilterInputValue",value:function(e){if(null===e.value)return"";var t=e.value.toDate();return"calendar"===this.displayMode&&t.setHours(0,0,0),t}},{key:"defaultClear",value:function(){var e=this;e.firstList.selectedIndexes=[e.defaultListSelection],e.firstInput.value=null,e.logicalOperatorList.selectedIndexes=[0],e.secondList.selectedIndexes=[e.defaultListSelection],e.secondInput.value=null,e.filterObject.clear(),e.cacheFilter(e.defaultListSelection,0,e.defaultListSelection)}},{key:"getHierarchicalDataSource",value:function(e){var t=this,l=t.dataSource,a={},i=[],r=void 0;if("timePicker"!==e){""===l[l.length-1].value&&(r=l[l.length-1],l.pop()),l.forEach(function(l){var i=l.value,r=i.getFullYear(),n=new Intl.DateTimeFormat(t.context.locale,{month:"long"}).format(i),s=i.getDate();if(a[r]||(a[r]={}),a[r][n]||(a[r][n]={}),!a[r][n][s]){if("calendar"===e)return void(a[r][n][s]=i);a[r][n][s]={}}if("calendar"!==e){var o=i.getHours(),c=i.getMinutes(),u=i.getSeconds();a[r][n][s][o]||(a[r][n][s][o]={}),a[r][n][s][o][c]||(a[r][n][s][o][c]={}),a[r][n][s][o][c][u]||(a[r][n][s][o][c][u]=i)}});for(var n in a){var s={label:n,items:[],customAttribute:"default-item"};i.push(s);for(var o in a[n]){var c={label:o,items:[],customAttribute:"default-item"};s.items.push(c);for(var u in a[n][o]){var d={label:u,customAttribute:"default-item"};if(c.items.push(d),"calendar"!==e){d.items=[];for(var f in a[n][o][u]){var p={label:"0".repeat(2-f.length)+f,items:[],customAttribute:"default-item"};d.items.push(p);for(var v in a[n][o][u][f]){var b={label:":"+"0".repeat(2-v.length)+v,items:[],customAttribute:"default-item"};p.items.push(b);for(var m in a[n][o][u][f][v]){var h={label:":"+"0".repeat(2-m.length)+m,value:a[n][o][u][f][v][m],customAttribute:"default-item"};b.items.push(h)}}}}else d.value=a[n][o][u]}}}r&&i.push(r),t.dataSource=i}}}]),t}(JQX.Utilities.BaseFilterHandler)),JQX.Utilities.Assign("BooleanFilterHandler",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"cacheFilter",value:function(e,t,l){var a=this;a.cachedFilter={firstFilterComparison:e,firstFilterValue:a.firstInput.selectedIndexes.slice(0),logicalOperator:t,secondFilterComparison:l,secondFilterValue:a.secondInput.selectedIndexes.slice(0)}}},{key:"setDefaults",value:function(){var e=this,t=e.context;e.defaultListSource=[{value:"EQUAL",label:t.localize("equal")},{value:"NOT_EQUAL",label:t.localize("notEqual")},{value:"NULL",label:t.localize("null")},{value:"NOT_NULL",label:t.localize("notNull")}],e.filterBuilderOperations=["=","<>","NULL","NOT_NULL"],e.defaultListSelection=0}},{key:"appendInputs",value:function(){var e=this,t=document.createElement("jqx-drop-down-list"),l=document.createElement("jqx-drop-down-list");t.dataSource=[{value:!0,label:"true"},{value:!1,label:"false"}],t.selectedIndexes=[],t.selectionMode="zeroOrOne",l.dataSource=[{value:!0,label:"true"},{value:!1,label:"false"}],l.selectedIndexes=[],l.selectionMode="zeroOrOne",e.firstInput=t,e.secondInput=l}},{key:"getFilterInputValue",value:function(e){return 0===e.selectedValues.length?"":"true"===e.selectedValues[0]}},{key:"defaultClear",value:function(){var e=this;e.firstList.selectedIndexes=[e.defaultListSelection],e.firstInput.selectedIndexes=[],e.logicalOperatorList.selectedIndexes=[0],e.secondList.selectedIndexes=[e.defaultListSelection],e.secondInput.selectedIndexes=[],e.filterObject.clear(),e.cacheFilter(e.defaultListSelection,0,e.defaultListSelection)}},{key:"defaultCancel",value:function(){var e=this;e.firstList.selectedIndexes=[e.cachedFilter.firstFilterComparison],e.firstInput.selectedIndexes=e.cachedFilter.firstFilterValue,e.logicalOperatorList.selectedIndexes=[e.cachedFilter.logicalOperator],e.secondList.selectedIndexes=[e.cachedFilter.secondFilterComparison],e.secondInput.selectedIndexes=e.cachedFilter.secondFilterValue}}]),t}(JQX.Utilities.BaseFilterHandler));
//# sourceMappingURL=jqxfilterpanel.js.map
