"use strict";JQX.Utilities.Assign("Grid.Filter",function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"addFilter",value:function(e,t,r){var i=this,l=i.columnByDataField[e];l&&l.canNotify&&(l.setProperty("filter",t),!1!==r&&i.refreshFilters())}},{key:"removeFilter",value:function(e,t){var r=this,i=r.columnByDataField[e];i&&i.canNotify&&(i.setProperty("filter",null),!1!==t&&r.refreshFilters())}},{key:"clearFilter",value:function(){for(var e=this,t=0;t<e.columns.length;t++){e.columns[t].setProperty("filter",null)}e.refreshFilters()}},{key:"getFilteredColumns",value:function(){var e=this;if(e._filters){for(var t=[],r=0;r<e._filters.length;r++){var i=e._filters[r];t[i[0]]=i[1],t.length++}return t}return[]}},{key:"getVisibleRows",value:function(){var e=this;if(e._visibleRows)return e._visibleRows;for(var t=[],r=e._viewRows,i=e.editing.addNewRow.visible&&"far"!==e.editing.addNewRow.position?1:0,l=0;l<r.length;l++){var a=r[l];a.canNotify=!1,a.visibleIndex=-1,!a.visible||!1===a.filtered&&void 0!==a.filtered||(a.visibleIndex=t.length-i,t.push(a)),a.canNotify=!0}return e._visibleRows=t,t}},{key:"refreshFilters",value:function(){for(var e=this,t=[],r=0;r<e.columns.length;r++){var i=e.columns[r];i.filter&&t.push([i.dataField,i.filter])}e.scrollTop=0,e.closeMenu(),e.dataSource&&!e.dataSource.onFilter&&(e.dataSource.onFilter=function(){for(var t=e._viewRows,r=0;r<t.length;r++){var i=t[r];i.data&&!i.addNewRow&&(i.filtered=void 0===i.data.$.filtered||i.data.$.filtered)}e.refresh()}),e._filters=t,e._visibleRows=null,e.dataSource&&e.dataSource.virtualDataSource?(e.closeMenu(),e._virtualDataRequest("filter")):e.dataSource._filter(t),e.paging.enabled&&e.dataSource&&!e.dataSource.virtualDataSource&&e._refreshPagesCount(),e.$.fireEvent("filter",{data:e.getFilteredColumns()})}}]),e}());
//# sourceMappingURL=jqxgrid.filter.js.map
