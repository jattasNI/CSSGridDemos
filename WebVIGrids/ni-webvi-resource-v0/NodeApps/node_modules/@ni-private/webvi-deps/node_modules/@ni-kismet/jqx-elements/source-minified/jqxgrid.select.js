"use strict";JQX.Utilities.Assign("Grid.Select",function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"_refreshSelection",value:function(){var e=this;if(e.selection.enabled){e._selectionColumn.refresh()}e._refreshCellSelectionRect()}},{key:"_toggleColumnSelection",value:function(e){var l=this;if(!l.selection.enabled||"none"===l.selection.checkBoxes.selectAllMode)return void(l._inputOverlay&&l._inputOverlay.parentNode&&l._inputOverlay.parentNode.removeChild(l._inputOverlay));var t=e.element.getAttribute("selected");t="indeterminate"===t||""!==t;var n=l._recyclingRows;l._selectionColumn._selecting=!0,l.beginUpdate();for(var o=0;o<n.length;o++){n[o].selected=t}if(l._selectionColumn._selecting=!1,l.endUpdate(!1),l._recycle(!1),l.selection.enabled&&l.selection.checkBoxes.enabled&&"none"!==l.selection.checkBoxes.selectAllMode){var a=e.element,i=a.querySelector(".jqx-input");l._inputOverlay?l._inputOverlay.parentNode!==l.$.columnHeader&&(l._inputOverlay.parentNode&&l._inputOverlay.parentNode.removeChild(l._inputOverlay),l._inputOverlay=document.createElement("div"),l.$.columnHeader.appendChild(l._inputOverlay)):(l._inputOverlay=document.createElement("div"),l.$.columnHeader.appendChild(l._inputOverlay)),l._inputOverlay.column=e,l._inputOverlay.onpointerdown=function(){l._inputOverlay||(l._inputOverlay.onpointerdown=null);var e=l._inputOverlay.column;l._inputOverlay.classList.remove("jqx-animate"),l._selectionColumn._selecting=!0,l.beginUpdate();for(var t=e.element.hasAttribute("selected"),n=l._recyclingRows,o=0;o<n.length;o++){n[o].selected=!t}l._selectionColumn._selecting=!1;var a=l._inputOverlay;return l.endUpdate(!1),l._recycle(),l.$.columnHeader.appendChild(a),l._inputOverlay=a,l._inputOverlay.classList.add("jqx-animate"),!1},l._inputOverlay.classList.add("jqx-input-overlay"),l._inputOverlay.classList.add("jqx-input-overlay-column"),l.appearance.allowCheckBoxesSelectionAnimation&&l._inputOverlay.classList.add("jqx-animate"),l._inputOverlay.style.top=(a.offsetHeight-i.offsetHeight)/4+1+"px";var r=l._selectionColumn.element.parentElement.offsetLeft+l._selectionColumn.element.offsetLeft;l._inputOverlay.style.left=r+"px",l._inputOverlay.style.height=a.offsetWidth+"px",l._inputOverlay.style.width=a.offsetWidth+"px",l._inputOverlay.onmousedown=null,l._inputOverlay.classList.add("jqx-input-overlay-on"),l._selectionColumn.refresh()}}},{key:"_refreshCheckBoxColumnSelection",value:function(){var e=this;if(e.selection.enabled&&e.selection.checkBoxes.enabled){var l=e._selectionColumn.element;"none"===e.selection.checkBoxes.selectAllMode?(l.removeAttribute("checkbox"),l.label.classList.remove("jqx-input")):(l.setAttribute("checkbox",""),l.label.classList.add("jqx-input")),e._selectionColumn.refresh()}}},{key:"_handleExtendedRowSelection",value:function(e,l){var t=this;if(e){var n=t._recyclingRows;if(t.paging.enabled&&"page"===t.selection.selectAllMode&&(n=n.slice(t.paging.pageIndex*t.paging.pageSize,(t.paging.pageIndex+1)*t.paging.pageSize)),l&&!l.ctrlKey&&(t._selection.rows=[]),l&&!l.shiftKey&&(t._rangeSelectionStartRow=e,t._rangeSelectionEndRow=e),l&&l.shiftKey){t._rangeSelectionEndRow=e;var o=n.indexOf(t._rangeSelectionStartRow),a=n.indexOf(t._rangeSelectionEndRow),i=Math.min(o,a),r=Math.max(o,a);if(-1===o||-1===a)return;for(var c=i;c<=r;c++){n[c].setProperty("selected",!0)}}else l&&l.ctrlKey?null===e.selected?e.setProperty("selected",!0):e.setProperty("selected",!e.selected):e.setProperty("selected",!0)}}},{key:"_setSelection",value:function(e,l,t){var n=this;if(n.selection.enabled){n._lastColumnSelectionRange=null,n._lastRowSelectionRange=null,n.closeMenu();var o=function(){if((t&&!t.ctrlKey&&!t.shiftKey||"one"===n.selection.mode)&&("many"!==n.selection.mode&&(n._selection.rows=[],n._selection.columns=[],n._selection.cells=[]),n._selection.focusedCell=null),n._selection.selectionRect){var e=n._selection.selectionRect;e.parentNode.removeChild(e);var l={down:"pointerdown",move:"pointermove",up:"pointerup"};JQX.Utilities.Core.isMobile&&(l.down="touchstart",l.move="touchmove",l.up="touchend"),document.removeEventListener(l.move,e.onMove),document.removeEventListener(l.up,e.onUp),document.removeEventListener(l.down,e.onDown),n._selection.selectionRect=null}};n.beginUpdate();var a=n.columnByDataField[l];if(n.selection.allowCellSelection&&void 0!==e&&null!==e&&a&&!a.autoGenerated){var i=n.rowById[e],r=i.getCell(l),c=n._getParentCell(i,l);c&&(r=c.row.getCell(c.column.dataField)),o(),t.ctrlKey||(n._selection.rows=[],n._selection.columns=[],"many"!==n.selection.mode&&(n._selection.cells=[])),"extended"===n.selection.mode?t.ctrlKey?r.selected=!r.selected:r.selected=!0:"one"===n.selection.mode?r.selected=!0:r.selected=!r.selected,(t&&!t.shiftKey||!n._selection.focusedCell)&&(n._selection.focusedCell=r),t&&(t.shiftKey||n._selection.focusedCell===r)&&"extended"===n.selection.mode&&(c?n._renderCellSelectionRect(r.row,r.column,c.endRow,c.endColumn):n._renderCellSelectionRect(r.row,r.column,r.row,r.column))}else n.selection.allowRowHeaderSelection&&void 0!==e&&null!==e&&void 0===n.columnByDataField[l]?(o(),n._selectRow(e,t)):n.selection.checkBoxes.enabled&&void 0!==e&&null!==e&&"_checkBoxColumn"===l&&void 0===n.columnByDataField[l]?(o(),n._selectRow(e,t)):void 0===e||null===e||void 0!==l&&void 0===n.columnByDataField[l]||!n.selection.allowRowSelection?n.selection.allowColumnHeaderSelection&&a&&(o(),n._selectColumn(l,t)):(o(),n._selectRow(e,t));n.endUpdate(!1),n._recycle(),void 0===e||null===e||a||n._renderInputOverlay(e,t)}}},{key:"_renderCellSelectionRect",value:function(e,l,t,n){var o=this,a=o._recyclingRows,i=a.indexOf(e),r=a.indexOf(t);if(i>=0&&r>=0){if(!o._selection.selectionRect){var c=o._selection.selectionRect=function(e){var l=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");return n.classList.add("jqx-selection-overlay"),n.appendChild(t),t.appendChild(l),l.classList.add("jqx-selection-overlay-content"),t.classList.add("jqx-selection-overlay-border-content"),o.selection.allowCellDragSelectionHandle&&e&&t.classList.add("handle"),o.$.scrollView.appendChild(n),n}(!0);if(o.selection.allowCellDragSelectionHandle){var d=null,s=null,u=null;c.onMove=function(e){var l=o._selection.selectionRect,t=e.clientX,n=e.clientY;e.touches&&(t=e.touches[0].clientX,n=e.touches[0].clientY);var i=function(e){for(var l=document.elementsFromPoint(e.clientX,e.clientY),t=null,n=0;n<l.length;n++){var a=l[n];if(a.getAttribute("data-field")){t=a.getAttribute("data-field");break}}for(var i=null,r=0;r<l.length;r++){var c=l[r];if(c.getAttribute("data-id")){i=c.row;break}}return{column:o.columnByDataField[t],row:i}};if(l.capturedDrag){var r={clientX:t,clientY:n},c=i(r),f=i({clientX:t,clientY:n+l.top}).row,m=i({clientX:t+l.left,clientY:n}).column;f||(f=a[a.length-1]),m||(m=c.column),f&&m&&c.row&&c.column&&(l.row=c.row,l.column=c.column,l.endDragRow=l.endRow=f,l.endDragColumn=l.endColumn=m,o._dragSelectionStartDataField=l.column.dataField,o._dragSelectionStartRow=l.row,o._selection.focusedCell=l.row.getCell(l.column.dataField)),o._resizeSelectionRect(),e.preventDefault()}else if(l.captured)if(o._dragSelectionStartDataField=o._selection.focusedCell.column.dataField,o._dragSelectionStartRow=o._selection.focusedCell.row,null===s&&null===u&&(Math.abs(t-d.left)>=30?s=!0:Math.abs(n-d.top)>=30&&(u=!0)),l.lastPoint&&Math.abs(l.lastPoint.top-n)>=40?(s=null,u=!0):l.lastPoint&&Math.abs(l.lastPoint.left-t)>=40&&(u=null,s=!0),s){var v=l.endDragColumn.dataField,g={clientX:t,clientY:d.top-5},_=i(g);_.row&&_.column&&(l.endDragRow=l.endRow,l.endDragColumn=_.column,l.endDragColumn.dataField!==v&&(l.lastPoint={left:t,top:n}),o._resizeSelectionRect())}else if(u){var p=l.endDragRow,h={clientX:d.left-5,clientY:n},w=i(h);w.row&&w.column&&(l.endDragRow=w.row,l.endDragColumn=l.endColumn,l.endDragRow.id&&l.endDragRow.id!==p.id&&(l.lastPoint={left:t,top:n}),o._resizeSelectionRect())}l.captured&&o.selection.allowDragSelectionAutoScroll&&(o._autoScrollSelectionDragInterval&&clearInterval(o._autoScrollSelectionDragInterval),o.selection.isDragging=!0,o._autoScrollSelectionDragInterval=setInterval(function(){var e=o.$.scrollView.getBoundingClientRect();t<=e.left+20?(o.scrollLeft-=15,o._resizeSelectionRect()):t>=e.left+e.width-20&&(o.scrollLeft+=15,o._resizeSelectionRect()),n<=e.top+20?(o.scrollTop-=15,o._resizeSelectionRect()):n>=e.top+e.height-20&&(o.scrollTop+=15,o._resizeSelectionRect())},5))},c.onUp=function(){if(c.captured){o._autoScrollSelectionDragInterval&&clearInterval(o._autoScrollSelectionDragInterval),o.editing.editCell||o.editing.editRow||o.focus(),c.capturedDrag=!1,c.captured=!1,s=null,u=null,d=null,c.lastPoint=null;var e=c.cellValues;c.minRow&&c.maxRow&&c.maxRow&&c.maxColumn&&(o._selectCellsRange(c.minRow,c.maxRow,c.minColumn.dataField,c.maxColumn.dataField),c.row=c.minRow,c.column=c.minColumn,c.endColumn=c.maxColumn,c.endRow=c.maxRow,c.cellValues=e,o._resizeSelectionRect(),o.selection.allowCellDragSelectionAutoFill&&o._pasteSelectedCells({row:c.row,endRow:c.endDragRow,column:c.column,endColumn:c.endColumn},e)),c.endDragColumn=null,c.endDragRow=null,c.minColumn=null,c.minRow=null,c.maxColumn=null,c.maxRow=null}},c.onDown=function(e){if(c.captured&&!d){var l=e.clientX,t=e.clientY;e.touches&&(l=e.touches[0].clientX,t=e.touches[0].clientY),d={left:l,top:t}}};var f={down:"pointerdown",move:"pointermove",up:"pointerup"};JQX.Utilities.Core.isMobile&&(f.down="touchstart",f.move="touchmove",f.up="touchend"),c["on"+f.down]=function(e){var l=c.getBoundingClientRect(),t=e.clientX,n=e.clientY;e.touches&&(t=e.touches[0].clientX,n=e.touches[0].clientY),t>=l.right-5&&n>=l.bottom-5?(c.captured=!0,c.endDragRow=c.endRow,c.endDragColumn=c.endColumn):o.selection.allowCellDragDropSelectionHandle&&n>=l.bottom-5?(c.captured=!0,c.capturedDrag=!0,c.endDragRow=c.endRow,c.endDragColumn=c.endColumn,c.left=c.endColumn.left-c.column.left,c.top=c.endRow.top-c.row.top):c.captured||o._rowDownHandler(e)},document.addEventListener(f.move,c.onMove,{passive:!1}),document.addEventListener(f.up,c.onUp,{passive:!1}),document.addEventListener(f.down,c.onDown,{passive:!1})}}var m=o._selection.selectionRect;m.row=o._selection.focusedCell.row,m.column=o._selection.focusedCell.column,m.endRow=t,m.endDragRow=t,m.endColumn=n,m.endDragColumn=n,o._refreshCellSelectionRect()}}},{key:"_resizeSelectionRect",value:function(){var e=this,l=e._selection.selectionRect;if(l){var t=e._recyclingRows,n=l.row,o=l.endDragRow,a=l.column,i=l.endDragColumn,r=t.indexOf(n),c=t.indexOf(o),d=t.indexOf(l.endRow),s=e.columns.indexOf(a),u=e.columns.indexOf(i),f=e.columns.indexOf(l.endColumn),m=Math.min(d,Math.min(r,c)),v=Math.max(d,Math.max(r,c)),g=Math.min(f,Math.min(s,u)),_=Math.max(f,Math.max(s,u));d<=Math.min(r,c)?l.minRow=l.endRow:l.minRow=r<=c?n:o,d>=Math.max(r,c)?l.maxRow=l.endRow:l.maxRow=r>=c?n:o,f<=Math.min(s,u)?l.minColumn=l.endColumn:l.minColumn=s<=u?a:i,f>=Math.max(s,u)?l.maxColumn=l.endColumn:l.maxColumn=s>=u?a:i;for(var p=0,h=0,w=0,y=0,S=m;S<=v;S++){var R=t[S];S===m&&(p=R.top),S===v&&(h=R.top+R.height-p);for(var C=g;C<=_;C++){var x=e.columns[C].dataField,F=R.getCell(x);C===g&&(w=F.column.left),C===_&&(y=F.column.left+F.column.computedWidth-w)}}l.style.top=p-e.scrollTop-1+"px",l.style.left=w-e.scrollLeft+"px",l.style.height=h+1+"px",l.style.width=y+1+"px"}}},{key:"_getPatternValue",value:function(e,l,t){var n=[],o=0,a=[],i=[],r=[],c=[],d={names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},s={names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},u=function(e){if(void 0!==e&&!(e.toString().indexOf("GMT+")>=0||e.toString().indexOf("GMT-")>=0))if(isNaN(parseFloat(e))){if(d.names.indexOf(e)>=0)return c=d.names,d.names.indexOf(e);if(d.namesAbbr.indexOf(e)>=0)return c=d.namesAbbr,d.namesAbbr.indexOf(e);if(d.namesShort.indexOf(e)>=0)return c=d.namesShort,d.namesShort.indexOf(e);if(s.names.indexOf(e)>=0)return c=s.names,s.names.indexOf(e);if(s.namesAbbr.indexOf(e)>=0)return c=s.namesAbbr,s.namesAbbr.indexOf(e);if(void 0!==e){null===e&&(e="");var l=/\d+/.test(e.toString());if(l){r.push(e.toString().replace(/[0-9]/,"#")),r[r.length-1]=r[r.length-1].replace(/[0-9]/g,"");var t=parseFloat(e.toString().replace(/\D/g,""));return isNaN(t)?0:t}}}else{var n=/[A-Za-z]/.test(e.toString());if(!n)return parseFloat(e)}},f=0;for(var m in t){var v=t[m];n[o]=[],f=0;for(var g in v){var _=u(v[g]);void 0!==_&&(n[o].push(_),f++)}if(0!==n[o].length){for(var p=n[o][0],h=0,w=0;w<n[o].length;w++){var y=u(n[o][w-1]),S=u(n[o][w]);0===w&&(y=S),p+=S,h+=S-y}p/=n[o].length,p-=n[o][0],p+=n[o][n[o].length-1],0!==h&&(h/=n[o].length-1),(c.length>0||r.length>0)&&(h=1,p=n[o][0]),n[o].length<=2&&(p=n[o][n[o].length-1]+h),a.push({step:h,stepStart:p}),o++}}for(var R=0;R<f;R++){for(var C=n[0][R],x=0,F=1;F<n.length;F++){var b=u(n[F-1][R]),O=u(n[F][R]);C+=O,x+=O-b}C/=n.length,C-=n[0][R],C+=n[n.length-1][R],0!==x&&(x/=n.length-1),(c.length>0||r.length>0)&&(x=1,C=n[0][R]),n.length<=2&&(C=n[n.length-1][R]+x),i.push({step:x,stepStart:C})}if(!n[e]){for(var D=n.length,M=D;M<=e;M++){n[M]=[];for(var k=0;k<=l;k++)i[k]||(i[k]=i[k-1]),i[k]&&(M===D?n[M][k]=i[k].stepStart:(n[M][k]=n[M-1][k]+i[k].step,c.length>1&&n[M][k]>=c.length&&(n[M][k]=0)))}return c.length>0?c[n[e][l]]:r.length>0?r[e%r.length].replace("#",n[e][l]):n[e][l]}if(!n[e][l]){for(var I=f,B=I;B<=l;B++)a[e]&&(B===I?n[e].push(a[e].stepStart):(n[e][B]=n[e][B-1]+a[e].step,c.length>1&&n[e][B]>=c.length&&(n[e][B]=0)));return c.length>0?c[n[e][l]]:r.length>0?r[e%r.length].replace("#",n[e][l]):n[e][l]}return n[e]&&n[e][l]?r.length>0?r[e%r.length].replace("#",n[e][l]):n[e][l]:0}},{key:"_pasteDataType",value:function(e){var l=this,t=l.dataSource&&"number"==typeof l.dataSource.dataSource,n=e.cell,o=e.value,a=n.column.dataType;return a&&!t||(a=isNaN(parseFloat(o))?"string":o instanceof Date?"date":"true"===o||"false"===o?"boolean":"number"),a}},{key:"_pasteModeCopy",value:function(e){var l=this,t=l.dataSource&&"number"==typeof l.dataSource.dataSource,n=l._pasteDataType(e),o=e.cell,a=e.value,i=e.dataField;if("string"===n)o.value=a;else if("bool"===n||"boolean"===n)1!==a&&"1"!==a&&!0!==a&&"true"!==a&&"TRUE"!==a&&"True"!==a||(o.value=!0);else if("date"===n||"time"===n||"dateTime"===n){var r=l.columnByDataField[i];t?o.value=a:r&&r.dataType!==n?o.value=null:o.value=a}else if("number"===n||"float"===n||"int"===n){var c=l.columnByDataField[i];t?o.value=a:c&&c.dataType!==n?o.value=null:o.value=null!==a?"int"===n||"integer"===n?parseInt(a):parseFloat(a):null}}},{key:"_pasteModeFill",value:function(e){var l=this,t=l.dataSource&&"number"==typeof l.dataSource.dataSource,n=l._pasteDataType(e),o=e.cell,a=e.selectedValues,i=e.minRowIndex,r=e.minColumnIndex,c=e.currentRowIndex,d=e.currentColumnIndex,s=e.dataField,u=e.value;if("string"===n){/\d+/.test(u.toString())?void 0===(u=l._getPatternValue(c-i,d-r,a))&&a[c-i]&&a[c-i][d-r]&&(u=a[c-i][d-r]):(u=l._getPatternValue(c-i,d-r,a),u=void 0===u&&a[c-i]?a[c-i][d-r]:e.value),void 0!==u&&(o.value=u)}else if("bool"===n||"boolean"===n)1!==u&&"1"!==u&&!0!==u&&"true"!==u&&"TRUE"!==u&&"True"!==u||(o.value=!0);else if("date"===n||"time"===n||"dateTime"===n){var f=l.columnByDataField[s];t?o.value=u:f&&f.dataType!==n&&(o.value=null),a[c-i]&&void 0!==(u=a[c-i][d-r])&&(o.value=u)}else if("number"===n||"float"===n||"int"===n){u=l._getPatternValue(c-i,d-r,a);var m=l.columnByDataField[s];t?o.value=u:m&&m.dataType!==n?o.value=null:o.value=null!==u?"int"===n||"integer"===n?parseInt(u):parseFloat(u):null}}},{key:"_pasteSelectedCells",value:function(e,l){var t=this;t.beginUpdate();var n=t._recyclingRows,o=e.row,a=e.endRow,i=e.column,r=e.endColumn,c=n.indexOf(o),d=n.indexOf(a),s=n.indexOf(e.endRow),u=t.columns.indexOf(i),f=t.columns.indexOf(r),m=t.columns.indexOf(e.endColumn),v=Math.min(s,Math.min(c,d)),g=Math.max(s,Math.max(c,d)),_=Math.min(m,Math.min(u,f)),p=Math.max(m,Math.max(u,f)),h=0,w=0,y=0,S=0;for(var R in l)0===h&&(w+=Object.keys(l[R]).length),h++;for(var C=v;C<=g;C++){var x=n[C];y=0;for(var F=_;F<=p;F++){var b=t.columns[F].dataField,O=x.getCell(b),D=0;for(var M in l){if(D===S){var k=0,I=l[M];for(var B in I){if(y===k){var L=I[B],V=!0;if(l[x.id]&&l[x.id][b]&&(V=!1),V&&"none"!==t.clipboard.autoFillMode){var A={value:L,oldValue:O.value,dataField:B,id:M};t.clipboard.onPasteValue?(t.clipboard.onPasteValue(A),O.value=A.value):(A.cell=O,A.selectedValues=l,A.minRowIndex=v,A.maxRowIndex=g,A.minColumnIndex=_,A.maxColumnIndex=p,A.currentColumnIndex=F,A.currentRowIndex=C,"copy"===t.clipboard.autoFillMode?t._pasteModeCopy(A):"fillSeries"===t.clipboard.autoFillMode&&t._pasteModeFill(A))}}k++}}D++}y++,y>=w&&(y=0)}S++,S>=h&&(S=0)}t.endUpdate(!1),t._recycle(!1)}},{key:"_refreshCellSelectionRect",value:function(){var e=this,l=e._selection.selectionRect;if(!(!l||l&&l.captured)){var t=e._recyclingRows,n=l.row,o=l.endRow,a=l.column,i=l.endColumn,r=t.indexOf(n),c=t.indexOf(o),d=e.columns.indexOf(a),s=e.columns.indexOf(i),u=Math.min(r,c),f=Math.max(r,c),m=Math.min(d,s),v=Math.max(d,s);m=Math.max(0,m),u=Math.max(0,u);var g=function(l){var n=t.indexOf(l.row),o=t.indexOf(l.endRow),a=e.columns.indexOf(l.column),i=e.columns.indexOf(l.endColumn);u=Math.min(u,n),u=Math.min(u,o),u=Math.max(0,u),f=Math.max(f,n),f=Math.max(f,o),m=Math.min(m,a),m=Math.min(m,i),m=Math.max(0,m),v=Math.max(v,a),v=Math.max(v,i)},_=e._getParentCell(n,a.dataField),p=e._getParentCell(n,i.dataField),h=e._getParentCell(o,i.dataField),w=e._getParentCell(o,a.dataField);_&&g(_),p&&g(p),h&&g(h),w&&g(w);var y=0,S=0,R=0,C=0;l.cellValues=[];for(var x=u;x<=f;x++){var F=t[x];if(x===u&&(y=F.top,!0!==F.freeze&&"near"!==F.freeze&&(y+=e.__frozenNearHeight),"far"===F.freeze&&(y=F.top+e.__scrollHeight+e.scrollTop-e._scrollView.hScrollBar.offsetHeight)),x===f){var b=F.top;"far"===F.freeze&&(b=F.top+e.__scrollHeight+e.scrollTop-e._scrollView.hScrollBar.offsetHeight),S=b+F.height-y,!0!==F.freeze&&"near"!==F.freeze&&(S+=e.__frozenNearHeight)}l.cellValues[F.id]=[];for(var O=m;O<=v;O++){var D=e.columns[O].dataField,M=F.getCell(D);if(l.cellValues[F.id][D]=M.value,O===m&&(R=M.column.left,M.column.freeze&&"far"===M.column.freeze&&(R=e.__clientSize.width-e.__frozenFarWidth+R+e.scrollLeft-e._scrollView.vScrollBar.offsetWidth)),O===v){var k=M.column.left;M.column.freeze&&"far"===M.column.freeze&&(k=e.__clientSize.width-e.__frozenFarWidth+k+e.scrollLeft-e._scrollView.vScrollBar.offsetWidth),C=k+M.column.computedWidth-R}M.selected=!0}}l.style.top=y-e.scrollTop-1+"px",l.style.left=R-e.scrollLeft+"px",l.style.height=S+1+"px",l.style.width=C+1+"px"}}},{key:"_renderInputOverlay",value:function(e,l,t){var n=this,o=n.rowById[e];if(o&&o.allowSelect&&!o.label&&l&&n.selection.checkBoxes.enabled){n._inputOverlay&&n._inputOverlay.classList.contains("jqx-input-overlay-column")&&(n._inputOverlay.parentNode&&n._inputOverlay.parentNode.removeChild(n._inputOverlay),n._inputOverlay=null),n._inputOverlay||(n._inputOverlay=document.createElement("div"),n.$.scrollView.appendChild(n._inputOverlay),n._inputOverlay.classList.add("jqx-input-overlay"));var a=o.freeze?o.top:n.__frozenNearHeight+o.top,i=Math.round((o.cellHeight-n._selectionColumn.computedWidth)/2),r=n._selectionColumn.element.parentElement.offsetLeft+n._selectionColumn.element.offsetLeft;n._inputOverlay.style.left=r+"px",n._inputOverlay.style.height=n._selectionColumn.computedWidth+"px",n._inputOverlay.style.width=n._selectionColumn.computedWidth+"px",n._inputOverlay.style.top=a+i-n.scrollTop+"px",n._inputOverlay.row=o,n._inputOverlay.onpointerdown=function(){n._inputOverlay||(n._inputOverlay.onpointerdown=null);var e=n._inputOverlay.row;n.beginUpdate(),e.selected=!e.selected,n.endUpdate(!1),n._recycle(),n._renderInputOverlay(e.id,l,!0)},n.appearance.allowCheckBoxesSelectionAnimation&&void 0===t&&n._inputOverlay.classList.add("jqx-animate"),requestAnimationFrame(function(){n._inputOverlay&&n._inputOverlay.classList.add("jqx-input-overlay-on")})}}},{key:"_selectRow",value:function(e,l){var t=this,n=t.rowById[e];n&&t.selection.enabled&&(n.header&&"row-resize"===n.header.style.cursor||(l&&(l.shiftKey&&t._selection.focusedCell||(t._selection.focusedCell=n.getCell(t.columns[0].dataField))),t._lastRowsSelectionRange=null,"extended"===t.selection.mode?t._handleExtendedRowSelection(n,l):"one"===t.selection.mode?n.selected=!0:n.selected=!n.selected))}},{key:"_getParentCell",value:function(e,l){for(var t=this,n=t._recyclingRows,o=0;o<t._cellsMerge.length;o++){var a=t._cellsMerge[o],i=[],r=[];if(i.push(a.row),a.rowSpan>1){var c=n.indexOf(a.row);if(c>=0)for(var d=c;d<c+a.rowSpan;d++)n[d]&&-1===i.indexOf(n[d])&&i.push(n[d])}if(r.push(a.column.dataField),a.colSpan>1)for(var s=t.columns.indexOf(t.columnByDataField[a.column.dataField]),u=s;u<s+a.colSpan;u++)t.columns[u]&&-1===r.indexOf(t.columns[u].dataField)&&r.push(t.columns[u].dataField);if(i.indexOf(e)>=0&&r.indexOf(l)>=0)return{row:a.row,column:a.column,endRow:i[i.length-1],endColumn:t.columnByDataField[r[r.length-1]]}}return null}},{key:"_selectCellsRange",value:function(e,l,t,n){var o=this,a=o._selection.selectionRect;if(!o._lastRowsSelectionRange||o._lastRowsSelectionRange.id!==e.id||o._lastRowsSelectionRange.endId!==l.id||!o._lastColumnSelectionRange||o._lastColumnSelectionRange.dataField!==t||o._lastColumnSelectionRange.endDataField!==n){o.beginUpdate(),o.clearSelection(),o._lastRowsSelectionRange={id:e.id,endId:l.id},o._lastColumnSelectionRange={dataField:t,endDataField:n},(!a||a&&!a.captured)&&o._selection.focusedCell&&o._renderCellSelectionRect(o._selection.focusedCell.row,o._selection.focusedCell.column,o.rowById[o._lastRowsSelectionRange.endId],o.columnByDataField[o._lastColumnSelectionRange.endDataField]);for(var i=o._recyclingRows,r=-1,c=o.columns.length,d=i.indexOf(e),s=i.indexOf(l),u=0;u<o.columns.length;u++){var f=o.columns[u];f.allowSelect&&(f.dataField===t&&(r=u),f.dataField===n&&(c=u))}var m=Math.min(d,s),v=Math.max(d,s),g=Math.min(r,c),_=Math.max(r,c),p=function(e){var l=i.indexOf(e.row),t=i.indexOf(e.endRow),n=o.columns.indexOf(e.column),a=o.columns.indexOf(e.endColumn);m=Math.min(m,l),m=Math.min(m,t),v=Math.max(v,l),v=Math.max(v,t),g=Math.min(g,n),g=Math.min(g,a),_=Math.max(_,n),_=Math.max(_,a)},h=o._getParentCell(e,t),w=o._getParentCell(l,n);if(h&&p(h),w&&p(w),v<0||m<0)return o.endUpdate(!1),void o._recycle();for(var y=m;y<=v;y++){var S=i[y];if(S.allowSelect)for(var R=0;R<o.columns.length;R++){var C=o.columns[R];if(C.allowSelect&&(R>=g&&R<=_)){var x=S.getCell(C.dataField);x.selected=!0}}}o.endUpdate(!1),o._recycle()}}},{key:"_selectRowsRange",value:function(e,l){var t=this;if(!t._lastRowsSelectionRange||t._lastRowsSelectionRange.id!==e.id||t._lastRowsSelectionRange.endId!==l.id){t.beginUpdate(),t.clearSelection(),t._lastRowsSelectionRange={id:e.id,endId:l.id};var n=t._recyclingRows,o=n.indexOf(e),a=n.indexOf(l),i=Math.min(o,a),r=Math.max(o,a);if(r<0)return t.endUpdate(!1),void t._recycle();for(var c=i;c<=r;c++){var d=n[c];d&&(d.allowSelect&&(d.selected=!0))}t.endUpdate(!1),t._recycle()}}},{key:"_selectColumnsRange",value:function(e,l){var t=this;if(!t._lastColumnSelectionRange||t._lastColumnSelectionRange.dataField!==e||t._lastColumnSelectionRange.endDataField!==l){t.beginUpdate(),t.clearSelection(),t._lastColumnSelectionRange={dataField:e,endDataField:l};for(var n=-1,o=t.columns.length,a=0;a<t.columns.length;a++){var i=t.columns[a];i.allowSelect&&(i.dataField===e&&(n=a),i.dataField===l&&(o=a))}for(var r=Math.min(n,o),c=Math.max(n,o),d=0;d<t.columns.length;d++){var s=t.columns[d];s.allowSelect&&(d>=r&&d<=c&&(s.selected=!0))}t.endUpdate(!1),t._recycle()}}},{key:"_selectColumn",value:function(e,l){var t=this,n=t.columnByDataField[e];if(n&&t.selection.enabled&&n.allowSelect&&t.selection.allowColumnHeaderSelection&&(!n||"col-resize"!==n.element.style.cursor)&&l)if("extended"===t.selection.mode){if(l.ctrlKey||l.shiftKey||(t._rangeSelectionStartColumn=n,t._rangeSelectionEndColumn=n),n.selected=!0,l&&l.shiftKey){t._rangeSelectionStartColumn||(t._rangeSelectionStartColumn=n),t._rangeSelectionEndColumn=n,t._selection.columns=[];for(var o=t.columns.indexOf(t._rangeSelectionStartColumn),a=t.columns.indexOf(t._rangeSelectionEndColumn),i=Math.min(o,a),r=Math.max(o,a),c=i;c<=r;c++){var d=t.columns[c];d.selected=!0}}}else"one"===t.selection.mode?n.selected=!0:null===n.selected?n.selected=!0:n.selected=!n.selected}},{key:"_getSelectedRows",value:function(e,l){var t=this,n=[],o=t.rows;e&&(o=t.getVisibleRows()),t.paging.enabled&&l&&(o=o.slice(t.paging.pageIndex*t.paging.pageSize,(t.paging.pageIndex+1)*t.paging.pageSize));for(var a=0;a<o.length;a++){var i=o[a];i.selected&&n.push(i)}return n}},{key:"_dragSelectionEnd",value:function(){var e=this;e._dragSelectionStartDataField=null,e._dragSelectionStartRow=null,e.selection.allowDragSelection&&e.selection.isDragging&&(e.selection.isDragging=!1,e._autoScrollSelectionDragInterval&&(clearInterval(e._autoScrollSelectionDragInterval),e.editing.isEditing||e._recycle()))}},{key:"_dragSelection",value:function(e){var l=this;if("extended"===l.selection.mode&&!1!==l.selection.allowDragSelection&&(l._dragSelectionStartDataField||l._dragSelectionStartRow)){if(l.selection.allowCellSelection&&l._dragSelectionStartDataField&&!l._columnResizeLine&&!l._dragSelectionStartDataField.startsWith("_")&&l._dragSelectionStartRow&&!l._rowResizeLine){for(var t=document.elementsFromPoint(e.clientX,e.clientY),n=null,o=0;o<t.length;o++){var a=t[o];if(a.getAttribute("data-field")){n=a.getAttribute("data-field");break}}for(var i=null,r=0;r<t.length;r++){var c=t[r];if(c.getAttribute("data-id")){i=c.row;break}}return n&&i&&l._selectCellsRange(l._dragSelectionStartRow,i,l._dragSelectionStartDataField,n),void(l.selection.allowDragSelectionAutoScroll&&(l._autoScrollSelectionDragInterval&&clearInterval(l._autoScrollSelectionDragInterval),l.selection.isDragging=!0,l._autoScrollSelectionDragInterval=setInterval(function(){var t=l.$.scrollView.getBoundingClientRect();e.clientX<=t.left+20?l.scrollLeft-=15:e.clientX>=t.left+t.width-20&&(l.scrollLeft+=15),e.clientY<=t.top+20?l.scrollTop-=15:e.clientY>=t.top+t.height-20&&(l.scrollTop+=15)},5)))}if(l._dragSelectionStartRow&&!l._rowResizeLine&&(l.selection.allowRowSelection&&!l._dragSelectionStartDataField.startsWith("_")||l.selection.allowRowHeaderSelection&&l._dragSelectionStartDataField.startsWith("_"))){for(var d=document.elementsFromPoint(e.clientX,e.clientY),s=null,u=0;u<d.length;u++){var f=d[u];if(f.getAttribute("data-id")){s=f.row,!s&&f.cell&&(s=f.cell.row);break}}s&&l._selectRowsRange(l._dragSelectionStartRow,s),l._autoScrollSelectionDragInterval&&clearInterval(l._autoScrollSelectionDragInterval),l.selection.isDragging=!0,l._autoScrollSelectionDragInterval=setInterval(function(){var t=l.$.scrollView.getBoundingClientRect();e.clientY<=t.top+20?l.scrollTop-=15:e.clientY>=t.top+t.height-20&&(l.scrollTop+=15)},5)}else if(l._dragSelectionStartDataField&&!l._columnResizeLine&&!l._dragSelectionStartDataField.startsWith("_")&&l.selection.allowColumnHeaderSelection){for(var m=document.elementsFromPoint(e.clientX,e.clientY),v=null,g=0;g<m.length;g++){var _=m[g];if(_.getAttribute("data-field")){v=_.getAttribute("data-field");break}}v&&l._selectColumnsRange(l._dragSelectionStartDataField,v),l._autoScrollSelectionDragInterval&&clearInterval(l._autoScrollSelectionDragInterval),l.selection.isDragging=!0,l._autoScrollSelectionDragInterval=setInterval(function(){var t=l.$.scrollView.getBoundingClientRect();e.clientX<=t.left+20?l.scrollLeft-=15:e.clientX>=t.left+t.width-20&&(l.scrollLeft+=15)},5)}}}},{key:"select",value:function(e,l){this._setSelection(e,l)}},{key:"unselect",value:function(e,l){var t=this;t._selection&&(t._selection.rows&&t._selection.rows[e]&&delete t._selection.rows[e],t._selection.columns&&t._selection.columns[l]&&delete t._selection.columns[l],t._selection.cells&&(t._selection.cells["row"+e]&&(delete t._selection.cells["row"+e][l],1===Object.getOwnPropertyNames(t._selection.cells["row"+e]).length&&delete t._selection.cells["row"+e]),t._selection.cells["column"+l]&&(delete t._selection.cells["column"+l][e],1===Object.getOwnPropertyNames(t._selection.cells["column"+l]).length&&delete t._selection.cells["column"+l])))}},{key:"getSelection",value:function(){var e=this,l=null,t=null,n=null,o=null;if(e._selection.rows&&Object.keys(e._selection.rows).length>0){var a=Object.keys(e._selection.rows);l=[];for(var i=0;i<a.length;i++){var r=a[i];l.push({id:r,row:e.rowById[r]})}}if(e._selection.columns&&Object.keys(e._selection.columns).length>0){var c=Object.keys(e._selection.columns);t=[];for(var d=0;d<c.length;d++){var s=c[d];t.push({dataField:s,column:e.columnByDataField[s]})}}if(e._selection.cells)for(var u in e._selection.cells)if(u.startsWith("row")){var f=u.replace("row",""),m=null;for(var v in e._selection.cells[u])m=v.replace("column",""),n||(n=[]),n.push({id:f,dataField:m,column:e.columnByDataField[m],row:e.rowById[f]})}return e._selection.focusedCell&&(o={id:e._selection.focusedCell.row.id,dataField:e._selection.focusedCell.column.dataField}),{rows:l,columns:t,cells:n,focused:o}}},{key:"clearSelection",value:function(){var e=this;e._selection.rows=[],e._selection.columns=[],e._selection.cells=[],e._recycle()}},{key:"_getSelectionCellValues",value:function(){var e=this;if(e._selection.selectionRect)return e._selection.selectionRect.cellValues;if(e._selection.rows.length>0){var l=[];for(var t in e._selection.rows)for(var n=e.rowById[t],o=0;o<e.columns.length;o++){var a=e.columns[o];a&&(l[t]||(l[t]=[]),l[t][a.dataField]=n.data[a.dataField])}return l}if(e._selection.columns.length>0){var i=[];for(var r in e._selection.columns){var c=e.columnByDataField[r];if(c)for(var d=0;d<e._recyclingRows.length;d++){var s=e._recyclingRows[d];s&&(i[s.id]||(i[s.id]=[]),i[s.id][c.dataField]=s.data[c.dataField])}}return i}}},{key:"_clipboardHandler",value:function(e,l){var t=this;if(t.clipboard.enabled){if(l.ctrlKey&&("c"===e||"x"===e)){var n=t._getSelectionCellValues(),o="",a=Object.keys(n).length,i=0;for(var r in n){var c="",d=Object.keys(n[r]).length,s=0;for(var u in n[r]){c+=n[r][u],s++,s<d&&(c+="\t")}o+=c,i++,i<a&&(o+="\r\n")}navigator.clipboard.writeText(o).then(function(){},function(){})}l.ctrlKey&&"v"===e&&navigator.clipboard.readText().then(function(e){for(var l=[],n=e.split("\r"),o=0;o<n.length;o++){for(var a=n[o],i=a.split("\t"),r={},c=0;c<i.length;c++)r[c]=i[c].trim();l[o]=r}var d=t._selection.selectionRect;if(d)t._pasteSelectedCells({row:d.row,endRow:d.endDragRow,column:d.column,endColumn:d.endColumn},l);else{var s=null,u=null;for(var f in t._selection.rows){var m=t.rowById[f];s||(s=m),u||(u=m),s.visibleIndex>m.visibleIndex&&(s=m),u.visibleIndex<m.visibleIndex&&(u=m)}s&&u&&t._pasteSelectedCells({row:s,endRow:u,column:t.columns[0],endColumn:t.columns[t.columns.length-1]},l)}})}}},{key:"_keyDownHandler",value:function(e){var l=this;if(!l.onKey||(l.onKey(e),!e.defaultPrevented)){var t=e.key;if(!l.disabled&&0!==l.dataSource.length&&!l.disabled&&!l.displayLoadingIndicator){l._refreshCellSelectionRect();var n=l.getSelection(),o=n.focused;if(n.focused){var a=l._getParentCell(l.rowById[o.id],o.dataField);if(a&&("ArrowLeft"===t?(o.id=a.row.id,o.dataField=a.column.dataField):"ArrowRight"===t?(o.id=a.row.id,o.dataField=a.endColumn.dataField):"ArrowUp"===t?(o.id=a.row.id,o.dataField=a.column.dataField):"ArrowDown"===t&&(o.id=a.endRow.id,o.dataField=a.column.dataField)),l._selection.selectionRect&&e.shiftKey&&!e.ctrlKey?(l._selection.selectionRect.endRow&&(o.id=l._selection.selectionRect.endRow.id),l._selection.selectionRect.endColumn&&(o.dataField=l._selection.selectionRect.endColumn.dataField)):l.selection.allowRowSelection&&!l.selection.allowCellSelection&&void 0!==l._rangeSelectionEndRow&&(o.id=l._rangeSelectionEndRow.id),l._clipboardHandler(t,e),
(e.ctrlKey&&"x"!==t&&"c"!==t&&"v"!==t&&"Control"!==t||"Tab"===t)&&(l._selection.rows=[],l._selection.columns=[],l._selection.cells=[]),"Escape"===t)return l.closeMenu(),l.cancelEdit(),void l._setSelection(o.id,o.dataField,e);if(!l.hasMenu())if(e.altKey){if("ArrowDown"===t){var i=l.columnByDataField[o.dataField];i&&(i.showActionButton=!0,i.onAction(),l.menu&&(l.menu.querySelector("jqx-menu").focus(),l.menu.querySelector("jqx-menu").$.dispatch(e)))}else"ArrowUp"===t&&l.closeMenu();if("s"===t.toLowerCase()){var r=l.columnByDataField[o.dataField];r&&(r.sorted?"asc"===r.sortOrder?l.sortBy(r.dataField,"desc"):l.sortBy(r.dataField,null):l.sortBy(r.dataField,"asc"))}if("g"===t.toLowerCase()){var c=l.columnByDataField[o.dataField];c&&(c.group=!c.group)}}else{var d=function(t,n){requestAnimationFrame(function(){"extended"!==l.selection.mode&&l.clearSelection(),l.beginUpdate(),l._setSelection(t,n,e),l.ensureVisible(t,n),l.endUpdate(!1),l._recycle()}),e.stopPropagation(),e.preventDefault()};switch(t){case"Tab":var s=e.shiftKey?l.prevColumn(o.dataField):l.nextColumn(o.dataField);if(s)l._selection.focusedCell=l.rowById[o.id].getCell(s.dataField),l._setSelection(o.id,s.dataField,e),l.focus(),e.stopPropagation(),e.preventDefault();else{var u=e.shiftKey?l.prevRow(o.id):l.nextRow(o.id),f=e.shiftKey?l.lastColumn().dataField:l.firstColumn().dataField;if(l.editing.addNewRow.autoCreate&&!e.shiftKey&&o.id===l.lastRow().id&&(l.addUnboundRow(1),u=l.lastRow()),!u)return;e.shiftKey&&(l._selection.focusedCell=null),d(u.id,f)}break;case" ":case"F2":var m=l.rowById[o.id];if(!m||l.editing.editCell)return;l._beginEdit(m,o.dataField);break;case"Delete":case"Backspace":var v=l.rowById[o.id];if(!v||l.editing.editCell)return;var g=v.getCell(o.dataField),_=g.value;if(n.cells){l.beginUpdate();for(var p=0;p<n.cells.length;p++){var h=n.cells[p],w=l.rowById[h.id];if(w){var y=w.getCell(h.dataField);y.value=null}}l.endUpdate(!1),l._recycle()}"Backspace"===t&&(l._beginEdit(v,o.dataField),g.canNotify=!1,g.value=_,g.canNotify=!0);break;default:if(l.editing.enabled&&!l.editing.editCell&&!e.ctrlKey&&!e.altKey){var S=l.rowById[o.id];if(!S)return;if(["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Shift","Up","Down","Left","Right","Control","F2","Esc"," ","Home","End","PageUp","PageDown"].indexOf(t)>=0)return;l._beginEdit(S,o.dataField),setTimeout(function(){l.editing.editCell&&l.editing.editCell.editor.instance.setValue(t)},50)}break;case"Home":var R=l.firstRow();if(!R)return;d(R.id,o.dataField);break;case"End":var C=l.lastRow();if(!C)return;d(C.id,o.dataField);break;case"PageUp":for(var x=l._recyclingRows,F=l.rowById[o.id],b=x.indexOf(F),O=b;O>=0;O--){var D=x[O];if(F.top-D.top>=l.$.scrollView.offsetHeight)return void d(D.id,o.dataField)}d(l.firstRow().id,o.dataField);break;case"PageDown":for(var M=l._recyclingRows,k=l.rowById[o.id],I=M.indexOf(k),B=I;B<M.length;B++){var L=M[B];if(L.top-k.top>=l.$.scrollView.offsetHeight)return void d(L.id,o.dataField)}d(l.lastRow().id,o.dataField);break;case"ArrowDown":case"Enter":var V=e.ctrlKey?l.lastRow():l.nextRow(o.id);if(l.editing.addNewRow.autoCreate&&"Enter"===t&&o.id===l.lastRow().id&&(l.addUnboundRow(1),V=l.lastRow()),!V)return;d(V.id,o.dataField);break;case"ArrowUp":var A=e.ctrlKey?l.firstRow():l.prevRow(o.id);if(!A)return;d(A.id,o.dataField);break;case"ArrowRight":var T=l.rowById[o.id];if(!1===T.leaf){if(!T.expanded)return void T.expand();var P=l.nextRow(o.id);if(P)return void d(P.id,o.dataField)}var z=e.ctrlKey?l.lastColumn():l.nextColumn(o.dataField);if(!z)return;d(o.id,z.dataField);break;case"ArrowLeft":var U=l.rowById[o.id];if(!1===U.leaf)return void(U.expanded?U.collapse():U.parent&&d(U.parent.id,o.dataField));if(!0===U.leaf&&U.parent)return void d(U.parent.id,o.dataField);var E=e.ctrlKey?l.firstColumn():l.prevColumn(o.dataField);if(!E)return;d(o.id,E.dataField)}["Shift","Up","Down","Left","Right","Control","F2","Esc"," ","Home","End","PageUp","PageDown"].indexOf(t)<0||(e.stopPropagation(),e.preventDefault())}}}}}},{key:"firstRow",value:function(){var e=this,l=e._recyclingRows;if(l&&l.length>0){if(!l[0].autoGenerated)return l[0];for(var t=0;t<l.length;t++)if(!l[t].autoGenerated)return l[t]}return null}},{key:"lastRow",value:function(){var e=this,l=e._recyclingRows;if(l&&l.length>0){var t=l[l.length-1];if(!t.autoGenerated)return t;for(var n=l.length-1;n>=0;n--)if(!l[n].autoGenerated)return l[n]}return null}},{key:"nextRow",value:function(e){var l=this,t=l._recyclingRows,n=l.rowById[e],o=t.indexOf(n);return o>=0&&t[o+1]&&!t[o+1].autoGenerated?t[o+1]:null}},{key:"prevRow",value:function(e){var l=this,t=l._recyclingRows,n=l.rowById[e],o=t.indexOf(n);return o>=0&&t[o-1]&&!t[o-1].autoGenerated?t[o-1]:null}},{key:"firstColumn",value:function(){var e=this,l=e.columns;return l&&l.length>0?l[0]:null}},{key:"lastColumn",value:function(){var e=this,l=e.columns;return l&&l.length>0?l[l.length-1]:null}},{key:"nextColumn",value:function(e){var l=this,t=l.columns,n=l.columnByDataField[e],o=t.indexOf(n);return t[o+1]?t[o+1]:null}},{key:"prevColumn",value:function(e){var l=this,t=l.columns,n=l.columnByDataField[e],o=t.indexOf(n);return t[o-1]?t[o-1]:null}},{key:"ensureVisible",value:function(e,l){var t=this,n=t._scrollView.vScrollBar,o=t._scrollView.hScrollBar,a=t.rowById[e],i=t.columnByDataField[l];!function(e){if(e){var l=e.visibleIndex;-1!==l&&(e.top+e.height+o.offsetHeight+t.__frozenNearHeight>=t._scrollView.scrollTop+t.$.scrollView.offsetHeight-t.__frozenFarHeight&&(t._scrollView.scrollTop=e.top+e.height),e.top<=t._scrollView.scrollTop&&(t._scrollView.scrollTop=e.top),0===l?t._scrollView.scrollTop=0:l===t.dataSource.length-1&&(t._scrollView.scrollTop=t._scrollView.scrollHeight))}}(a);!function(e){if(l){var o=e.visibleIndex;-1!==o&&(e.left+e.computedWidth+n.offsetWidth>=t._scrollView.scrollLeft+t._clientSize.width&&(t._scrollView.scrollLeft=t._scrollView.scrollLeft+e.computedWidth),e.left<=t._scrollView.scrollLeft&&(t._scrollView.scrollLeft=e.left),0===o?t._scrollView.scrollLeft=0:o===t.columns.length-1&&(t._scrollView.scrollLeft=t._scrollView.scrollWidth))}}(i)}},{key:"_keyUpHandler",value:function(){this._focused}}]),e}());
//# sourceMappingURL=jqxgrid.select.js.map
