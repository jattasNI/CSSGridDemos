"use strict";JQX.Utilities.Assign("Grid.Cell",function(){function e(t,l){babelHelpers.classCallCheck(this,e);var i=this;return i.row=t,i.column=l,i.grid=t.grid,i.rowSpan=1,i.colSpan=1,i.value=void 0,i.fontSize=null,i.fontWeight=null,i.fontFamily=null,i.color=null,i.background=null,i.borderColor=null,i.tooltip=null,i.align=null,i.verticalAlign=null,i.readonly=!1,i.oldValue=void 0,i._updating=!1,i.styleChanged=!0,i.editor=null,i.template=null,i.isEditing=!1,i.canNotify=!0,i.selected=!1,i.focused=!1,new Proxy(i,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){if("value"===t){return i.column.displayField?i.row.data[i.column.displayField]:i.row.data[i.column.dataField]}if("editor"===t||"template"===t)return e[t]||i.column[t];if("focused"===t){if(i.grid.selection.allowCellSelection&&i.grid._selection.focusedCell&&i.grid._selection.focusedCell.row.id===i.row.id&&i.grid._selection.focusedCell.column.dataField===i.column.dataField)return!0;var l=i.parent();return!!(l&&i.grid.selection.allowCellSelection&&i.grid._selection.focusedCell&&i.grid._selection.focusedCell.row.id===l.row.id&&i.grid._selection.focusedCell.column.dataField===l.column.dataField)}if("selected"===t)return!0===i.row.getProperty("selected")||(!0===i.column.getProperty("selected")||!!i.grid._selection.cells["row"+i.row.id]&&i.grid._selection.cells["row"+i.row.id][i.column.dataField]);if("modifiedValue"===t){var n=i.grid._cellsUpdatedValues[i.row.id+"_"+i.column.dataField];return void 0!==n?n:e.value}return e[t]},set:function(e,t,l){var n=this.get(e,t);if(n===l)return!0;if(e[t]=l,"element"===t||"isEditing"===t||"oldValue"===t||"_updating"===t||"notifyFn"===t||t.startsWith("_")||"canNotify"===t)return!0;if("focused"===t&&(i.grid._selection.focusedCell=i),"colSpan"!==t&&"rowSpan"!==t||l>=0&&-1===i.grid._cellsMerge.indexOf(i)&&i.grid._cellsMerge.push(i),"row"===t||"column"===t||"grid"===t||"styleChanged"===t)return!0;if("background"!==t&&"fontSize"!==t&&"fontWeight"!==t&&"fontFamily"!==t&&"color"!==t&&"borderColor"!==t&&"fontStyle"!==t||(i._styleChanged=!0),"value"===t){void 0===i.oldValue&&(i.oldValue=n),i.grid.dataSource.boundSource.canNotify=!1,null!==l&&l.label&&l.value?(i.row.data[i.column.displayField]=l.label,i.row.data[i.column.dataField]=l.value):(i.column.valueField&&(i.row.data[i.column.valueField]=l),i.row.data[i.column.dataField]=l);var r=i.grid.dataSource.dataItemById[i.row.id];if(r){var a=r.$.index;l!==i.grid.dataSource[a][i.column.dataField]&&(i.grid.dataSource[a][i.column.dataField]=l)}i.grid.dataSource.boundSource.canNotify=!0}return"selected"===t&&(i.grid._selection.cells["row"+i.row.id]&&(delete i.grid._selection.cells["row"+i.row.id][i.column.dataField],1===Object.getOwnPropertyNames(i.grid._selection.cells["row"+i.row.id]).length&&delete i.grid._selection.cells["row"+i.row.id]),i.grid._selection.cells["column"+i.column.dataField]&&(delete i.grid._selection.cells["column"+i.column.dataField][i.row.id],1===Object.getOwnPropertyNames(i.grid._selection.cells["column"+i.column.dataField]).length&&delete i.grid._selection.cells["column"+i.column.dataField]),l&&(i.grid._selection.cells["row"+i.row.id]||(i.grid._selection.cells["row"+i.row.id]=[]),i.grid._selection.cells["column"+i.column.dataField]||(i.grid._selection.cells["column"+i.column.dataField]=[]),i.grid._selection.cells["row"+i.row.id][i.column.dataField]=!0,i.grid._selection.cells["column"+i.column.dataField][i.row.id]=!0)),!(!i._updating&&i.canNotify)||(!i.row.canNotify||(i.grid._recycle(),i.propertyChanged&&i.propertyChanged(name.substring(1),n),!0))}})}return babelHelpers.createClass(e,[{key:"setStyle",value:function(e){var t=this;t._styleChanged&&(e.style.background=t.background,e.style.borderColor=t.borderColor,e.style.color=t.color,e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.paddingBottom="",t._styleChanged=!1)}},{key:"getFormattedValue",value:function(e,t){var l=this;return void 0===e||null===e||""===e?e:"date"===l.column.dataType||"datetime"===l.column.dataType||"time"===l.column.dataType?l.formatDate(e,t):"int"===l.column.dataType||"int64"===l.column.dataType||"float"===l.column.dataType||"number"===l.column.dataType?l.formatNumber(e,t):e}},{key:"formatDate",value:function(e,t){if(!JQX.Utilities.DateTime)return e;try{return new JQX.Utilities.DateTime(e).toString(t)}catch(t){return e}}},{key:"formatNumber",value:function(e,t){if(!JQX.Utilities.NumberRenderer)return e;var l=new JQX.Utilities.NumberRenderer,i=l.formatNumber(e,t);return void 0===i?e:i}},{key:"refresh",value:function(){var e=this;if(e.element){var t=e.element.firstChild;e.setStyle(t)}}},{key:"setProperties",value:function(e){var t=this;t._updating=!0;for(var l in e)t[l]=e[l];t._updating=!1,t.grid._recycle()}},{key:"createElement",value:function(){var e=this,t=document.createElement("jqx-grid-cell");return e.element=t,t._initialize(e),t}},{key:"render",value:function(){var e=this;e.element&&e.element._render()}},{key:"parent",value:function(e){var t=this,l=t.row,i=t.column.dataField,n=t.grid;if(!n._cellsMerge.length)return null;if(t.__parentCells&&void 0!==t.__parentCells["row"+l.id+"_column_"+i])return t.__parentCells["row"+l.id+"_column_"+i];var r=n.getVisibleRows();n.paging.enabled&&"page"===n.selection.selectAllMode&&(r=r.slice(n.paging.pageIndex*n.paging.pageSize,(n.paging.pageIndex+1)*n.paging.pageSize)),t.__parentCells||(t.__parentCells=[]);for(var a=0;a<n._cellsMerge.length;a++){var o=n._cellsMerge[a],d=[],s=[];if(d.push(o.row),o.rowSpan>1){var u=r.indexOf(o.row);if(u>=0)for(var c=u;c<u+o.rowSpan;c++)r[c]&&-1===d.indexOf(r[c])&&d.push(r[c])}if(s.push(o.column.dataField),o.colSpan>1)for(var m=n.columns.indexOf(n.columnByDataField[o.column.dataField]),g=m;g<m+o.colSpan;g++)n.columns[g]&&-1===s.indexOf(n.columns[g].dataField)&&s.push(n.columns[g].dataField);if(d.indexOf(l)>=0&&s.indexOf(i)>=0){if(e){var p={cell:o.row.getCell(o.column.dataField),rows:d,columns:s,row:o.row,column:o.column,endRow:d[d.length-1],endColumn:n.columnByDataField[s[s.length-1]]};return t.__parentCells["row"+l.id+"_column_"+i]=p,p}var v=o.row.getCell(o.column.dataField);return t.__parentCells["row"+l.id+"_column_"+i]=v,v}}return t.__parentCells["row"+l.id+"_column_"+i]=null,null}}]),e}()),JQX("jqx-grid-cell",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"addThemeClass",value:function(){}},{key:"addDefaultClass",value:function(){}},{key:"_initialize",value:function(e){var t=this,l=document.createElement("div"),i=e.column,n=e.row,r=e.grid;t.cell=e,t.appendChild(l);var a=!1;if(i&&i._treeColumn&&r.dataSource.boundHierarchy&&(a=!0,!r.grouping.enabled&&r.dataSource.groupBy&&r.dataSource.groupBy.length>0&&(a=!1)),a){var o=document.createElement("div"),d=document.createElement("button"),s=document.createElement("div"),u=document.createElement("div");return n.expanded?d.setAttribute("toggled",""):d.removeAttribute("toggled",""),t.toggleButton=d,l.appendChild(o),l.appendChild(u),u.setAttribute("content",""),o.setAttribute("indent",""),s.setAttribute("label",""),d.setAttribute("toggle-button",""),t.setAttribute("has-toggle-button",""),u.appendChild(d),u.appendChild(s),void(t.content=s)}var c=document.createElement("div");l.appendChild(c),t.content=l}},{key:"_renderCommands",value:function(){var e=this,t=e.cell.grid;if(t.__cellsCommandTemplate)return e.firstChild.innerHTML=t.__cellsCommandTemplate,void t._updateCommandColumnCommandsVisibility(e.firstChild,e.cell.row);var l=t._getCommandColumnCommandsTemplate();e.firstChild.innerHTML=l,t._updateCommandColumnCommandsVisibility(e.firstChild,e.cell.row),t.__cellsCommandTemplate=l}},{key:"_renderGroupCell",value:function(){var e=this,t=e.cell.grid,l=e.cell.column,i=e.cell.row;[].concat(babelHelpers.toConsumableArray(e.attributes)).forEach(function(t){return e.removeAttribute(t.name)}),e.style.width!==l.computedWidth+"px"&&(e.style.width=l.computedWidth+"px"),e.style.left!==l.left+"px"&&(e.style.left=l.left+"px"),e.classList.contains("jqx-hidden")&&e.classList.remove("jqx-hidden");var n=i.label;if(void 0!==i.label){var r="";if(t.grouping.summaryRow.visible){var a=function e(t,l,i){for(var n=0;n<l.length;n++){var r=l[n];void 0!==r[t]&&i.push(r),r.summaryRow||(r.children?e(t,r.children,i):r.data&&r.data.children&&e(t,r.children,i))}return i}(l.dataField,i.summaryRow?i.parent.data.children:i.data.children,[]),o={},d=l._treeColumn?l.summary.length>0?l.summary:["count"]:l.summary;o[l.dataField]=d;var s=d.length>0?t.dataSource.summarize([o],a):null;if(s)for(var u=0;u<d.length;u++){var c=d[u];r+="<span summary>"+t.localize(c,{value:s[l.dataField][c]})}}l._treeColumn?(n=i.summaryRow?"<div header><span group></span><span value></span></div>":"<div header><span group>"+t.columnByDataField[i.groupDataField].label+"</span><span value>"+i.label+"</span></div>",r&&(n+="<div summary>",n+=r,n+="</div>"),e.setAttribute("has-toggle-button","")):(n="<div content><div label><div header><span group></span><span value></span></div>",r&&(n+="<div summary>",n+=r,n+="</div>"),n+="</div></div>")}var m=e.firstChild;if(t.dataSource.boundHierarchy&&e.toggleButton){var g=m.children[0],p=m.children[1].children[0],v=m.children[1].children[1];g.setAttribute("indent",""),i.leaf?p.classList.add("jqx-visibility-hidden"):(p.classList.remove("jqx-visibility-hidden"),i.expanded?p.setAttribute("toggled",""):p.removeAttribute("toggled",""));var f="";if(l._treeColumn?e.toggleButton.classList.remove("jqx-hidden"):e.toggleButton.classList.add("jqx-hidden"),l._treeColumn)if(t.grouping.enabled&&t.dataSource.groupBy.length>0){var h=i.level;void 0===i.label&&h--,f+='<div style="width: '+(1+h)*t.grouping.groupIndent+'px;"></div>'}else for(var b=0;b<i.level;b++)f+="<div class='jqx-indent'></div>";t._adaptiveLayout>0&&(p.classList.add("jqx-hidden"),f=""),void 0===i.label?p.classList.add("jqx-hidden"):(p.classList.remove("jqx-hidden"),p.style.marginLeft="",l._treeColumn&&t.grouping.enabled&&t.grouping.toggleButtonIndent>0&&(p.style.marginLeft=i.level*(t.grouping.toggleButtonIndent-t.grouping.groupIndent)+"px")),g.innerHTML=f,v.innerHTML=n,t.appearance.showTooltips?v.setAttribute("title",i.label?i.label:n):v.hasAttribute("title")&&v.removeAttribute("title")}else void 0!==i.label&&t.grouping.enabled&&!e.toggleButton&&(m.innerHTML=n);if(t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0){var y=t.grouping.groupIndent*(1+i.level);l.dataField===t.columns[t.columns.length-1].dataField&&(e.style.width=l.computedWidth-y+"px",t.appearance.showColumnLines&&m.firstChild.classList.add("jqx-grid-column-border"))}if("jqx-label"!==m.className&&(m.className="jqx-label"),l.formatFunction){var C={row:i,column:l,cell:e.cell,value:null,template:null,group:{value:n,template:null}};l.formatFunction(C),C.group.value!==n&&(m.innerHTML=C.group.value),null!==C.group.template&&(m.innerHTML=C.group.template)}}},{key:"_render",value:function(){var e=this,t=e.cell.grid,l=e.cell.column,i=e.cell.row,n=i.data;if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&void 0!==i.label)return void e._renderGroupCell();if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&e.toggleButton&&(e.toggleButton.classList.remove("jqx-hidden"),e.toggleButton.classList.remove("jqx-visibility-hidden"),e.toggleButton.style.marginLeft="",l._treeColumn&&t.grouping.enabled&&t.grouping.toggleButtonIndent>0&&(e.toggleButton.style.marginLeft=i.level*(t.grouping.toggleButtonIndent-t.grouping.groupIndent)+"px")),!l.visible)return void(e.style.width="0px");t.appearance.showSortColumnBackground?l.sorted?e.setAttribute("sort",""):e.removeAttribute("sort"):l.sorted&&e.hasAttribute("sort")&&e.removeAttribute("sort"),t.appearance.showFilterColumnBackground?l.filtered?e.setAttribute("filter",""):e.removeAttribute("filter"):l.filtered&&e.hasAttribute("filter")&&e.removeAttribute("filter");var r=l.displayField?n[l.displayField]:n[l.dataField];if(t.editing.batch){if(t._cellsUpdatedValues){e.removeAttribute("update");var a=t._cellsUpdatedValues[i.id+"_"+l.dataField];void 0!==a&&(e.setAttribute("update",""),r=a)}t._rowsDeleted&&(t._rowsDeleted.indexOf(i)>=0?e.setAttribute("delete",""):e.removeAttribute("delete")),t._rowsAdded&&(t._rowsAdded.indexOf(i.id)>=0?e.setAttribute("add",""):e.removeAttribute("add"))}!t.onCellValue||l.rowNumbersColumn||l.selectionColumn||(e.cell._updating=!0,t.onCellValue(e.cell),e.cell._updating=!1,r=e.cell.value),void 0===r&&(r="");var o=r;l.cellsFormat&&(o=e.cell.getFormattedValue(r,l.cellsFormat));var d=e.firstChild;(t.onCellRender||l.onCellRender)&&requestAnimationFrame(function(){if(l._cellsCachedValues||(l._cellsCachedValues=[]),l._cellsCachedValues[i.index]){var n=l._cellsCachedValues[i.index];d.firstChild&&d.removeChild(d.firstChild),d.appendChild(n)}else if(t.onCellRender?t.onCellRender(e.cell):l.onCellRender(e.cell),e.cell.template!==l.template){var r=document.createElement("div");return d.firstChild&&d.removeChild(d.firstChild),e.cell.template instanceof HTMLTemplateElement?r.appendChild(e.cell.template.cloneNode(!0)):r.appendChild(e.cell.template),d.appendChild(r),void(l._cellsCachedValues[i.index]=r)}}),l.autoGenerated||e.setAttribute("data-field",l.dataField),e.cell.focused?e.setAttribute("focus",""):e.removeAttribute("focus"),e.cell.selected?e.setAttribute("selected",""):e.removeAttribute("selected"),t.rowDetail.enabled&&i.showDetail&&(e.style.height=i.cellHeight+"px",e.style.lineHeight=i.cellHeight+"px"),(i.adaptiveDetailExpanded||t.adaptivityMode.responsiveLayout.autoShowHiddenCells&&i.adaptiveHeight)&&(e.style.height=i.cellHeight+"px",e.style.lineHeight=i.cellHeight+"px"),i.expanded&&i.expandHeight>0&&(e.style.height=i.cellHeight+"px",e.style.lineHeight=i.cellHeight+"px");var s=e._getCellAlignment(i,l),u=""!==e.cell.template&&t.isInitialized,c="";if(s.align&&(c+=s.align+" "),s.verticalAlign&&(c+=s.verticalAlign+" "),c+="jqx-label",e.style.width!==l.computedWidth+"px"){var m=t._isLastVisibleColumn(l);l.autoGenerated||m?e.style.width=l.computedWidth+"px":e.style.width=l.computedWidth-t._columnGap+"px"}if(t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0){var g=t.grouping.groupIndent*(1+i.level);l.dataField===t.columns[t.columns.length-1].dataField&&(e.style.width=l.computedWidth-g+t.grouping.groupIndent+"px",t.appearance.showColumnLines&&e.classList.add("jqx-grid-column-border"))}l===t._firstVisibleColumn?e.classList.add("jqx-grid-column-border-collapse"):e.classList.remove("jqx-grid-column-border-collapse"),t._columnGap>0&&t.appearance.showColumnLines&&e.classList.add("jqx-grid-column-border"),t._rowGap>0&&e.classList.add("jqx-grid-row-border"),t.appearance.showColumnLines?e.classList.remove("jqx-grid-vertical-border-collapse"):e.classList.add("jqx-grid-vertical-border-collapse"),t.appearance.showRowLines?e.classList.remove("jqx-grid-horizontal-border-collapse"):e.classList.add("jqx-grid-horizontal-border-collapse");var p=l.left;if(e.style.left!==p+"px"&&(e.style.left=p+"px"),e.classList.contains("jqx-hidden")&&e.classList.remove("jqx-hidden"),e.hasAttribute("template")&&e.removeAttribute("template"),e.hasAttribute("freeze")&&e.removeAttribute("freeze"),e.hasAttribute("adaptive")&&e.removeAttribute("adaptive"),e.hasAttribute("detail")&&e.removeAttribute("detail"),i.filterRow?e.classList.add("jqx-grid-filter-row-cell"):i.summaryRow?e.classList.add("jqx-grid-summary-row-cell"):(l.freeze||i.freeze)&&(l.selectionColumn&&(e.setAttribute("checkbox",""),c+=" jqx-input",l.grid.selection.checkBoxes.enabled&&l.grid.selection.checkBoxes.autoShow?e.setAttribute("auto-show",""):e.removeAttribute("auto-show")),(l.rowNumbersColumn||l.selectionColumn)&&e.setAttribute("header",""),l.rowDetailColumn&&(e.setAttribute("header",""),e.setAttribute("detail",""),e.setAttribute("has-toggle-button","")),l.commandColumn&&e.setAttribute("command",""),t.appearance.showFrozenColumnBackground&&l.freeze&&e.setAttribute("freeze",""),t.appearance.showFrozenRowBackground&&i.freeze&&e.setAttribute("freeze","")),l.cellsRotationAngle){if(!e._rotateCellContent(d,l,r))return}else if(i.filterRow)l.adaptiveColumn||l.toggleColumn||l.rowNumbersColumn?d.innerHTML="":l.filterEditorInitialized||(l.filterEditorInitialized=!0);else if(i.summaryRow){if(l.adaptiveColumn||l.toggleColumn||l.rowNumbersColumn)d.innerHTML="";else if(l.summary.length>0&&t._summaryItems){var v=t._summaryItems[l.dataField],f=0;for(var h in v)f===i.summaryRowIndex&&(d.innerHTML=t.localize(h,{value:v[h]})),f++}}else if(t.rowDetail.enabled&&l.rowDetailColumn)""!==d.innerHTML&&(i.showDetail?d.innerHTML='<button class="jqx-animate" toggled toggle-button></button>':d.innerHTML='<button class="jqx-animate" toggle-button></button>',i.element.toggleDetailButton=e.querySelector("button"));else if(l.adaptiveColumn)e.removeAttribute("expanded"),i.adaptiveDetailExpanded&&e.setAttribute("expanded",""),new Date-t._lastPointerDownTime<300&&(c+=" jqx-animate");else if(l.commandColumn)e._renderCommands();else if(t.appearance.showRowNumber&&l.rowNumbersColumn)i.addNewRow?d.textContent="":t._rowsAdded&&t._rowsAdded.indexOf(i.id)>=0?d.textContent="":d.textContent=i.visibleIndex+1;else if(u)switch(e.removeAttribute("readonly"),e.cell.template){case"checkBox":case"switchButton":case"radioButton":""!==d.textContent&&(d.textContent=""),(!t.editing.enabled||!l.allowEdit||e.cell.readonly||t.editing.enabled&&t.editing.commandColumn.visible&&t.editing.editRow!==e.cell.row)&&e.setAttribute("readonly",""),'<span class="jqx-input"></span>'!==d.innerHTML&&(d.innerHTML='<span class="jqx-input"></span>'),r?d.firstChild.setAttribute("checked",""):null===r?d.firstChild.setAttribute("checked","indeterminate"):d.firstChild.removeAttribute("checked"),e.setAttribute("template",e.cell.template);break;default:var b=null;if(e.setAttribute("template",""),"function"==typeof e.cell.template){var y={row:i,column:l,cell:e.cell,oldValue:e.cell.oldValue,value:r,template:null},C=d.querySelector(".jqx-grid-cell-template");if(C&&(y.template=C.firstElementChild),e.cell.template(y),!C&&y.template)if(y.template instanceof HTMLElement){var w=document.createElement("div");w.classList.add("jqx-grid-cell-template"),d.appendChild(w),w.appendChild(y.template)}else d.innerHTML='<div class="jqx-grid-cell-template">'+y.template+"</div>";else C||null!==y.template||(d.innerHTML=r);e.cell._styleChanged&&e.cell.setStyle(d)}else if(""!==d.textContent&&(d.textContent=""),e.cell.template.startsWith("#")&&(b=document.querySelector(e.cell.template)),b){var _=b.content.cloneNode(!0).firstElementChild;r=r.toString(),r=r.replace(/'/gi,"\\'"),r=r.replace(/"/gi,'\\"');var x=_.outerHTML.replace(/{{value}}/gi,r).replace(/{{id}}/gi,i.id);x.indexOf("{{value=")>=0&&(r?(x=x.substring(0,x.indexOf("{{value="))+r+x.substring(x.indexOf("}")),x=x.replace(/}/gi,""),x=x.replace(/{/gi,"")):(x=x.replace(/{{value=/gi,""),x=x.replace(/}}/gi,""))),d.innerHTML!==x&&(d.innerHTML=x)}else{var A=e.cell.template.replace(/{{value}}/gi,r).replace(/{{id}}/gi,i.id);d.innerHTML!==A&&(d.innerHTML=A)}}else if(l.selectionColumn)"checkBox"===t.selectionMode&&(i.getProperty("selected")?e.setAttribute("selected",""):e.getAttribute("selected")&&e.removeAttribute("selected"));else{var L=d.firstChild;if(L&&L.classList&&e.toggleButton){var F=d.children[0],S=d.children[1].children[0],H=d.children[1].children[1],T="";if(l._treeColumn)if(t.grouping.enabled){var j=i.level-1;T+='<div style="width: '+(1+j)*t.grouping.groupIndent+'px;"></div>'}else for(var k=0;k<i.level;k++)T+="<div class='jqx-indent'></div>";F.innerHTML=T,S.classList.add("jqx-visibility-hidden"),i.leaf?S.classList.add("jqx-visibility-hidden"):(S.classList.remove("jqx-visibility-hidden"),i.expanded?S.setAttribute("toggled",""):S.removeAttribute("toggled","")),i.data.isEmpty&&S.classList.add("jqx-visibility-hidden"),H.innerHTML=o,t.appearance.showTooltips?H.setAttribute("title",o):H.hasAttribute("title")&&H.removeAttribute("title")}else{var q=i["column_"+l.dataField];if(e.getAttribute("rowspan")&&(e.removeAttribute("rowspan"),e.style.height=""),e.getAttribute("colspan")&&e.removeAttribute("colspan"),q){if(q.colSpan>1){for(var M=t.columns.indexOf(l),B=0,z=M;z<M+q.colSpan;z++){var N=t.columns[z];N&&N.visible&&(B+=N.computedWidth)}e.style.width=B+"px",e.setAttribute("colspan",""),q._styleChanged=!0}if(q.rowSpan>1){var V=t.rows.indexOf(i),E=0;i.element.setAttribute("rowspan","");for(var R=V;R<=V+q.rowSpan-1;R++){var O=t.rows[R];O&&O.visible&&O.filtered&&(E+=O.cellHeight)}e.style.height=E+"px",e.setAttribute("rowspan",""),q._styleChanged=!0}(1===q.colSpan&&e.hasAttribute("colspan")||e.hasAttribute("rowspan")&&1===q.rowSpan)&&(e.style.height="",e.style.width="",e.removeAttribute("colspan"),e.removeAttribute("rowspan"),q._styleChanged=!0),d.textContent===o||l.formatFunction||(d.textContent=o),q.setStyle(d),t.appearance.showTooltips?d.setAttribute("title",q.tooltip||o):d.hasAttribute("title")&&d.removeAttribute("title")}else d.textContent=o}}if(d.className!==c&&(d.className=c),l.formatFunction&&!i.data.isEmpty&&t.isInitialized){var D={row:i,column:l,cell:e.cell,oldValue:e.cell.oldValue,value:r,formattedValue:o,template:null};e.cell.canNotify=!1,i.canNotify=!1;var I=Object.assign({},{background:e.cell.background,borderColor:e.cell.borderColor,color:e.cell.color,fontSize:e.cell.fontSize,fontFamily:e.cell.fontFamily,fontWeight:e.cell.fontWeight,fontStyle:e.cell.fontStyle});l.formatFunction(D),d.style.background===I.background&&d.style.borderColor===I.borderColor&&d.style.color===I.color&&d.style.fontSize===I.fontSize&&d.style.fontWeight===I.fontWeight&&d.style.fontStyle===I.fontStyle||(e.cell._styleChanged=!0,e.cell.setStyle(d));var W=!0;if(D.value!==r){if(e.toggleButton){d.children[1].children[1].innerHTML=D.value}else d.innerHTML=D.value;W=!1}if(null!==D.template){if(e.toggleButton){var P=d.children[1].children[1];P.innerHTML!==D.template&&(P.innerHTML=D.template)}else if(d.innerHTML!==D.template){var U=document.createElement("div");U.innerHTML=D.template,U.innerHTML!==d.innerHTML&&(d.innerHTML=D.template)}W=!1}W&&(d.textContent=r),e.cell.canNotify=!0,i.canNotify=!0}}},{key:"_rotateCellContent",value:function(e,t,l){var i=this,n=document.createElement("span");return e.innerHTML="",n.innerHTML=l,e.appendChild(n),n.className="rotate",n.style.transform="rotate("+t.cellsRotationAngle+"deg)",i.grid._recycleRotate(e,n,t.cellsAlign,t.cellsVerticalAlign,l)}},{key:"_getCellAlignment",value:function(e,t){var l=e["column_"+t.dataField],i=l?l.align||t.cellsAlign:t.cellsAlign,n=l?l.verticalAlign||t.cellsVerticalAlign:t.cellsVerticalAlign,r={align:"",verticalAlign:""};switch(i){case"left":r.align="align-left";break;case"center":case"middle":r.align="align-center";break;case"right":r.align="align-right"}switch(n){case"top":r.verticalAlign="align-top";break;case"center":case"middle":r.verticalAlign="align-middle";break;case"bottom":r.verticalAlign="align-bottom"}return r}},{key:"template",value:function(){return""}},{key:"hasStyleObserver",get:function(){return!1}},{key:"enableShadowDOM",get:function(){return!1}},{key:"isUtilityElement",get:function(){return!0}}],[{key:"properties",get:function(){return{}}}]),t}(JQX.BaseElement));
//# sourceMappingURL=jqxgrid.cell.js.map
