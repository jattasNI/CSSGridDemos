"use strict";JQX("jqx-scroll-bar",function(t){function e(){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return babelHelpers.inherits(e,t),babelHelpers.createClass(e,[{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                    <div id="nearButton" class ="jqx-scroll-button jqx-arrow-left"></div>\n                    <div  id="track" class ="jqx-track">\n                        <div id="thumb" class="jqx-thumb"></div>\n                    </div>\n                    <div id="farButton" class ="jqx-scroll-button jqx-arrow-right"></div>\n            </div>'}},{key:"_updateInBoundsFlag",value:function(t){var e=this,a=t.target;a._isPointerInBounds=!0,"mouseleave"===t.type&&(a._isPointerInBounds=!1),1!==("buttons"in t?t.buttons:t.which)&&e._stopRepeat(t)}},{key:"_startRepeat",value:function(t){var e=this;if(!e.disabled){var a=t.target;a._initialTimer||(a._initialTimer=setTimeout(function(){a._repeatTimer=setInterval(function(){if(a._isPointerInBounds){var e="buttons"in t?t.buttons:t.which;a.$.fireEvent("click",{buttons:e,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})}},e.clickRepeatDelay)},3*e.clickRepeatDelay))}}},{key:"_stopRepeat",value:function(t){if(!this.disabled){var e=t.target;e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null)}}},{key:"_calculateThumbSize",value:function(t){var e=this,a=e.max-e.min,n="horizontal"===e.orientation?e.$.track.offsetWidth>10:e.$.track.offsetHeight>10,r=0;return a>=1&&n?(r=t/(a+t)*t,e.$.thumb.className.indexOf("jqx-hidden")>=0&&e.$thumb.removeClass("jqx-hidden")):e.$thumb.addClass("jqx-hidden"),Math.max(10,Math.min(r,t))}},{key:"_dragStartHandler",value:function(t){var e=this;e.disabled||(e.thumbCapture=!0,e.dragStartX=t.clientX,e.dragStartY=t.clientY,e.dragStartValue=e.value,t.stopPropagation(),t.preventDefault())}},{key:"_dragHandler",value:function(t){var e=this;if(!0===e.thumbCapture){e._isThumbDragged=!0;var a=(e.max-e.min)/(e.scrollBarSize-e.thumbSize),n="horizontal"===e.orientation?(t.clientX-e.dragStartX)*a:(t.clientY-e.dragStartY)*a,r=n;e.rightToLeft&&"horizontal"===e.orientation&&(r=-n),e._updateValue(e.dragStartValue+r),t.stopPropagation(),t.preventDefault(),t.originalEvent&&(t.originalEvent.stopPropagation(),t.originalEvent.preventDefault())}}},{key:"_dragEndHandler",value:function(t){var e=this;e._trackDownTimer&&(clearInterval(e._trackDownTimer),e._trackDownTimer=null),e.thumbCapture&&(e.thumbCapture=!1,e._isThumbDragged=!1,"switchWhenReleased"===e.mechanicalAction?e._updateValue(e.dragStartValue,e.value):"switchUntilReleased"===this.mechanicalAction&&e._updateValue(e.dragStartValue),t.preventDefault(),t.stopPropagation(),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation())}},{key:"_farButtonClickHandler",value:function(){var t=this;if(!t.disabled){var e=t.value;t._updateValue(t.value+t.step),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(e)}}},{key:"_nearButtonClickHandler",value:function(){var t=this;if(!t.disabled){var e=t.value;t._updateValue(t.value-t.step),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(e)}}},{key:"propertyChangedHandler",value:function(t,a,n){babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"propertyChangedHandler",this).call(this,t,a,n);var r=this;switch(t){case"min":case"max":case"orientation":case"showButtons":r._layout();break;case"value":r._updateValue(a,n)}}},{key:"ready",value:function(){babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"ready",this).call(this),this._layout()}},{key:"_resizeHandler",value:function(){this._layout()}},{key:"refresh",value:function(){this._layout()}},{key:"_layout",value:function(){var t=this;t.scrollBarSize="horizontal"===t.orientation?t.$.track.offsetWidth:t.$.track.offsetHeight,t.thumbSize=t._calculateThumbSize(t.scrollBarSize),"horizontal"===t.orientation&&t.$.thumb.style.width!==t.thumbSize+"px"?t.$.thumb.style.width=t.thumbSize+"px":"vertical"===t.orientation&&t.$.thumb.style.height!==t.thumbSize+"px"&&(t.$.thumb.style.height=t.thumbSize+"px"),"horizontal"===t.orientation?(t.$.nearButton.classList.contains("jqx-arrow-up")&&t.$.nearButton.classList.remove("jqx-arrow-up"),t.$.farButton.classList.contains("jqx-arrow-down")&&t.$.farButton.classList.remove("jqx-arrow-down"),t.$.nearButton.classList.contains("jqx-arrow-left")||t.$.nearButton.classList.add("jqx-arrow-left"),t.$.farButton.classList.contains("jqx-arrow-right")||t.$.farButton.classList.add("jqx-arrow-right")):(t.$.nearButton.classList.contains("jqx-arrow-left")&&t.$.nearButton.classList.remove("jqx-arrow-left"),t.$.farButton.classList.contains("jqx-arrow-right")&&t.$.farButton.classList.remove("jqx-arrow-right"),t.$.nearButton.classList.contains("jqx-arrow-up")||t.$.nearButton.classList.add("jqx-arrow-up"),t.$.farButton.classList.contains("jqx-arrow-down")||t.$.farButton.classList.add("jqx-arrow-down")),t._updateThumbPosition(),(t.value>t.max||t.value<t.min)&&t._updateValue(t.value,t.value>t.max?t.max:t.min)}},{key:"_selectStartHandler",value:function(t){this.thumbCapture&&t.preventDefault()}},{key:"_trackDownHandler",value:function(t){var e=this;t.target===e.$.track&&(e._trackDownTimer=setInterval(function(){e._trackClickHandler(t)},e.clickRepeatDelay),t.stopPropagation(),t.preventDefault())}},{key:"_trackClickHandler",value:function(t){var e=this;if(!e.disabled){if(e._isThumbDragged)return clearInterval(e._trackDownTimer),void(e._trackDownTimer=null);var a=e.$.thumb.getBoundingClientRect(),n=t.pageX-window.pageXOffset,r=t.pageY-window.pageYOffset,i=e.value;"horizontal"===e.orientation?n>(e._isThumbDragged?e.dragStartX:a.right)?e._updateValue(e.value+e.largeStep):n<(e._isThumbDragged?e.dragStartX:a.left)&&e._updateValue(e.value-e.largeStep):r>(e._isThumbDragged?e.dragStartY:a.bottom)?e._updateValue(e.value+e.largeStep):r<(e._isThumbDragged?e.dragStartY:a.top)&&e._updateValue(e.value-e.largeStep),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(i)}}},{key:"_updateValue",value:function(t,e){var a=this;if(1===arguments.length&&(e=t,t=a.value),(void 0===e||isNaN(e))&&(e=a.min),e>a.max&&(e=a.max),e<a.min&&(e=a.min),a.value=e,t!==e){if(a._updateThumbPosition(),a.thumbCapture&&"switchWhenReleased"===a.mechanicalAction)return;if(a.onChange)return void a.onChange({value:a.value,oldValue:t,min:a.min,max:a.max});a.$.fireEvent("change",{value:a.value,oldValue:t,min:a.min,max:a.max})}}},{key:"_updateThumbPosition",value:function(){var t=this,e=t.$.track.offsetHeight,a=t.$.track.offsetWidth,n="horizontal"===t.orientation?a:e,r=t._calculateThumbSize(n),i="horizontal"===t.orientation?a-r:e-r,l=(n-r)/(t.max-t.min)*(t.value-t.min);t.rightToLeft&&"horizontal"===t.orientation&&(l=(n-r)/(t.max-t.min)*(t.max-t.value-t.min)),l=Math.min(i,Math.max(0,l)),"vertical"===t.orientation&&t.$.thumb.style.top!==l+"px"?t.$.thumb.style.top=l+"px":"horizontal"===t.orientation&&t.$.thumb.style.left!==l+"px"&&(t.$.thumb.style.left=l+"px")}}],[{key:"properties",get:function(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}},{key:"styleUrls",get:function(){return["jqx.scrollbar.css"]}},{key:"listeners",get:function(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.mousedown":"_startRepeat","nearButton.mouseup":"_stopRepeat","nearButton.mouseenter":"_updateInBoundsFlag","nearButton.mouseleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.mousedown":"_startRepeat","farButton.mouseup":"_stopRepeat","farButton.mouseenter":"_updateInBoundsFlag","farButton.mouseleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}}]),e}(JQX.BaseElement));
//# sourceMappingURL=jqxscrollbar.js.map
