"use strict";JQX("jqx-multiline-text-box",function(e){function l(){return babelHelpers.classCallCheck(this,l),babelHelpers.possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return babelHelpers.inherits(l,e),babelHelpers.createClass(l,[{key:"attached",value:function(){var e=this;babelHelpers.get(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"attached",this).call(this),e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e.$.input,e.$.horizontalScrollBar,e.$.verticalScrollBar))}},{key:"detached",value:function(){var e=this;babelHelpers.get(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"detached",this).call(this),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}},{key:"template",value:function(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span>\n                    <div id="innerContainer" class="jqx-inner-container">\n                            <textarea class="jqx-input" id="input"\n                                autocapitalize="[[autoCapitalize]]"\n                                autocomplete="off"\n                                cols="[[cols]]"\n                                disabled="[[disabled]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                readonly="[[readonly]]"\n                                required="[[required]]"\n                                rows="[[rows]]"\n                                spellcheck="[[spellCheck]]"\n                                wrap="[[wrap]]"></textarea>\n                            <jqx-scroll-bar id="verticalScrollBar" animation="[[animation]]" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                            <jqx-scroll-bar id="horizontalScrollBar" animation="[[animation]]" disabled="[[disabled]]"></jqx-scroll-bar>\n                            <div id="resizeElement" class="jqx-resize-element"></div>\n                    </div>\n                            <textarea id="textBoxHidden"\n                                class="jqx-text-box-hidden"\n                                autocapitalize="[[autoCapitalize]]"\n                                autocomplete="off"\n                                cols="[[cols]]"\n                                disabled="[[disabled]]"\n                                inner-h-t-m-l="[[value]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                readonly="[[readonly]]"\n                                required="[[required]]"\n                                rows="[[rows]]"\n                                spellcheck="[[spellCheck]]"\n                                wrap="[[wrap]]"></textarea>\n                    <span id="hint" class="jqx-hint"></span>\n                </div>'}},{key:"propertyChangedHandler",value:function(e,t,a){var i=this;switch(e){case"displayMode":switch(a){case"escaped":i.$.input.value=i._toEscapedDisplayMode(i.value);break;default:i.$.input.value=i.value=i._toDefaultDisplayMode(i.$.input.value)}i._autoExpandUpdate(),i._handleScrollbarsDisplay();break;case"value":switch(i._preventProgramaticValueChange?(i._userValue="escaped"===i.displayMode?i._toDefaultDisplayMode(i.$.input.value):i.$.input.value,i._programmaticValue=a):i._userValue=i._programmaticValue=a,i.displayMode){case"escaped":i.$.input.value=i._toEscapedDisplayMode(i._userValue);break;default:i.$.input.value=i._userValue}i._oldValue=t,i._autoExpandUpdate(),i._handleScrollbarsDisplay();break;case"horizontalScrollBarVisibility":case"verticalScrollBarVisibility":case"singleLine":case"wrap":case"resizable":case"placeholder":i._autoExpandUpdate(),i._handleScrollbarsDisplay();break;case"selectionEnd":case"selectionStart":i._handleSelectedText();break;case"rows":case"cols":i._updateSizeRowsCols();break;case"disabled":i._setFocusable();break;case"animation":case"readonly":break;default:babelHelpers.get(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"propertyChangedHandler",this).call(this,e,t,a)}}},{key:"selection",value:function(e){var l=this,t=l.$.input.selectionStart,a=l.$.input.selectionEnd,i=l.value;return"escaped"===l.displayMode?(i=l.$.input.value.substring(t,a),"escaped"===e?i:l._toDefaultDisplayMode(i)):"escaped"===e?(i=i.substring(t,a),l._toEscapedDisplayMode(i)):i=i.substring(t,a)}},{key:"select",value:function(e,l){var t=this,a=Array.from(arguments).slice(0,2),i=void 0,n=void 0;for(var r in a)a[r]=parseInt(a[r])||0;return 2===a.length?(i=Math.min([e,l]),n=Math.max([e,l])):i=a[0],2===a.length?(i=parseInt(i),i=i>0?i<t.$.input.length?t.$.input.length:i:0,n<i?n=i:n>t.$.input.length&&(i=0),t.$.input.focus(),void t.$.input.setSelectionRange(i,n)):1===a.length?(t.$.input.focus(),void t.$.input.setSelectionRange(i,i+1)):void t.$.input.select()}},{key:"_autoExpandUpdate",value:function(){var e=this;e.autoExpand&&(e.$.textBoxHidden.value=e.$.input.value,e.$.textBoxHidden.style.cssText="height:0px",e.$.input.style.cssText="height:"+e.$.textBoxHidden.scrollHeight+"px")}},{key:"_blurHandler",value:function(){var e=this;e._outsideAutoScroll&&clearInterval(e._outsideAutoScroll),e.removeAttribute("focus"),e._preventProgramaticValueChange=!1,e._oldValue=e.value,e.value=e._userValue||e.value}},{key:"_createElement",value:function(){var e=this;e.autoFocus&&(navigator.userAgent.match(/Edge/)?setTimeout(function(){e.$.input.focus(),e.setAttribute("focus","")},10):(e.$.input.focus(),e.setAttribute("focus","")));var l=e.$.input.innerHTML;e.value?e.$.input.innerHTML="escaped"===e.displayMode?e._toEscapedDisplayMode(e.value):e.value:l.length>0&&"escaped"===e.displayMode?(e.value=l,e.$.input.innerHTML=e._toEscapedDisplayMode(l)):l.length>0&&(e.value=l),e._setFocusable(),e._syncTextBoxContentOnInitialization(),e._scrollView=new JQX.Utilities.Scroll(e.$.input,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._autoExpandUpdate(),e._handleScrollbarsDisplay(),e._initializationValue=e._oldValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer()}},{key:"_handleScrollbarsDisplay",value:function(e){var l=this,t=l.$.input;setTimeout(function(){switch(l.horizontalScrollBarVisibility){case"disabled":l.$container.addClass("hscroll"),l.$.horizontalScrollBar.disabled=!0;break;case"hidden":l.$container.removeClass("hscroll");break;case"visible":l.$container.addClass("hscroll"),l._scrollView.scrollWidth=t.scrollWidth-t.clientWidth,l._scrollView.scrollTo(l.$.input.scrollLeft,!0),l.$.horizontalScrollBar.disabled=!1;break;default:t.scrollWidth>t.clientWidth?(l.$container.addClass("hscroll"),l._scrollView.scrollWidth=t.scrollWidth-t.clientWidth,e&&"resize"===e.type?l.$.input.scrollLeft=l._scrollView.scrollLeft:l._scrollView.scrollTo(l.$.input.scrollLeft,!0)):l.$container.removeClass("hscroll"),l.$.horizontalScrollBar.disabled=!1}switch(l.verticalScrollBarVisibility){case"disabled":l.$container.addClass("vscroll"),l.$.verticalScrollBar.disabled=!0;break;case"hidden":l.$container.removeClass("vscroll");break;case"visible":l.$container.addClass("vscroll"),l._scrollView.scrollHeight=t.scrollHeight-t.clientHeight,l._scrollView.scrollTo(l.$.input.scrollTop),l.$.verticalScrollBar.disabled=!1;break;default:t.scrollHeight>t.clientHeight?(l.$container.addClass("vscroll"),l._scrollView.scrollHeight=t.scrollHeight-t.clientHeight,e&&"resize"===e.type?l.$.input.scrollTop=l._scrollView.scrollTop:l._scrollView.scrollTo(l.$.input.scrollTop)):l.$container.removeClass("vscroll"),l.$.verticalScrollBar.disabled=!1}},0)}},{key:"_focusHandler",value:function(e){var l=this;if(!l.disabled){if(e.target===l)return l.$.input.focus(),void(l._edgeSelect=!1);if(l.setAttribute("focus",""),l.selectAllOnFocus)if(navigator.userAgent.match(/Edge/)){var t=l.$.input.scrollTop;if(l._edgeSelect)return void(l._edgeSelect=!1);setTimeout(function(){l._edgeSelect=!0,l.$.input.select(),l.$.input.scrollTop=t},5)}else l.$.input.select()}}},{key:"_horizontalScrollbarHandler",value:function(e){var l=this;l.disabled||"hidden"===l.horizontalScrollBarVisibility||"disabled"===l.horizontalScrollBarVisibility||(e.stopPropagation(),l.$.input.scrollLeft=e.detail.value)}},{key:"_keyDownHandler",value:function(e){function l(l){var a=t.$.input.selectionStart,i=t.$.input.selectionEnd,n=t.$.input.value;e.preventDefault(),t.$.input.value=n.substring(0,a)+l+n.substring(i,n.length),t.value=t._toDefaultDisplayMode(t.$.input.value),t.$.input.selectionStart=a+2,t.$.input.selectionEnd=a+2}var t=this,a=e.key,i=e.shiftKey,n=e.ctrlKey,r=t.$.input.value;if(t.allowVerticalScrollbar&&t.$.input.selectionEnd>t.$.input.value.length-5&&t._scrollView.scrollTo(t._scrollView.scrollTop+(e.deltaY<0?-t.offsetHeight:t.offsetHeight)),a.indexOf("Arrow")>-1)return void e.stopPropagation();switch(a){case"Enter":if("newLine"===t.enterKeyBehavior&&!n&&!i){"escaped"===t.displayMode&&l("\\n");break}e.preventDefault(),t._userValue="escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value,t.value=t._userValue,""!==r&&t._userValue!==t._oldValue&&t.$.fireEvent("change",{oldValue:t._oldValue,value:r,type:"submit"}),"clearOnSubmit"===t.enterKeyBehavior&&(t.$.input.value=""),t._oldValue=t.value=t._toDefaultDisplayMode(t.$.input.value),t._submitted=!0,"escaped"===t.displayMode&&t.enterKeyBehavior.toLowerCase().indexOf("submit")<0&&!n&&!i&&l("\\n"),("submit"===t.enterKeyBehavior||"newLine"===t.enterKeyBehavior&&n)&&t.$.input.blur();break;case"Escape":if("none"===t.escKeyMode)return;switch(t.escKeyMode){case"none":break;case"clearValue":t.value=t.$.input.value="";break;case"previousValue":t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(t._oldValue):t._oldValue}break;case" ":"escaped"===t.displayMode&&l("\\s");break;case"Backspace":if("escaped"===t.displayMode&&t.$.input.selectionStart===t.$.input.selectionEnd){var o=t.$.input.selectionStart;"\\"!==r[o-2]||"s"!==r[o-1]&&"n"!==r[o-1]||(t.$.input.value=t.$.input.value.substring(0,o-2)+t.$.input.value.substring(o-2,t.$.input.value.length),t.$.input.selectionStart=o-2)}t._scrollView&&t._handleScrollbarsDisplay()}}},{key:"_keyUpHandler",value:function(e){var l=this;switch(e.key){case"ArrowLeft":case"ArrowUp":case"ArrowDown":l._handlePointerInEscapedSymbol();break;case"ArrowRight":l._handlePointerInEscapedSymbol("next")}l._autoExpandUpdate(),l._userValue="escaped"===l.displayMode?l._toDefaultDisplayMode(l.$.input.value):l.$.input.value,l._submitKeyUpHandler()}},{key:"_textBoxKeyDownHandler",value:function(e){var l=this,t=e.key;l._scrollView&&l._handleScrollbarsDisplay(),l._autoExpandUpdate(),l.value&&l.value.length>0?l.$.addClass("has-value"):l.$.removeClass("has-value"),-1===["Enter","Escape"].indexOf(t)&&(l._preventProgramaticValueChange=!0),["ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].indexOf(t)>-1&&l._scrollView.scrollTo(l.$.input.scrollTop),["PageUp","PageDown"].indexOf(t)>-1&&JQX.Utilities.Core.Browser.Chrome&&("PageUp"===e.key&&(l.$.input.setSelectionRange(0,0),l.$.input.scrollTop=0),"PageDown"===e.key&&(l.$.input.setSelectionRange(l.$.input.value.length,l.$.input.value.length),l.$.input.scrollTop=l._scrollView.verticalScrollBar.max),e.preventDefault())}},{key:"_mouseWheelHandler",value:function(e){var l=this;l.disabled||l.$.verticalScrollBar.disabled||(l._scrollView.scrollTo(l._scrollView.scrollTop+(e.deltaY<0?-l.offsetHeight:l.offsetHeight)),l.$.input.scrollTop+=e.deltaY<0?-l.offsetHeight:l.offsetHeight,l.$.input.scrollTop>0&&e.preventDefault())}},{key:"_syncTextBoxContentOnInitialization",value:function(){var e=this,l=void 0;if(l=""===e.value?e.innerHTML:e.value,"escaped"===e.displayMode)return void(l.match(/\r\n|\n\r|\n|\r|\s|\t|\f|\r/g)?(e.value=e._initializationValue=l,e.$.input.value=e._toEscapedDisplayMode(l)):(e.value=e._initializationValue=e._toDefaultDisplayMode(l),e.$.input.value=l));e.$.input.value=e.value=e._initializationValue=l}},{key:"_textBoxChangeHandler",value:function(e){var l=this,t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData,a=l.value;if("escaped"===l.displayMode){var i=l.$.input.selectionStart,n=l.$.input.selectionEnd;if(t){var r=t.getData("text"),o=l.$.input.value;e.preventDefault(),r=l._toEscapedDisplayMode(r),l.$.input.value=o.substring(0,i)+r+o.substring(n,o.length)}l.value=l._toDefaultDisplayMode(l.$.input.value)}else l.value=l.$.input.value;l._handleScrollbarsDisplay(),l.value.length>0?l.$.addClass("has-value"):l.$.removeClass("has-value"),t||l.$.fireEvent("change",{value:l.value,oldValue:a,type:"blur"}),l._handleHintContainer()}},{key:"_resizeDownHandler",value:function(){var e=this;!e.disabled&&e.resizable&&(e._resizeStarted=!0,e.$container.addClass("jqx-resize"),e.readonly||e.$.input.setAttribute("readonly",""))}},{key:"_resizeMoveHandler",value:function(e){var l=this;if(!l.disabled&&l.resizable&&l._resizeStarted){var t=l.getBoundingClientRect(),a={width:50,height:50},i=e.clientX-t.left,n=e.clientY-t.top;i>a.width&&(l.style.width=i+"px"),n>a.height&&(l.style.height=n+"px")}}},{key:"_updateSizeRowsCols",value:function(){var e=this;e.$.container.removeAttribute("style"),setTimeout(function(){if("disabled"!==e.horizontalScrollBarVisibility&&"hidden"!==e.horizontalScrollBarVisibility||"disabled"!==e.verticalScrollBarVisibility&&"hidden"!==e.verticalScrollBarVisibility){var l=e.getBoundingClientRect();e.$.container.style.width=l.width+"px",e.$.container.style.height=l.height+"px"}},0)}},{key:"_upHandler",value:function(e){var l=this;if(l._selectionStarted=!1,!l.disabled){if(e.originalEvent.target===l.$.input)return void l._handlePointerInEscapedSymbol();l.$container.removeClass("jqx-resize"),l.readonly||l.$.input.removeAttribute("readonly"),l._resizeStarted&&l.$.input.focus(),l._resizeStarted=!1}}},{key:"_verticalScrollbarHandler",value:function(e){var l=this;l.disabled||"disabled"===l.verticalScrollBarVisibility||"hidden"===l.verticalScrollBarVisibility||(e.stopPropagation(),l.$.input.scrollTop=e.detail.value)}},{key:"_documentDownHandler",value:function(e){var l=this;l._selectionStarted=!1,e.originalEvent&&l.contains(e.originalEvent.target)&&(l._selectionStarted=!0,l._selectionStartTime=new Date,l._pointerDown={pageX:e.pageX,pageY:e.pageY},l._edgeSelect=!1)}},{key:"_documentSelectionOutsideHandler",value:function(e){function l(l){var a=t.getBoundingClientRect(),i=document.documentElement,n=l?a.left+i.scrollLeft-e.pageX:a.top+i.scrollTop-e.pageY,r=l?"Left":"Top";n>0?(t.$.input["scroll"+r]-=10,t._scrollView["scroll"+r]-=10):(t.$.input["scroll"+r]+=10,t._scrollView["scroll"+r]+=10)}var t=this;if(clearInterval(t._outsideAutoScroll),t._selectionStarted){var a=t.$.input.getBoundingClientRect(),i=a.y+10,n=a.y+a.height-10;if(!(e.pageY>i&&e.pageY<n)){!(new Date-t._selectionStartTime<300)&&(Math.abs(t._pointerDown.pageX-e.pageX)>=3||Math.abs(t._pointerDown.pageY-e.pageY)>=3)&&(t._outsideAutoScroll=setInterval(function(){l(),l(!0)},10))}}}},{key:"_selectStartHandler",value:function(){}},{key:"_styleChangedHandler",value:function(){}}],[{key:"properties",get:function(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoComplete:{value:"off",allowedValues:["on","off"],type:"string"},autoExpand:{value:!1,type:"boolean"},cols:{value:20,type:"number?"},enterKeyBehavior:{value:"newLine",allowedValues:["submit","clearOnSubmit","newLine"],type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},minLength:{value:0,type:"number"},resizable:{value:!1,type:"boolean"},rows:{value:5,type:"number?"},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},type:{value:"textarea",type:"string",defaultReflectToAttribute:!0,readonly:!0},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}},{key:"listeners",get:function(){return{down:"_documentDownHandler","document.mousemove":"_documentSelectionOutsideHandler","container.resize":"_handleScrollbarsDisplay","document.move":"_resizeMoveHandler","document.up":"_upHandler",focus:"_focusHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler",keydown:"_keyDownHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",resize:"_handleScrollbarsDisplay","resizeElement.down":"_resizeDownHandler",styleChanged:"_handleScrollbarsDisplay","input.change":"_textBoxChangeHandler","input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_textBoxKeyDownHandler","input.keyup":"_keyUpHandler","input.paste":"_textBoxChangeHandler","input.select":"_textBoxSelectHandler",wheel:"_mouseWheelHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}},{key:"requires",get:function(){return{"JQX.ScrollBar":"jqxscrollbar.js"}}}]),l}(JQX.TextBox));
//# sourceMappingURL=jqxmultilinetextbox.js.map
