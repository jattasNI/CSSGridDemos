"use strict";JQX("jqx-numeric-text-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container" class="jqx-container"><span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span><div id="radixDisplayButton" class="jqx-unselectable jqx-input-addon jqx-numeric-text-box-component jqx-numeric-text-box-radix-display"></div><input id="input" type="text" spellcheck="false" class="jqx-input jqx-numeric-text-box-component" placeholder="[[placeholder]]" readonly="[[readonly]]" disabled="[[disabled]]" name="[[name]]" /><div id="unitDisplay" class="jqx-unselectable jqx-input-addon jqx-numeric-text-box-component jqx-numeric-text-box-unit-display"></div><div id="spinButtonsContainer" class="jqx-input-addon jqx-numeric-text-box-component jqx-spin-buttons-container"><jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" animation="[[animation]]" unfocusable id="upButton" class="jqx-spin-button"><div class="jqx-arrow jqx-arrow-up"></div></jqx-repeat-button><jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" animation="[[animation]]" unfocusable id="downButton" class="jqx-spin-button"><div class="jqx-arrow jqx-arrow-down"></div></jqx-repeat-button></div><ul id="dropDown" class="jqx-visibility-hidden jqx-drop-down"><li id="dropDownItem2" class="jqx-list-item" data-value="2"></li><li id="dropDownItem8" class="jqx-list-item" data-value="8"></li><li id="dropDownItem10" class="jqx-list-item" data-value="10"></li><li id="dropDownItem16" class="jqx-list-item" data-value="16"></li></ul><span id="hint" class ="jqx-hint"  inner-h-t-m-l="[[hint]]"></span></div>'}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"inputFormat"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._numberRenderer.localizationObject.decimalseparator=e.decimalSeparator,e._radixPrefixes={10:"d",2:"b",8:"o",16:"x"},e._regex={2:new RegExp(/^[0-1]+$/),8:new RegExp(/^[0-7]+$/),10:new RegExp(/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?$/),16:new RegExp(/^[0-9a-f]+$/i)},e._regexSpecial={nan:new RegExp(/^(nan)$/i),inf:new RegExp(/^((-?inf(inity)?)|([+\-]?∞))$/i),nonNumericValue:new RegExp(/^$|(^((nan)|((-?inf(inity)?)|([+\-]?∞))|(null))$)/i),exaValue:new RegExp(/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[E][+\-]\d*)?i$/)},e._initialDropDownOptionsSet=!1,"left"===e.spinButtonsPosition&&e.$.container.insertBefore(e.$.spinButtonsContainer,e.$.label.nextElementSibling),"right"===e.radixDisplayPosition&&e.$.container.insertBefore(e.$.radixDisplayButton,e.$.unitDisplay.nextElementSibling),e._setInitialComponentDisplay(),e._initialAdjustments(),e._refreshShape(),e._initialized=!0}},{key:"_refreshShape",value:function(){var e=this,t=e.$.container.querySelectorAll(".jqx-numeric-text-box-component:not(.jqx-hidden)");t.length>0&&(t[0].classList.add("jqx-numeric-text-box-component-border-left"),t[t.length-1].classList.add("jqx-numeric-text-box-component-border-right"))}},{key:"val",value:function(e,t){var n=this,a=null!==e&&"object"===(void 0===e?"undefined":babelHelpers.typeof(e))&&0===Object.keys(e).length;if(void 0===e||!1!==a)return n.value;var i=n.value;return""!==e&&null!==e||null!==i?null===e?(n._triggerChangeEvent="strict"===n.validation,n._validate(!1,null),n._triggerChangeEvent=!1,void(n._programmaticValueIsSet=!0)):(e=e.toString(),e.toUpperCase()===i.toString().toUpperCase()?e:(void 0===t?(n._triggerChangeEvent="strict"===n.validation,n._validate(!1,e),n._triggerChangeEvent=!1):n._setValue(e),void(n._programmaticValueIsSet=!0))):null}},{key:"focus",value:function(){this.$.input.focus()}},{key:"_updateSpinButtonsStepObject",value:function(){var e=this;e._spinButtonsStepObject=e._numericProcessor.createDescriptor(e.spinButtonsStep,!0)}},{key:"_setInitialComponentDisplay",value:function(){var e=this;!1===e.spinButtons&&e.$spinButtonsContainer.addClass("jqx-hidden"),!1===e.radixDisplay&&e.$radixDisplayButton.addClass("jqx-hidden"),!1===e.showUnit&&e.$unitDisplay.addClass("jqx-hidden")}},{key:"_initialAdjustments",value:function(){var e=this;e._radixNumber=e._getRadix(e.radix),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._validatePropertyCompatibility(),e._numericProcessor.validateMinMax(!0,!0),e._updateSpinButtonsStepObject(),e._validate(!0),e._programmaticValueIsSet=!0,e._cachedInputValue=e.$.input.value,void 0===e._editableValue&&(e._editableValue=e._cachedInputValue),e.$.radixDisplayButton.innerHTML=e._radixPrefixes[e._radixNumber],e.$.unitDisplay.innerHTML=e.unit,e.disabled&&(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0),e.opened&&(e.dropDownEnabled&&!e.disabled&&null!==e.value?e._openRadix():e.opened=!1),e._setFocusable()}},{key:"_validatePropertyCompatibility",value:function(){var e=this;"integer"!==e.inputFormat?(10!==e._radixNumber&&e.error(e.localize("integerOnly",{property:"radix"})),e.radixDisplay&&e.error(e.localize("integerOnly",{property:"radixDisplay"})),e.dropDownEnabled&&e.error(e.localize("integerOnly",{property:"dropDownEnabled"})),"int32"!==e.wordLength&&e.error(e.localize("integerOnly",{property:"wordLength"}))):null!==e.precisionDigits&&e.error(e.localize("noInteger",{property:"precisionDigits"})),null===e.significantDigits&&null===e.precisionDigits?e.significantDigits=8:null!==e.significantDigits&&null!==e.precisionDigits&&e.error(e.localize("significantPrecisionDigits"))}},{key:"_validate",value:function(e,t){var n=this,a=void 0;if(e)void 0===(a=n.value)&&(a=n.nullable?null:"0");else if(void 0===t||null===t&&!n.nullable){if((a=n.$.input.value)===n.value&&!0!==n._programmaticValueIsSet)return void(n.$.input.value=n._cachedInputValue)}else a=t;if(n.nullable&&(null===a||""===a))return n.value=null,n._number=null,n.$.input.value="",n._cachedInputValue="",n._editableValue="",void n._disableComponents();var i=n._numericProcessor.prepareForValidation(e,t,a);if(void 0===i)return void n._disableComponents();var r=n._numericProcessor.createDescriptor(i.value,!0,!0,!e&&void 0===t||"strict"===n.validation,e||void 0!==t,i.enteredComplexNumber);if(e){n._number=r;var l=n._renderValue(r);n.value=r.toString(),n.$.input.value=l}else n._updateValue(r);n._programmaticValueIsSet=!1,n._disableComponents()}},{key:"_handleNonNumericValue",value:function(e,t,n){var a=this;if("integer"!==a.inputFormat){if(a._regexSpecial.nan.test(n))return void a._handleNaN(e);if(a._regexSpecial.inf.test(n))return void a._handleInfinity(e,t,n)}if(e){var i=a._numericProcessor.createDescriptor(0);a._number=a._validateRange(i);var r=a._renderValue(a._number);a.value=a._number.toString(),a.$.input.value=r}else if(void 0===t)a.$.input.value=a._cachedInputValue;else{var l=a._number.toString();a.value!==l&&(a.value=l)}}},{key:"_handleNaN",value:function(e){var t=this;if(t.$.input.value="NaN",e)t.value=NaN,t._number=NaN;else{var n=t.value;null!==n&&"NaN"===n.toString()||(t.value=NaN,t._number=NaN,t._cachedInputValue="NaN",t._editableValue="NaN",t._triggerChangeEvent&&t.$.fireEvent("change",{value:NaN,oldValue:n,radix:t._radixNumber}))}}},{key:"_handleInfinity",value:function(e,t,n){var a=this,i=void 0,r=void 0;if("-"===n.charAt(0)?(i="∞"===n.charAt(1)?"-∞":"-Inf",r=-1/0):(i=-1!==n.indexOf("∞")?"∞":"Inf",r=1/0),r===-1/0&&a.min===-1/0||r===1/0&&a.max===1/0||void 0!==t)if(e)a.value=r,a._number=r,a.$.input.value=i;else{var l=a.value;n!==i&&(a.$.input.value=i),l!==r&&(a.value=r,a._number=r,a._cachedInputValue=i,a._editableValue=i,a._triggerChangeEvent&&a.$.fireEvent("change",{value:r,oldValue:l,radix:a._radixNumber}))}else r===-1/0?a._validate(!1,a.min):a._validate(!1,a.max)}},{key:"_validateRange",value:function(e){var t=this;return e=t._numericProcessor.validate(e,t._minObject,t._maxObject)}},{key:"propertyChangedHandler",value:function(e,n,a){function i(){!0===r._initialDropDownOptionsSet&&r._setDropDownOptions(),2!==r._radixNumber&&16!==r._radixNumber||(r._cachedInputValue=r._number.toString(r._radixNumber,r._wordLengthNumber,r.leadingZeros),r._editableValue=r._cachedInputValue,r.$.input.value=r._cachedInputValue)}babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,n,a);var r=this,l=r.$.input;if(a!=n)switch(e){case"disabled":r._setFocusable(),!0===a?(r.$.upButton.disabled=!0,r.$.downButton.disabled=!0):r._disableComponents();break;case"unfocusable":r._setFocusable();break;case"enableMouseWheelAction":case"placeholder":case"readonly":case"spinButtonsDelay":case"spinButtonsInitialDelay":break;case"value":if(""===a&&null===n)return;if(null===a||""===a||null===n)return r.value=n,r._triggerChangeEvent="strict"===r.validation,r._validate(!1,a),r._triggerChangeEvent=!1,void(r._programmaticValueIsSet=!0);var o=a.toString(),u=n.toString();u!==o&&(u.toUpperCase()===o.toUpperCase()&&(r.value=n),r.value=n,r._triggerChangeEvent="strict"===r.validation,r._validate(!1,o),r._triggerChangeEvent=!1,r._programmaticValueIsSet=!0);break;case"radix":"integer"===r.inputFormat?r._changeRadix(a):r.error(r.localize("integerOnly",{property:"radix"}));break;case"leadingZeros":"integer"===r.inputFormat&&null!==r._number&&i();break;case"min":case"max":if(null!==a&&(r["_"+e+"IsNull"]=!1),r._numericProcessor.validateMinMax("min"===e,"max"===e),"strict"===r.validation)r._triggerChangeEvent=!0,r._validate(!1,r.value),r._triggerChangeEvent=!1;else if(!1===r._regexSpecial.nonNumericValue.test(r.value)){var s=r._numericProcessor.createDescriptor(r._number),d=r._validateRange(s);!0===r._numericProcessor.compare(r.value,d)&&(r._programmaticValueIsSet=!0)}break;case"opened":a?r.dropDownEnabled&&!r.disabled&&null!==r.value?r._openRadix():r.opened=!1:r._closeRadix();break;case"outputFormatString":a?(r._cachedInputValue=r._numberRenderer.formatNumber(r._number,a),r.$.input.value=r._cachedInputValue):(r._cachedInputValue=r._editableValue,r.$.input.value=r._editableValue);break;case"dropDownEnabled":a?("integer"!==r.inputFormat&&r.error(r.localize("integerOnly",{property:"dropDownEnabled"})),!0===r._initialDropDownOptionsSet&&r._setDropDownOptions()):r.opened&&r._closeRadix();break;case"spinButtons":a?r.$spinButtonsContainer.removeClass("jqx-hidden"):r.$spinButtonsContainer.addClass("jqx-hidden"),r._refreshShape();break;case"spinButtonsStep":r._updateSpinButtonsStepObject();break;case"significantDigits":case"precisionDigits":if("precisionDigits"===e&&"integer"===r.inputFormat&&r.error(r.localize("noInteger",{property:e})),"significantDigits"===e&&null!==r.precisionDigits?r.precisionDigits=null:"precisionDigits"===e&&null!==r.significantDigits&&(r.significantDigits=null),!1===r._regexSpecial.nonNumericValue.test(r.value)){var p=r._renderValue(r._number);l.value=p}break;case"decimalSeparator":r._numberRenderer.localizationObject.decimalseparator=r.decimalSeparator;var c=r._discardDecimalSeparator(l.value,n),m=r._applyDecimalSeparator(c),v=r._applyDecimalSeparator(r._discardDecimalSeparator(r._editableValue,n));l.value=m,r._editableValue=v;break;case"spinButtonsPosition":"left"===a?r.$.container.insertBefore(r.$.spinButtonsContainer,r.$.label.nextElementSibling):r.$.container.insertBefore(r.$.spinButtonsContainer,r.$.dropDown),r._refreshShape();break;case"wordLength":if(r._wordLengthNumber=r._numericProcessor.getWordLength(a),"integer"===r.inputFormat&&(r._numericProcessor.validateMinMax(!0,!0),null!==r._number)){var _=r._validateRange(new JQX.Utilities.BigNumber(r._number));r._updateValue(_),r.leadingZeros&&i()}break;case"radixDisplay":a?("integer"!==r.inputFormat&&r.error(r.localize("integerOnly",{property:"radixDisplay"})),r.$radixDisplayButton.removeClass("jqx-hidden")):r.$radixDisplayButton.addClass("jqx-hidden"),r._refreshShape();break;case"radixDisplayPosition":"left"===a?r.$.container.insertBefore(r.$.radixDisplayButton,r.$.input):r.$.container.insertBefore(r.$.radixDisplayButton,r.$.unitDisplay.nextElementSibling),r._refreshShape();break;case"inputFormat":r._changeInputFormat(n,a);break;case"showUnit":a?r.$unitDisplay.removeClass("jqx-hidden"):r.$unitDisplay.addClass("jqx-hidden"),r._refreshShape();break;case"unit":r.$.unitDisplay.innerHTML=a;break;case"scientificNotation":if(!1===r._regexSpecial.nonNumericValue.test(r.value)){var g=r._renderValue(r._number);l.value=g}break;case"locale":case"messages":r._initialDropDownOptionsSet=!1;break;case"nullable":!0===n&&null===r.value&&r._validate(!1,"0");break;case"validation":"strict"===a&&(r._triggerChangeEvent=!0,r._validate(!1,r.value),r._triggerChangeEvent=!1)}else"string"!=typeof a&&"string"==typeof n&&(r[e]=n);r._cachedInputValue=l.value}},{key:"_changeInputFormat",value:function(e,t){var n=this;if(n._numericProcessor=new JQX.Utilities.NumericProcessor(n,"inputFormat"),"complex"===e)return void n._changeFromComplexInputFormat(t);"integer"===t&&"floatingPoint"===e&&n._changeFromFloatingPointToIntegerInputFormat(),"floatingPoint"===t&&"integer"===e&&n._changeFromIntegerToFloatingPointInputFormat(),"complex"===t&&n._changeToComplexInputFormat(e),n._updateSpinButtonsStepObject(),null!==n.value&&(n._inputFormatChangedFlag=!0,n._validate(void 0,n._number.toString()),n._inputFormatChangedFlag=!1)}},{key:"_changeFromComplexInputFormat",value:function(e){var t=this;t.spinButtonsStep=t._spinButtonsStepObject.realPart,t._updateSpinButtonsStepObject(),"integer"===e?(t.min===-1/0?t.min=null:t.min=t._minObject.realPart,t.max===1/0?t.max=null:t.max=t._maxObject.realPart):(t.min!==-1/0&&(t.min=t._minObject.realPart),t.max!==1/0&&(t.max=t._maxObject.realPart)),t._numericProcessor.validateMinMax(!0,!0),null!==t.value&&(t._inputFormatChangedFlag=!0,t._validate(void 0,t._number.realPart.toString()),t._inputFormatChangedFlag=!1)}},{key:"_changeFromFloatingPointToIntegerInputFormat",value:function(){var e=this;e.min===-1/0&&(e.min=null),e.max===1/0&&(e.max=null),e._numericProcessor.validateMinMax(!0,!0)}},{key:"_changeFromIntegerToFloatingPointInputFormat",value:function(){var e=this;e.radixDisplay&&(e.radixDisplay=!1,e.$radixDisplayButton.addClass("jqx-hidden")),10!==e._radixNumber&&(e.radix=10,e._radixNumber=10),e._minIsNull?(e.min=-1/0,e._minObject=-1/0):e._minObject=parseFloat(e._minObject.toString()),e._maxIsNull?(e.max=1/0,e._maxObject=1/0):e._maxObject=parseFloat(e._maxObject.toString()),e.dropDownEnabled&&(e.dropDownEnabled=!1)}},{key:"_changeToComplexInputFormat",value:function(e){var t=this;"integer"===e&&(t.radixDisplay&&(t.radixDisplay=!1,t.$radixDisplayButton.addClass("jqx-hidden")),t._minIsNull&&(t.min=null),t._maxIsNull&&(t.max=null),t.dropDownEnabled&&(t.dropDownEnabled=!1)),t._numericProcessor.validateMinMax(t.min!==-1/0,t.max!==1/0)}},{key:"_updateValue",value:function(e){var t=this,n=t.$.input.value,a=e.toString(t._radixNumber,t._wordLengthNumber,t.leadingZeros);if(n!==a||n!==t._cachedInputValue){var i=t._renderValue(e),r=t.value,l=t._regexSpecial.nonNumericValue.test(a);if(t.$.input.value=i,t._cachedInputValue=i,t._inputFormatChangedFlag||l&&i!==r||!1===l&&t._numericProcessor.compare(e,t._number)){t._number=t._numericProcessor.createDescriptor(e);var o=t._number.toString();t.value=o,t._setDropDownOptions(),t._triggerChangeEvent&&t.$.fireEvent("change",{value:o,oldValue:r,radix:t._radixNumber})}}else t.value=t._number.toString()}},{key:"_setValue",value:function(e){var t=this;t.value=e,t.$.input.value=e,t._number=t._numericProcessor.createDescriptor(e,!0),t._setDropDownOptions()}},{key:"_changeRadix",value:function(e){var t=this,n=t._getRadix(e),a=t.radix;if(n!==t._radixNumber){t.radix=e,t._radixNumber=n;var i=t.$.input,r=i.value,l=void 0,o=void 0;null!==t.value?(l=t._number.toString(n,t._wordLengthNumber,t.leadingZeros),o=t._renderValue(l)):o="",i.value=o,t._cachedInputValue=o,t.$.radixDisplayButton.innerHTML=t._radixPrefixes[n],t.$.fireEvent("radixChange",{radix:e,oldRadix:a,displayedValue:o,oldDisplayedValue:r})}}},{key:"_openRadix",value:function(){var e=this;!1===e._initialDropDownOptionsSet&&(e._setDropDownOptions(),e._initialDropDownOptionsSet=!0),e.$radixDisplayButton.addClass("jqx-numeric-text-box-pressed-component"),e.$dropDown.removeClass("moved"),e.$dropDown.removeClass("jqx-visibility-hidden"),e.$.dropDown.style.marginTop=null;var t=1===window.devicePixelRatio?document.documentElement.clientHeight:window.innerHeight,n=e.$.dropDown.getBoundingClientRect(),a=t-n.top-e.$.dropDown.offsetHeight;a<0&&(e.$.dropDown.style.marginTop=a-parseFloat(getComputedStyle(e).getPropertyValue("--jqx-numeric-text-box-border-width"))+"px",e.$dropDown.addClass("moved")),e.opened=!0,e.$.fireEvent("open",{dropDown:e.$.dropDown})}},{key:"_closeRadix",value:function(){var e=this;e.$radixDisplayButton.removeClass("jqx-numeric-text-box-pressed-component"),e.$dropDown.addClass("jqx-visibility-hidden"),e.opened=!1,e.$.fireEvent("close",{dropDown:e.$.dropDown})}},{key:"_isLeftButtonPressed",value:function(e){var t=0===e.buttons||1===e.which;return 1===e.detail.buttons||t}},{key:"_isIncrementOrDecrementAllowed",value:function(){var e=this;return!e.disabled&&!e.readonly&&!1===e._regexSpecial.nonNumericValue.test(e.$.input.value)}},{key:"_upButtonClickHandler",value:function(e){var t=this;t._isLeftButtonPressed(e)&&t._isIncrementOrDecrementAllowed()&&(t._up||t.$upButton.addClass("jqx-numeric-text-box-pressed-component"),t._incrementOrDecrement("add"))}},{key:"_downButtonClickHandler",value:function(e){var t=this;t._isLeftButtonPressed(e)&&t._isIncrementOrDecrementAllowed()&&(t._up||t.$downButton.addClass("jqx-numeric-text-box-pressed-component"),t._incrementOrDecrement("subtract"))}},{key:"_documentMousedownHandler",value:function(e){var t=this;if(t._up=!1,t.opened)if(t.enableShadowDOM){var n=e.originalEvent.composedPath()[0],a=function(){for(var e=n.getRootNode().host;e;){if(e===t)return e;e=e.getRootNode().host}}();a||t._closeRadix()}else t.contains(e.originalEvent.target)||t._closeRadix()}},{key:"_documentMouseupHandler",value:function(){var e=this;e._up=!0,e.$upButton.removeClass("jqx-numeric-text-box-pressed-component"),e.$downButton.removeClass("jqx-numeric-text-box-pressed-component")}},{key:"_radixDisplayButtonClickHandler",value:function(){var e=this;e.dropDownEnabled&&!e.disabled&&null!==e.value&&(e.opened?e._closeRadix():e._openRadix())}},{key:"_dropDownItemClickHandler",value:function(e){if(e.target.$.hasClass("jqx-list-item")){var t=this,n=e.target.getAttribute("data-value");t._changeRadix(parseInt(n,10)),t._closeRadix()}}},{key:"_mouseenterMouseleaveHandler",value:function(e){var t=this;e.target===t.$.dropDown||t.disabled||t.readonly||("mouseenter"===e.type?e.target.setAttribute("hover",""):e.target.removeAttribute("hover"))}},{key:"_inputKeydownHandler",value:function(e){var t=this,n=e.charCode?e.charCode:e.which;40===n&&t._isIncrementOrDecrementAllowed()?t._incrementOrDecrement("subtract"):38===n&&t._isIncrementOrDecrementAllowed()&&t._incrementOrDecrement("add"),t._keydownInfo={value:t.$.input.value,specialKey:e.altKey||e.ctrlKey||e.shiftKey}}},{key:"_inputKeyupHandler",value:function(e){var t=this;if(13===e.keyCode)t._suppressBlurEvent=!0,t.$.input.value!==t._cachedInputValue&&(t._triggerChangeEvent=!0,t._validate(),t._triggerChangeEvent=!1,t.$.input.blur());else if(27===e.keyCode)t.$.input.value=t._editableValue;else{var n=t.$.input.value;""!==n&&t._regex[t._radixNumber].test(n)?(t.$.upButton.disabled=!1,t.$.downButton.disabled=!1):""===n&&(t.$.upButton.disabled=!0,t.$.downButton.disabled=!0),!t._keydownInfo||t._keydownInfo.value===n||t._keydownInfo.specialKey||e.altKey||e.ctrlKey||e.shiftKey||"Control"===e.key||t.$.fireEvent("changing",{currentValue:n,validValue:t.value,radix:t._radixNumber})}e.preventDefault()}},{key:"_inputBlurHandler",value:function(){var e=this;!0===e._suppressBlurEvent?(e._suppressBlurEvent=!1,e._formattedValue&&(e._cachedInputValue=e._formattedValue,e.$.input.value=e._formattedValue,delete e._formattedValue)):e.$.input.value!==e._editableValue?(e._triggerChangeEvent=!0,e._validate(),e._triggerChangeEvent=!1):e.$.input.value=e._cachedInputValue,e.radixDisplay&&e.$.radixDisplayButton.removeAttribute("focus"),e.opened&&e._closeRadix(),e.spinButtons&&e.$.spinButtonsContainer.removeAttribute("focus"),e.showUnit&&e.$.unitDisplay.removeAttribute("focus"),e.removeAttribute("focus")}},{key:"_inputFocusHandler",value:function(){var e=this;e.spinButtons&&e.$.spinButtonsContainer.setAttribute("focus",""),e.radixDisplay&&e.$.radixDisplayButton.setAttribute("focus",""),e.showUnit&&e.$.unitDisplay.setAttribute("focus",""),e.opened&&e._closeRadix(),e.setAttribute("focus",""),e.outputFormatString&&(e.$.input.value=e._editableValue)}},{key:"_inputChangeHandler",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"_inputPasteHandler",value:function(){var e=this;requestAnimationFrame(function(){return e.$.fireEvent("changing",{currentValue:e.$.input.value,validValue:e.value,radix:e._radixNumber})})}},{key:"_inputWheelHandler",value:function(e){var t=this,n=t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement;t.$.input===n&&t.enableMouseWheelAction&&t._isIncrementOrDecrementAllowed()&&(e.stopPropagation(),e.preventDefault(),e.wheelDelta>0?t._incrementOrDecrement("add"):t._incrementOrDecrement("subtract"))}},{key:"_getRadix",value:function(e){switch(e.toString()){case"10":case"decimal":return 10;case"2":case"binary":return 2;case"8":case"octal":return 8;case"16":case"hexadecimal":return 16}}},{key:"_setDropDownOptions",value:function(){var e=this;if(!1!==e.dropDownEnabled&&null!==e._number){var t=e._wordLengthNumber,n=e.leadingZeros;e.$.dropDownItem2.innerHTML=e._number.toString(2,t,n)+" ("+e.localize("binary")+")",e.$.dropDownItem8.innerHTML=e._number.toString(8,t)+" ("+e.localize("octal")+")",e.$.dropDownItem10.innerHTML=e._renderValue(e._number.toString(10,t),!0)+" ("+e.localize("decimal")+")",e.$.dropDownItem16.innerHTML=e._number.toString(16,t,n)+" ("+e.localize("hexadecimal")+")"}}},{key:"_incrementOrDecrement",value:function(e){var t=this,n=t.enableShadowDOM?t.shadowRoot.activeElement||document.activeElement:document.activeElement,a=t._cachedInputValue;if(t.$.input===n&&(a=t._editableValue,t._suppressBlurEvent=!0),!(t.$.input.value!==a||t._programmaticValueIsSet&&"interaction"===t.validation)||(t._triggerChangeEvent=!0,t._validate(),t._triggerChangeEvent=!1,!1!==t._isIncrementOrDecrementAllowed())){var i=t._numericProcessor.incrementDecrement(t._number,e,t._spinButtonsStepObject),r=t._validateRange(i);t._triggerChangeEvent=!0,t._updateValue(r),t._triggerChangeEvent=!1}}},{key:"_toBigNumberDecimal",value:function(e,t){var n=this,a=void 0;return 10===t?a=new JQX.Utilities.BigNumber(e):n._unsigned||!1===n._isNegative(e,t)?n._wordLengthNumber<64?(a=parseInt(e,t),a=new JQX.Utilities.BigNumber(a)):a=n._getBigNumberFrom64BitBinOctHex(e,t):(a=n._getNegativeDecimal(e,t),a=new JQX.Utilities.BigNumber(a)),a}},{key:"_isNegative",value:function(e,t){var n=this,a=e.length,i=e.charAt(0).toLowerCase();if(2===t)return a===n._wordLengthNumber&&"1"===i;if(8!==t)return a===n._wordLengthNumber/4&&-1!==["8","9","a","b","c","d","e","f"].indexOf(i);switch(n._wordLengthNumber){case 8:return 3===a&&("2"===i||"3"===i);case 16:return 5===a&&"1"===i;case 32:return 11===a&&("2"===i||"3"===i);case 64:return 22===a&&"1"===i}}},{key:"_getBigNumberFrom64BitBinOctHex",value:function(e,t){for(var n=new JQX.Utilities.BigNumber(0),a=e.length-1;a>=0;a--){var i=new JQX.Utilities.BigNumber(parseInt(e.charAt(a),t));n=n.add(i.multiply(new JQX.Utilities.BigNumber(t).pow(e.length-1-a)))}return n}},{key:"_getNegativeDecimal",value:function(e,t){var n=this,a=e;if(8===t){for(var i=[],r=0;r<e.length;r++){for(var l=parseInt(e.charAt(r),8).toString(2);3!==l.length;)l="0"+l;i.push(l)}for(a=i.join("");"0"===a.charAt(0);)a=a.slice(1)}else if(16===t){for(var o=[],u=0;u<e.length;u++){for(var s=parseInt(e.charAt(u),16).toString(2);4!==s.length;)s="0"+s;o.push(s)}a=o.join("")}var d=a.replace(/0/g,"a");return d=d.replace(/1/g,"b"),d=d.replace(/a/g,"1"),d=d.replace(/b/g,"0"),this._wordLengthNumber<64?d=-1*(parseInt(d,2)+1):(d=n._getBigNumberFrom64BitBinOctHex(d,t),d=d.add(1).negate()),d}},{key:"_discardDecimalSeparator",value:function(e,t){var n=this;if(void 0===t&&(t=n.decimalSeparator),"."!==t&&e!==1/0&&e!==-1/0){var a=new RegExp(t,"g");return e.replace(a,".")}return e}},{key:"_applyDecimalSeparator",value:function(e){var t=this;return"string"!=typeof e&&(e=e.toString()),"."!==t.decimalSeparator&&(e=e.replace(/\./g,t.decimalSeparator)),e}},{key:"_renderValue",value:function(e,t){var n=this,a=e,i=10===n._radixNumber||!0===t;if(e=n._numericProcessor.render(e,i),"."!==n.decimalSeparator&&i&&(e=n._applyDecimalSeparator(e)),!0!==t&&(n._editableValue=e,n.outputFormatString&&10===n._radixNumber)){var r=n.enableShadowDOM?n.shadowRoot.activeElement||document.activeElement:document.activeElement,l=n._numberRenderer.formatNumber(a,n.outputFormatString);if(r!==n.$.input)return l;n._formattedValue=l}return e}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void(e.$.input.tabIndex=-1);e.$.input.removeAttribute("tabindex")}},{key:"_disableComponents",value:function(){var e=this;if(!e.disabled){var t=e.value;null===t||"NaN"===t.toString()||Math.abs(t)===1/0?(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0):(e.$.upButton.disabled=!1,e.$.downButton.disabled=!1)}}}],[{key:"properties",get:function(){return{decimalSeparator:{value:".",type:"string"},enableMouseWheelAction:{value:!1,type:"boolean"},inputFormat:{value:"integer",allowedValues:["integer","floatingPoint","complex"],type:"string"},hint:{value:"",type:"string"},label:{value:"",type:"string"},leadingZeros:{value:!1,type:"boolean"},max:{value:null,type:"any"},messages:{value:{en:{binary:"BIN",octal:"OCT",decimal:"DEC",hexadecimal:"HEX",integerOnly:"jqxNumericTextBox: The property {{property}} can only be set when inputFormat is integer.",noInteger:"jqxNumericTextBox: the property {{property}} cannot be set when inputFormat is integer.",significantPrecisionDigits:"jqxNumericTextBox: the properties significantDigits and precisionDigits cannot be set at the same time."}},type:"object",extend:!0},min:{value:null,type:"any"},name:{value:"",type:"string"},nullable:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},outputFormatString:{value:null,type:"string?"},placeholder:{value:"",type:"string"},dropDownEnabled:{value:!1,type:"boolean"},precisionDigits:{value:null,type:"number?"},radix:{value:10,allowedValues:[2,8,10,16,"binary","octal","decimal","hexadecimal"],type:"any"},radixDisplay:{value:!1,type:"boolean"},radixDisplayPosition:{value:"left",allowedValues:["left","right"],type:"string"},scientificNotation:{value:!1,type:"boolean"},showUnit:{value:!1,type:"boolean"},significantDigits:{value:null,type:"number?"},spinButtons:{value:!1,type:"boolean"},spinButtonsDelay:{value:75,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},spinButtonsPosition:{value:"right",allowedValues:["left","right"],type:"string"},spinButtonsStep:{value:"1",type:"any"},type:{value:"numeric",type:"string",defaultReflectToAttribute:!0,readonly:!0},unit:{value:"kg",type:"string"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{value:"0",type:"any?"},wordLength:{value:"int32",allowedValues:["int8","uint8","int16","uint16","int32","uint32","int64","uint64"],type:"string"}}}},{key:"listeners",get:function(){return{mouseenter:"_mouseenterMouseleaveHandler",mouseleave:"_mouseenterMouseleaveHandler","downButton.click":"_downButtonClickHandler","downButton.mouseenter":"_mouseenterMouseleaveHandler","downButton.mouseleave":"_mouseenterMouseleaveHandler","dropDown.click":"_dropDownItemClickHandler","dropDown.mouseout":"_mouseenterMouseleaveHandler","dropDown.mouseover":"_mouseenterMouseleaveHandler","input.blur":"_inputBlurHandler","input.change":"_inputChangeHandler","input.focus":"_inputFocusHandler","input.keydown":"_inputKeydownHandler","input.keyup":"_inputKeyupHandler","input.paste":"_inputPasteHandler","input.wheel":"_inputWheelHandler","radixDisplayButton.click":"_radixDisplayButtonClickHandler","radixDisplayButton.mouseenter":"_mouseenterMouseleaveHandler","radixDisplayButton.mouseleave":"_mouseenterMouseleaveHandler","upButton.click":"_upButtonClickHandler","upButton.mouseenter":"_mouseenterMouseleaveHandler","upButton.mouseleave":"_mouseenterMouseleaveHandler","document.down":"_documentMousedownHandler","document.up":"_documentMouseupHandler"}}},{key:"requires",get:function(){return window.NIComplex?{"JQX.Button":"jqxbutton.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}:{"JQX.Button":"jqxbutton.js","JQX.Utilities.Complex":"jqxcomplex.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}}},{key:"styleUrls",get:function(){return["jqx.button.css","jqx.numerictextbox.css"]}}]),t}(JQX.BaseElement));
//# sourceMappingURL=jqxnumerictextbox.js.map
