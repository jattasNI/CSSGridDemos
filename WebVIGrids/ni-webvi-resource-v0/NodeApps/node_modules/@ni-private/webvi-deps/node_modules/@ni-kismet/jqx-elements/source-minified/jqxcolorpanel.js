"use strict";JQX("jqx-color-panel",function(e){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"template",value:function(){return'<div id="container">\n                    <div id="gridModeContainer" class ="grid-mode-container"></div>\n                    <div id="paletteModeContainer" class ="palette-mode-container">\n                        <div id="colorPaletteContainer" class ="color-palette-container">\n                            <div id="colorPalette" class ="color-palette">\n                                <div id="colorPaletteThumb" class ="color-palette-thumb"></div>\n                            </div>\n                            <div id="hueScale" class ="hue-scale">\n                                <div id="hueScaleThumb" class ="hue-scale-thumb"></div>\n                            </div>\n                            <div id="colorPaletteRadial" class ="color-palette-radial">\n                                <span class="white-radial-gradient"></span>\n                                <div id="colorPaletteRadialThumb" class ="color-palette-radial-thumb"></div>\n                            </div>\n                            <div id="colorPaletteHexagonal" class ="color-palette-hexagonal"></div>\n                            <div id="brightnessScale" class ="brightness-scale">\n                                <div id="brightnessScaleThumb" class ="brightness-scale-thumb"></div>\n                            </div>\n                            <span id="hexModeResizeTrigger" class ="color-sample hex-mode-resize-trigger"></span>\n                            <div id="colorControlsContainer" class ="color-controls-container"></div>\n                        </div>\n                        <div id="alphaChannelContainer" class ="alpha-channel-container"></div>\n                    </div>\n                    <div id="buttonsContainer" class ="buttons-container"></div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}},{key:"propertyChangedHandler",value:function(e,t,l){function r(){o._generateGridStructures(),o._applyValue(o.value)}var o=this;switch(e){case"applyValueMode":"instantly"!==l||o.value||(o._HSV={h:0,s:0,v:1},o._selectedItem&&o._selectedItem.classList.contains("selected")&&(o._selectedItem.classList.remove("selected"),o._selectedItem.style.stroke=null)),"palette"!==o.displayMode&&"radial"!==o.displayMode&&"hexagonal"!==o.displayMode||o._handleCancelButtonClick(),"useButtons"===l&&o._createApplyValueButtons();break;case"paletteColors":o._customPalette=o._mapDataSourceToPalette(),r(o.displayMode);break;case"inverted":var n=o.$.hueScaleThumb.offsetHeight,i=o._validateInRange(n/2,0,o.$.hueScale.offsetHeight-n)/o.$.brightnessScale.offsetHeight;l?(o._HSV.v=o._HSV.s,o._HSV.s=1-i):(o._HSV.s=o._HSV.v,o._HSV.v=1-i),o.value=o._HSVtoRGBA(o._HSV),o.$.colorPaletteRadial.style.setProperty("--jqx-color-panel-brightness",o.$.brightnessScaleThumb.s||0),r(o.displayMode);break;case"palette":r(o.displayMode),o._updatePreviewContainerValues(o.value);break;case"displayMode":case"gridThemeColors":case"gridShadeColors":case"gridStandardColors":if("displayMode"===e){var s=o.value;if(o.$.container.className.indexOf("custom-color-selection")>-1&&o._handleCancelButtonClick(),null!==o.value&&"palette"!==l&&"hexagonal"!==l&&"radial"!==l){o.$.alphaChannelThumb&&(o.$.alphaChannelThumb.style.left=0,o.$.alphaChannelThumb.a=o._RGBA.a=1),o.value=o._getValue(o.valueFormat),r(),o.$.fireEvent("change",{oldValue:s,value:o.value});break}if(null===o.value&&("palette"===l||"hexagonal"===l||"radial"===l)){o._RGBA={r:255,g:255,b:255,a:1},o._HSV={h:0,s:0,v:1},o.value=o._getValue(o.valueFormat),r(),o.$.fireEvent("change",{oldValue:s,value:o.value});break}}r(o.displayMode);break;case"locale":case"messages":o._localizeLabels();break;case"paletteCustomColors":o._userPalette=l||[],(o.displayMode.toLowerCase().indexOf("grid")>-1||"default"===o.displayMode)&&o._generatePaletteUserColorGrid(!0);break;case"editAlphaChannel":if(!l&&(o._RGBA.a=1),!o.value)return;var d=o.value;o.value=o._getValue(o.valueFormat),o.value!==d&&o.$.fireEvent("change",{oldValue:d,value:o.value}),l&&o._createAlphaChannel();break;case"value":if(l="string"==typeof l?l.trim():l,!o._isValidColor(l))return void o._reset();o._applyValue(l),o.value=o._getValue(o.valueFormat),"hexagonal"===o.displayMode&&o._generateHoneycomb(o.columnCount,o.inverted?{s:o._HSV.s}:{v:o._HSV.v}),t!==o.value&&o.$.fireEvent("change",{oldValue:t,value:o.value});break;case"columnCount":var u=o.$.container.style;null===l||isNaN(l)?u.removeProperty("--jqx-color-panel-grid-mode-column-count"):u.setProperty("--jqx-color-panel-grid-mode-column-count",l),o._generatePaletteUserColorGrid(),"spectrumGrid"===o.displayMode?o._generateSpectrumGrid(parseInt(l)):"hexagonal"===o.displayMode&&o._generateHoneycomb(l,o._HSV);break;case"valueFormat":if(!o.value)return;var c=o.value;o.value=o._getValue(l),o.$.fireEvent("change",{oldValue:c,value:o.value});break;case"tooltipDisplayMode":if(!o.$.tooltip)return;"none"===l?(o.$.tooltip.close(),o.$.tooltip.disabled=!0):o.$.tooltip.disabled=!1;break;default:if(babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"propertyChangedHandler",this).call(this,e,t,l),"disabled"===e)for(var g=o.getElementsByClassName("color-input"),h=0;h<g.length;h++)g[h][e];"disabled"!==e&&"theme"!==e&&"animation"!==e||(o.$.buttonOk&&(o.$.buttonOk[e]=l),o.$.buttonCancel&&(o.$.buttonCancel[e]=l),o.$.buttonCustom&&(o.$.buttonCustom[e]=l),o.$.tooltip&&(o.$.tooltip[e]=l))}}},{key:"ready",value:function(){babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"ready",this).call(this);var e=this;e._initializeBaseVars(),null===e.columnCount||isNaN(e.columnCount)?e.$.container.style.removeProperty("--jqx-color-panel-grid-mode-column-count"):e.$.container.style.setProperty("--jqx-color-panel-grid-mode-column-count",e.columnCount),"useButtons"===e.applyValueMode&&e._createApplyValueButtons(),e.editAlphaChannel&&e._createAlphaChannel(),e._localizeLabels(),e._generateGridStructures(),e.value||"hexagonal"!==e.displayMode&&"radial"!==e.displayMode&&"palette"!==e.displayMode||(e.value=e._getValue(e.valueFormat)),e._applyValue(e.value),e._hideControlsByPriority()}},{key:"_createApplyValueButtons",value:function(e){function a(e){var a=document.createElement("jqx-button");return a.classList.add(e),a.classList.add("primary"),a.disabled=t.disabled,a.theme=t.theme,a.animation=t.animation,t.$.buttonsContainer.appendChild(a),a}var t=this;(e||"useButtons"===t.applyValueMode)&&(t.$.buttonsContainer.innerHTML.trim()||(t.$.buttonOk=a("button-ok"),t.$.buttonCancel=a("button-cancel"),t.$.buttonOk.content=t.localize("ok"),t.$.buttonCancel.content=t.localize("cancel")))}},{key:"_createAlphaChannel",value:function(){var e=this;if(!(!e.editAlphaChannel||e.editAlphaChannel&&e.$.alphaChannelContainer.innerHTML.trim())){e.$.alphaChannelContainer.innerHTML='\n                            <div class ="alpha-channel-scale">\n                                <div class ="alpha-channel-thumb"></div>\n                            </div>\n                            <label for="aChannelInput" class ="a-channel"></label>\n                            <input type="number" step="0.01"  class ="color-input a-channel" value="1" min="0" max="1">',e.$.alphaChannelScale=e.$.alphaChannelContainer.querySelector(".alpha-channel-scale"),e.$.alphaChannelThumb=e.$.alphaChannelContainer.querySelector(".alpha-channel-thumb");e.$.alphaChannelContainer.querySelector("input").disabled=e.disabled,e._localizeLabels(),e._applyAlphaValue(e._RGBA.a,"alphaScale")}}},{key:"_createGridModeComponents",value:function(){var e=this;if(["radial","palette","hexagonal"].indexOf(e.displayMode)>-1)return!1;if(!e.$.gridModeContainer.innerHTML.trim()){var a=e.$.gridModeContainer;a.innerHTML='\n                        <div id="defaultSamplesContainer" class ="default-samples-container"></div>\n                        <div id="gridSamplesContainer" class ="grid-samples-container"></div>\n                        <div id="materialGridSamplesContainer" class ="material-grid-samples-container"></div>\n                        <div id="spectrumGridSamplesContainer" class ="spectrum-grid-samples-container"></div>\n                        <jqx-button id="buttonCustom" class ="button-custom-color primary"></jqx-button>\n                        <div id="userSamplesContainer" class ="user-samples-container"></div>\n                        <jqx-tooltip id="tooltip" arrow position="auto"></jqx-tooltip>',e.$.defaultSamplesContainer=a.querySelector(".default-samples-container"),e.$.gridSamplesContainer=a.querySelector(".grid-samples-container"),e.$.materialGridSamplesContainer=a.querySelector(".material-grid-samples-container"),e.$.materialGridSamplesContainer.$=JQX.Utilities.Extend(e.$.materialGridSamplesContainer),e.$.spectrumGridSamplesContainer=a.querySelector(".spectrum-grid-samples-container"),e.$.userSamplesContainer=a.querySelector(".user-samples-container"),e.$.buttonCustom=a.querySelector("jqx-button"),e.$.tooltip=a.querySelector("jqx-tooltip"),e.$.buttonCustom.disabled=e.disabled,e.$.buttonCustom.animation=e.animation,e.$.buttonCustom.theme=e.theme,e.$.buttonCustom.content=e.localize("customColor"),e.$.tooltip.disabled=e.disabled||"none"===e.tooltipDisplayMode,e.$.tooltip.animation=e.animation,e.$.tooltip.theme=e.theme}}},{key:"_createColorControls",value:function(e){var a=this,t=["radial","palette","hexagonal"];if(!e&&t.indexOf(a.displayMode)<0)return!1;var l=a.$.colorControlsContainer;if(!l.innerHTML.trim()){l.innerHTML='\n                                <div id="previewContainer" class ="preview-container gradient-background">\n                                       <span  class ="preview-container-top"></span>\n                                       <span class ="preview-container-bottom"></span>\n                                </div>\n                                <label for="rChannelInput" id="rChannelLabel" class ="r-channel"></label>\n                                <input type="number" min="0" max="255" id="rChannelInput" class ="color-input r-channel" value="255">\n                                <label for="gChannelInput" id="gChannelLabel" class ="g-channel"></label>\n                                <input type="number" min="0" max="255" id="gChannelInput" class ="color-input g-channel" value="255" >\n                                <label for="bChannelInput" id="bChannelLabel" class ="b-channel"></label>\n                                <input type="number" min="0" max="255" id="bChannelInput" class ="color-input b-channel" value="255">\n                                <label for="hexInput" id="hexLabel" class ="hex"></label>\n                                <input type="text" id="hexInput" class ="color-input hex" value="FFFFFF" maxlength="6">';for(var r=l.getElementsByClassName("color-input"),o=0;o<r.length;o++)r[o].disabled=a.disabled;a._localizeLabels()}}},{key:"_getColorBrightness",value:function(){var e=this._RGBA;if(e)return Math.min(255,Math.sqrt(e.r*e.r*.241+e.g*e.g*.691+e.b*e.b*.068))}},{key:"_containerClickHandler",value:function(e){var a=this;if(!a.disabled&&!a.readonly&&e.target){if(e.target.classList.contains("color-sample"))return void a._handleSampleClick(e);var t=e.target.closest("jqx-button");return t===a.$.buttonCancel?void a._handleCancelButtonClick(!0):t===a.$.buttonCustom?(a.$container.addClass("custom-color-selection"),a._createApplyValueButtons(!0),a._createColorControls(!0),a._applyValueInPaletteMode(),a._customColorSelection=!0,void(1===a._RGBA.a&&a.$.alphaChannelThumb&&(a.$.alphaChannelThumb.style.left=0,a.$.alphaChannelThumb.a=a._RGBA.a))):t===a.$.buttonOk?void a._handleOkButtonClick(!0):void(e.target!==a.querySelector(".preview-container-top")||"useButtons"!==a.applyValueMode||a.disableUndo||a._applyValue(a.value))}}},{key:"_reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,a=this;a._RGBA={r:255,g:255,b:255,a:1},a._HSV={h:0,s:0,v:1},a.$.hueScaleThumb.h=0,a.$.colorPaletteThumb.s=0,a.$.colorPaletteThumb.v=1,a.$.colorPaletteRadialThumb.h=0,a.$.colorPaletteRadialThumb.s=0,a.$.brightnessScaleThumb.v=1,a.$.brightnessScaleThumb.s=0,"hexagonal"!==a.displayMode&&"radial"!==a.displayMode&&"palette"!==a.displayMode?(a.value=null,a._selectedItem&&a._selectedItem.classList.contains("selected")&&(a._selectedItem.classList.remove("selected"),a._selectedItem.style.stroke=null)):a.value=a._getValue(a.valueFormat),a._applyValue(a.value),a.$.fireEvent("change",{oldValue:e,value:a.value})}},{key:"_handleColorPaletteDown",value:function(e){var a=this,t=a._getXYcoordinates(e);if(t){var l="palette"===a.displayMode||"grid"===a.displayMode?a.$.colorPaletteThumb:a.$.colorPaletteRadialThumb;if(a._activeComponent=t.container,"palette"===a.displayMode||a.$.container.className.indexOf("custom-color-selection")>-1){if(l.s=a._HSV.s=t.x/t.container.offsetWidth,l.v=a._HSV.v=1-t.y/t.container.offsetHeight,"grid"===a.displayMode)return a._moveThumbHandler(e,!0),void a._applyValueInPaletteMode(e)}else if("radial"===a.displayMode){var r=a.$.colorPaletteRadial.offsetWidth,o=t.x-r/2,n=t.y-r/2;l.h=a._HSV.h=a._calcHueAngle(o,n)<0?360+a._calcHueAngle(o,n):a._calcHueAngle(o,n);var i=a.$.brightnessScaleThumb,s=a.$.brightnessScale,d=a._validateInRange(2*a._calcSatDistance(o,n)/r,0,1),u=a._validateInRange(i.offsetTop-i.offsetHeight/2,0,s.offsetHeight-i.offsetHeight)/s.offsetHeight;a.inverted?(l.v=a._HSV.v=d,l.s=a._HSV.s=1-u):(l.s=a._HSV.s=d,l.v=a._HSV.v=1-u)}a._applyValue(a._HSVtoRGBA(a._HSV),e),a._instantUpdate()}}},{key:"_handleScalesDown",value:function(e){var a=this,t=a._getXYcoordinates(e),l=void 0,r=void 0;t&&(a._activeComponent=t.container,t.container===a.$.hueScale?a._updateHueScale(t):t.container===a.$.brightnessScale?(a._updateBrightnessScale(t),"hexagonal"===a.displayMode&&a._generateHoneycomb(a.columnCount,a._HSV)):a.$.alphaChannelScale&&(l=t.x-a.$.alphaChannelThumb.offsetWidth/2,r=a.$.alphaChannelScale.offsetWidth-a.$.alphaChannelThumb.offsetWidth,a.$.alphaChannelThumb.style.left=100*a._validateInRange(l,0,r)/a.$.alphaChannelScale.offsetWidth+"%",a.$.alphaChannelThumb.a=a._RGBA.a=(t.container.offsetWidth-t.x)/t.container.offsetWidth,a._applyAlphaValue(a._RGBA.a,"alphaScale")),a._applyValue(a._HSVtoRGBA(a._HSV),e),a._instantUpdate())}},{key:"_updateBrightnessScale",value:function(e){var a=this,t=e.y-a.$.brightnessScaleThumb.offsetHeight/2,l=a.$.brightnessScale.offsetHeight-a.$.brightnessScaleThumb.offsetHeight,r=Math.min(Math.max(parseFloat(t),0),parseFloat(l))/l;a.inverted?a.$.brightnessScaleThumb.s=a._HSV.s=1-r:a.$.brightnessScaleThumb.v=a._HSV.v=1-r,a.$.brightnessScaleThumb.style.top=l*r+"px",a.$.colorPaletteRadial.style.setProperty("--jqx-color-panel-brightness",r)}},{key:"_updateHueScale",value:function(e){var a=this,t=e.y-a.$.hueScaleThumb.offsetHeight/2,l=a.$.hueScale.offsetHeight,r=l-a.$.hueScaleThumb.offsetHeight;a.$.hueScaleThumb.h=a._HSV.h=360*(l-e.y)/l,a.$.hueScaleThumb.style.top=r*Math.min(Math.max(parseFloat(t),0),parseFloat(r))/r+"px"}},{key:"_trackMoveHandler",value:function(e){var a=this;JQX.Utilities.Core.isMobile||e.stopPropagation(),"touchmove"===e.originalEvent.type&&a._dragDetails&&e.originalEvent.preventDefault()}},{key:"_moveThumbHandler",value:function(e,a){var t=this,l=e.pageX-window.pageXOffset,r=e.pageY-window.pageYOffset;if(!t.disabled&&!t.readonly&&t._activeComponent&&t._dragDetails&&(t._dragDetails.x!==l||t._dragDetails.y!==r||a)){var o=t._getXYcoordinates(e);if(o){var n=t._activeComponent.offsetWidth,i=t._activeComponent.offsetHeight;switch(t._activeComponent){case t.$.colorPalette:t.$.colorPaletteThumb.style.left=100*o.x/n+"%",t.$.colorPaletteThumb.style.top=100*o.y/i+"%",t.$.colorPaletteThumb.s=t._HSV.s=o.x/n,t.$.colorPaletteThumb.v=t._HSV.v=1-o.y/i;break;case t.$.colorPaletteRadial:var s=n,d=o.x-s/2,u=o.y-s/2;t.$.colorPaletteRadialThumb.h=t._HSV.h=t._calcHueAngle(d,u)<0?360+t._calcHueAngle(d,u):t._calcHueAngle(d,u),t.inverted?t.$.colorPaletteRadialThumb.v=t._HSV.v=t._validateInRange(2*t._calcSatDistance(d,u)/s,0,1):t.$.colorPaletteRadialThumb.s=t._HSV.s=t._validateInRange(2*t._calcSatDistance(d,u)/s,0,1);var c=t.querySelector(".preview-container-bottom");c&&(c.style.backgroundColor=t._HSVtoRGBA());break;case t.$.hueScale:t._updateHueScale(o);break;case t.$.brightnessScale:if(t._updateBrightnessScale(o),"hexagonal"===t.displayMode){var g=t.inverted?{s:t._HSV.s}:{v:t._HSV.v};t._generateHoneycomb(t.columnCount,g)}break;case t.$.alphaChannelScale:var h=o.x-t.$.alphaChannelThumb.offsetWidth/2,p=n-t.$.alphaChannelThumb.offsetWidth;t.$.alphaChannelThumb.a=t._RGBA.a=(n-o.x)/n,t.$.alphaChannelThumb.style.left=100*t._validateInRange(h,0,p)/n+"%"}t._applyValue(t._HSVtoRGBA(t._HSV),e),t._instantUpdate()}}}},{key:"_releaseThumbUpHandler",value:function(){var e=this,a=!!e._activeComponent;e._activeComponent=null,e.disabled||e.readonly||!a||e._dragDetails&&e._dragDetails.isPalettePressed||e._instantUpdate()}},{key:"_handleCancelButtonClick",value:function(e){var a=this,t=a.value;switch("palette"!==a.displayMode&&"radial"!==a.displayMode&&"hexagonal"!==a.displayMode?(a.value=t,a._HSV=a._getValue("hsv",a.value)||{h:1,s:0,v:1},a._RGBA=a._getValue("HSVtoRGBAarray",a.value)):(a._HSV=a._getValue("hsv",a.value)||{h:1,s:0,v:1},a._RGBA=a._getValue("HSVtoRGBAarray",a.value),a.value=a._getValue(a.valueFormat)),a._applyValue(a.value),a.displayMode){case"radial":a._generateRadialCanvas();break;case"hexagonal":a._generateHoneycomb(a.columnCount,a._HSV)}if(null===a.value&&a._selectedItem&&a._selectedItem.classList.contains("selected")&&a._selectedItem.classList.remove("selected"),t!==a.value&&a.$.fireEvent("change",{oldValue:t,value:a.value}),a.$.container.className.indexOf("custom-color-selection")>-1&&a._applyValueInPaletteMode(),e&&a.$.fireEvent("cancelButtonClick"),!1===a._customColorSelection){a._updatePreviewContainerValues(a.value);for(var l="hexagonal"===a.displayMode?a.$.colorPaletteHexagonal:a.$.gridModeContainer,r=l.getElementsByClassName("selected"),o=0;o<r.length;o++)!r[o]||a.value&&a._equalValues(r[o].colorCode,a.value)||(r[o].style.stroke=null,r[o].classList.remove("selected"))}else a.$container.removeClass("custom-color-selection");if(a._customColorSelection=!1,a._customTempColor=void 0,"palette"===a.displayMode||"radial"===a.displayMode){var n=a.querySelector(".preview-container-top");n&&(n.style.backgroundColor=a.value)}}},{key:"_handleOkButtonClick",value:function(e){var a=this,t=a.value;if(!1!==a._customColorSelection&&void 0!==a._customColorSelection){var l=a._getValue(a.valueFormat);return"useButtons"!==a.applyValueMode&&(a.value=l),a.$container.removeClass("custom-color-selection"),a._userPalette.unshift(l),a._generatePaletteUserColorGrid(),a._customColorSelection=!1,void(t!==a.value&&a.$.fireEvent("change",{oldValue:t,value:a.value}))}if(a._customTempColor&&(a._userPalette.unshift(a._customTempColor),a._generatePaletteUserColorGrid(),a._generateNewPalette=!1,a._customTempColor=""),"palette"===a.displayMode||"radial"===a.displayMode||"hexagonal"===a.displayMode||a._selectedItem&&a._selectedItem.classList.contains("selected")?a.value=a._getValue(a.valueFormat):a.value=null,null===a.value)if("palette"===a.displayMode)a._applyValue(a._HSVtoRGBA(a._HSV),event);else for(var r=a.$.gridModeContainer.getElementsByClassName("selected"),o=0;o<r.length;o++)r[o]&&r[o].classList.remove("selected");t!==a.value&&a.$.fireEvent("change",{oldValue:t,value:a.value}),e&&a.$.fireEvent("okButtonClick",{}),a._customColorSelection=!1,"useButtons"!==a.applyValueMode||a._equalValues(a.value,a._HSVtoRGBA())||a._updatePreviewContainerValues(a._getValue("rgba"),!0)}},{key:"_handleInputChange",value:function(e){var a=this,t=a.value,l=e.target;if(!a.disabled&&!a.readonly){e.preventDefault(),e.stopPropagation();var r=["r-channel","g-channel","b-channel"].find(function(e){return l.className.indexOf(e)>-1}),o=l.classList.contains("a-channel");if(r||o)l.value=r?Math.min(255,Math.max(0,l.value)):Math.min(1,Math.max(0,parseFloat(l.value)||0)),a._RGBA=a._getRGBAFromInputs(),a._HSV=a._getValue("hsv","rgba("+a._RGBA.r+", "+a._RGBA.g+", "+a._RGBA.b+", "+a._RGBA.a+")");else if(l.classList.contains("hex")){var n=a.value?a._getValue("hex"):null,i="#"+l.value;a._isHEX(i)?(a._RGBA.a=1,a._applyValue(a.editAlphaChannel?a._toRGBA(i):a._toHEX(i))):l.value=n?n.substring(1):"ffffff"}a._applyValue(a.editAlphaChannel?a._getValue("rgba"):a._getValue("hex")),"useButtons"===a.applyValueMode||a.$.container.className.indexOf("custom-color-selection")>-1||(a.value=a._getValue(a.valueFormat),a.$.fireEvent("change",{oldValue:t,value:a.value}))}}},{key:"_applyValue",value:function(e,a){var t=this;if(!e||null===e||"rgba(NaN, NaN, NaN, 1)"===e)return t._RGBA={r:255,g:255,b:255,a:1},void(t.$.hiddenInput.value=t.value);t._HSVRGBArefresh(e.trim()),"palette"===t.displayMode||t.$.container.className.indexOf("custom-color-selection")>-1?t._applyValueInPaletteMode(a):"radial"===t.displayMode?t._applyValueInRadialMode(a):"hexagonal"===t.displayMode?t._applyValueInHexagonalMode(a):t._applyValueInAnyGridMode(e.trim()),t._applyAlphaValue(t._RGBA.a),t.$.hiddenInput.value=t.value}},{key:"_applyAlphaValue",value:function(e,a){var t=this;if(e=t._toFixed(e),t.$.alphaChannelScale){if("alphaScale"!==a){var l=t.$.alphaChannelThumb.offsetWidth,r=t.$.alphaChannelScale.offsetWidth,o=(1-e)*r>l?(1-e)*l:0;t.$.alphaChannelThumb.style.left=(1-e)*r-o+"px"}if("alphaInput"!==a){t.$.alphaChannelContainer.querySelector("input.a-channel").value=e}}t._RGBA.a=e,t._updatePreviewContainerValues(t._getValue("rgba"))}},{key:"_applyValueInPaletteMode",value:function(e){var a=this,t=a._getValue("hex"),l=a.$.hueScale.offsetHeight,r=a.$.hueScaleThumb.offsetHeight,o=a._HSV.h?a.$.hueScale.offsetHeight*(360-a._HSV.h)/360:0,n=o-r>0?o/l*r:0,i=a.querySelector("input.hex");a._setRGBAToInputs(),i&&(i.value=t.substring(1)),a.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",t),a._activeComponent||(a.$.alphaChannelThumb&&(a.$.alphaChannelThumb.style.left=100*(1-a._RGBA.a)+"%"),a.$.hueScaleThumb.style.top=Math.min(a.$.hueScale.offsetHeight-a.$.hueScaleThumb.offsetHeight,o+n)+"px",a._setPalettePointerXYPosition()),a._activeComponent===a.$.hueScale&&(a.$.colorPalette.style.backgroundColor=a._rgbaToRGB(a._HSVtoRGBA({h:a.$.hueScaleThumb.h,s:1,v:1}))),a._activeComponent&&a._activeComponent!==a.$.colorPalette||a._setPalettePointerXYPosition(e),a.event?a._HSV.h=a.$.hueScaleThumb.h:(a.$.hueScaleThumb.h=a._HSV.h,a.$.colorPalette.style.backgroundColor=a._rgbaToRGB(a._HSVtoRGBA({h:a._HSV.h,s:1,v:1}))),a._updatePreviewContainerValues(a._getValue("rgba"))}},{key:"_applyValueInRadialMode",value:function(e){var a=this,t=a._getValue("hex"),l=a.querySelector("input.hex");if(a._setRGBAToInputs(),l&&(l.value=t.substring(1)),a.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",t),!a._activeComponent){var r=a.$.brightnessScale.offsetHeight-a.$.brightnessScaleThumb.offsetHeight;a.$.alphaChannelThumb&&(a.$.alphaChannelThumb.style.left=100*(1-a._RGBA.a)+"%"),a.$.brightnessScaleThumb.style.top=r*(a.inverted?a._HSV.v:1-a._HSV.v)+"px"}if(a._activeComponent&&a._activeComponent!==a.$.colorPaletteRadial||a._setPalettePointerXYPosition(e),a._updatePreviewContainerValues(a._getValue("rgba")),a.inverted){var o=null===a.value?"black":a._HSVtoRGBA({h:a._HSV.h,s:1,v:a._HSV.v});a.$.brightnessScale.style.backgroundImage="linear-gradient("+o+", white)"}else{var n=null===a.value?"white":a._HSVtoRGBA({h:a._HSV.h,s:a._HSV.s,v:1});a.$.brightnessScale.style.backgroundImage="linear-gradient("+n+", black)"}}},{key:"_applyValueInHexagonalMode",value:function(){var e=this,a=e._getValue("hex"),t=e.querySelector("input.hex");if(e._setRGBAToInputs(),t&&(t.value=a?a.substring(1):null),e.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",a),!e._activeComponent&&!e._targetItem){var l=e.$.brightnessScale.offsetHeight-e.$.brightnessScaleThumb.offsetHeight;e.$.alphaChannelThumb&&(e.$.alphaChannelThumb.style.left=100*(1-e._RGBA.a)+"%"),e.$.brightnessScaleThumb.style.top=l*(e.inverted?e._HSV.v:1-e._HSV.v)+"px"}var r=e._getValue("rgba");if(e._updatePreviewContainerValues(r||e._getValue("hex")),e.inverted){var o=e._HSVtoRGBA({h:e._HSV.h,s:1,v:e._HSV.v},1);e.$.brightnessScale.style.backgroundImage="linear-gradient("+o+", white)"}else{var n=e._HSVtoRGBA({h:e._HSV.h,s:e._HSV.s,v:1},1);e.$.brightnessScale.style.backgroundImage="linear-gradient("+n+", black)"}e._applyValueInAnyGridMode(a,e.$.colorPaletteHexagonal)}},{key:"_radialThumbPoint",value:function(e,a,t,l){return{x:Math.round(Math.cos(t*Math.PI/180)*l*e+e),y:Math.round(Math.sin(t*Math.PI/180)*l*e+a)}}},{key:"_updatePreviewContainerValues",value:function(e,a){var t=this,l=t.querySelector(".preview-container");l&&(("instantly"===t.applyValueMode||a)&&(l.firstElementChild.style.backgroundColor=e),l.lastElementChild.style.backgroundColor=e)}},{key:"_applyValueInAnyGridMode",value:function(e,a){var t=this;if(e||null===e){if(!a)switch(t.displayMode){case"default":a=t.$.defaultSamplesContainer;break;case"grid":a=t.$.gridSamplesContainer;break;case"materialGrid":a=t.$.materialGridSamplesContainer;break;case"spectrumGrid":a=t.$.spectrumGridSamplesContainer;break;default:a=t.$.gridModeContainer}if(a){var l=Array.from(a.getElementsByClassName("color-sample")),r=t._targetItem;if(void 0===r||null===r)for(var o=0;o<l.length;o++){var n=l[o];if(t._equalValues(n.colorCode,e)){r=l[o];break}}t.$.container.className.indexOf("custom-color-selection")>-1&&t._HSV.h&&t._applyValueInPaletteMode(),t._changeSampleSelection(r)}}}},{key:"_generatePaletteGrid",value:function(){var e=this;if(e.$.gridSamplesContainer){for(var a=e["_"+e.palette+"Palette"],t=document.createDocumentFragment(),l=0;l<a.length;l++){var r=document.createElement("span"),o=a[l];r.className="color-sample",r.colorCode=o,r.style.backgroundColor=o,"rgba(255, 255, 255, 0)"===e._toRGBA(o)||"#FFFFFF00"===e._toHEX(e._toRGBA(o))||"transparent"===o?r.setAttribute("transparent",""):r.removeAttribute("transparent"),t.appendChild(r)}e.$.gridSamplesContainer.innerHTML="",e.$.gridSamplesContainer.appendChild(t)}}},{key:"_generatePaletteUserColorGrid",value:function(e){var a=this;if(a.$.userSamplesContainer){if(!a._userPalette||!a._userPalette.length)return void(a.$.userSamplesContainer.innerHTML="");var t=a._userPalette.filter(function(e){return""!==e}).slice(0,a.columnCount||1),l=document.createDocumentFragment(),r=void 0;t=[].concat(babelHelpers.toConsumableArray(new Set(t)));for(var o=0;o<t.length;o++)if(t[o]){var n=a._createColorSample(t[o],"user-color");l.appendChild(n),r||(r=n)}a.$.userSamplesContainer.innerHTML="",a.$.userSamplesContainer.appendChild(l),!e&&r.colorCode&&a._changeSampleSelection(r),a.paletteCustomColors=a._userPalette.slice(0)}}},{key:"_initializeBaseVars",value:function(){var e=this;void 0===e._RGBA&&(e._RGBA={r:255,g:255,b:255,a:1},e._HSV={h:0,s:0,v:1},e.$.hueScaleThumb.h=0,e.$.colorPaletteThumb.s=0,e.$.colorPaletteThumb.v=1,e.$.colorPaletteRadialThumb.h=0,e.$.colorPaletteRadialThumb.s=0,e._defaultPalette=["rgba(255, 255, 255, 0)","rgb(0, 0, 0)","rgb(153, 51, 0)","rgb(51, 51, 0)","rgb(0, 51, 0)","rgb(0, 51, 102)","rgb(0, 0, 128)","rgb(51, 51, 153)","rgb(51, 51, 51)","rgb(128, 0, 0)","rgb(255, 102, 0)","rgb(128, 128, 0)","rgb(0, 128, 0)","rgb(0, 128, 128)","rgb(0, 0, 255)","rgb(102, 102, 153)","rgb(128, 128, 128)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(153, 204, 0)","rgb(51, 153, 102)","rgb(51, 204, 204)","rgb(51, 102, 255)","rgb(128, 0, 128)","rgb(153, 153, 153)","rgb(255, 0, 255)","rgb(255, 204, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(0, 204, 255)","rgb(153, 51, 102)","rgb(192, 192, 192)","rgb(255, 153, 204)","rgb(255, 204, 153)","rgb(255, 255, 153)","rgb(204, 255, 204)","rgb(204, 255, 255)","rgb(153, 204, 255)","rgb(204, 153, 255)","rgb(255, 255, 255)"],e._grayPalette=e._generateShades(40,"gray"),e._redPalette=e._generateShades(40,"red"),e._greenPalette=e._generateShades(40,"green"),e._bluePalette=e._generateShades(40,"blue"),e._customPalette=e._mapDataSourceToPalette(),e._userPalette=e.paletteCustomColors||[],e._colorPalette={},e._cssColorNamesHEX={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},e._defaultModeThemeColors=null===e.gridThemeColors?["#FFFFFF","#000000","#E6E6E6","#495469","#5671C2","#D48439","#A5A5A5","#EEC328","#7399D3","#85AA4C"]:e.gridThemeColors,e._defaultModeStandardColors=null===e.gridStandardColors?["#A52A0D","#DB3A15","#EEC328","#FEFE33","#A6CD57","#62AC54","#65ADEE","#3F6FBE","#10205F","#64379E"]:e.gridStandardColors,
e._defaultModeShadesColors=null===e.gridShadeColors?["#F2F2F2","#808080","#D0CECE","#D6DCE4","#DDEBF7","#FCE4D6","#EBEBEB","#FFF2CC","#DDE5F7","#E2EFDA","#D8D8D8","#595959","#AEAAAA","#ACB9CA","#BDD7EE","#F6CAAD","#DBDBDB","#FFE699","#B4C6E7","#C6E0B4","#BFBFBF","#404040","#757171","#8497B0","#9BC2E6","#F4B084","#C0C0C0","#FFD966","#8EA9DB","#A9D08E","#A6A6A6","#262626","#312F2F","#333F4F","#2F75B5","#C65911","#7B7B7B","#BF8F00","#305496","#548235","#808080","#0D0D0D","#161616","#222B35","#1F4E78","#833C0C","#525252","#806000","#203764","#375623"]:e.gridShadeColors,e._materialColors={Red:{50:"rgb(255, 235, 238)",100:"rgb(255, 205, 210)",200:"rgb(239, 154, 154)",300:"rgb(229, 115, 115)",400:"rgb(239, 83, 80)",500:"rgb(244, 67, 54)",600:"rgb(229, 57, 53)",700:"rgb(211, 47, 47)",800:"rgb(198, 40, 40)",900:"rgb(183, 28, 28)","A 100":"rgb(255, 138, 128)","A 200":"rgb(255, 82, 82)","A 400":"rgb(255, 23, 68)","A 700":"rgb(213, 0, 0)"},Pink:{50:"rgb(252, 228, 236)",100:"rgb(248, 187, 208)",200:"rgb(244, 143, 177)",300:"rgb(240, 98, 146)",400:"rgb(236, 64, 122)",500:"rgb(233, 30, 99)",600:"rgb(216, 27, 96)",700:"rgb(194, 24, 91)",800:"rgb(173, 20, 87)",900:"rgb(136, 14, 79)","A 100":"rgb(255, 128, 171)","A 200":"rgb(255, 64, 129)","A 400":"rgb(245, 0, 87)","A 700":"rgb(197, 17, 98)"},Purple:{50:"rgb(243, 229, 245)",100:"rgb(225, 190, 231)",200:"rgb(206, 147, 216)",300:"rgb(186, 104, 200)",400:"rgb(171, 71, 188)",500:"rgb(156, 39, 176)",600:"rgb(142, 36, 170)",700:"rgb(123, 31, 162)",800:"rgb(106, 27, 154)",900:"rgb(74, 20, 140)","A 100":"rgb(234, 128, 252)","A 200":"rgb(224, 64, 251)","A 400":"rgb(213, 0, 249)","A 700":"rgb(170, 0, 255)"},"Deep Purple":{50:"rgb(237, 231, 246)",100:"rgb(209, 196, 233)",200:"rgb(179, 157, 219)",300:"rgb(149, 117, 205)",400:"rgb(126, 87, 194)",500:"rgb(103, 58, 183)",600:"rgb(94, 53, 177)",700:"rgb(81, 45, 168)",800:"rgb(69, 39, 160)",900:"rgb(49, 27, 146)","A 100":"rgb(179, 136, 255)","A 200":"rgb(124, 77, 255)","A 400":"rgb(101, 31, 255)","A 700":"rgb(98, 0, 234)"},Indigo:{50:"rgb(232, 234, 246)",100:"rgb(197, 202, 233)",200:"rgb(159, 168, 218)",300:"rgb(121, 134, 203)",400:"rgb(92, 107, 192)",500:"rgb(63, 81, 181)",600:"rgb(57, 73, 171)",700:"rgb(48, 63, 159)",800:"rgb(40, 53, 147)",900:"rgb(26, 35, 126)","A 100":"rgb(140, 158, 255)","A 200":"rgb(83, 109, 254)","A 400":"rgb(61, 90, 254)","A 700":"rgb(48, 79, 254)"},Blue:{50:"rgb(227, 242, 253)",100:"rgb(187, 222, 251)",200:"rgb(144, 202, 249)",300:"rgb(100, 181, 246)",400:"rgb(66, 165, 245)",500:"rgb(33, 150, 243)",600:"rgb(30, 136, 229)",700:"rgb(25, 118, 210)",800:"rgb(21, 101, 192)",900:"rgb(13, 71, 161)","A 100":"rgb(130, 177, 255)","A 200":"rgb(68, 138, 255)","A 400":"rgb(41, 121, 255)","A 700":"rgb(41, 98, 255)"},"Light Blue":{50:"rgb(225, 245, 254)",100:"rgb(179, 229, 252)",200:"rgb(129, 212, 250)",300:"rgb(79, 195, 247)",400:"rgb(41, 182, 246)",500:"rgb(3, 169, 244)",600:"rgb(3, 155, 229)",700:"rgb(2, 136, 209)",800:"rgb(2, 119, 189)",900:"rgb(1, 87, 155)","A 100":"rgb(128, 216, 255)","A 200":"rgb(64, 196, 255)","A 400":"rgb(0, 176, 255)","A 700":"rgb(0, 145, 234)"},Cyan:{50:"rgb(224, 247, 250)",100:"rgb(178, 235, 242)",200:"rgb(128, 222, 234)",300:"rgb(77, 208, 225)",400:"rgb(38, 198, 218)",500:"rgb(0, 188, 212)",600:"rgb(0, 172, 193)",700:"rgb(0, 151, 167)",800:"rgb(0, 131, 143)",900:"rgb(0, 96, 100)","A 100":"rgb(132, 255, 255)","A 200":"rgb(24, 255, 255)","A 400":"rgb(0, 229, 255)","A 700":"rgb(0, 184, 212)"},Teal:{50:"rgb(224, 242, 241)",100:"rgb(178, 223, 219)",200:"rgb(128, 203, 196)",300:"rgb(77, 182, 172)",400:"rgb(38, 166, 154)",500:"rgb(0, 150, 136)",600:"rgb(0, 137, 123)",700:"rgb(0, 121, 107)",800:"rgb(0, 105, 92)",900:"rgb(0, 77, 64)","A 100":"rgb(167, 255, 235)","A 200":"rgb(100, 255, 218)","A 400":"rgb(29, 233, 182)","A 700":"rgb(0, 191, 165)"},Green:{50:"rgb(232, 245, 233)",100:"rgb(200, 230, 201)",200:"rgb(165, 214, 167)",300:"rgb(129, 199, 132)",400:"rgb(102, 187, 106)",500:"rgb(76, 175, 80)",600:"rgb(67, 160, 71)",700:"rgb(56, 142, 60)",800:"rgb(46, 125, 50)",900:"rgb(27, 94, 32)","A 100":"rgb(185, 246, 202)","A 200":"rgb(105, 240, 174)","A 400":"rgb(0, 230, 118)","A 700":"rgb(0, 200, 83)"},"Light Green":{50:"rgb(241, 248, 233)",100:"rgb(220, 237, 200)",200:"rgb(197, 225, 165)",300:"rgb(174, 213, 129)",400:"rgb(156, 204, 101)",500:"rgb(139, 195, 74)",600:"rgb(124, 179, 66)",700:"rgb(104, 159, 56)",800:"rgb(85,139,47)",900:"rgb(51,105,30)","A 100":"rgb(204,255,144)","A 200":"rgb(178,255,89)","A 400":"rgb(118,255,3)","A 700":"rgb(100, 221, 23)"},Lime:{50:"rgb(249, 251, 231)",100:"rgb(255, 249, 196)",200:"rgb(255, 245, 157)",300:"rgb(255, 241, 118)",400:"rgb(255, 238, 88)",500:"rgb(255, 235, 59)",600:"rgb(253, 216, 53)",700:"rgb(251, 192, 45)",800:"rgb(249, 168, 37)",900:"rgb(245, 127, 23)","A 100":"rgb(244, 255, 129)","A 200":"rgb(238, 255, 65)","A 400":"rgb(198, 255, 0)","A 700":"rgb(174, 234, 0)"},Yellow:{50:"rgb(255, 253, 231)",100:"rgb(255, 249, 196)",200:"rgb(255, 245, 157)",300:"rgb(255, 241, 118)",400:"rgb(255, 238, 88)",500:"rgb(255, 235, 59)",600:"rgb(253, 216, 53)",700:"rgb(251, 192, 45)",800:"rgb(249, 168, 37)",900:"rgb(245, 127, 23)","A 100":"rgb(255, 255, 141)","A 200":"rgb(255, 255, 0)","A 400":"rgb(255, 234, 0)","A 700":"rgb(255, 214, 0)"},Amber:{50:"rgb(255, 248, 225)",100:"rgb(255, 236, 179)",200:"rgb(255, 224, 130)",300:"rgb(255, 213, 79)",400:"rgb(255, 202, 40)",500:"rgb(255, 193, 7)",600:"rgb(255, 179, 0)",700:"rgb(255, 160, 0)",800:"rgb(255, 143, 0)",900:"rgb(255, 111, 0)","A 100":"rgb(255, 229, 127)","A 200":"rgb(255, 215, 64)","A 400":"rgb(255, 196, 0)","A 700":"rgb(255, 171, 0)"},Orange:{50:"rgb(255, 243, 224)",100:"rgb(255, 224, 178)",200:"rgb(255, 204, 128)",300:"rgb(255, 183, 77)",400:"rgb(255, 167, 38)",500:"rgb(255, 152, 0)",600:"rgb(251, 140, 0)",700:"rgb(245, 124, 0)",800:"rgb(239, 108, 0)",900:"rgb(230, 81, 0)","A 100":"rgb(255, 209, 128)","A 200":"rgb(255, 171, 64)","A 400":"rgb(255, 145, 0)","A 700":"rgb(255, 109, 0)"},"Deep Orange":{50:"rgb(251, 233, 231)",100:"rgb(255, 204, 188)",200:"rgb(255, 171, 145)",300:"rgb(255, 138, 101)",400:"rgb(255, 112, 67)",500:"rgb(255, 87, 34)",600:"rgb(244, 81, 30)",700:"rgb(230, 74, 25)",800:"rgb(216, 67, 21)",900:"rgb(191, 54, 12)","A 100":"rgb(255, 158, 128)","A 200":"rgb(255, 110, 64)","A 400":"rgb(255, 61, 0)","A 700":"rgb(221, 44, 0)"},Brown:{50:"rgb(239, 235, 233)",100:"rgb(215, 204, 200)",200:"rgb(188, 170, 164)",300:"rgb(161, 136, 127)",400:"rgb(141, 110, 99)",500:"rgb(121, 85, 72)",600:"rgb(109, 76, 65)",700:"rgb(93, 64, 55)",800:"rgb(78, 52, 46)",900:"rgb(62, 39, 35)","A 100":"","A 200":"","A 400":"","A 700":""},Grey:{50:"rgb(250, 250, 250)",100:"rgb(245, 245, 245)",200:"rgb(238, 238, 238)",300:"rgb(224, 224, 224)",400:"rgb(189, 189, 189)",500:"rgb(158, 158, 158)",600:"rgb(117, 117, 117)",700:"rgb(97, 97, 97)",800:"rgb(66, 66, 66)",900:"rgb(33, 33, 33)","A 100":"","A 200":"","A 400":"","A 700":""},"Blue Grey":{50:"rgb(236, 239, 241)",100:"rgb(207, 216, 220)",200:"rgb(176, 190, 197)",300:"rgb(144, 164, 174)",400:"rgb(120, 144, 156)",500:"rgb(96, 125, 139)",600:"rgb(84, 110, 122)",700:"rgb(69, 90, 100)",800:"rgb(55, 71, 79)",900:"rgb(38, 50, 56)","A 100":"","A 200":"","A 400":"","A 700":""}})}},{key:"_mapDataSourceToPalette",value:function(){var e=this,a=[];if(!e.paletteColors||!Array.isArray(e.paletteColors)||0===e.paletteColors.length)return[];for(var t=0;t<e.paletteColors.length;t++){var l=e.paletteColors[t];"string"==typeof l?a.push(e.paletteColors[t]):("object"===(void 0===l?"undefined":babelHelpers.typeof(l))&&(l.value&&"string"==typeof l||l[e.valueMember]&&l[e.valueMember]),a.push(e.paletteColors[t]))}return a}},{key:"_handleSampleClick",value:function(e){var a=this,t=e.target,l=a.value,r=t.colorCode;"hexagonal"===a.displayMode?(r=a._HSVtoRGBA({h:t.h,s:t.s,v:t.v},a._RGBA.a),a._hexagonItems.indexOf(t)>-1&&(a._HSV.h=t.h,a.inverted,a._HSV.s=t.s,a._HSV.v=t.v,a._targetItem=t,a._applyValue(a._HSVtoRGBA(a._HSV),e),delete a._targetItem)):a._changeSampleSelection(t),a._HSVRGBArefresh(t.classList.contains("selected")?r:null),"instantly"===a.applyValueMode&&(a.$.hiddenInput.value=a.value=a._getValue(a.valueFormat,t.classList.contains("selected")?r:null),a.value!==l&&a.$.fireEvent("change",{oldValue:l,value:a.value}))}},{key:"_changeSampleSelection",value:function(e){var a=this;if((!a._selectedItem||"radial"===a.displayMode||"hexagonal"===a.displayMode||e&&(a._selectedItem!==e||!e.classList.contains("selected")))&&e){var t=a._getContrastColor(a._rgbaToHEX(a._toRGBA(e.colorCode))),l=e.closest("svg");return Array.from(a.getElementsByClassName("selected")).forEach(function(e){e.classList.remove("selected"),e.style.stroke=null}),e.classList.add("selected"),a._selectedItem=e,l&&(e.style.stroke=t,l.appendChild(e)),!0}}},{key:"_getContrastColor",value:function(e){if(void 0!==e){var a=function(e,a,t){return[parseInt(e,16),parseInt(a,16),parseInt(t,16)]}(e.slice(1,3),e.slice(3,5),e.slice(5,7));return(.299*a[0]+.61*a[1]+.114*a[2])/255>.6?"#000000":"#FFFFFF"}}},{key:"_getXYcoordinates",value:function(e){if(e){var a=this,t=a._activeComponent||(e.originalEvent||e).target;if(t.closest){var l=t.closest(".color-palette")||t.closest(".color-palette-radial")||t.closest(".hue-scale")||t.closest(".brightness-scale")||t.closest(".alpha-channel-scale");if(l&&!a.disabled&&!a.readonly){var r=l.getBoundingClientRect(),o=e.pageX-window.pageXOffset-r.left,n=e.pageY-window.pageYOffset-r.top;return o<0?o=0:o>l.offsetWidth&&(o=l.offsetWidth),n<0?n=0:n>l.offsetHeight&&(n=l.offsetHeight),{x:o,y:n,container:l}}}}}},{key:"_inputWheelHandler",value:function(e){var a=this,t=a.value,l=e.target;if(e.target instanceof HTMLInputElement&&!e.target.classList.contains("hex")){e.preventDefault();var r=void 0;if(l.classList.contains("a-channel")?(r=parseFloat(l.value)||0,r=e.deltaY<0?r+.01:r-.01,l.value=a._toFixed(a._validateInRange(r,0,1)),a._RGBA=a._getRGBAFromInputs(),a._applyAlphaValue(a._RGBA.a,"alphaInput")):(r=parseInt(l.value)||0,r=e.deltaY<0?r+1:r-1,l.value=a._validateInRange(r,0,255),a._RGBA=a._getRGBAFromInputs(),a._HSV=a._getValue("hsv","rgba("+a._RGBA.r+", "+a._RGBA.g+", "+a._RGBA.b+", "+a._RGBA.a+")")),a._updatePreviewContainerValues(a._getValue(a.valueFormat)),a._setPalettePointerXYPosition(),a.$.container.className.indexOf("custom-color-selection")>-1)return void a._applyValue(a._HSVtoRGBA(a._HSV));"useButtons"!==a.applyValueMode&&(a.value=a._getValue(a.valueFormat),a._applyValue(a.value,e),a.$.fireEvent("change",{oldValue:t,value:a.value}))}}},{key:"_paletteDownHandler",value:function(e){var a=this;if(!(!JQX.Utilities.Core.isMobile&&0!==e.button||a.disabled||a.readonly)){a._dragDetails={x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset};var t=(e.originalEvent||e).target;if(t&&t.closest){if(a._dragDetails.target=t.closest(".color-palette")||t.closest(".color-palette-radial"),t.closest(".color-palette")||t.closest(".color-palette-radial"))return a._handleColorPaletteDown(e.originalEvent),void(a._dragDetails.isPalettePressed=!0);(t.closest(".hue-scale")||t.closest(".alpha-channel-scale")||t.closest(".brightness-scale"))&&a._handleScalesDown(e.originalEvent)}}}},{key:"_setPalettePointerXYPosition",value:function(e){var a=this,t=void 0;if("palette"===a.displayMode||a.$.container.className.indexOf("custom-color-selection")>-1)t=a._getXYcoordinates(e),a.$.colorPaletteThumb.style.left=e&&t&&t.x?100*t.x/t.container.offsetWidth+"%":100*a._HSV.s+"%",a.$.colorPaletteThumb.style.top=e&&t&&t.y?100*t.y/t.container.offsetHeight+"%":100*(1-a._HSV.v)+"%";else if("radial"===a.displayMode){if(e){if(!(t=a._getXYcoordinates(e)))return;var l=t.container.offsetWidth?t.container.offsetWidth:a.$.colorPaletteRadial.offsetWidth,r=t.container.offsetHeight?t.container.offsetHeight:a.$.colorPaletteRadial.offsetHeight,o=Math.round(Math.cos(a._HSV.h*Math.PI/180)*l/2+l/2),n=Math.round(Math.sin(a._HSV.h*Math.PI/180)*l/2+r/2);return Math.abs(l/2-t.x)<5?(a.$.colorPaletteRadialThumb.style.left=100*t.x/a.$.colorPaletteRadial.offsetWidth+"%",void(a.$.colorPaletteRadialThumb.style.top=100*t.y/a.$.colorPaletteRadial.offsetHeight+"%")):(a.$.colorPaletteRadialThumb.style.left=100*(t.x<l/2?Math.max(o,t.x):Math.min(o,t.x))/l+"%",void(a.$.colorPaletteRadialThumb.style.top=100*(t.y<r/2?Math.max(n,t.y):Math.min(n,t.y))/r+"%"))}var i=a._radialThumbPoint(a.$.colorPaletteRadial.offsetWidth/2,a.$.colorPaletteRadial.offsetHeight/2,a._HSV.h,a._HSV.s);a.$.colorPaletteRadialThumb.style.left=100*i.x/a.$.colorPaletteRadial.offsetWidth+"%",a.$.colorPaletteRadialThumb.style.top=100*i.y/a.$.colorPaletteRadial.offsetHeight+"%"}}},{key:"_handleGridModeCellHover",value:function(e){var a=this,t=e.target.closest(".color-sample");if(!a.disabled&&t&&"none"!==a.tooltipDisplayMode&&a.$.tooltip){if(a.$.tooltip.arrow="hexagonal"!==a.displayMode,!a._isValidColor(t.colorCode))return void(a.$.tooltip.disabled=!0);a.$.tooltip.disabled=!1,a.$.tooltip.selector=t;var l=t.h&&t.s&&t.v?a._HSVtoRGBA({h:t.h,s:t.s,v:t.v},a._RGBA.a):a._toRGBA(t.colorCode);switch(a.tooltipDisplayMode){case"rgba":a.$.tooltip.value=l||"";break;case"rgb":a.$.tooltip.value=a._rgbaToRGB(l)||"";break;case"hex":a.$.tooltip.value=a._rgbaToHEX(l)||""}}}},{key:"_localizeLabels",value:function(){var e=this,a=e.querySelector("label.r-channel"),t=e.querySelector("label.g-channel"),l=e.querySelector("label.b-channel"),r=e.querySelector("label.a-channel"),o=e.querySelector("label.hex");if(a&&(a.innerHTML=e.localize("redPrefix")),t&&(t.innerHTML=e.localize("greenPrefix")),l&&(l.innerHTML=e.localize("bluePrefix")),r&&(r.innerHTML=e.localize("alphaPrefix")),o&&(o.innerHTML=e.localize("hexPrefix")),e.$.buttonCustom&&(e.$.buttonCustom.content=e.localize("customColor")),e.$.buttonOk&&(e.$.buttonOk.content=e.localize("ok")),e.$.buttonCancel&&(e.$.buttonCancel.content=e.localize("cancel")),e.$.defaultSamplesContainer){var n=e.$.defaultSamplesContainer.querySelector(".theme-colors-label"),i=e.$.defaultSamplesContainer.querySelector(".standard-colors-label");n&&(n.innerHTML=e.localize("themeColors")),i&&(i.innerHTML=e.localize("standardColors"))}}},{key:"_generateHoneycomb",value:function(e,a){var t=this,l=parseInt(getComputedStyle(t).getPropertyValue("--jqx-color-panel-grid-mode-item-size"))/4,r=Math.sqrt(5*Math.pow(l,2)),o=e%2==0?parseInt(e)+1:parseInt(e),n=a&&void 0!==a.s?a.s:1,i=a&&void 0!==a.v?a.v:1,s=t._calculateHexagonCoords(o,r,1),d=s[Math.floor(s.length/2)],u=t._getHoneycomb30degDimmensions(s.length,r,1);t._draw||(t._draw=new JQX.Utilities.Draw(t.$.colorPaletteHexagonal)),t._draw.clear(),t._hexagonItems=[],t.$.materialGridSamplesContainer&&t.$.materialGridSamplesContainer.$.addClass("jqx-hidden");for(var c=0;c<s.length;c++){var g=s[c].x-d.x,h=s[c].y-d.y,p=t._validateInRange(t._calcSatDistance(g,h)/d.x,0,1),b=t._calcHueAngle(g,h)<0?360+t._calcHueAngle(g,h):t._calcHueAngle(g,h),v=void 0,f=void 0;switch(t.inverted?(v=n,f=p):(v=p,f=i),t.palette){case"red":b=0;break;case"green":b=120;break;case"blue":b=240;break;case"gray":v=0,f=t.inverted?p:1-p}var m={offsetX:s[c].x,offsetY:s[c].y,style:{fill:t._HSVtoRGBA({h:b,s:v,v:f},1),class:"color-sample"}},_=t._hexagon(r,m);_.colorCode=t._HSVtoRGBA({h:b,s:v,v:f}),_.h=b,_.s=v,_.v=f,t._hexagonItems.push(_)}t._draw.host.style.width=u.width+"px",t._draw.host.style.height=u.height+"px",t.$.container.style.setProperty("--jqx-color-panel-palette-width",u.width+"px"),t.$.container.style.setProperty("--jqx-color-panel-palette-height",u.height+"px"),t._applyValueInHexagonalMode(),t._hideControlsByPriority()}},{key:"_hexagon",value:function(e,a){var t=this,l=t._shortStepHexagon(e),r=2*l,o=r+(a.offsetX||0),n=a.offsetY||0,i=o+r,s=n+l,d=i,u=s+e,c=d-r,g=u+l,h=c-r,p=g-l,b=h,v=p-e,f="M "+o+","+n+" L "+i+","+s+" L "+d+","+u+" L "+c+","+g+" L "+h+","+p+" L "+b+","+v+" Z";return t._draw.path(f,a.style||{class:"color-sample"})}},{key:"_shortStepHexagon",value:function(e){return Math.sqrt(Math.pow(e,2)/5)}},{key:"_getHoneycomb30degDimmensions",value:function(e,a,t){var l=this,r=.5*(1+Math.sqrt(1-(1-e)/3*4)),o=l._shortStepHexagon(a);return{width:4*o*(2*r-1)+2*r*2*t,height:(2*r-1)*a+2*r*o+2*r*t}}},{key:"_generateShades",value:function(e,a){var t=this,l=a||"gray",r=void 0,o=[];e=Math.max(parseInt(e),2);for(var n=255/(e-1),i=0;i<e;i++){var s=Math.max(parseInt(255-i*n),0);switch(t.inverted&&(s=255-s),l){case"red":r="rgb("+s+", 0, 0)";break;case"green":r="rgb(0, "+s+", 0)";break;case"blue":r="rgb(0, 0, "+s+")";break;default:r="rgb("+s+", "+s+", "+s+")"}o.push(r)}return o}},{key:"_generateColorSpectrum",value:function(e){var a=this,t=[];e=Math.max(parseInt(e),2);for(var l=360/(e-1),r=2/e,o=0,n=1,i=1,s=0;s<e;s++){a.inverted?0===s?n=1:s<e/2?n=Math.max(n-r,r/2):s<e-1?(i=Math.max(i-r,r/2),n=Math.min(n+r,1)):(i=Math.max(i-r,r/2),n=Math.min(n+r/4,1)):0===s?i=1:s<e/2?i=Math.max(i-r,r/2):s<e-1?(n=Math.max(n-r,r/2),i=Math.min(i+r,1)):(n=Math.max(n-r,r/2),i=Math.min(i+r/4,1));for(var d=0;d<e;d++)o=parseInt(l*d),o=360===o?360-l/2:o,t.push(a._HSVtoRGBA({h:o,s:n,v:i},1))}return t}},{key:"_generateSpectrumGrid",value:function(e){var a=this;if(a.$.spectrumGridSamplesContainer){var t=Math.pow(e,2),l=document.createDocumentFragment(),r={},o=["grayShadesBox","spectrumBox","customColorsBox"],n=a._generateShades(e,"gray"),i=a._customPalette,s=void 0;o.forEach(function(e){r[e]=document.createElement("div"),r[e].className=JQX.Utilities.Core.toDash(e),l.appendChild(r[e])}),s="default"===a.palette?a._generateColorSpectrum(e):["gray","red","green","blue"].indexOf(a.palette)>-1?a._generateShades(t,a.palette):a._generateColorSpectrum(e);for(var d=0;d<e;d++){var u=a._createColorSample(n[d],"gray-shade");r.grayShadesBox.appendChild(u)}for(var c=0;c<t;c++){var g=a._createColorSample(s[c],"spectrum");r.spectrumBox.appendChild(g)}for(var h=0;h<e;h++){var p=i[h];if(!p)break;var b=a._createColorSample(p,"custom-color");r.customColorsBox.appendChild(b)}a.$.spectrumGridSamplesContainer.innerHTML="",a.$.spectrumGridSamplesContainer.appendChild(l)}}},{key:"_generateDefaultGrid",value:function(){var e=this;if(e.$.defaultSamplesContainer){var a={},t=["themeColorsLabel","themeColorsBox","themeShadesBox","standardColorsLabel","standardColorsBox"],l=null===e.gridThemeColors?e._defaultModeThemeColors:e.gridThemeColors,r=null===e.gridShadeColors?e._defaultModeShadesColors:e.gridShadeColors,o=null===e.gridStandardColors?e._defaultModeStandardColors:e.gridStandardColors,n=document.createDocumentFragment();t.forEach(function(e){a[e]=document.createElement("div"),a[e].className=JQX.Utilities.Core.toDash(e),n.appendChild(a[e])}),a.themeColorsLabel.innerHTML=e.localize("themeColors"),a.standardColorsLabel.innerHTML=e.localize("standardColors");for(var i=0;i<e._defaultModeShadesColors.length;i++)a.themeShadesBox.appendChild(e._createColorSample(r[i],"shades-color"));for(var s=0;s<10;s++)a.themeColorsBox.appendChild(e._createColorSample(l[s],"theme-color")),a.standardColorsBox.appendChild(e._createColorSample(o[s],"standard-color"));e.$.defaultSamplesContainer.innerHTML="",e.$.defaultSamplesContainer.appendChild(n)}}},{key:"_mixColors",value:function(e,a,t){var l=function(e){return parseInt(e,16)},r=void 0,o="#";t=void 0!==t?t:.5,e=e.replace(/#/g,""),a=a.replace(/#/g,"");for(var n=0;n<=5;n+=2){var i=l(e.substr(n,2)),s=l(a.substr(n,2));for(r=function(e){return e.toString(16)}(Math.round(s+(i-s)*t));r.length<2;)r="0"+r;o+=r}return o}},{key:"_generateMaterialGrid",value:function(){var e=this;if(e.$.materialGridSamplesContainer){var a=document.createDocumentFragment();e.$.materialGridSamplesContainer.$.removeClass("jqx-hidden");var t=e._createColorSample("rgb(255, 255, 255, 0)","material-color label-column");a.appendChild(t),Object.entries(e._materialColors.Red).forEach(function(t){var l=e._createColorSample("rgb(255, 255, 255, 0)","material-color header");l.innerText=t[0],a.appendChild(l)}),Object.entries(e._materialColors).forEach(function(t){var l=e._createColorSample("rgb(255, 255, 255, 0)","material-color label-column");l.innerText=t[0],a.appendChild(l),Object.entries(t[1]).forEach(function(t){var l=e._createColorSample(t[1],"material-color");a.appendChild(l)})}),e.$.materialGridSamplesContainer.innerHTML="",e.$.materialGridSamplesContainer.appendChild(a)}}},{key:"_createColorSample",value:function(e,a){var t=document.createElement("div"),l=e?"":" empty";return t.className="color-sample "+a+l,t.colorCode=e,t.style.backgroundColor=e,t}},{key:"_calculateHexagonCoords",value:function(e,a,t){for(var l=this,r=e,o=function(e){return((e=e%2==0?e+1:e)+1)/2}(e),n=l._shortStepHexagon(a),i=4*n+2*t,s=2*n+t,d=a+n+t,u=s*(r-1)/2,c=[],g=0;g<r;g++)for(var h=g<o?o+g:e-1-(g-o),p=g<o?u-g*s:u-(e-g-1)*s,b=g*d,v=0;v<h;v++){var f=p+v*i;c.push({x:f,y:b})}return c}},{key:"_generateGridStructures",value:function(){var e=this;if(!e._initializeOnOpening){if(void 0===e._createGridModeComponents()){switch(e.displayMode){case"spectrumGrid":e._generateSpectrumGrid(e.columnCount);break;case"materialGrid":e._generateMaterialGrid();break;case"default":e._generateDefaultGrid();break;case"grid":e._generatePaletteGrid()}return void e._generatePaletteUserColorGrid()}switch(e._createColorControls(),e.displayMode){case"radial":e._generateRadialCanvas();break;case"hexagonal":e._generateHoneycomb(e.columnCount,e._HSV)}}}},{key:"_generateRadialCanvas",value:function(){var e=this;if("radial"===e.displayMode&&("radial"!==e.displayMode||JQX.Utilities.Core.Browser.Firefox)){var a=e.$.colorPaletteRadial.offsetWidth,t=a/2,l=e.$.colorPaletteRadial.querySelector("canvas");l||(l=document.createElement("canvas"));var r=l.getContext("2d"),o=r.createImageData(a,a),n=o.data;l.width=l.height=a;for(var i=-t;i<t;i++)for(var s=-t;s<t;s++){var d=e._xy2polar(i,s),u=babelHelpers.slicedToArray(d,2),c=u[0],g=u[1];if(!(c>t)){var h=2*t,p=i+t,b=s+t,v=4*(p+b*h),f=e._rad2deg(g),m=e._hsv2rgb(f,1,1),_=babelHelpers.slicedToArray(m,3),y=_[0],C=_[1],S=_[2];n[v]=y,n[v+1]=C,n[v+2]=S,n[v+3]=255}}r.putImageData(o,0,0),e.$.colorPaletteRadial.appendChild(l)}}},{key:"_xy2polar",value:function(e,a){return[Math.sqrt(e*e+a*a),Math.atan2(a,e)]}},{key:"_rad2deg",value:function(e){return(e+Math.PI)/(2*Math.PI)*360}},{key:"_hsv2rgb",value:function(e,a,t){var l=t*a,r=e/60,o=l*(1-Math.abs(r%2-1)),n=void 0,i=void 0,s=void 0;r>=0&&r<=1?(n=l,i=o,s=0):r>=1&&r<=2?(n=o,i=l,s=0):r>=2&&r<=3?(n=0,i=l,s=o):r>=3&&r<=4?(n=0,i=o,s=l):r>=4&&r<=5?(n=o,i=0,s=l):r>=5&&r<=6&&(n=l,i=0,s=o);var d=t-l;return[255*(n+d),255*(i+d),255*(s+d)]}},{key:"_hideControlsByPriority",value:function(){function e(e){for(var t=a.getElementsByClassName(e),l=0;l<t.length;l++)t[l].classList.add("jqx-hidden")}var a=this,t=a.querySelector(".color-controls-container");if(t.innerHTML.trim()){var l=a.hideContentToFit.slice().reverse(),r=["hex","r-channel","g-channel","b-channel","a-channel","preview-container"],o=l.length;for(r.forEach(function(e){for(var t=a.getElementsByClassName(e),l=0;l<t.length;l++)t[l].classList.remove("jqx-hidden")});t.scrollHeight>t.offsetHeight&&o>0;)switch(o--,l[o]){case"HEX":e(r[0]);break;case"RGB":r.slice(1,4).forEach(function(a){return e(a)});break;case"previewContainer":e(r[5]);break;case"alpha":e(r[4])}a._generateRadialCanvas()}}},{key:"_resizeHoneycombItems",value:function(){var e=this;"hexagonal"===e.displayMode&&e._generateHoneycomb(e.columnCount,e._HSV)}},{key:"_getValue",value:function(e,a){var t=this,l=t._RGBA,r=null,o=void 0;switch(e){case"hex":r=t._rgbArrayToHEX([l.r,l.g,l.b,l.a]);break;case"rgb":r="rgb("+l.r+", "+l.g+", "+l.b+")";break;case"rgba":r=null!==l.r&&null!==l.g&&null!==l.b?"rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")":null;break;case"HSVtoRGBAarray":var n="hexagonal"===t.displayMode||"radial"===t.displayMode||"palette"===t.displayMode?t._RGBA.a:1;a&&(t._isRGBA(a)&&/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.test(a.replace(/\s/g,""))?n=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(a.replace(/\s/g,""))[4]:t._isHEX(a)&&/(^#[0-9A-F]{8}$)/gi.test(a.replace(/\s/g,""))&&(n=parseInt(/(^#[0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2}$)/gi.exec(a.replace(/\s/g,""))[4],16)/255),n=Math.min(1,Math.max(0,parseFloat(n))),isNaN(n)&&(n=t._RGBA.a)),r=t._HSVtoRGBA(t._HSV,n),o=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(r.replace(/\s/g,"")),r={r:parseInt(o[1]),g:parseInt(o[2]),b:parseInt(o[3]),a:t._toFixed(o[4])};break;case"hsv":a&&t._isValidColor(a)&&(r=t._colorToHSV(a));break;default:"radial"===t.displayMode||"hexagonal"===t.displayMode||"palette"===t.displayMode?(r="rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")",t.editAlphaChannel||(r=t._rgbaToRGB(r))):r=null!==a?t._rgbArrayToHEX([l.r,l.g,l.b,l.a]):null}return r||null}},{key:"_instantUpdate",value:function(){var e=this,a=e.value;"instantly"!==e.applyValueMode||e.$.container.className.indexOf("custom-color-selection")>-1||(e.value=e._getValue(e.valueFormat),e.$.fireEvent("change",{oldValue:a,value:e.value}))}},{key:"_equalValues",value:function(e,a){var t=this;return e===a||!(!e||!a)&&t._toRGBA(e,!0)===t._toRGBA(a,!0)}},{key:"_toHEX",value:function(e){var a=this;return a._isHEX(e)?e:(a._isRGB(e)&&(e=e.toLowerCase().replace("rgb","rgba"),e=a.editAlphaChannel?e.replace(")",", "+(a._RGBA.a||1)+")"):e.replace(")",", 1)")),a._isRGBA(e)?a._rgbaToHEX(e):void 0)}},{key:"_toRGBA",value:function(e,a){function t(e){var t=/^#(.)(.)(.)$/gi.exec(e),l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e),r=t?parseInt(t[1]+t[1],16):parseInt(l[1],16),o=t?parseInt(t[2]+t[2],16):parseInt(l[2],16),n=t?parseInt(t[3]+t[3],16):parseInt(l[3],16),i=t?parseInt(t[4]+t[4],16):parseInt(l[4],16);return a?"rgba("+r+", "+o+", "+n+", 1)":"rgba("+r+", "+o+", "+n+", "+(isNaN(i)?"1":(i/255).toFixed(2))+")"}var l=this,r=l.value;if(l._isRGBA(e)){if(a){return"rgba("+e.match(/(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})/gi)+", 1)"}return e}if(l._isValidColorName(e))r=t(l._cssColorNamesHEX[e.trim().toLowerCase()]);else if(l._isHEX(e))r=t(e);else{if(!l._isRGB(e))return!1;r=e.toLowerCase(),r=r.replace("rgb","rgba"),r=l.editAlphaChannel?r.replace(")",", "+(l._RGBA.a||1)+")"):r.replace(")",", 1)")}return r}},{key:"_rgbaToRGB",value:function(e){var a=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""));return"rgb("+a[1].trim()+", "+a[2].trim()+", "+a[3].trim()+")"}},{key:"_rgbaToHEX",value:function(e){var a=this,t=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""));return a._rgbArrayToHEX([t[1],t[2],t[3],t[4]])}},{key:"_rgbArrayToHEX",value:function(e){var a="#";if(Array.isArray(e)&&null===e[0])return null;for(var t=0;t<3;t++){var l=parseInt(e[t]).toString(16).toUpperCase();l=1===l.length?0+l:l,a+=l}var r=parseFloat(e[3]);return isNaN(r)||"FF"!==(r=parseInt(255*r).toString(16).toUpperCase())&&(a=a.slice(0,7)+(1===r.length?0+r:r)),a}},{key:"_colorToHSV",value:function(e){var a=this;if(a._isValidColor(e)){e=a._toRGBA(e).replace(/\s/g,"");var t=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e),l=Math.min(255,Math.max(0,parseFloat(t[1])))/255,r=Math.min(255,Math.max(0,parseFloat(t[2])))/255,o=Math.min(255,Math.max(0,parseFloat(t[3])))/255,n={h:0,s:0,v:0},i=0,s=0;if(l>=r&&l>=o?(s=l,i=r>o?o:r):r>=o&&r>=l?(s=r,i=l>o?o:l):(s=o,i=r>l?l:r),n.v=s,n.s=s?(s-i)/s:0,n.s){var d=s-i;n.h=l===s?(r-o)/d:r===s?2+(o-l)/d:4+(l-r)/d,n.h=60*n.h,n.h<0&&(n.h+=360)}else n.h=a._HSV.h?a._HSV.h:0;return n.s=parseFloat(n.s),n.v=parseFloat(n.v),n}}},{key:"_HSVtoRGBA",value:function(e,a){e=e||{h:0,s:0,v:0};var t=this,l=e&&e.h>=0?e.h:t._HSV.h,r=e&&e.s>=0?e.s:t._HSV.s,o=e&&e.v>=0?e.v:t._HSV.v,n=o*r,i=l/60,s=n*(1-Math.abs(i%2-1)),d=void 0,u=void 0,c=void 0;i>=0&&i<=1?(d=n,u=s,c=0):i>=1&&i<=2?(d=s,u=n,c=0):i>=2&&i<=3?(d=0,u=n,c=s):i>=3&&i<=4?(d=0,u=s,c=n):i>=4&&i<=5?(d=s,u=0,c=n):i>=5&&i<=6&&(d=n,u=0,c=s);var g=o-n;return"rgba("+Math.round(255*(d+g))+", "+Math.round(255*(u+g))+", "+Math.round(255*(c+g))+", "+(void 0!==a?a:t._RGBA.a||0)+")"}},{key:"_HSVRGBArefresh",value:function(e){var a=this;a._HSV=a._getValue("hsv",e)||{h:1,s:0,v:1},a._RGBA=a._getValue("HSVtoRGBAarray",e)}},{key:"_toFixed",value:function(e,a){return parseFloat(parseFloat(e).toFixed(a||2))}},{key:"_validateInRange",value:function(e,a,t){return Math.min(Math.max(parseFloat(e),parseFloat(a)),parseFloat(t))}},{key:"_isHEX",value:function(e){return/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"_isRGB",value:function(e){return/rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\)/i.test(e)}},{key:"_isRGBA",value:function(e){return/rgba\((\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\)/i.test(e)}},{key:"_isValidColorName",value:function(e){return!(!e||void 0===this._cssColorNamesHEX[e.trim().toLowerCase()])}},{key:"_isValidColor",value:function(e){return this._isHEX(e)||this._isRGB(e)||this._isRGBA(e)||this._isValidColorName(e)}},{key:"_getRGBAFromInputs",value:function(){var e=this,a=e.querySelector("input.r-channel"),t=e.querySelector("input.g-channel"),l=e.querySelector("input.b-channel"),r=e.querySelector("input.a-channel");return a=a?a.value:e._RGBA.r,t=t?t.value:e._RGBA.g,l=l?l.value:e._RGBA.b,r=r?r.value:e._RGBA.a,{r:parseInt(a),g:parseInt(t),b:parseInt(l),a:r}}},{key:"_setRGBAToInputs",value:function(){var e=this;Object.entries(e._RGBA).forEach(function(a){var t=e.querySelector("input."+a[0]+"-channel");t&&(t.value=e._RGBA[a[0]])})}},{key:"_calcHueAngle",value:function(e,a){return 180*Math.atan2(a,e)/Math.PI}},{key:"_calcSatDistance",value:function(e,a){return Math.sqrt(Math.pow(e,2)+Math.pow(a,2))}}],[{key:"properties",get:function(){return{applyValueMode:{value:"instantly",allowedValues:["instantly","useButtons"],type:"string"},columnCount:{value:8,type:"number?"},gridThemeColors:{value:null,type:"array?",reflectToAttribute:!1},gridShadeColors:{value:null,type:"array?",reflectToAttribute:!1},gridStandardColors:{value:null,type:"array?",reflectToAttribute:!1},paletteColors:{value:null,type:"array?",reflectToAttribute:!1},paletteCustomColors:{value:null,type:"array?",reflectToAttribute:!1},displayMode:{value:"default",allowedValues:["default","grid","palette","radial","hexagonal","spectrumGrid","materialGrid"],type:"string"},editAlphaChannel:{value:!1,type:"boolean"},enableCustomColors:{value:!1,type:"boolean"},disableUndo:{value:!1,type:"boolean"},hideAlphaEditor:{value:!1,type:"boolean"},hideContentToFit:{value:["RGB","HEX","alpha","previewContainer"],type:"array"},hideHEXEditor:{value:!1,type:"boolean"},hidePreviewContainer:{value:!1,type:"boolean"},hideRGBEditor:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},messages:{value:{en:{redPrefix:"R:",greenPrefix:"G:",bluePrefix:"B:",hexPrefix:"#:",alphaPrefix:"Alpha:",ok:"OK",cancel:"CANCEL",customColor:"CUSTOM COLOR",standardColors:"Standard colors",themeColors:"Theme colors"}},type:"object",extend:!0},name:{value:"",type:"string"},palette:{value:"default",allowedValues:["default","gray","red","green","blue","custom"],type:"string"},tooltipDisplayMode:{value:"hex",allowedValues:["none","rgba","rgb","hex"],type:"string"},value:{value:null,type:"string?"},valueFormat:{value:"default",allowedValues:["rgb","rgba","hex","hsv","default"],type:"string"},valueMember:{value:"value",type:"string?"}}}},{key:"listeners",get:function(){return{"container.click":"_containerClickHandler","container.mouseover":"_handleGridModeCellHover","paletteModeContainer.down":"_paletteDownHandler","container.change":"_handleInputChange","document.move":"_moveThumbHandler","document.up":"_releaseThumbUpHandler","paletteModeContainer.wheel":"_inputWheelHandler",resize:"_hideControlsByPriority","hexModeResizeTrigger.resize":"_resizeHoneycombItems","paletteModeContainer.move":"_trackMoveHandler"}}},{key:"requires",get:function(){return{"JQX.Utilities.Draw":"jqxdraw.js","JQX.Button":"jqxbutton.js","JQX.Tooltip":"jqxtooltip.js"}}}]),a}(JQX.BaseElement));
//# sourceMappingURL=jqxcolorpanel.js.map
